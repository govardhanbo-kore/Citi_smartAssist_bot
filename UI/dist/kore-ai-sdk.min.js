!function(e){e.KoreSDK=e.KoreSDK||{},e.KoreSDK.dependencies=e.KoreSDK.dependencies||{},e.__PerfectScrollbar=e.PerfectScrollbar,e.__define=e.define,e.__require=e.require,e.define=void 0,e.require=void 0,e.PerfectScrollbar=void 0}(window),function(c){var l,u=c.fn.domManip,f="_tmplitem",n=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,d={},h={},r={key:0,data:{}},p=0,g=0,o=[];function m(e,t,n,i){i={data:i||0===i||!1===i?i:t?t.data:{},_wrap:t?t._wrap:null,tmpl:null,parent:t||null,nodes:[],calls:_,nest:b,wrap:C,html:M,update:w};return e&&c.extend(i,e,{nodes:[],parent:t}),n&&(i.tmpl=n,i._ctnt=i._ctnt||i.tmpl(c,i),i.key=++p,(o.length?h:d)[p]=i),i}function s(t,e,n){var o,n=n?c.map(n,function(e){return"string"==typeof e?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+f+'="'+t.key+'" $2'):e:s(e,t,e._ctnt)}):t;return e?n:((n=n.join("")).replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,t,n,i){D(o=c(n).get()),t&&(o=a(t).concat(o)),i&&(o=o.concat(a(i)))}),o||a(n))}function a(e){var t=document.createElement("div");return t.innerHTML=e,c.makeArray(t.childNodes)}function i(e){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+c.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,t,n,i,o,r,s){var a,l,u=c.tmpl.tag[n];if(u)return a=u._default||[],r&&!/\w$/.test(o)&&(o+=r,r=""),s=o?(o=y(o),s=s?","+y(s)+")":r?")":"",l=r?-1<o.indexOf(".")?o+y(r):"("+o+").call($item"+s:o,r?l:"(typeof("+o+")==='function'?("+o+").call($item):("+o+"))"):l=a.$1||"null",i=y(i),"');"+u[t?"close":"open"].split("$notnull_1").join(o?"typeof("+o+")!=='undefined' && ("+o+")!=null":"true").split("$1a").join(s).split("$1").join(l).split("$2").join(i||a.$2||"")+"__.push('";throw"Unknown template tag: "+n})+"');}return __;")}function v(e,t){e._wrap=s(e,!0,c.isArray(t)?t:[n.test(t)?t:c(t).html()]).join("")}function y(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function D(e){for(var t,n,i,a="_"+g,l={},o=0,r=e.length;o<r;o++)if(1===(t=e[o]).nodeType){for(i=(n=t.getElementsByTagName("*")).length-1;0<=i;i--)s(n[i]);s(t)}function s(e){var t,n,i,o,r=e;if(o=e.getAttribute(f)){for(;r.parentNode&&1===(r=r.parentNode).nodeType&&!(t=r.getAttribute(f)););t!==o&&(r=r.parentNode&&11!==r.nodeType&&r.getAttribute(f)||0,(i=d[o])||((i=m(i=h[o],d[r]||h[r])).key=++p,d[p]=i),g&&s(o)),e.removeAttribute(f)}else g&&(i=c.data(e,"tmplItem"))&&(s(i.key),d[i.key]=i,r=(r=c.data(e.parentNode,"tmplItem"))?r.key:0);if(i){for(n=i;n&&n.key!=r;)n.nodes.push(e),n=n.parent;delete i._ctnt,delete i._wrap,c.data(e,"tmplItem",i)}function s(e){i=l[e+=a]=l[e]||m(i,d[i.parent.key+a]||i.parent)}}}function _(e,t,n,i){if(!e)return o.pop();o.push({_:e,tmpl:t,item:this,data:n,options:i})}function b(e,t,n){return c.tmpl(c.template(e),t,n,this)}function C(e,t){var n=e.options||{};return n.wrapped=t,c.tmpl(c.template(e.tmpl),e.data,n,e.item)}function M(e,n){var t=this._wrap;return c.map(c(c.isArray(t)?t.join(""):t).filter(e||"*"),function(e){return n?e.innerText||e.textContent:e.outerHTML||(e=e,(t=document.createElement("div")).appendChild(e.cloneNode(!0)),t.innerHTML);var t})}function w(){var e=this.nodes;c.tmpl(null,null,null,this).insertBefore(e[0]),c(e).remove()}c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,a){c.fn[s]=function(e){var t,n,i,o=[],r=c(e),e=1===this.length&&this[0].parentNode;if(l=d||{},e&&11===e.nodeType&&1===e.childNodes.length&&1===r.length)r[a](this[0]),o=this;else{for(n=0,i=r.length;n<i;n++)t=(0<(g=n)?this.clone(!0):this).get(),c(r[n])[a](t),o=o.concat(t);g=0,o=this.pushStack(o,s,r.selector)}return e=l,l=null,c.tmpl.complete(e),o}}),c.fn.extend({tmpl:function(e,t,n){return c.tmpl(this[0],e,t,n)},tmplItem:function(){return c.tmplItem(this[0])},template:function(e){return c.template(e,this[0])},domManip:function(e,t,n){if(e[0]&&c.isArray(e[0])){for(var i,o=c.makeArray(arguments),r=e[0],s=r.length,a=0;a<s&&!(i=c.data(r[a++],"tmplItem")););i&&g&&(o[2]=function(e){c.tmpl.afterManip(this,e,n)}),u.apply(this,o)}else u.apply(this,arguments);return g=0,l||c.tmpl.complete(d),this}}),c.extend({tmpl:function(t,e,n,i){var o=!i;if(o)i=r,t=c.template[t]||c.template(null,t),h={};else if(!t)return t=i.tmpl,(d[i.key]=i).nodes=[],i.wrapped&&v(i,i.wrapped),c(s(i,null,i.tmpl(c,i)));return t?("function"==typeof e&&(e=e.call(i||{})),n&&n.wrapped&&v(n,n.wrapped),e=c.isArray(e)?c.map(e,function(e){return e?m(n,i,t,e):null}):[m(n,i,t,e)],o?c(s(i,null,e)):e):[]},tmplItem:function(e){var t;for(e instanceof c&&(e=e[0]);e&&1===e.nodeType&&!(t=c.data(e,"tmplItem"))&&(e=e.parentNode););return t||r},template:function(e,t){return t?("string"==typeof t?t=i(t):t instanceof c&&(t=t[0]||{}),t.nodeType&&(t=c.data(t,"tmpl")||c.data(t,"tmpl",i(t.innerHTML))),"string"==typeof e?c.template[e]=t:t):e?"string"!=typeof e?c.template(null,e):c.template[e]||c.template(null,n.test(e)?e:c(e)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),c.extend(c.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},if:{open:"if(($notnull_1) && $1a){",close:"}"},else:{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){d={}},afterManip:function(e,t,n){var i=11===t.nodeType?c.makeArray(t.childNodes):1===t.nodeType?[t]:[];n.call(e,t),D(i),g++}})}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(G){"use strict";G.ui=G.ui||{},G.ui.version="1.13.0";var o,i,C,M,r,s,a,l,u,n,L=0,z=Array.prototype.hasOwnProperty,c=Array.prototype.slice;function w(e,t,n){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?n/100:1)]}function A(e,t){return parseInt(G.css(e,t),10)||0}function I(e){return null!=e&&e===e.window}G.cleanData=(o=G.cleanData,function(e){for(var t,n,i=0;null!=(n=e[i]);i++)(t=G._data(n,"events"))&&t.remove&&G(n).triggerHandler("remove");o(e)}),G.widget=function(e,n,t){var i,o,r,s={},a=e.split(".")[0],l=a+"-"+(e=e.split(".")[1]);return t||(t=n,n=G.Widget),Array.isArray(t)&&(t=G.extend.apply(null,[{}].concat(t))),G.expr.pseudos[l.toLowerCase()]=function(e){return!!G.data(e,l)},G[a]=G[a]||{},i=G[a][e],o=G[a][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},G.extend(o,i,{version:t.version,_proto:G.extend({},t),_childConstructors:[]}),(r=new n).options=G.widget.extend({},r.options),G.each(t,function(t,i){function o(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}s[t]="function"==typeof i?function(){var e,t=this._super,n=this._superApply;return this._super=o,this._superApply=r,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}:i}),o.prototype=G.widget.extend(r,{widgetEventPrefix:i&&r.widgetEventPrefix||e},s,{constructor:o,namespace:a,widgetName:e,widgetFullName:l}),i?(G.each(i._childConstructors,function(e,t){var n=t.prototype;G.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete i._childConstructors):n._childConstructors.push(o),G.widget.bridge(e,o),o},G.widget.extend=function(e){for(var t,n,i=c.call(arguments,1),o=0,r=i.length;o<r;o++)for(t in i[o])n=i[o][t],z.call(i[o],t)&&void 0!==n&&(G.isPlainObject(n)?e[t]=G.isPlainObject(e[t])?G.widget.extend({},e[t],n):G.widget.extend({},n):e[t]=n);return e},G.widget.bridge=function(r,t){var s=t.prototype.widgetFullName||r;G.fn[r]=function(n){var e="string"==typeof n,i=c.call(arguments,1),o=this;return e?this.length||"instance"!==n?this.each(function(){var e,t=G.data(this,s);return"instance"===n?(o=t,!1):t?"function"!=typeof t[n]||"_"===n.charAt(0)?G.error("no such method '"+n+"' for "+r+" widget instance"):(e=t[n].apply(t,i))!==t&&void 0!==e?(o=e&&e.jquery?o.pushStack(e.get()):e,!1):void 0:G.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+n+"'")}):o=void 0:(i.length&&(n=G.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=G.data(this,s);e?(e.option(n||{}),e._init&&e._init()):G.data(this,s,new t(n,this))})),o}},G.Widget=function(){},G.Widget._childConstructors=[],G.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=G(t||this.defaultElement||this)[0],this.element=G(t),this.uuid=L++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=G(),this.hoverable=G(),this.focusable=G(),this.classesElementLookup={},t!==this&&(G.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=G(t.style?t.ownerDocument:t.document||t),this.window=G(this.document[0].defaultView||this.document[0].parentWindow)),this.options=G.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:G.noop,_create:G.noop,_init:G.noop,destroy:function(){var n=this;this._destroy(),G.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:G.noop,widget:function(){return this.element},option:function(e,t){var n,i,o,r=e;if(0===arguments.length)return G.widget.extend({},this.options);if("string"==typeof e)if(r={},e=(n=e.split(".")).shift(),n.length){for(i=r[e]=G.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(e=n.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=t}return this._setOptions(r),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,n,i;for(t in e)i=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&i&&i.length&&(n=G(i.get()),this._removeClass(i,t),n.addClass(this._classes({element:n,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(o){var r=[],s=this;function e(e,t){for(var n,i=0;i<e.length;i++)n=s.classesElementLookup[e[i]]||G(),n=o.add?(o.element.each(function(e,t){G.map(s.classesElementLookup,function(e){return e}).some(function(e){return e.is(t)})||s._on(G(t),{remove:"_untrackClassesElement"})}),G(G.uniqueSort(n.get().concat(o.element.get())))):G(n.not(o.element).get()),s.classesElementLookup[e[i]]=n,r.push(e[i]),t&&o.classes[e[i]]&&r.push(o.classes[e[i]])}return(o=G.extend({element:this.element,classes:this.options.classes||{}},o)).keys&&e(o.keys.match(/\S+/g)||[],!0),o.extra&&e(o.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function(n){var i=this;G.each(i.classesElementLookup,function(e,t){-1!==G.inArray(n.target,t)&&(i.classesElementLookup[e]=G(t.not(n.target).get()))}),this._off(G(n.target))},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){var o="string"==typeof e||null===e;return(n={extra:o?t:n,keys:o?e:t,element:o?this.element:e,add:i="boolean"==typeof i?i:n}).element.toggleClass(this._classes(n),i),this},_on:function(o,r,e){var s,a=this;"boolean"!=typeof o&&(e=r,r=o,o=!1),e?(r=s=G(r),this.bindings=this.bindings.add(r)):(e=r,r=this.element,s=this.widget()),G.each(e,function(e,t){function n(){if(o||!0!==a.options.disabled&&!G(this).hasClass("ui-state-disabled"))return("string"==typeof t?a[t]:t).apply(a,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||G.guid++);var i=e.match(/^([\w:-]*)\s*(.*)$/),e=i[1]+a.eventNamespace;(i=i[2])?s.on(e,i,n):r.on(e,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t),this.bindings=G(this.bindings.not(e).get()),this.focusable=G(this.focusable.not(e).get()),this.hoverable=G(this.hoverable.not(e).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(G(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(G(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(G(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(G(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,n){var i,o,r=this.options[e];if(n=n||{},(t=G.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(i in o)i in t||(t[i]=o[i]);return this.element.trigger(t,n),!("function"==typeof r&&!1===r.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},G.each({show:"fadeIn",hide:"fadeOut"},function(r,s){G.Widget.prototype["_"+r]=function(t,e,n){var i,o=(e="string"==typeof e?{effect:e}:e)?!0!==e&&"number"!=typeof e&&e.effect||s:r;"number"==typeof(e=e||{})?e={duration:e}:!0===e&&(e={}),i=!G.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&G.effects&&G.effects.effect[o]?t[r](e):o!==r&&t[o]?t[o](e.duration,e.easing,n):t.queue(function(e){G(this)[r](),n&&n.call(t[0]),e()})}}),G.widget,C=Math.max,M=Math.abs,r=/left|center|right/,s=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,u=/%$/,n=G.fn.position,G.position={scrollbarWidth:function(){if(void 0!==i)return i;var e,t=G("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),n=t.children()[0];return G("body").append(t),e=n.offsetWidth,t.css("overflow","scroll"),e===(n=n.offsetWidth)&&(n=t[0].clientWidth),t.remove(),i=e-n},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),t="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?G.position.scrollbarWidth():0,height:t?G.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=G(e||window),n=I(t[0]),i=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:n,isDocument:i,offset:n||i?{left:0,top:0}:G(e).offset(),scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},G.fn.position=function(f){if(!f||!f.of)return n.apply(this,arguments);var d,h,p,g,m,e,v="string"==typeof(f=G.extend({},f)).of?G(document).find(f.of):G(f.of),y=G.position.getWithinInfo(f.within),D=G.position.getScrollInfo(y),_=(f.collision||"flip").split(" "),b={},t=9===(e=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:I(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()};return v[0].preventDefault&&(f.at="left top"),h=t.width,p=t.height,m=G.extend({},g=t.offset),G.each(["my","at"],function(){var e,t,n=(f[this]||"").split(" ");(n=1===n.length?r.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]:n)[0]=r.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",e=a.exec(n[0]),t=a.exec(n[1]),b[this]=[e?e[0]:0,t?t[0]:0],f[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===f.at[0]?m.left+=h:"center"===f.at[0]&&(m.left+=h/2),"bottom"===f.at[1]?m.top+=p:"center"===f.at[1]&&(m.top+=p/2),d=w(b.at,h,p),m.left+=d[0],m.top+=d[1],this.each(function(){var n,e,s=G(this),a=s.outerWidth(),l=s.outerHeight(),t=A(this,"marginLeft"),i=A(this,"marginTop"),o=a+t+A(this,"marginRight")+D.width,r=l+i+A(this,"marginBottom")+D.height,u=G.extend({},m),c=w(b.my,s.outerWidth(),s.outerHeight());"right"===f.my[0]?u.left-=a:"center"===f.my[0]&&(u.left-=a/2),"bottom"===f.my[1]?u.top-=l:"center"===f.my[1]&&(u.top-=l/2),u.left+=c[0],u.top+=c[1],n={marginLeft:t,marginTop:i},G.each(["left","top"],function(e,t){G.ui.position[_[e]]&&G.ui.position[_[e]][t](u,{targetWidth:h,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:o,collisionHeight:r,offset:[d[0]+c[0],d[1]+c[1]],my:f.my,at:f.at,within:y,elem:s})}),f.using&&(e=function(e){var t=g.left-u.left,n=t+h-a,i=g.top-u.top,o=i+p-l,r={target:{element:v,left:g.left,top:g.top,width:h,height:p},element:{element:s,left:u.left,top:u.top,width:a,height:l},horizontal:n<0?"left":0<t?"right":"center",vertical:o<0?"top":0<i?"bottom":"middle"};h<a&&M(t+n)<h&&(r.horizontal="center"),p<l&&M(i+o)<p&&(r.vertical="middle"),C(M(t),M(n))>C(M(i),M(o))?r.important="horizontal":r.important="vertical",f.using.call(this,e,r)}),s.offset(G.extend(u,{using:e}))})},G.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=e.left-t.collisionPosition.marginLeft,s=i-r,a=r+t.collisionWidth-o-i;t.collisionWidth>o?0<s&&a<=0?(n=e.left+s+t.collisionWidth-o-i,e.left+=s-n):e.left=!(0<a&&s<=0)&&a<s?i+o-t.collisionWidth:i:0<s?e.left+=s:0<a?e.left-=a:e.left=C(e.left-r,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,r=e.top-t.collisionPosition.marginTop,s=i-r,a=r+t.collisionHeight-o-i;t.collisionHeight>o?0<s&&a<=0?(n=e.top+s+t.collisionHeight-o-i,e.top+=s-n):e.top=!(0<a&&s<=0)&&a<s?i+o-t.collisionHeight:i:0<s?e.top+=s:0<a?e.top-=a:e.top=C(e.top-r,e.top)}},flip:{left:function(e,t){var n=(l=t.within).offset.left+l.scrollLeft,i=l.width,o=l.isWindow?l.scrollLeft:l.offset.left,r=(u=e.left-t.collisionPosition.marginLeft)-o,s=u+t.collisionWidth-i-o,a="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,l="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,u=-2*t.offset[0];r<0?((n=e.left+a+l+u+t.collisionWidth-i-n)<0||n<M(r))&&(e.left+=a+l+u):0<s&&(0<(o=e.left-t.collisionPosition.marginLeft+a+l+u-o)||M(o)<s)&&(e.left+=a+l+u)},top:function(e,t){var n=(l=t.within).offset.top+l.scrollTop,i=l.height,o=l.isWindow?l.scrollTop:l.offset.top,r=(u=e.top-t.collisionPosition.marginTop)-o,s=u+t.collisionHeight-i-o,a="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,l="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,u=-2*t.offset[1];r<0?((n=e.top+a+l+u+t.collisionHeight-i-n)<0||n<M(r))&&(e.top+=a+l+u):0<s&&(0<(o=e.top-t.collisionPosition.marginTop+a+l+u-o)||M(o)<s)&&(e.top+=a+l+u)}},flipfit:{left:function(){G.ui.position.flip.left.apply(this,arguments),G.ui.position.fit.left.apply(this,arguments)},top:function(){G.ui.position.flip.top.apply(this,arguments),G.ui.position.fit.top.apply(this,arguments)}}},G.ui.position,G.extend(G.expr.pseudos,{data:G.expr.createPseudo?G.expr.createPseudo(function(t){return function(e){return!!G.data(e,t)}}):function(e,t,n){return!!G.data(e,n[3])}}),G.fn.extend({disableSelection:(F="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(F+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var F,f=G,d={},P=d.toString,R=/^([\-+])=\s*(\d+\.?\d*)/,U=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=f.Color=function(e,t,n,i){return new f.Color.fn.parse(e,t,n,i)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},B={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},Y=h.support={},e=f("<p>")[0],g=f.each;function m(e){return null==e?e+"":"object"==typeof e?d[P.call(e)]||"object":typeof e}function v(e,t,n){var i=B[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:Math.min(i.max,Math.max(0,e)))}function H(i){var o=h(),r=o._rgba=[];return i=i.toLowerCase(),g(U,function(e,t){var n=(n=t.re.exec(i))&&t.parse(n),t=t.space||"rgba";if(n)return n=o[t](n),o[p[t].cache]=n[p[t].cache],r=o._rgba=n._rgba,!1}),r.length?("0,0,0,0"===r.join()&&f.extend(r,_.transparent),o):_[i]}function y(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}e.style.cssText="background-color:rgba(1,1,1,.5)",Y.rgba=-1<e.style.backgroundColor.indexOf("rgba"),g(p,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()}),(h.fn=f.extend(h.prototype,{parse:function(o,e,t,n){if(void 0===o)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=f(o).css(e),e=void 0);var r=this,i=m(o),s=this._rgba=[];return void 0!==e&&(o=[o,e,t,n],i="array"),"string"===i?this.parse(H(o)||_._default):"array"===i?(g(p.rgba.props,function(e,t){s[t.idx]=v(o[t.idx],t)}),this):"object"===i?(g(p,o instanceof h?function(e,t){o[t.cache]&&(r[t.cache]=o[t.cache].slice())}:function(e,n){var i=n.cache;g(n.props,function(e,t){if(!r[i]&&n.to){if("alpha"===e||null==o[e])return;r[i]=n.to(r._rgba)}r[i][t.idx]=v(o[e],t,!0)}),r[i]&&f.inArray(null,r[i].slice(0,3))<0&&(null==r[i][3]&&(r[i][3]=1),n.from&&(r._rgba=n.from(r[i])))}),this):void 0},is:function(e){var o=h(e),r=!0,s=this;return g(p,function(e,t){var n,i=o[t.cache];return i&&(n=s[t.cache]||t.to&&t.to(s._rgba)||[],g(t.props,function(e,t){if(null!=i[t.idx])return r=i[t.idx]===n[t.idx]})),r}),r},_space:function(){var n=[],i=this;return g(p,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,s){var t=(u=h(e))._space(),n=p[t],a=(e=0===this.alpha()?h("transparent"):this)[n.cache]||n.to(e._rgba),l=a.slice(),u=u[n.cache];return g(n.props,function(e,t){var n=t.idx,i=a[n],o=u[n],r=B[t.type]||{};null!==o&&(null===i?l[n]=o:(r.mod&&(o-i>r.mod/2?i+=r.mod:i-o>r.mod/2&&(i-=r.mod)),l[n]=v((o-i)*s+i,t)))}),this[t](l)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),n=t.pop(),i=h(e)._rgba;return h(f.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=f.map(this._rgba,function(e,t){return null!=e?e:2<t?1:0});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=f.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3?Math.round(100*e)+"%":e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+f.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=h.fn,p.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,i=e[2]/255,o=e[3],r=Math.max(t,n,i),s=Math.min(t,n,i),a=r-s,e=.5*(l=r+s),n=s===r?0:t===r?60*(n-i)/a+360:n===r?60*(i-t)/a+120:60*(t-n)/a+240,l=0==a?0:e<=.5?a/l:a/(2-l);return[Math.round(n)%360,l,e,null==o?1:o]},p.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],e=e[3],i=2*i-(n=i<=.5?i*(1+n):i+n-i*n);return[Math.round(255*y(i,n,t+1/3)),Math.round(255*y(i,n,t)),Math.round(255*y(i,n,t-1/3)),e]},g(p,function(a,e){var t=e.props,r=e.cache,s=e.to,l=e.from;h.fn[a]=function(e){if(s&&!this[r]&&(this[r]=s(this._rgba)),void 0===e)return this[r].slice();var n=m(e),i="array"===n||"object"===n?e:arguments,o=this[r].slice();return g(t,function(e,t){null==(e=i["object"===n?e:t.idx])&&(e=o[t.idx]),o[t.idx]=v(e,t)}),l?((e=h(l(o)))[r]=o,e):h(o)},g(t,function(r,s){h.fn[r]||(h.fn[r]=function(e){var t=m(e),n="alpha"===r?this._hsla?"hsla":"rgba":a,i=this[n](),o=i[s.idx];return"undefined"===t?o:("function"===t&&(t=m(e=e.call(this,o))),null==e&&s.empty?this:("string"===t&&(t=R.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1)),i[s.idx]=e,this[n](i)))})})}),(h.hook=function(e){e=e.split(" "),g(e,function(e,r){f.cssHooks[r]={set:function(e,t){var n,i,o="";if("transparent"!==t&&("string"!==m(t)||(n=H(t)))){if(t=h(n||t),!Y.rgba&&1!==t._rgba[3]){for(i="backgroundColor"===r?e.parentNode:e;(""===o||"transparent"===o)&&i&&i.style;)try{o=f.css(i,"backgroundColor"),i=i.parentNode}catch(e){}t=t.blend(o&&"transparent"!==o?o:"_default")}t=t.toRgbaString()}try{e.style[r]=t}catch(e){}}},f.fx.step[r]=function(e){e.colorInit||(e.start=h(e.elem,r),e.end=h(e.end),e.colorInit=!0),f.cssHooks[r].set(e.elem,e.start.transition(e.end,e.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),f.cssHooks.borderColor={expand:function(n){var i={};return g(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}};var W,Q,V,q,Z,K,J,X,$,D,ee,te,ne,_=f.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},b="ui-effects-",t="ui-effects-style",k="ui-effects-animated";function ie(e){var t,n,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[t=i[n]]&&(o[t.replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})]=i[t]);else for(t in i)"string"==typeof i[t]&&(o[t]=i[t]);return o}function T(e,t,n,i){return e={effect:e=G.isPlainObject(e)?(t=e).effect:e},"function"==typeof(t=null==t?{}:t)&&(i=t,n=null,t={}),"number"!=typeof t&&!G.fx.speeds[t]||(i=n,n=t,t={}),"function"==typeof n&&(i=n,n=null),t&&G.extend(e,t),n=n||t.duration,e.duration=G.fx.off?0:"number"==typeof n?n:n in G.fx.speeds?G.fx.speeds[n]:G.fx.speeds._default,e.complete=i||t.complete,e}function x(e){return!e||"number"==typeof e||G.fx.speeds[e]||"string"==typeof e&&!G.effects.effect[e]||"function"==typeof e||"object"==typeof e&&!e.effect}function oe(e,t){var n=t.outerWidth(),t=t.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,n,t,0];return{top:parseFloat(e[1])||0,right:"auto"===e[2]?n:parseFloat(e[2]),bottom:"auto"===e[3]?t:parseFloat(e[3]),left:parseFloat(e[4])||0}}G.effects={effect:{}},q=["add","remove","toggle"],Z={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},G.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){G.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(f.style(e.elem,t,e.end),e.setAttr=!0)}}),G.fn.addBack||(G.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),G.effects.animateClass=function(o,e,t,n){var r=G.speed(e,t,n);return this.queue(function(){function e(){G.each(q,function(e,t){o[t]&&n[t+"Class"](o[t])})}var n=G(this),t=n.attr("class")||"",i=(i=r.children?n.find("*").addBack():n).map(function(){return{el:G(this),start:ie(this)}});e(),i=i.map(function(){return this.end=ie(this.el[0]),this.diff=function(e,t){var n,i,o={};for(n in t)i=t[n],e[n]===i||Z[n]||!G.fx.step[n]&&isNaN(parseFloat(i))||(o[n]=i);return o}(this.start,this.end),this}),n.attr("class",t),i=i.map(function(){var e=this,t=G.Deferred(),n=G.extend({},r,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,n),t.promise()}),G.when.apply(G,i.get()).done(function(){e(),G.each(arguments,function(){var t=this.el;G.each(this.diff,function(e){t.css(e,"")})}),r.complete.call(n[0])})})},G.fn.extend({addClass:(V=G.fn.addClass,function(e,t,n,i){return t?G.effects.animateClass.call(this,{add:e},t,n,i):V.apply(this,arguments)}),removeClass:(Q=G.fn.removeClass,function(e,t,n,i){return 1<arguments.length?G.effects.animateClass.call(this,{remove:e},t,n,i):Q.apply(this,arguments)}),toggleClass:(W=G.fn.toggleClass,function(e,t,n,i,o){return"boolean"==typeof t||void 0===t?n?G.effects.animateClass.call(this,t?{add:e}:{remove:e},n,i,o):W.apply(this,arguments):G.effects.animateClass.call(this,{toggle:e},t,n,i)}),switchClass:function(e,t,n,i,o){return G.effects.animateClass.call(this,{add:t,remove:e},n,i,o)}}),G.expr&&G.expr.pseudos&&G.expr.pseudos.animated&&(G.expr.pseudos.animated=(K=G.expr.pseudos.animated,function(e){return!!G(e).data(k)||K(e)})),!1!==G.uiBackCompat&&G.extend(G.effects,{save:function(e,t){for(var n=0,i=t.length;n<i;n++)null!==t[n]&&e.data(b+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,i=0,o=t.length;i<o;i++)null!==t[i]&&(n=e.data(b+t[i]),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t?e.is(":hidden")?"show":"hide":t},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},e=G("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:n.width(),height:n.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return n.wrap(e),n[0]!==o&&!G.contains(n[0],o)||G(o).trigger("focus"),e=n.parent(),"static"===n.css("position")?(e.css({position:"relative"}),n.css({position:"relative"})):(G.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),G.each(["top","left","bottom","right"],function(e,t){i[t]=n.css(t),isNaN(parseInt(i[t],10))&&(i[t]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(t),e.css(i).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==t&&!G.contains(e[0],t)||G(t).trigger("focus")),e}}),G.extend(G.effects,{version:"1.13.0",define:function(e,t,n){return n||(n=t,t="effect"),G.effects.effect[e]=n,G.effects.effect[e].mode=t,n},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,t="vertical"!==n?(t||100)/100:1;return{height:e.height()*t,width:e.width()*i,outerHeight:e.outerHeight()*t,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();1<t&&i.splice.apply(i,[1,0].concat(i.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data(t,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(t)||"",e.removeData(t)},mode:function(e,t){return e=e.is(":hidden"),"toggle"===t&&(t=e?"show":"hide"),(e?"hide"===t:"show"===t)?"none":t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(e){var t,n=e.css("position"),i=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",t=G("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(b+"placeholder",t)),e.css({position:n,left:i.left,top:i.top}),t},removePlaceholder:function(e){var t=b+"placeholder",n=e.data(t);n&&(n.remove(),e.removeData(t))},cleanUp:function(e){G.effects.restoreStyle(e),G.effects.removePlaceholder(e)},setTransition:function(i,e,o,r){return r=r||{},G.each(e,function(e,t){var n=i.cssUnit(t);0<n[0]&&(r[t]=n[0]*o+n[1])}),r}}),G.fn.extend({effect:function(){function e(e){var t=G(this),n=G.effects.mode(t,a)||r;t.data(k,!0),l.push(n),r&&("show"===n||n===r&&"hide"===n)&&t.show(),r&&"none"===n||G.effects.saveStyle(t),"function"==typeof e&&e()}var i=T.apply(this,arguments),o=G.effects.effect[i.effect],r=o.mode,t=i.queue,n=t||"fx",s=i.complete,a=i.mode,l=[];return G.fx.off||!o?a?this[a](i.duration,s):this.each(function(){s&&s.call(this)}):!1===t?this.each(e).each(u):this.queue(n,e).queue(n,u);function u(e){var t=G(this);function n(){"function"==typeof s&&s.call(t[0]),"function"==typeof e&&e()}i.mode=l.shift(),!1===G.uiBackCompat||r?"none"===i.mode?(t[a](),n()):o.call(t[0],i,function(){t.removeData(k),G.effects.cleanUp(t),"hide"===i.mode&&t.hide(),n()}):(t.is(":hidden")?"hide"===a:"show"===a)?(t[a](),n()):o.call(t[0],i,n)}},show:($=G.fn.show,function(e){return x(e)?$.apply(this,arguments):((e=T.apply(this,arguments)).mode="show",this.effect.call(this,e))}),hide:(X=G.fn.hide,function(e){return x(e)?X.apply(this,arguments):((e=T.apply(this,arguments)).mode="hide",this.effect.call(this,e))}),toggle:(J=G.fn.toggle,function(e){return x(e)||"boolean"==typeof e?J.apply(this,arguments):((e=T.apply(this,arguments)).mode="toggle",this.effect.call(this,e))}),cssUnit:function(e){var n=this.css(e),i=[];return G.each(["em","px","%","pt"],function(e,t){0<n.indexOf(t)&&(i=[parseFloat(n),t])}),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):oe(this.css("clip"),this)},transfer:function(e,t){var n=G(this),i="fixed"===(a=G(e.to)).css("position"),o=G("body"),r=i?o.scrollTop():0,s=i?o.scrollLeft():0,o={top:(o=a.offset()).top-r,left:o.left-s,height:a.innerHeight(),width:a.innerWidth()},a=n.offset(),l=G("<div class='ui-effects-transfer'></div>");l.appendTo("body").addClass(e.className).css({top:a.top-r,left:a.left-s,height:n.innerHeight(),width:n.innerWidth(),position:i?"fixed":"absolute"}).animate(o,e.duration,e.easing,function(){l.remove(),"function"==typeof t&&t()})}}),G.fx.step.clip=function(e){e.clipInit||(e.start=G(e.elem).cssClip(),"string"==typeof e.end&&(e.end=oe(e.end,e.elem)),e.clipInit=!0),G(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})},D={},G.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){D[e]=function(e){return Math.pow(e,t+2)}}),G.extend(D,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),G.each(D,function(e,t){G.easing["easeIn"+e]=t,G.easing["easeOut"+e]=function(e){return 1-t(1-e)},G.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}}),e=G.effects,G.effects.define("blind","hide",function(e,t){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},i=G(this),o=e.direction||"up",r=i.cssClip(),s={clip:G.extend({},r)},a=G.effects.createPlaceholder(i);s.clip[n[o][0]]=s.clip[n[o][1]],"show"===e.mode&&(i.cssClip(s.clip),a&&a.css(G.effects.clipToBox(s)),s.clip=r),a&&a.animate(G.effects.clipToBox(s),e.duration,e.easing),i.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("bounce",function(e,t){var n,i,o=G(this),r=e.mode,s="hide"===r,a="show"===r,l=e.direction||"up",u=e.distance,c=e.times||5,f=e.duration/(r=2*c+(a||s?1:0)),d=e.easing,h="up"===l||"down"===l?"top":"left",p="up"===l||"left"===l,g=0,e=o.queue().length;for(G.effects.createPlaceholder(o),l=o.css(h),u=u||o["top"==h?"outerHeight":"outerWidth"]()/3,a&&((i={opacity:1})[h]=l,o.css("opacity",0).css(h,p?2*-u:2*u).animate(i,f,d)),s&&(u/=Math.pow(2,c-1)),(i={})[h]=l;g<c;g++)(n={})[h]=(p?"-=":"+=")+u,o.animate(n,f,d).animate(i,f,d),u=s?2*u:u/2;s&&((n={opacity:0})[h]=(p?"-=":"+=")+u,o.animate(n,f,d)),o.queue(t),G.effects.unshift(o,e,1+r)}),G.effects.define("clip","hide",function(e,t){var n={},i=G(this),o=(r="both"===(s=e.direction||"vertical"))||"horizontal"===s,r=r||"vertical"===s,s=i.cssClip();n.clip={top:r?(s.bottom-s.top)/2:s.top,right:o?(s.right-s.left)/2:s.right,bottom:r?(s.bottom-s.top)/2:s.bottom,left:o?(s.right-s.left)/2:s.left},G.effects.createPlaceholder(i),"show"===e.mode&&(i.cssClip(n.clip),n.clip=s),i.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("drop","hide",function(e,t){var n=G(this),i="show"===e.mode,o=e.direction||"left",r="up"===o||"down"===o?"top":"left",s="up"===o||"left"===o?"-=":"+=",a="+="==s?"-=":"+=",l={opacity:0};G.effects.createPlaceholder(n),o=e.distance||n["top"==r?"outerHeight":"outerWidth"](!0)/2,l[r]=s+o,i&&(n.css(l),l[r]=a+o,l.opacity=1),n.animate(l,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("explode","hide",function(e,t){var n,i,o,r,s,a,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=l,c=G(this),f="show"===e.mode,d=c.show().css("visibility","hidden").offset(),h=Math.ceil(c.outerWidth()/u),p=Math.ceil(c.outerHeight()/l),g=[];function m(){g.push(this),g.length===l*u&&(c.css({visibility:"visible"}),G(g).remove(),t())}for(n=0;n<l;n++)for(r=d.top+n*p,a=n-(l-1)/2,i=0;i<u;i++)o=d.left+i*h,s=i-(u-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*h,top:-n*p}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h,height:p,left:o+(f?s*h:0),top:r+(f?a*p:0),opacity:f?0:1}).animate({left:o+(f?0:s*h),top:r+(f?0:a*p),opacity:f?1:0},e.duration||500,e.easing,m)}),G.effects.define("fade","toggle",function(e,t){var n="show"===e.mode;G(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("fold","hide",function(t,e){var n=G(this),i="show"===(p=t.mode),o="hide"===p,r=t.size||15,s=/([0-9]+)%/.exec(r),a=t.horizFirst?["right","bottom"]:["bottom","right"],l=t.duration/2,u=G.effects.createPlaceholder(n),c=n.cssClip(),f={clip:G.extend({},c)},d={clip:G.extend({},c)},h=[c[a[0]],c[a[1]]],p=n.queue().length;s&&(r=parseInt(s[1],10)/100*h[o?0:1]),f.clip[a[0]]=r,d.clip[a[0]]=r,d.clip[a[1]]=0,i&&(n.cssClip(d.clip),u&&u.css(G.effects.clipToBox(d)),d.clip=c),n.queue(function(e){u&&u.animate(G.effects.clipToBox(f),l,t.easing).animate(G.effects.clipToBox(d),l,t.easing),e()}).animate(f,l,t.easing).animate(d,l,t.easing).queue(e),G.effects.unshift(n,p,4)}),G.effects.define("highlight","show",function(e,t){var n=G(this),i={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(i.opacity=0),G.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(i,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("size",function(i,t){var o,n=G(this),e=["fontSize"],r=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],s=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],a=i.mode,l="effect"!==a,u=i.scale||"both",c=i.origin||["middle","center"],f=n.css("position"),d=n.position(),h=G.effects.scaledDimensions(n),p=i.from||h,g=i.to||G.effects.scaledDimensions(n,0);G.effects.createPlaceholder(n),"show"===a&&(a=p,p=g,g=a),o={from:{y:p.height/h.height,x:p.width/h.width},to:{y:g.height/h.height,x:g.width/h.width}},"box"!==u&&"both"!==u||(o.from.y!==o.to.y&&(p=G.effects.setTransition(n,r,o.from.y,p),g=G.effects.setTransition(n,r,o.to.y,g)),o.from.x!==o.to.x&&(p=G.effects.setTransition(n,s,o.from.x,p),g=G.effects.setTransition(n,s,o.to.x,g))),"content"!==u&&"both"!==u||o.from.y!==o.to.y&&(p=G.effects.setTransition(n,e,o.from.y,p),g=G.effects.setTransition(n,e,o.to.y,g)),c&&(c=G.effects.getBaseline(c,h),p.top=(h.outerHeight-p.outerHeight)*c.y+d.top,p.left=(h.outerWidth-p.outerWidth)*c.x+d.left,g.top=(h.outerHeight-g.outerHeight)*c.y+d.top,g.left=(h.outerWidth-g.outerWidth)*c.x+d.left),delete p.outerHeight,delete p.outerWidth,n.css(p),"content"!==u&&"both"!==u||(r=r.concat(["marginTop","marginBottom"]).concat(e),s=s.concat(["marginLeft","marginRight"]),n.find("*[width]").each(function(){var e=G(this),t={height:(n=G.effects.scaledDimensions(e)).height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},n={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x};o.from.y!==o.to.y&&(t=G.effects.setTransition(e,r,o.from.y,t),n=G.effects.setTransition(e,r,o.to.y,n)),o.from.x!==o.to.x&&(t=G.effects.setTransition(e,s,o.from.x,t),n=G.effects.setTransition(e,s,o.to.x,n)),l&&G.effects.saveStyle(e),e.css(t),e.animate(n,i.duration,i.easing,function(){l&&G.effects.restoreStyle(e)})})),n.animate(g,{queue:!1,duration:i.duration,easing:i.easing,complete:function(){var e=n.offset();0===g.opacity&&n.css("opacity",p.opacity),l||(n.css("position","static"===f?"relative":f).offset(e),G.effects.saveStyle(n)),t()}})}),G.effects.define("scale",function(e,t){var n=G(this),i=e.mode,i=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==i?0:100),i=G.extend(!0,{from:G.effects.scaledDimensions(n),to:G.effects.scaledDimensions(n,i,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(i.from.opacity=1,i.to.opacity=0),G.effects.effect.size.call(this,i,t)}),G.effects.define("puff","hide",function(e,t){e=G.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150}),G.effects.effect.scale.call(this,e,t)}),G.effects.define("pulsate","show",function(e,t){var n=G(this),i="show"===(l=e.mode),o=2*(e.times||5)+(i||"hide"===l?1:0),r=e.duration/o,s=0,a=1,l=n.queue().length;for(!i&&n.is(":visible")||(n.css("opacity",0).show(),s=1);a<o;a++)n.animate({opacity:s},r,e.easing),s=1-s;n.animate({opacity:s},r,e.easing),n.queue(t),G.effects.unshift(n,l,1+o)}),G.effects.define("shake",function(e,t){var n=1,i=G(this),o=e.direction||"left",r=e.distance||20,s=e.times||3,a=2*s+1,l=Math.round(e.duration/a),u="up"===o||"down"===o?"top":"left",c="up"===o||"left"===o,f={},d={},h={},o=i.queue().length;for(G.effects.createPlaceholder(i),f[u]=(c?"-=":"+=")+r,d[u]=(c?"+=":"-=")+2*r,h[u]=(c?"-=":"+=")+2*r,i.animate(f,l,e.easing);n<s;n++)i.animate(d,l,e.easing).animate(h,l,e.easing);i.animate(d,l,e.easing).animate(f,l/2,e.easing).queue(t),G.effects.unshift(i,o,1+a)}),G.effects.define("slide","show",function(e,t){var n,i,o=G(this),r={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a,c=e.distance||o["top"==l?"outerHeight":"outerWidth"](!0),f={};G.effects.createPlaceholder(o),n=o.cssClip(),i=o.position()[l],f[l]=(u?-1:1)*c+i,f.clip=o.cssClip(),f.clip[r[a][1]]=f.clip[r[a][0]],"show"===s&&(o.cssClip(f.clip),o.css(l,f[l]),f.clip=n,f[l]=i),o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),e=!1!==G.uiBackCompat?G.effects.define("transfer",function(e,t){G(this).transfer(e,t)}):e,G.ui.focusable=function(e,t){var n,i,o,r=e.nodeName.toLowerCase();return"area"===r?(n=(o=e.parentNode).name,!(!e.href||!n||"map"!==o.nodeName.toLowerCase())&&0<(n=G("img[usemap='#"+n+"']")).length&&n.is(":visible")):(/^(input|select|textarea|button|object)$/.test(r)?(i=!e.disabled)&&(o=G(e).closest("fieldset")[0])&&(i=!o.disabled):i="a"===r&&e.href||t,i&&G(e).is(":visible")&&function(e){for(var t=e.css("visibility");"inherit"===t;)t=(e=e.parent()).css("visibility");return"visible"===t}(G(e)))},G.extend(G.expr.pseudos,{focusable:function(e){return G.ui.focusable(e,null!=G.attr(e,"tabindex"))}}),G.ui.focusable,G.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):G(this[0].form)},G.ui.formResetMixin={_formResetHandler:function(){var t=G(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");G.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){var e;this.form=this.element._form(),this.form.length&&((e=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e))},_unbindFormResetHandler:function(){var e;this.form.length&&((e=this.form.data("ui-form-reset-instances")).splice(G.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},G.expr.pseudos||(G.expr.pseudos=G.expr[":"]),G.uniqueSort||(G.uniqueSort=G.unique),G.escapeSelector||(ee=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,te=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},G.escapeSelector=function(e){return(e+"").replace(ee,te)}),G.fn.even&&G.fn.odd||G.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}}),G.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},G.fn.labels=function(){var e,t,n;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(t=this.eq(0).parents("label"),(e=this.attr("id"))&&(n=(n=this.eq(0).parents().last()).add((n.length?n:this).siblings()),e="label[for='"+G.escapeSelector(e)+"']",t=t.add(n.find(e).addBack(e))),this.pushStack(t)):this.pushStack([])},G.fn.scrollParent=function(e){var t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var e=G(this);return(!n||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&e.length?e:G(this[0].ownerDocument||document)},G.extend(G.expr.pseudos,{tabbable:function(e){var t=G.attr(e,"tabindex"),n=null!=t;return(!n||0<=t)&&G.ui.focusable(e,n)}}),G.fn.extend({uniqueId:(ne=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++ne)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&G(this).removeAttr("id")})}}),G.widget("ui.accordion",{version:"1.13.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=G(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():G()}},_createIcons:function(){var e,t=this.options.icons;t&&(e=G("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+t.header),e.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,t.header)._addClass(e,null,t.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=G.ui.keyCode,n=this.headers.length,i=this.headers.index(e.target),o=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:o=this.headers[(i+1)%n];break;case t.LEFT:case t.UP:o=this.headers[(i-1+n)%n];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:o=this.headers[0];break;case t.END:o=this.headers[n-1]}o&&(G(e.target).attr("tabIndex",-1),G(o).attr("tabIndex",0),G(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===G.ui.keyCode.UP&&e.ctrlKey&&G(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=G()):!1===e.active?this._activate(0):this.active.length&&!G.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=G()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var n,e=this.options,t=e.heightStyle,i=this.element.parent();this.active=this._findActive(e.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=G(this),t=e.uniqueId().attr("id"),n=e.next(),i=n.uniqueId().attr("id");e.attr("aria-controls",i),n.attr("aria-labelledby",t)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(n=i.height(),this.element.siblings(":visible").each(function(){var e=G(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.headers.each(function(){n-=G(this).outerHeight(!0)}),this.headers.next().each(function(){G(this).height(Math.max(0,n-G(this).innerHeight()+G(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.headers.next().each(function(){var e=G(this).is(":visible");e||G(this).show(),n=Math.max(n,G(this).css("height","").height()),e||G(this).hide()}).height(n))},_activate:function(e){(e=this._findActive(e)[0])!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:G.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):G()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&G.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t=this.options,n=this.active,i=G(e.currentTarget),o=i[0]===n[0],r=o&&t.collapsible,s=r?G():i.next(),a=n.next(),s={oldHeader:n,oldPanel:a,newHeader:r?G():i,newPanel:s};e.preventDefault(),o&&!t.collapsible||!1===this._trigger("beforeActivate",e,s)||(t.active=!r&&this.headers.index(i),this.active=o?G():i,this._toggle(s),this._removeClass(n,"ui-accordion-header-active","ui-state-active"),t.icons&&(n=n.children(".ui-accordion-header-icon"),this._removeClass(n,null,t.icons.activeHeader)._addClass(n,null,t.icons.header)),o||(this._removeClass(i,"ui-accordion-header-collapsed")._addClass(i,"ui-accordion-header-active","ui-state-active"),t.icons&&(o=i.children(".ui-accordion-header-icon"),this._removeClass(o,null,t.icons.header)._addClass(o,null,t.icons.activeHeader)),this._addClass(i.next(),"ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=n,this.options.animate?this._animate(t,n,e):(n.hide(),t.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),t.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):t.length&&this.headers.filter(function(){return 0===parseInt(G(this).attr("tabIndex"),10)}).attr("tabIndex",-1),t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,n,t){var i,o=this,r=0,s=e.css("box-sizing"),a=e.length&&(!n.length||e.index()<n.index()),l=this.options.animate||{},u=a&&l.down||l,a=function(){o._toggleComplete(t)},c=(c="string"==typeof u?u:c)||u.easing||l.easing,f=(f="number"==typeof u?u:f)||u.duration||l.duration;return n.length?e.length?(i=e.show().outerHeight(),n.animate(this.hideProps,{duration:f,easing:c,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:f,easing:c,complete:a,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?"content-box"===s&&(r+=t.now):"content"!==o.options.heightStyle&&(t.now=Math.round(i-n.outerHeight()-r),r=0)}})):n.animate(this.hideProps,f,c,a):e.animate(this.showProps,f,c,a)},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),G.ui.safeActiveElement=function(t){var n;try{n=t.activeElement}catch(e){n=t.body}return(n=n||t.body).nodeName?n:t.body},G.widget("ui.menu",{version:"1.13.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var t=G(e.target),n=G(G.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this._menuItems().first();t||this.focus(e,n)},blur:function(e){this._delay(function(){G.contains(this.element[0],G.ui.safeActiveElement(this.document[0]))||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){var t,n;this.previousFilter||e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:e.clientX,y:e.clientY},t=G(e.target).closest(".ui-menu-item"),n=G(e.currentTarget),t[0]!==n[0]||n.is(".ui-state-active")||(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n)))},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=G(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var t,n,i,o=!0;switch(e.keyCode){case G.ui.keyCode.PAGE_UP:this.previousPage(e);break;case G.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case G.ui.keyCode.HOME:this._move("first","first",e);break;case G.ui.keyCode.END:this._move("last","last",e);break;case G.ui.keyCode.UP:this.previous(e);break;case G.ui.keyCode.DOWN:this.next(e);break;case G.ui.keyCode.LEFT:this.collapse(e);break;case G.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case G.ui.keyCode.ENTER:case G.ui.keyCode.SPACE:this._activate(e);break;case G.ui.keyCode.ESCAPE:this.collapse(e);break;default:t=this.previousFilter||"",i=o=!1,n=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===t?i=!0:n=t+n,t=this._filterMenuItems(n),(t=i&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(n=String.fromCharCode(e.keyCode),t=this._filterMenuItems(n)),t.length?(this.focus(e,t),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,t,i=this,o=this.options.icons.submenu,n=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),t=n.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=G(this),t=e.prev(),n=G("<span>").data("ui-menu-submenu-caret",!0);i._addClass(n,"ui-menu-icon","ui-icon "+o),t.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",t.attr("id"))}),this._addClass(t,"ui-menu","ui-widget ui-widget-content ui-front"),(e=n.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=G(this);i._isDivider(e)&&i._addClass(e,"ui-menu-divider","ui-widget-content")}),n=(t=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(t,"ui-menu-item")._addClass(n,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!G.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){var n;"icons"===e&&(n=this.element.find(".ui-menu-icon"),this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,n,i;this._hasScroll()&&(n=parseFloat(G.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(G.css(this.activeMenu[0],"paddingTop"))||0,t=e.offset().top-this.activeMenu.offset().top-n-i,n=this.activeMenu.scrollTop(),i=this.activeMenu.height(),e=e.outerHeight(),t<0?this.activeMenu.scrollTop(n+t):i<t+e&&this.activeMenu.scrollTop(n+t-i+e))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=G.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var e=n?this.element:G(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this._removeClass(e.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=e},n?0:this.delay)},_close:function(e){(e=e||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!G(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this._menuItems(this.active.children(".ui-menu")).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,t,n){var i;(i=this.active?"first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").last():this.active[e+"All"](".ui-menu-item").first():i)&&i.length&&this.active||(i=this._menuItems(this.activeMenu)[t]()),this.focus(n,i)},nextPage:function(e){var t,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.innerHeight(),0===G.fn.jquery.indexOf("3.2.")&&(i+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(t=G(this)).offset().top-n-i<0}),this.focus(e,t)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.innerHeight(),0===G.fn.jquery.indexOf("3.2.")&&(i+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=G(this)).offset().top-n+i}),this.focus(e,t)):this.focus(e,this._menuItems(this.activeMenu).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||G(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var e=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),t=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return t.test(String.prototype.trim.call(G(this).children(".ui-menu-item-wrapper").text()))})}}),G.widget("ui.autocomplete",{version:"1.13.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,o,e="textarea"===(t=this.element[0].nodeName.toLowerCase()),t="input"===t;this.isMultiLine=e||!t&&this._isContentEditable(this.element),this.valueMethod=this.element[e||t?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))i=o=n=!0;else{i=o=n=!1;var t=G.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:n=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:n=!0,this._move("nextPage",e);break;case t.UP:n=!0,this._keyEvent("previous",e);break;case t.DOWN:n=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(n=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:i=!0,this._searchTimeout(e)}}},keypress:function(e){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!i){var t=G.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(o)return o=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=G("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault()},menufocus:function(e,t){var n;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){G(e.target).trigger(e.originalEvent)});n=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),(n=t.item.attr("aria-label")||n.value)&&String.prototype.trim.call(n).length&&(this.liveRegion.children().hide(),G("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==G.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=G("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var t=this.menu.element[0];return e.target===this.element[0]||e.target===t||G.contains(t,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return(e=(e=e&&(e.jquery||e.nodeType?G(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front, dialog")).length?e:this.document[0].body},_initSource:function(){var n,i,o=this;Array.isArray(this.options.source)?(n=this.options.source,this.source=function(e,t){t(G.ui.autocomplete.filter(n,e.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,t){o.xhr&&o.xhr.abort(),o.xhr=G.ajax({url:i,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;e&&(t||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e=e&&this._normalize(e),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:G.map(e,function(e){return"string"==typeof e?{label:e,value:e}:G.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(G.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,e){var i=this;G.each(e,function(e,t){i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return G("<li>").append(G("<div>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),G.extend(G.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var n=new RegExp(G.ui.autocomplete.escapeRegex(t),"i");return G.grep(e,function(e){return n.test(e.label||e.value||e)})}}),G.widget("ui.autocomplete",G.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),G("<div>").text(e).appendTo(this.liveRegion))}}),G.ui.autocomplete;var re,E,se=/ui-corner-([a-z]){2,6}/g;function ae(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},G.extend(this._defaults,this.regional[""]),this.regional.en=G.extend(!0,{},this.regional[""]),this.regional["en-US"]=G.extend(!0,{},this.regional.en),this.dpDiv=le(G("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function le(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",t,function(){G(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&G(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&G(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",t,ue)}function ue(){G.datepicker._isDisabledDatepicker((E.inline?E.dpDiv.parent():E.input)[0])||(G(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),G(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&G(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&G(this).addClass("ui-datepicker-next-hover"))}function S(e,t){for(var n in G.extend(e,t),t)null==t[n]&&(e[n]=t[n])}G.widget("ui.controlgroup",{version:"1.13.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var r=this,s=[];G.each(this.options.items,function(i,e){var t,o;if(e)return"controlgroupLabel"===i?((t=r.element.find(e)).each(function(){var e=G(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),r._addClass(t,null,"ui-widget ui-widget-content ui-state-default"),void(s=s.concat(t.get()))):void(G.fn[i]&&(o=r["_"+i+"Options"]?r["_"+i+"Options"]("middle"):{classes:{}},r.element.find(e).each(function(){var e=G(this),t=e[i]("instance"),n=G.widget.extend({},o);"button"===i&&e.parent(".ui-spinner").length||((t=t||e[i]()[i]("instance"))&&(n.classes=r._resolveClassesValues(n.classes,t)),e[i](n),n=e[i]("widget"),G.data(n[0],"ui-controlgroup-data",t||e[i]("instance")),s.push(n[0]))})))}),this.childWidgets=G(G.uniqueSort(s)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var e=G(this).data("ui-controlgroup-data");e&&e[t]&&e[t]()})},_updateCornerClass:function(e,t){t=this._buildSimpleOptions(t,"label").classes.label,this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,t)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],i},_spinnerOptions:function(e){return(e=this._buildSimpleOptions(e,"ui-spinner")).classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(n,i){var o={};return G.each(n,function(e){var t=i.options.classes[e]||"",t=String.prototype.trim.call(t.replace(se,""));o[e]=(t+" "+n[e]).replace(/\s+/g," ")}),o},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var o,r=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),o=this.childWidgets,(o=this.options.onlyVisible?o.filter(":visible"):o).length&&(G.each(["first","last"],function(e,t){var n,i=o[t]().data("ui-controlgroup-data");i&&r["_"+i.widgetName+"Options"]?((n=r["_"+i.widgetName+"Options"](1===o.length?"only":t)).classes=r._resolveClassesValues(n.classes,i),i.element[i.widgetName](n)):r._updateCornerClass(o[t](),t)}),this._callChildMethod("refresh"))}}),G.widget("ui.checkboxradio",[G.ui.formResetMixin,{version:"1.13.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,t=this,n=this._super()||{};return this._readType(),e=this.element.labels(),this.label=G(e[e.length-1]),this.label.length||G.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){t.originalLabel+=3===this.nodeType?G(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(n.disabled=e),n},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||G.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,t="input[name='"+G.escapeSelector(e)+"']";return e?(this.form.length?G(this.form[0].elements).filter(t):G(t).filter(function(){return 0===G(this)._form().length})).not(this.element):G([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=G(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(e){var t="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=G("<span>"),this.iconSpace=G("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(t+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):t+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",t),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),(e=this.iconSpace?e.not(this.iconSpace[0]):e).remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),G.ui.checkboxradio,G.widget("ui.button",{version:"1.13.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===G.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,t){var n="iconPosition"!==e,i=n?this.options.iconPosition:t,e="top"===i||"bottom"===i;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=G("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,t),this._attachIcon(i),e?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=G("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(i))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=(void 0===e.showLabel?this.options:e).showLabel,n=(void 0===e.icon?this.options:e).icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==G.uiBackCompat&&(G.widget("ui.button",G.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),G.fn.button=(re=G.fn.button,function(n){var e="string"==typeof n,i=Array.prototype.slice.call(arguments,1),o=this;return e?this.length||"instance"!==n?this.each(function(){var e=G(this).attr("type"),t=G.data(this,"ui-"+("checkbox"!==e&&"radio"!==e?"button":"checkboxradio"));return"instance"===n?(o=t,!1):t?"function"!=typeof t[n]||"_"===n.charAt(0)?G.error("no such method '"+n+"' for button widget instance"):(e=t[n].apply(t,i))!==t&&void 0!==e?(o=e&&e.jquery?o.pushStack(e.get()):e,!1):void 0:G.error("cannot call methods on button prior to initialization; attempted to call method '"+n+"'")}):o=void 0:(i.length&&(n=G.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=G(this).attr("type"),t="checkbox"!==e&&"radio"!==e?"button":"checkboxradio";(e=G.data(this,"ui-"+t))?(e.option(n||{}),e._init&&e._init()):"button"!=t?G(this).checkboxradio(G.extend({icon:!1},n)):re.call(G(this),n)})),o}),G.fn.buttonset=function(){return G.ui.controlgroup||G.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),G.ui.button,G.extend(G.ui,{datepicker:{version:"1.13.0"}}),G.extend(ae.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return S(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var n,i=e.nodeName.toLowerCase(),o="div"===i||"span"===i;e.id||(this.uuid+=1,e.id="dp"+this.uuid),(n=this._newInst(G(e),o)).settings=G.extend({},t||{}),"input"===i?this._connectDatepicker(e,n):o&&this._inlineDatepicker(e,n)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?le(G("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var n=G(e);t.append=G([]),t.trigger=G([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(t),G.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n,i=this._get(t,"appendText"),o=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=G("<span>").addClass(this._appendClass).text(i),e[o?"before":"after"](t.append)),e.off("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(n=this._get(t,"showOn"))&&"both"!==n||e.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(i=this._get(t,"buttonText"),n=this._get(t,"buttonImage"),this._get(t,"buttonImageOnly")?t.trigger=G("<img>").addClass(this._triggerClass).attr({src:n,alt:i,title:i}):(t.trigger=G("<button type='button'>").addClass(this._triggerClass),n?t.trigger.html(G("<img>").attr({src:n,alt:i,title:i})):t.trigger.text(i)),e[o?"before":"after"](t.trigger),t.trigger.on("click",function(){return G.datepicker._datepickerShowing&&G.datepicker._lastInput===e[0]?G.datepicker._hideDatepicker():(G.datepicker._datepickerShowing&&G.datepicker._lastInput!==e[0]&&G.datepicker._hideDatepicker(),G.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){var t,n,i,o,r,s;this._get(e,"autoSize")&&!e.inline&&(r=new Date(2009,11,20),(s=this._get(e,"dateFormat")).match(/[DM]/)&&(r.setMonth((t=function(e){for(o=i=n=0;o<e.length;o++)e[o].length>n&&(n=e[o].length,i=o);return i})(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length))},_inlineDatepicker:function(e,t){var n=G(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv),G.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,o){var r,s=this._dialogInst;return s||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=G("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),G("body").append(this._dialogInput),(s=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},G.data(this._dialogInput[0],"datepicker",s)),S(s.settings,i||{}),t=t&&t.constructor===Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(r=document.documentElement.clientWidth,i=document.documentElement.clientHeight,t=document.documentElement.scrollLeft||document.body.scrollLeft,o=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+t,i/2-150+o]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),G.blockUI&&G.blockUI(this.dpDiv),G.data(this._dialogInput[0],"datepicker",s),this},_destroyDatepicker:function(e){var t,n=G(e),i=G.data(e,"datepicker");n.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),G.removeData(e,"datepicker"),"input"===t?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||n.removeClass(this.markerClassName).empty(),E===i&&(E=null,this._curInst=null))},_enableDatepicker:function(t){var e,n=G(t),i=G.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((n=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=G.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,n=G(t),i=G.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((n=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=G.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return G.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i,o,r=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?G.extend({},G.datepicker._defaults):r?"all"===t?G.extend({},r.settings):this._get(r,t):null;i=t||{},"string"==typeof t&&((i={})[t]=n),r&&(this._curInst===r&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),t=this._getMinMaxDate(r,"min"),n=this._getMinMaxDate(r,"max"),S(r.settings,i),null!==t&&void 0!==i.dateFormat&&void 0===i.minDate&&(r.settings.minDate=this._formatDate(r,t)),null!==n&&void 0!==i.dateFormat&&void 0===i.maxDate&&(r.settings.maxDate=this._formatDate(r,n)),"disabled"in i&&(i.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(G(e),r),this._autoSize(r),this._setDate(r,o),this._updateAlternate(r),this._updateDatepicker(r))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){(e=this._getInst(e))&&this._updateDatepicker(e)},_setDateDatepicker:function(e,t){(e=this._getInst(e))&&(this._setDate(e,t),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,t){return(e=this._getInst(e))&&!e.inline&&this._setDateFromField(e,t),e?this._getDate(e):null},_doKeyDown:function(e){var t,n,i=G.datepicker._getInst(e.target),o=!0,r=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,G.datepicker._datepickerShowing)switch(e.keyCode){case 9:G.datepicker._hideDatepicker(),o=!1;break;case 13:return(n=G("td."+G.datepicker._dayOverClass+":not(."+G.datepicker._currentClass+")",i.dpDiv))[0]&&G.datepicker._selectDay(e.target,i.selectedMonth,i.selectedYear,n[0]),(t=G.datepicker._get(i,"onSelect"))?(n=G.datepicker._formatDate(i),t.apply(i.input?i.input[0]:null,[n,i])):G.datepicker._hideDatepicker(),!1;case 27:G.datepicker._hideDatepicker();break;case 33:G.datepicker._adjustDate(e.target,e.ctrlKey?-G.datepicker._get(i,"stepBigMonths"):-G.datepicker._get(i,"stepMonths"),"M");break;case 34:G.datepicker._adjustDate(e.target,e.ctrlKey?+G.datepicker._get(i,"stepBigMonths"):+G.datepicker._get(i,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&G.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&G.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,r?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&G.datepicker._adjustDate(e.target,e.ctrlKey?-G.datepicker._get(i,"stepBigMonths"):-G.datepicker._get(i,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,r?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&G.datepicker._adjustDate(e.target,e.ctrlKey?+G.datepicker._get(i,"stepBigMonths"):+G.datepicker._get(i,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?G.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,n=G.datepicker._getInst(e.target);if(G.datepicker._get(n,"constrainInput"))return t=G.datepicker._possibleChars(G.datepicker._get(n,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!t||-1<t.indexOf(n)},_doKeyUp:function(e){if((e=G.datepicker._getInst(e.target)).input.val()!==e.lastVal)try{G.datepicker.parseDate(G.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,G.datepicker._getFormatConfig(e))&&(G.datepicker._setDateFromField(e),G.datepicker._updateAlternate(e),G.datepicker._updateDatepicker(e))}catch(e){}return!0},_showDatepicker:function(e){var t,n,i,o;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=G("input",e.parentNode)[0]),G.datepicker._isDisabledDatepicker(e)||G.datepicker._lastInput===e||(o=G.datepicker._getInst(e),G.datepicker._curInst&&G.datepicker._curInst!==o&&(G.datepicker._curInst.dpDiv.stop(!0,!0),o&&G.datepicker._datepickerShowing&&G.datepicker._hideDatepicker(G.datepicker._curInst.input[0])),!1!==(n=(i=G.datepicker._get(o,"beforeShow"))?i.apply(e,[e,o]):{})&&(S(o.settings,n),o.lastVal=null,G.datepicker._lastInput=e,G.datepicker._setDateFromField(o),G.datepicker._inDialog&&(e.value=""),G.datepicker._pos||(G.datepicker._pos=G.datepicker._findPos(e),G.datepicker._pos[1]+=e.offsetHeight),t=!1,G(e).parents().each(function(){return!(t|="fixed"===G(this).css("position"))}),i={left:G.datepicker._pos[0],top:G.datepicker._pos[1]},G.datepicker._pos=null,o.dpDiv.empty(),o.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),G.datepicker._updateDatepicker(o),i=G.datepicker._checkOffset(o,i,t),o.dpDiv.css({position:G.datepicker._inDialog&&G.blockUI?"static":t?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),o.inline||(n=G.datepicker._get(o,"showAnim"),i=G.datepicker._get(o,"duration"),o.dpDiv.css("z-index",function(e){for(var t;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(t=parseInt(e.css("zIndex"),10),!isNaN(t)&&0!==t))return t;e=e.parent()}return 0}(G(e))+1),G.datepicker._datepickerShowing=!0,G.effects&&G.effects.effect[n]?o.dpDiv.show(n,G.datepicker._get(o,"showOptions"),i):o.dpDiv[n||"show"](n?i:null),G.datepicker._shouldFocusInput(o)&&o.input.trigger("focus"),G.datepicker._curInst=o)))},_updateDatepicker:function(e){this.maxRows=4,(E=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,n=this._getNumberOfMonths(e),i=n[1],o=e.dpDiv.find("."+this._dayOverClass+" a"),r=G.datepicker._get(e,"onUpdateDatepicker");0<o.length&&ue.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===G.datepicker._curInst&&G.datepicker._datepickerShowing&&G.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),t=e.yearshtml=null},0)),r&&r.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,a=document.documentElement.clientWidth+(n?0:G(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:G(document).scrollTop());return t.left-=this._get(e,"isRTL")?i-r:0,t.left-=n&&t.left===e.input.offset().left?G(document).scrollLeft():0,t.top-=n&&t.top===e.input.offset().top+s?G(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>a&&i<a?Math.abs(t.left+i-a):0),t.top-=Math.min(t.top,t.top+o>l&&o<l?Math.abs(o+s):0),t},_findPos:function(e){for(var t=this._getInst(e),n=this._get(t,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||G.expr.pseudos.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return[(t=G(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,n,i=this._curInst;!i||e&&i!==G.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(i,"showAnim"),n=this._get(i,"duration"),e=function(){G.datepicker._tidyDialog(i)},G.effects&&(G.effects.effect[t]||G.effects[t])?i.dpDiv.hide(t,G.datepicker._get(i,"showOptions"),n,e):i.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?n:null,e),t||e(),this._datepickerShowing=!1,(e=this._get(i,"onClose"))&&e.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),G.blockUI&&(G.unblockUI(),G("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){var t;G.datepicker._curInst&&(t=G(e.target),e=G.datepicker._getInst(t[0]),(!(t[0].id===G.datepicker._mainDivId||0!==t.parents("#"+G.datepicker._mainDivId).length||t.hasClass(G.datepicker.markerClassName)||t.closest("."+G.datepicker._triggerClass).length||!G.datepicker._datepickerShowing||G.datepicker._inDialog&&G.blockUI)||t.hasClass(G.datepicker.markerClassName)&&G.datepicker._curInst!==e)&&G.datepicker._hideDatepicker())},_adjustDate:function(e,t,n){var i=G(e),e=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(e,t,n),this._updateDatepicker(e))},_gotoToday:function(e){var t=G(e),n=this._getInst(t[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(e=new Date,n.selectedDay=e.getDate(),n.drawMonth=n.selectedMonth=e.getMonth(),n.drawYear=n.selectedYear=e.getFullYear()),this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var i=G(e);(e=this._getInst(i[0]))["selected"+("M"===n?"Month":"Year")]=e["draw"+("M"===n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(i)},_selectDay:function(e,t,n,i){var o=G(e);G(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((o=this._getInst(o[0])).selectedDay=o.currentDay=parseInt(G("a",i).attr("data-date")),o.selectedMonth=o.currentMonth=t,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){e=G(e),this._selectDate(e,"")},_selectDate:function(e,t){var n=G(e),e=this._getInst(n[0]);t=null!=t?t:this._formatDate(e),e.input&&e.input.val(t),this._updateAlternate(e),(n=this._get(e,"onSelect"))?n.apply(e.input?e.input[0]:null,[t,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var t,n,i=this._get(e,"altField");i&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),e=this.formatDate(t,n,this._getFormatConfig(e)),G(document).find(i).val(e))},noWeekends:function(e){return[0<(e=e.getDay())&&e<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),e=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((e-t)/864e5)/7)+1},parseDate:function(t,o,e){if(null==t||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;for(var n,i,r=0,s="string"!=typeof(s=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff)?s:(new Date).getFullYear()%100+parseInt(s,10),a=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,l=(e?e.dayNames:null)||this._defaults.dayNames,u=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,c=(e?e.monthNames:null)||this._defaults.monthNames,f=-1,d=-1,h=-1,p=-1,g=!1,m=function(e){return(e=_+1<t.length&&t.charAt(_+1)===e)&&_++,e},v=function(e){var t=m(e),t="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,t=new RegExp("^\\d{"+("y"===e?t:1)+","+t+"}");if(t=o.substring(r).match(t))return r+=t[0].length,parseInt(t[0],10);throw"Missing number at position "+r},y=function(e,t,n){var i=-1,t=G.map(m(e)?n:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(G.each(t,function(e,t){var n=t[1];if(o.substr(r,n.length).toLowerCase()===n.toLowerCase())return i=t[0],r+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+r},D=function(){if(o.charAt(r)!==t.charAt(_))throw"Unexpected literal at position "+r;r++},_=0;_<t.length;_++)if(g)"'"!==t.charAt(_)||m("'")?D():g=!1;else switch(t.charAt(_)){case"d":h=v("d");break;case"D":y("D",a,l);break;case"o":p=v("o");break;case"m":d=v("m");break;case"M":d=y("M",u,c);break;case"y":f=v("y");break;case"@":f=(i=new Date(v("@"))).getFullYear(),d=i.getMonth()+1,h=i.getDate();break;case"!":f=(i=new Date((v("!")-this._ticksTo1970)/1e4)).getFullYear(),d=i.getMonth()+1,h=i.getDate();break;case"'":m("'")?D():g=!0;break;default:D()}if(r<o.length&&(e=o.substr(r),!/^\s+/.test(e)))throw"Extra/unparsed characters found in date: "+e;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=s?0:-100)),-1<p)for(d=1,h=p;!(h<=(n=this._getDaysInMonth(f,d-1)));)d++,h-=n;if((i=this._daylightSavingAdjust(new Date(f,d-1,h))).getFullYear()!==f||i.getMonth()+1!==d||i.getDate()!==h)throw"Invalid date";return i},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";function i(e,t,n){var i=""+t;if(c(e))for(;i.length<n;)i="0"+i;return i}function o(e,t,n,i){return(c(e)?i:n)[t]}var r,s=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,l=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,c=function(e){return(e=r+1<t.length&&t.charAt(r+1)===e)&&r++,e},f="",d=!1;if(e)for(r=0;r<t.length;r++)if(d)"'"!==t.charAt(r)||c("'")?f+=t.charAt(r):d=!1;else switch(t.charAt(r)){case"d":f+=i("d",e.getDate(),2);break;case"D":f+=o("D",e.getDay(),s,a);break;case"o":f+=i("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=i("m",e.getMonth()+1,2);break;case"M":f+=o("M",e.getMonth(),l,u);break;case"y":f+=c("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this._ticksTo1970;break;case"'":c("'")?f+="'":d=!0;break;default:f+=t.charAt(r)}return f},_possibleChars:function(t){for(var e="",n=!1,i=function(e){return(e=o+1<t.length&&t.charAt(o+1)===e)&&o++,e},o=0;o<t.length;o++)if(n)"'"!==t.charAt(o)||i("'")?e+=t.charAt(o):n=!1;else switch(t.charAt(o)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":i("'")?e+="'":n=!0;break;default:e+=t.charAt(o)}return e},_get:function(e,t){return(void 0!==e.settings[t]?e.settings:this._defaults)[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),r=o,s=this._getFormatConfig(e);try{r=this.parseDate(n,i,s)||o}catch(e){i=t?"":i}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=i?r.getDate():0,e.currentMonth=i?r.getMonth():0,e.currentYear=i?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(a,e,t){var n,i;return(e=(e=null==e||""===e?t:"string"==typeof e?function(e){try{return G.datepicker.parseDate(G.datepicker._get(a,"dateFormat"),e,G.datepicker._getFormatConfig(a))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?G.datepicker._getDate(a):null)||new Date,n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=r.exec(e);s;){switch(s[2]||"d"){case"d":case"D":o+=parseInt(s[1],10);break;case"w":case"W":o+=7*parseInt(s[1],10);break;case"m":case"M":i+=parseInt(s[1],10),o=Math.min(o,G.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(s[1],10),o=Math.min(o,G.datepicker._getDaysInMonth(n,i))}s=r.exec(e)}return new Date(n,i,o)}(e):"number"==typeof e?isNaN(e)?t:(n=e,(i=new Date).setDate(i.getDate()+n),i):new Date(e.getTime()))&&"Invalid Date"===e.toString()?t:e)&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),this._daylightSavingAdjust(e)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,o=e.selectedMonth,r=e.selectedYear,t=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=t.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=t.getMonth(),e.drawYear=e.selectedYear=e.currentYear=t.getFullYear(),o===e.selectedMonth&&r===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){G.datepicker._adjustDate(n,-t,"M")},next:function(){G.datepicker._adjustDate(n,+t,"M")},hide:function(){G.datepicker._hideDatepicker()},today:function(){G.datepicker._gotoToday(n)},selectDay:function(){return G.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return G.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return G.datepicker._selectMonthYear(n,this,"Y"),!1}};G(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,o,r,z,F,P,R,s,a,U,l,u,c,f,d,h,p,g,m,v,B,y,D,_,b,Y,H,C,M,w,A=new Date,W=this._daylightSavingAdjust(new Date(A.getFullYear(),A.getMonth(),A.getDate())),I=this._get(e,"isRTL"),Q=this._get(e,"showButtonPanel"),k=this._get(e,"hideIfNoPrevNext"),T=this._get(e,"navigationAsDateFormat"),x=this._getNumberOfMonths(e),E=this._get(e,"showCurrentAtPos"),A=this._get(e,"stepMonths"),V=1!==x[0]||1!==x[1],S=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),N=this._getMinMaxDate(e,"min"),j=this._getMinMaxDate(e,"max"),O=e.drawMonth-E,L=e.drawYear;if(O<0&&(O+=12,L--),j)for(t=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth()-x[0]*x[1]+1,j.getDate())),t=N&&t<N?N:t;this._daylightSavingAdjust(new Date(L,O,1))>t;)--O<0&&(O=11,L--);for(e.drawMonth=O,e.drawYear=L,E=this._get(e,"prevText"),E=T?this.formatDate(E,this._daylightSavingAdjust(new Date(L,O-A,1)),this._getFormatConfig(e)):E,n=this._canAdjustMonth(e,-1,L,O)?G("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:E}).append(G("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(I?"e":"w")).text(E))[0].outerHTML:k?"":G("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:E}).append(G("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(I?"e":"w")).text(E))[0].outerHTML,E=this._get(e,"nextText"),E=T?this.formatDate(E,this._daylightSavingAdjust(new Date(L,O+A,1)),this._getFormatConfig(e)):E,i=this._canAdjustMonth(e,1,L,O)?G("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:E}).append(G("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(I?"w":"e")).text(E))[0].outerHTML:k?"":G("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:E}).append(G("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(I?"w":"e")).text(E))[0].outerHTML,A=this._get(e,"currentText"),k=this._get(e,"gotoCurrent")&&e.currentDay?S:W,A=T?this.formatDate(A,k,this._getFormatConfig(e)):A,E="",e.inline||(E=G("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),T="",Q&&(T=G("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(I?E:"").append(this._isInRange(e,k)?G("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(A):"").append(I?"":E)[0].outerHTML),o=parseInt(this._get(e,"firstDay"),10),o=isNaN(o)?0:o,r=this._get(e,"showWeek"),z=this._get(e,"dayNames"),F=this._get(e,"dayNamesMin"),P=this._get(e,"monthNames"),R=this._get(e,"monthNamesShort"),s=this._get(e,"beforeShowDay"),a=this._get(e,"showOtherMonths"),U=this._get(e,"selectOtherMonths"),l=this._getDefaultDate(e),u="",f=0;f<x[0];f++){for(d="",this.maxRows=4,h=0;h<x[1];h++){if(p=this._daylightSavingAdjust(new Date(L,O,e.selectedDay)),g=" ui-corner-all",m="",V){if(m+="<div class='ui-datepicker-group",1<x[1])switch(h){case 0:m+=" ui-datepicker-group-first",g=" ui-corner-"+(I?"right":"left");break;case x[1]-1:m+=" ui-datepicker-group-last",g=" ui-corner-"+(I?"left":"right");break;default:m+=" ui-datepicker-group-middle",g=""}m+="'>"}for(m+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+g+"'>"+(/all|left/.test(g)&&0===f?I?i:n:"")+(/all|right/.test(g)&&0===f?I?n:i:"")+this._generateMonthYearHeader(e,O,L,N,j,0<f||0<h,P,R)+"</div><table class='ui-datepicker-calendar'><thead><tr>",v=r?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",c=0;c<7;c++)v+="<th scope='col'"+(5<=(c+o+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+z[B=(c+o)%7]+"'>"+F[B]+"</span></th>";for(m+=v+"</tr></thead><tbody>",D=this._getDaysInMonth(L,O),L===e.selectedYear&&O===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D)),y=(this._getFirstDayOfMonth(L,O)-o+7)%7,D=Math.ceil((y+D)/7),_=V&&this.maxRows>D?this.maxRows:D,this.maxRows=_,b=this._daylightSavingAdjust(new Date(L,O,1-y)),Y=0;Y<_;Y++){for(m+="<tr>",H=r?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(b)+"</td>":"",c=0;c<7;c++)C=s?s.apply(e.input?e.input[0]:null,[b]):[!0,""],w=(M=b.getMonth()!==O)&&!U||!C[0]||N&&b<N||j&&j<b,H+="<td class='"+(5<=(c+o+6)%7?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(b.getTime()===p.getTime()&&O===e.selectedMonth&&e._keyEvent||l.getTime()===b.getTime()&&l.getTime()===p.getTime()?" "+this._dayOverClass:"")+(w?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!a?"":" "+C[1]+(b.getTime()===S.getTime()?" "+this._currentClass:"")+(b.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(M&&!a||!C[2]?"":" title='"+C[2].replace(/'/g,"&#39;")+"'")+(w?"":" data-handler='selectDay' data-event='click' data-month='"+b.getMonth()+"' data-year='"+b.getFullYear()+"'")+">"+(M&&!a?"&#xa0;":w?"<span class='ui-state-default'>"+b.getDate()+"</span>":"<a class='ui-state-default"+(b.getTime()===W.getTime()?" ui-state-highlight":"")+(b.getTime()===S.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#' aria-current='"+(b.getTime()===S.getTime()?"true":"false")+"' data-date='"+b.getDate()+"'>"+b.getDate()+"</a>")+"</td>",b.setDate(b.getDate()+1),b=this._daylightSavingAdjust(b);m+=H+"</tr>"}11<++O&&(O=0,L++),d+=m+="</tbody></table>"+(V?"</div>"+(0<x[0]&&h===x[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}u+=d}return u+=T,e._keyEvent=!1,u},_generateMonthYearHeader:function(e,t,n,i,o,r,s,a){var l,u,c,f,d,h,p=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),m=this._get(e,"showMonthAfterYear"),v=this._get(e,"selectMonthLabel"),y=this._get(e,"selectYearLabel"),D="<div class='ui-datepicker-title'>",_="";if(r||!p)_+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===n,u=o&&o.getFullYear()===n,_+="<select class='ui-datepicker-month' aria-label='"+v+"' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=o.getMonth())&&(_+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+a[c]+"</option>");_+="</select>"}if(m||(D+=_+(!r&&p&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!g)D+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(s=this._get(e,"yearRange").split(":"),f=(new Date).getFullYear(),d=(v=function(e){return e=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?f+parseInt(e,10):parseInt(e,10),isNaN(e)?f:e})(s[0]),h=Math.max(d,v(s[1]||"")),d=i?Math.max(d,i.getFullYear()):d,h=o?Math.min(h,o.getFullYear()):h,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+y+"' data-handler='selectYear' data-event='change'>";d<=h;d++)e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",D+=e.yearshtml,e.yearshtml=null}return D+=this._get(e,"yearSuffix"),m&&(D+=(!r&&p&&g?"":"&#xa0;")+_),D+"</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),o=e.selectedMonth+("M"===n?t:0),t=Math.min(e.selectedDay,this._getDaysInMonth(i,o))+("D"===n?t:0),t=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,o,t)));e.selectedDay=t.getDate(),e.drawMonth=e.selectedMonth=t.getMonth(),e.drawYear=e.selectedYear=t.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),t=n&&t<n?n:t;return(e=this._getMinMaxDate(e,"max"))&&e<t?e:t},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){return null==(e=this._get(e,"numberOfMonths"))?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var o=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:o[0]*o[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),o=null,r=null,s=this._get(e,"yearRange");return s&&(e=s.split(":"),s=(new Date).getFullYear(),o=parseInt(e[0],10),r=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(o+=s),e[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!i||t.getTime()<=i.getTime())&&(!o||t.getFullYear()>=o)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){return t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear),t=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay)),this.formatDate(this._get(e,"dateFormat"),t,this._getFormatConfig(e))}}),G.fn.datepicker=function(e){if(!this.length)return this;G.datepicker.initialized||(G(document).on("mousedown",G.datepicker._checkExternalClick),G.datepicker.initialized=!0),0===G("#"+G.datepicker._mainDivId).length&&G("body").append(G.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&("isDisabled"===e||"getDate"===e||"widget"===e)||"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?G.datepicker["_"+e+"Datepicker"].apply(G.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?G.datepicker["_"+e+"Datepicker"].apply(G.datepicker,[this].concat(t)):G.datepicker._attachDatepicker(this,e)})},G.datepicker=new ae,G.datepicker.initialized=!1,G.datepicker.uuid=(new Date).getTime(),G.datepicker.version="1.13.0",G.datepicker,G.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var N,j=!1;function ce(e,t,n){return t<=e&&e<t+n}function O(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}G(document).on("mouseup",function(){j=!1}),G.widget("ui.mouse",{version:"1.13.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===G.data(e.target,t.widgetName+".preventClickEvent"))return G.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){var t,n,i;if(!j)return this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),n=1===(this._mouseDownEvent=e).which,i=!("string"!=typeof(t=this).options.cancel||!e.target.nodeName)&&G(e.target).closest(this.options.cancel).length,!(n&&!i&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===G.data(e.target,this.widgetName+".preventClickEvent")&&G.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),j=!0))},_mouseMove:function(e){if(this._mouseMoved){if(G.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&G.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,j=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),G.ui.plugin={add:function(e,t,n){var i,o=G.ui[e].prototype;for(i in n)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([t,n[i]])},call:function(e,t,n,i){var o,r=e.plugins[t];if(r&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)e.options[r[o][0]]&&r[o][1].apply(e.element,n)}},G.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&G(e).trigger("blur")},G.widget("ui.draggable",G.ui.mouse,{version:"1.13.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<G(e.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=G(this);return G("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=G.ui.safeActiveElement(this.document[0]);G(e.target).closest(t).length||G.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),G.ui.ddmanager&&(G.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===G(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),G.ui.ddmanager&&!t.dropBehaviour&&G.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),G.ui.ddmanager&&G.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){if(t=this._uiHash(),!1===this._trigger("drag",e,t))return this._mouseUp(new G.Event("mouseup",e)),!1;this.position=t.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",G.ui.ddmanager&&G.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return G.ui.ddmanager&&!this.options.dropBehaviour&&(n=G.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,n)?G(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),G.ui.ddmanager&&G.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),G.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new G.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!G(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,n="function"==typeof t.helper;return(e=n?G(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element).parents("body").length||e.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&G.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(t=G(i.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=i.containment:this.containment=[0,0,G(o).width()-this.helperProportions.width-this.margins.left,(G(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[G(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,G(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,G(window).scrollLeft()+G(window).width()-this.helperProportions.width-this.margins.left,G(window).scrollTop()+(G(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t=t||this.position;var n="absolute"===e?1:-1,e=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i=this.options,o=this._isRootNode(this.scrollParent[0]),r=e.pageX,s=e.pageY;return o&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(n=this.relativeContainer?(n=this.relativeContainer.offset(),[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):this.containment,e.pageX-this.offset.click.left<n[0]&&(r=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(s=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(r=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(s=n[3]+this.offset.click.top)),i.grid&&(e=i.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY,s=!n||e-this.offset.click.top>=n[1]||e-this.offset.click.top>n[3]?e:e-this.offset.click.top>=n[1]?e-i.grid[1]:e+i.grid[1],e=i.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX,r=!n||e-this.offset.click.left>=n[0]||e-this.offset.click.left>n[2]?e:e-this.offset.click.left>=n[0]?e-i.grid[0]:e+i.grid[0]),"y"===i.axis&&(r=this.originalPageX),"x"===i.axis&&(s=this.originalPageY)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,n){return n=n||this._uiHash(),G.ui.plugin.call(this,e,[t,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),G.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),G.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var i=G.extend({},e,{item:n.element});n.sortables=[],G(n.options.connectToSortable).each(function(){var e=G(this).sortable("instance");e&&!e.options.disabled&&(n.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,i))})},stop:function(t,e,n){var i=G.extend({},e,{item:n.element});n.cancelHelperRemoval=!1,G.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(n,i,o){G.each(o.sortables,function(){var e=!1,t=this;t.positionAbs=o.positionAbs,t.helperProportions=o.helperProportions,t.offset.click=o.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,G.each(o.sortables,function(){return this.positionAbs=o.positionAbs,this.helperProportions=o.helperProportions,this.offset.click=o.offset.click,e=(this===t||!this._intersectsWith(this.containerCache)||!G.contains(t.element[0],this.element[0]))&&e})),e?(t.isOver||(t.isOver=1,o._parent=i.helper.parent(),t.currentItem=i.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return i.helper[0]},n.target=t.currentItem[0],t._mouseCapture(n,!0),t._mouseStart(n,!0,!0),t.offset.click.top=o.offset.click.top,t.offset.click.left=o.offset.click.left,t.offset.parent.left-=o.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=o.offset.parent.top-t.offset.parent.top,o._trigger("toSortable",n),o.dropped=t.element,G.each(o.sortables,function(){this.refreshPositions()}),o.currentItem=o.element,t.fromOutside=o),t.currentItem&&(t._mouseDrag(n),i.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",n,t._uiHash(t)),t._mouseStop(n,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),i.helper.appendTo(o._parent),o._refreshOffsets(n),i.position=o._generatePosition(n,!0),o._trigger("fromSortable",n),o.dropped=!1,G.each(o.sortables,function(){this.refreshPositions()}))})}}),G.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var i=G("body"),n=n.options;i.css("cursor")&&(n._cursor=i.css("cursor")),i.css("cursor",n.cursor)},stop:function(e,t,n){(n=n.options)._cursor&&G("body").css("cursor",n._cursor)}}),G.ui.plugin.add("draggable","opacity",{start:function(e,t,n){t=G(t.helper),n=n.options,t.css("opacity")&&(n._opacity=t.css("opacity")),t.css("opacity",n.opacity)},stop:function(e,t,n){(n=n.options)._opacity&&G(t.helper).css("opacity",n._opacity)}}),G.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,t,n){var i=n.options,o=!1,r=n.scrollParentNotHidden[0],s=n.document[0];r!==s&&"HTML"!==r.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+r.offsetHeight-e.pageY<i.scrollSensitivity?r.scrollTop=o=r.scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+r.offsetWidth-e.pageX<i.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-G(s).scrollTop()<i.scrollSensitivity?o=G(s).scrollTop(G(s).scrollTop()-i.scrollSpeed):G(window).height()-(e.pageY-G(s).scrollTop())<i.scrollSensitivity&&(o=G(s).scrollTop(G(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-G(s).scrollLeft()<i.scrollSensitivity?o=G(s).scrollLeft(G(s).scrollLeft()-i.scrollSpeed):G(window).width()-(e.pageX-G(s).scrollLeft())<i.scrollSensitivity&&(o=G(s).scrollLeft(G(s).scrollLeft()+i.scrollSpeed)))),!1!==o&&G.ui.ddmanager&&!i.dropBehaviour&&G.ui.ddmanager.prepareOffsets(n,e)}}),G.ui.plugin.add("draggable","snap",{start:function(e,t,n){var i=n.options;n.snapElements=[],G(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=G(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,n){for(var i,o,r,s,a,l,u,c,f,d=n.options,h=d.snapTolerance,p=t.offset.left,g=p+n.helperProportions.width,m=t.offset.top,v=m+n.helperProportions.height,y=n.snapElements.length-1;0<=y;y--)l=(a=n.snapElements[y].left-n.margins.left)+n.snapElements[y].width,c=(u=n.snapElements[y].top-n.margins.top)+n.snapElements[y].height,g<a-h||l+h<p||v<u-h||c+h<m||!G.contains(n.snapElements[y].item.ownerDocument,n.snapElements[y].item)?(n.snapElements[y].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,G.extend(n._uiHash(),{snapItem:n.snapElements[y].item})),n.snapElements[y].snapping=!1):("inner"!==d.snapMode&&(i=Math.abs(u-v)<=h,o=Math.abs(c-m)<=h,r=Math.abs(a-g)<=h,s=Math.abs(l-p)<=h,i&&(t.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(t.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),r&&(t.position.left=n._convertPositionTo("relative",{top:0,left:a-n.helperProportions.width}).left),s&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),f=i||o||r||s,"outer"!==d.snapMode&&(i=Math.abs(u-m)<=h,o=Math.abs(c-v)<=h,r=Math.abs(a-p)<=h,s=Math.abs(l-g)<=h,i&&(t.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(t.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),r&&(t.position.left=n._convertPositionTo("relative",{top:0,left:a}).left),s&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[y].snapping&&(i||o||r||s||f)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,G.extend(n._uiHash(),{snapItem:n.snapElements[y].item})),n.snapElements[y].snapping=i||o||r||s||f)}}),G.ui.plugin.add("draggable","stack",{start:function(e,t,n){var i,n=n.options;(n=G.makeArray(G(n.stack)).sort(function(e,t){return(parseInt(G(e).css("zIndex"),10)||0)-(parseInt(G(t).css("zIndex"),10)||0)})).length&&(i=parseInt(G(n[0]).css("zIndex"),10)||0,G(n).each(function(e){G(this).css("zIndex",i+e)}),this.css("zIndex",i+n.length))}}),G.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){t=G(t.helper),n=n.options,t.css("zIndex")&&(n._zIndex=t.css("zIndex")),t.css("zIndex",n.zIndex)},stop:function(e,t,n){(n=n.options)._zIndex&&G(t.helper).css("zIndex",n._zIndex)}}),G.ui.draggable,G.widget("ui.resizable",G.ui.mouse,{version:"1.13.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,t){if("hidden"===G(e).css("overflow"))return!1;var n=t&&"left"===t?"scrollLeft":"scrollTop",t=!1;if(0<e[n])return!0;try{e[n]=1,t=0<e[n],e[n]=0}catch(e){}return t},_create:function(){var e,t=this.options,n=this;this._addClass("ui-resizable"),G.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(G("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),t.autoHide&&G(this.element).on("mouseenter",function(){t.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){t.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){function e(e){G(e).removeData("resizable").removeData("ui-resizable").off(".resizable")}var t;return this._mouseDestroy(),this._addedHandles.remove(),this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var e,t,n,i,o,r=this.options,s=this;if(this.handles=r.handles||(G(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=G(),this._addedHandles=G(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},t=0;t<n.length;t++)i="ui-resizable-"+(e=String.prototype.trim.call(n[t])),o=G("<div>"),this._addClass(o,"ui-resizable-handle "+i),o.css({zIndex:r.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.children(this.handles[e]).length||(this.element.append(o),this._addedHandles=this._addedHandles.add(o));this._renderAxis=function(e){var t,n,i;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=G(this.handles[t]),this._on(this.handles[t],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=G(this.handles[t],this.element),i=/sw|ne|nw|se|n|s/.test(t)?n.outerHeight():n.outerWidth(),n=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(n,i),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var t,n,i=!1;for(t in this.handles)(n=G(this.handles[t])[0])!==e.target&&!G.contains(n,e.target)||(i=!0);return!this.options.disabled&&i},_mouseStart:function(e){var t,n,i=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),i.containment&&(t+=G(i.containment).scrollLeft()||0,n+=G(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:t,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=G(".ui-resizable-"+this.axis).css("cursor"),G("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t=this.originalMousePosition,n=this.axis,i=e.pageX-t.left||0,t=e.pageY-t.top||0,n=this._change[n];return this._updatePrevProperties(),n&&(t=n.apply(this,[e,i,t]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),t=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),G.isEmptyObject(t)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var t,n,i,o=this.options,r=this;return this._helper&&(i=(t=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:r.sizeDiff.height,n=t?0:r.sizeDiff.width,t={width:r.helper.width()-n,height:r.helper.height()-i},n=parseFloat(r.element.css("left"))+(r.position.left-r.originalPosition.left)||null,i=parseFloat(r.element.css("top"))+(r.position.top-r.originalPosition.top)||null,o.animate||this.element.css(G.extend(t,{top:i,left:n})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!o.animate&&this._proportionallyResize()),G("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i=this.options,o={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,e=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),e<o.maxHeight&&(o.maxHeight=e)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),n=/nw|ne|n/.test(n);return r&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),r&&u&&(e.left=a-t.minWidth),i&&u&&(e.left=a-t.maxWidth),s&&n&&(e.top=l-t.minHeight),o&&n&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(o[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||G("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return G.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return G.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return G.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return G.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){G.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),G.ui.plugin.add("resizable","animate",{stop:function(t){var n=G(this).resizable("instance"),e=n.options,i=n._proportionallyResizeElements,o=(s=i.length&&/textarea/i.test(i[0].nodeName))&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,r=s?0:n.sizeDiff.width,s={width:n.size.width-r,height:n.size.height-o},r=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,o=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(G.extend(s,o&&r?{top:o,left:r}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&G(i[0]).css({width:e.width,height:e.height}),n._updateCache(e),n._propagate("resize",t)}})}}),G.ui.plugin.add("resizable","containment",{start:function(){var n,i,o=G(this).resizable("instance"),e=o.options,t=o.element,r=e.containment,s=r instanceof G?r.get(0):/parent/.test(r)?t.parent().get(0):r;s&&(o.containerElement=G(s),/document/.test(r)||r===document?(o.containerOffset={left:0,top:0},o.containerPosition={left:0,top:0},o.parentData={element:G(document),left:0,top:0,width:G(document).width(),height:G(document).height()||document.body.parentNode.scrollHeight}):(n=G(s),i=[],G(["Top","Right","Left","Bottom"]).each(function(e,t){i[e]=o._num(n.css("padding"+t))}),o.containerOffset=n.offset(),o.containerPosition=n.position(),o.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},e=o.containerOffset,t=o.containerSize.height,r=o.containerSize.width,r=o._hasScroll(s,"left")?s.scrollWidth:r,t=o._hasScroll(s)?s.scrollHeight:t,o.parentData={element:s,left:e.left,top:e.top,width:r,height:t}))},resize:function(e){var t=G(this).resizable("instance"),n=t.options,i=t.containerOffset,o=t.position,r=t._aspectRatio||e.shiftKey,s={top:0,left:0},a=t.containerElement,e=!0;a[0]!==document&&/static/.test(a.css("position"))&&(s=i),o.left<(t._helper?i.left:0)&&(t.size.width=t.size.width+(t._helper?t.position.left-i.left:t.position.left-s.left),r&&(t.size.height=t.size.width/t.aspectRatio,e=!1),t.position.left=n.helper?i.left:0),o.top<(t._helper?i.top:0)&&(t.size.height=t.size.height+(t._helper?t.position.top-i.top:t.position.top),r&&(t.size.width=t.size.height*t.aspectRatio,e=!1),t.position.top=t._helper?i.top:0),n=t.containerElement.get(0)===t.element.parent().get(0),o=/relative|absolute/.test(t.containerElement.css("position")),n&&o?(t.offset.left=t.parentData.left+t.position.left,t.offset.top=t.parentData.top+t.position.top):(t.offset.left=t.element.offset().left,t.offset.top=t.element.offset().top),o=Math.abs(t.sizeDiff.width+(t._helper?t.offset.left-s.left:t.offset.left-i.left)),i=Math.abs(t.sizeDiff.height+(t._helper?t.offset.top-s.top:t.offset.top-i.top)),o+t.size.width>=t.parentData.width&&(t.size.width=t.parentData.width-o,r&&(t.size.height=t.size.width/t.aspectRatio,e=!1)),i+t.size.height>=t.parentData.height&&(t.size.height=t.parentData.height-i,r&&(t.size.width=t.size.height*t.aspectRatio,e=!1)),e||(t.position.left=t.prevPosition.left,t.position.top=t.prevPosition.top,t.size.width=t.prevSize.width,t.size.height=t.prevSize.height)},stop:function(){var e=G(this).resizable("instance"),t=e.options,n=e.containerOffset,i=e.containerPosition,o=e.containerElement,r=(a=G(e.helper)).offset(),s=a.outerWidth()-e.sizeDiff.width,a=a.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(o.css("position"))&&G(this).css({left:r.left-i.left-n.left,width:s,height:a}),e._helper&&!t.animate&&/static/.test(o.css("position"))&&G(this).css({left:r.left-i.left-n.left,width:s,height:a})}}),G.ui.plugin.add("resizable","alsoResize",{start:function(){var e=G(this).resizable("instance").options;G(e.alsoResize).each(function(){var e=G(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var t=G(this).resizable("instance"),i=t.options,o=t.originalSize,r=t.originalPosition,s={height:t.size.height-o.height||0,width:t.size.width-o.width||0,top:t.position.top-r.top||0,left:t.position.left-r.left||0};G(i.alsoResize).each(function(){var e=G(this),i=G(this).data("ui-resizable-alsoresize"),o={},t=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];G.each(t,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&0<=n&&(o[t]=n||null)}),e.css(o)})},stop:function(){G(this).removeData("ui-resizable-alsoresize")}}),G.ui.plugin.add("resizable","ghost",{start:function(){var e=G(this).resizable("instance"),t=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:t.height,width:t.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==G.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=G(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=G(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),G.ui.plugin.add("resizable","grid",{resize:function(){var e,t=G(this).resizable("instance"),n=t.options,i=t.size,o=t.originalSize,r=t.originalPosition,s=t.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,u=a[1]||1,c=Math.round((i.width-o.width)/l)*l,f=Math.round((i.height-o.height)/u)*u,d=o.width+c,h=o.height+f,p=n.maxWidth&&n.maxWidth<d,g=n.maxHeight&&n.maxHeight<h,m=n.minWidth&&n.minWidth>d,i=n.minHeight&&n.minHeight>h;n.grid=a,m&&(d+=l),i&&(h+=u),p&&(d-=l),g&&(h-=u),/^(se|s|e)$/.test(s)?(t.size.width=d,t.size.height=h):/^(ne)$/.test(s)?(t.size.width=d,t.size.height=h,t.position.top=r.top-f):/^(sw)$/.test(s)?(t.size.width=d,t.size.height=h,t.position.left=r.left-c):((h-u<=0||d-l<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),0<h-u?(t.size.height=h,t.position.top=r.top-f):(h=u-e.height,t.size.height=h,t.position.top=r.top+o.height-h),0<d-l?(t.size.width=d,t.position.left=r.left-c):(d=l-e.width,t.size.width=d,t.position.left=r.left+o.width-d))}}),G.ui.resizable,G.widget("ui.dialog",{version:"1.13.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=G(this).css(e).offset().top;t<0&&G(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&G.fn.draggable&&this._makeDraggable(),this.options.resizable&&G.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?G(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:G.noop,enable:G.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||G.ui.safeBlur(G.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+G(this).css("z-index")}).get();return(i=Math.max.apply(null,i))>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",i+1),n=!0),n&&!t&&this._trigger("focus",e),n},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=G(G.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;(e=(e=(e=(e=(e=e||this.element.find("[autofocus]")).length?e:this.element.find(":tabbable")).length?e:this.uiDialogButtonPane.find(":tabbable")).length?e:this.uiDialogTitlebarClose.filter(":tabbable")).length?e:this.uiDialog).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=G.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||G.contains(this.uiDialog[0],e)||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=G("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===G.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);var t,n,i;e.keyCode!==G.ui.keyCode.TAB||e.isDefaultPrevented()||(t=this.uiDialog.find(":tabbable"),n=t.first(),i=t.last(),e.target!==i[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){i.trigger("focus")}),e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault()))},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=G("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){G(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=G("<button type='button'></button>").button({label:G("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=G("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=G("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=G("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var i=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),G.isEmptyObject(e)||Array.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(G.each(e,function(e,t){var n;t=G.extend({type:"button"},t="function"==typeof t?{click:t,text:e}:t),n=t.click,e={icon:t.icon,iconPosition:t.iconPosition,showLabel:t.showLabel,icons:t.icons,text:t.text},delete t.click,delete t.icon,delete t.iconPosition,delete t.showLabel,delete t.icons,"boolean"==typeof t.text&&delete t.text,G("<button></button>",t).button(e).appendTo(i.uiButtonSet).on("click",function(){n.apply(i.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var o=this,r=this.options;function s(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){o._addClass(G(this),"ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",e,s(t))},drag:function(e,t){o._trigger("drag",e,s(t))},stop:function(e,t){var n=t.offset.left-o.document.scrollLeft(),i=t.offset.top-o.document.scrollTop();r.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:o.window},o._removeClass(G(this),"ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",e,s(t))}})},_makeResizable:function(){var o=this,r=this.options,e=r.resizable,t=this.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:e,start:function(e,t){o._addClass(G(this),"ui-dialog-resizing"),o._blockFrames(),o._trigger("resizeStart",e,s(t))},resize:function(e,t){o._trigger("resize",e,s(t))},stop:function(e,t){var n=(i=o.uiDialog.offset()).left-o.document.scrollLeft(),i=i.top-o.document.scrollTop();r.height=o.uiDialog.height(),r.width=o.uiDialog.width(),r.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:o.window},o._removeClass(G(this),"ui-dialog-resizing"),o._unblockFrames(),o._trigger("resizeStop",e,s(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=G(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=G.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||this.document.data("ui-dialog-instances",e=[]),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,o={};G.each(e,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(o[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var n,i=this.uiDialog;"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:G("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((n=i.is(":data(ui-draggable)"))&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=i.is(":data(ui-resizable)"))&&!t&&i.resizable("destroy"),n&&"string"==typeof t&&i.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=G(this);return G("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!G(e.target).closest(".ui-dialog").length||!!G(e.target).closest(".ui-datepicker").length},_createOverlay:function(){var n,i;this.options.modal&&(n=G.fn.jquery.substring(0,4),i=!0,this._delay(function(){i=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(e){var t;i||(t=this._trackingInstances()[0])._allowInteraction(e)||(e.preventDefault(),t._focusTabbable(),"3.4."!==n&&"3.5."!==n||t._delay(t._restoreTabbableFocus))}.bind(this)),this.overlay=G("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var e;this.options.modal&&this.overlay&&((e=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==G.uiBackCompat&&G.widget("ui.dialog",G.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),G.ui.dialog,G.widget("ui.droppable",{version:"1.13.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof n?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return e=e||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){G.ui.ddmanager.droppables[e]=G.ui.ddmanager.droppables[e]||[],G.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=G.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,t){var n;"accept"===e?this.accept="function"==typeof t?t:function(e){return e.is(t)}:"scope"===e&&(n=G.ui.ddmanager.droppables[this.options.scope],this._splice(n),this._addToManager(t)),this._super(e,t)},_activate:function(e){var t=G.ui.ddmanager.current;this._addActiveClass(),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=G.ui.ddmanager.current;this._removeActiveClass(),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=G.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=G.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var n=e||G.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=G(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&G.ui.intersect(n,G.extend(e,{offset:e.element.offset()}),e.options.tolerance,t))return!(i=!0)}),!i&&!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(n)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),G.ui.intersect=function(e,t,n,i){if(!t.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,r=(e.positionAbs||e.position.absolute).top+e.margins.top,s=o+e.helperProportions.width,a=r+e.helperProportions.height,l=t.offset.left,u=t.offset.top,c=l+t.proportions().width,f=u+t.proportions().height;switch(n){case"fit":return l<=o&&s<=c&&u<=r&&a<=f;case"intersect":return l<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<c&&u<r+e.helperProportions.height/2&&a-e.helperProportions.height/2<f;case"pointer":return ce(i.pageY,u,t.proportions().height)&&ce(i.pageX,l,t.proportions().width);case"touch":return(u<=r&&r<=f||u<=a&&a<=f||r<u&&f<a)&&(l<=o&&o<=c||l<=s&&s<=c||o<l&&c<s);default:return!1}},!(G.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n,i,o=G.ui.ddmanager.droppables[e.options.scope]||[],r=t?t.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(i=0;i<s.length;i++)if(s[i]===o[n].element[0]){o[n].proportions().height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===r&&o[n]._activate.call(o[n],t),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(e,t){var n=!1;return G.each((G.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&G.ui.intersect(e,this,this.options.tolerance,t)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||G.ui.ddmanager.prepareOffsets(e,t)})},drag:function(o,r){o.options.refreshPositions&&G.ui.ddmanager.prepareOffsets(o,r),G.each(G.ui.ddmanager.droppables[o.options.scope]||[],function(){var e,t,n,i;this.options.disabled||this.greedyChild||!this.visible||(i=!(n=G.ui.intersect(o,this,this.options.tolerance,r))&&this.isover?"isout":n&&!this.isover?"isover":null)&&(this.options.greedy&&(t=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return G(this).droppable("instance").options.scope===t})).length&&((e=G(n[0]).droppable("instance")).greedyChild="isover"===i)),e&&"isover"===i&&(e.isover=!1,e.isout=!0,e._out.call(e,r)),this[i]=!0,this["isout"===i?"isover":"isout"]=!1,this["isover"===i?"_over":"_out"].call(this,r),e&&"isout"===i&&(e.isout=!1,e.isover=!0,e._over.call(e,r)))})},dragStop:function(e,t){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||G.ui.ddmanager.prepareOffsets(e,t)}})!==G.uiBackCompat&&G.widget("ui.droppable",G.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),G.ui.droppable,G.widget("ui.progressbar",{version:"1.13.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=G("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(t.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=G("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),G.widget("ui.selectable",G.ui.mouse,{version:"1.13.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var n=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){n.elementPos=G(n.element[0]).offset(),n.selectees=G(n.options.filter,n.element[0]),n._addClass(n.selectees,"ui-selectee"),n.selectees.each(function(){var e=G(this),t={left:(t=e.offset()).left-n.elementPos.left,top:t.top-n.elementPos.top};G.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=G("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(n){var i=this,e=this.options;this.opos=[n.pageX,n.pageY],this.elementPos=G(this.element[0]).offset(),this.options.disabled||(this.selectees=G(e.filter,this.element[0]),this._trigger("start",n),G(e.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=G.data(this,"selectable-item");e.startselected=!0,n.metaKey||n.ctrlKey||(i._removeClass(e.$element,"ui-selected"),e.selected=!1,i._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element}))}),G(n.target).parents().addBack().each(function(){var e,t=G.data(this,"selectable-item");if(t)return e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected"),i._removeClass(t.$element,e?"ui-unselecting":"ui-selected")._addClass(t.$element,e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?i._trigger("selecting",n,{selecting:t.element}):i._trigger("unselecting",n,{unselecting:t.element}),!1}))},_mouseDrag:function(i){var e,o,r,s,a,l,u;if(this.dragged=!0,!this.options.disabled)return r=(o=this).options,s=this.opos[0],a=this.opos[1],l=i.pageX,u=i.pageY,l<s&&(e=l,l=s,s=e),u<a&&(e=u,u=a,a=e),this.helper.css({left:s,top:a,width:l-s,height:u-a}),this.selectees.each(function(){var e=G.data(this,"selectable-item"),t=!1,n={};e&&e.element!==o.element[0]&&(n.left=e.left+o.elementPos.left,n.right=e.right+o.elementPos.left,n.top=e.top+o.elementPos.top,n.bottom=e.bottom+o.elementPos.top,"touch"===r.tolerance?t=!(n.left>l||n.right<s||n.top>u||n.bottom<a):"fit"===r.tolerance&&(t=n.left>s&&n.right<l&&n.top>a&&n.bottom<u),t?(e.selected&&(o._removeClass(e.$element,"ui-selected"),e.selected=!1),e.unselecting&&(o._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1),e.selecting||(o._addClass(e.$element,"ui-selecting"),e.selecting=!0,o._trigger("selecting",i,{selecting:e.element}))):(e.selecting&&((i.metaKey||i.ctrlKey)&&e.startselected?(o._removeClass(e.$element,"ui-selecting"),e.selecting=!1,o._addClass(e.$element,"ui-selected"),e.selected=!0):(o._removeClass(e.$element,"ui-selecting"),e.selecting=!1,e.startselected&&(o._addClass(e.$element,"ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",i,{unselecting:e.element}))),!e.selected||i.metaKey||i.ctrlKey||e.startselected||(o._removeClass(e.$element,"ui-selected"),e.selected=!1,o._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",i,{unselecting:e.element}))))}),!1},_mouseStop:function(t){var n=this;return this.dragged=!1,G(".ui-unselecting",this.element[0]).each(function(){var e=G.data(this,"selectable-item");n._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1,e.startselected=!1,n._trigger("unselected",t,{unselected:e.element})}),G(".ui-selecting",this.element[0]).each(function(){var e=G.data(this,"selectable-item");n._removeClass(e.$element,"ui-selecting")._addClass(e.$element,"ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,n._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),G.widget("ui.selectmenu",[G.ui.formResetMixin,{version:"1.13.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=G()},_drawButton:function(){var e,t=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.trigger("focus"),e.preventDefault()}}),this.element.hide(),this.button=G("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=G("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t._rendered||t._refreshMenu()})},_drawMenu:function(){var n=this;this.menu=G("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=G("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,t){e.preventDefault(),n._setSelection(),n._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){t=t.item.data("ui-selectmenu-item"),null!=n.focusIndex&&t.index!==n.focusIndex&&(n._trigger("focus",e,{item:t}),n.isOpen||n._select(t,e)),n.focusIndex=t.index,n.button.attr("aria-activedescendant",n.menuItems.eq(t.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(G.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var t=G("<span>");return this._setText(t,e.label),this._addClass(t,"ui-selectmenu-text"),t},_renderMenu:function(i,e){var o=this,r="";G.each(e,function(e,t){var n;t.optgroup!==r&&(n=G("<li>",{text:t.optgroup}),o._addClass(n,"ui-selectmenu-optgroup","ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),n.appendTo(i),r=t.optgroup),o._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var n=G("<li>"),i=G("<div>",{title:t.element.attr("title")});return t.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(i,t.label),n.append(i).appendTo(e)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),i+=":not(.ui-state-disabled)"),(i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](i).eq(-1):n[e+"All"](i).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){!this.isOpen||G(e.target).closest(".ui-selectmenu-menu, #"+G.escapeSelector(this.ids.button)).length||this.close(e)}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var t=!0;switch(e.keyCode){case G.ui.keyCode.TAB:case G.ui.keyCode.ESCAPE:this.close(e),t=!1;break;case G.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case G.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case G.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case G.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case G.ui.keyCode.LEFT:this._move("prev",e);break;case G.ui.keyCode.RIGHT:this._move("next",e);break;case G.ui.keyCode.HOME:case G.ui.keyCode.PAGE_UP:this._move("first",e);break;case G.ui.keyCode.END:case G.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),t=!1}t&&e.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){e=this.menuItems.eq(e.index).attr("id"),this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(e,t){var n;"icons"===e&&(n=this.button.find("span.ui-icon"),this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return(e=(e=e&&(e.jquery||e.nodeType?G(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front, dialog")).length?e:this.document[0].body},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var n=this,i=[];e.each(function(e,t){t.hidden||i.push(n._parseOption(G(t),e))}),this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),G.widget("ui.slider",G.ui.mouse,{version:"1.13.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t=this.options,n=this.element.find(".ui-slider-handle"),i=[],o=t.values&&t.values.length||1;for(n.length>o&&(n.slice(o).remove(),n=n.slice(0,o)),e=n.length;e<o;e++)i.push("<span tabindex='0'></span>");this.handles=n.add(G(i.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){G(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=G("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,o,r,t,s,a=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(s),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(n-a.values(e));(t<i||i===t&&(e===a._lastChangedValue||a.values(e)===l.min))&&(i=t,o=G(this),r=e)}),!1!==this._start(e,r)&&(this._mouseSliding=!0,this._handleIndex=r,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),t=o.offset(),s=!G(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-t.left-o.width()/2,top:e.pageY-t.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,r,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},t=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t;return(e=1<(e=(e="horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/t)?1:e)<0&&(e=0),"vertical"===this.orientation&&(e=1-e),t=this._valueMax()-this._valueMin(),t=this._valueMin()+e*t,this._trimAlignValue(t)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,o=this.value(),r=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),o=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(i,n):Math.max(i,n)),r[t]=n),n!==o&&!1!==this._trigger("slide",e,this._uiHash(t,n,r))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var n,i,o;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!Array.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,i=e,o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,t){var n,i=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(i=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=i-1;0<=n;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,n;if(arguments.length)return e=this.options.values[e],this._trimAlignValue(e);if(this._hasMultipleValues()){for(t=this.options.values.slice(),n=0;n<t.length;n+=1)t[n]=this._trimAlignValue(t[n]);return t}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,n=(e-this._valueMin())%t,e=e-n;return 2*Math.abs(n)>=t&&(e+=0<n?t:-t),parseFloat(e.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var t=e.toString();return-1===(e=t.indexOf("."))?0:t.length-e-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,e,i,o,r=this.options.range,s=this.options,a=this,l=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each(function(e){n=(a.values(e)-a._valueMin())/(a._valueMax()-a._valueMin())*100,u["horizontal"===a.orientation?"left":"bottom"]=n+"%",G(this).stop(1,1)[l?"animate":"css"](u,s.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===e&&a.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===e&&a.range[l?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===e&&a.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===e&&a.range[l?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(e=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(e-i)/(o-i)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](u,s.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},s.animate),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var t,n,i,o=G(e.target).data("ui-slider-handle-index");switch(e.keyCode){case G.ui.keyCode.HOME:case G.ui.keyCode.END:case G.ui.keyCode.PAGE_UP:case G.ui.keyCode.PAGE_DOWN:case G.ui.keyCode.UP:case G.ui.keyCode.RIGHT:case G.ui.keyCode.DOWN:case G.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(G(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(i=this.options.step,t=n=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case G.ui.keyCode.HOME:n=this._valueMin();break;case G.ui.keyCode.END:n=this._valueMax();break;case G.ui.keyCode.PAGE_UP:n=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case G.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case G.ui.keyCode.UP:case G.ui.keyCode.RIGHT:if(t===this._valueMax())return;n=this._trimAlignValue(t+i);break;case G.ui.keyCode.DOWN:case G.ui.keyCode.LEFT:if(t===this._valueMin())return;n=this._trimAlignValue(t-i)}this._slide(e,o,n)},keyup:function(e){var t=G(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),this._removeClass(G(e.target),null,"ui-state-active"))}}}),G.widget("ui.sortable",G.ui.mouse,{version:"1.13.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return t<=e&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),G.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var n=null,i=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),G(e.target).parents().each(function(){if(G.data(this,o.widgetName+"-item")===o)return n=G(this),!1}),!(n=G.data(e.target,o.widgetName+"-item")===o?G(e.target):n)||this.options.handle&&!t&&(G(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(i=!0)}),!i)||(this.currentItem=n,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,t,n){var i,o,r=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=G("parent"!==r.appendTo?r.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},G.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),G.extend(this.offset,{parent:this._getParentOffset()}),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=G("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));return G.ui.ddmanager&&(G.ui.ddmanager.current=this),G.ui.ddmanager&&!r.dropBehaviour&&G.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var t=this.options,n=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+t.scrollSpeed:e.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+t.scrollSpeed:e.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(e.pageY-this.document.scrollTop()<t.scrollSensitivity?n=this.document.scrollTop(this.document.scrollTop()-t.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<t.scrollSensitivity&&(n=this.document.scrollTop(this.document.scrollTop()+t.scrollSpeed)),e.pageX-this.document.scrollLeft()<t.scrollSensitivity?n=this.document.scrollLeft(this.document.scrollLeft()-t.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<t.scrollSensitivity&&(n=this.document.scrollLeft(this.document.scrollLeft()+t.scrollSpeed))),n},_mouseDrag:function(e){var t,n,i,o,r=this.options;if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),this._contactContainers(e),null!==this.innermostContainer)for(r.scroll&&!1!==this._scroll(e)&&(this._refreshItemPositions(!0),G.ui.ddmanager&&!r.dropBehaviour&&G.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},t=this.items.length-1;0<=t;t--)if(i=(n=this.items[t]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||G.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&G.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return G.ui.ddmanager&&G.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){var n,i,o,r;if(e)return G.ui.ddmanager&&!this.options.dropBehaviour&&G.ui.ddmanager.drop(this,e),this.options.revert?(i=(n=this).placeholder.offset(),r={},(o=this.options.axis)&&"x"!==o||(r.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,G(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(e)})):this._clear(e,t),!1},cancel:function(){if(this.dragging){this._mouseUp(new G.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),G.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?G(this.domPosition.prev).after(this.currentItem):G(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},G(e).each(function(){var e=(G(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t.each(function(){n.push(G(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=e.left,s=r+e.width,a=e.top,l=a+e.height,u=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||a<i+u&&i+u<l,c="y"===this.options.axis||r<t+c&&t+c<s;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u&&c:r<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),e="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!t||!e)&&(t=this.dragDirection.vertical,e=this.dragDirection.horizontal,this.floating?"right"===e||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this.dragDirection.vertical,e=this.dragDirection.horizontal;return this.floating&&e?"right"===e&&n||"left"===e&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,n,i,o,r=[],s=[],a=this._connectWith();if(a&&e)for(t=a.length-1;0<=t;t--)for(n=(i=G(a[t],this.document[0])).length-1;0<=n;n--)(o=G.data(i[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push(["function"==typeof o.options.items?o.options.items.call(o.element):G(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){r.push(this)}for(s.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):G(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=s.length-1;0<=t;t--)s[t][0].each(l);return G(r)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=G.grep(this.items,function(e){for(var t=0;t<n.length;t++)if(n[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,n,i,o,r,s,a,l,u=this.items,c=[["function"==typeof this.options.items?this.options.items.call(this.element[0],e,{item:this.currentItem}):G(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(t=f.length-1;0<=t;t--)for(n=(i=G(f[t],this.document[0])).length-1;0<=n;n--)(o=G.data(i[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(c.push(["function"==typeof o.options.items?o.options.items.call(o.element[0],e,{item:this.currentItem}):G(o.options.items,o.element),o]),this.containers.push(o));for(t=c.length-1;0<=t;t--)for(r=c[t][1],l=(s=c[t][n=0]).length;n<l;n++)(a=G(s[n])).data(this.widgetName+"-item",r),u.push({item:a,instance:r,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){for(var t,n,i=this.items.length-1;0<=i;i--)t=this.items[i],this.currentContainer&&t.instance!==this.currentContainer&&t.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?G(this.options.toleranceElement,t.item):t.item,e||(t.width=n.outerWidth(),t.height=n.outerHeight()),n=n.offset(),t.left=n.left,t.top=n.top)},refreshPositions:function(e){var t,n;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),null!==this.innermostContainer&&this._refreshItemPositions(e),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)n=this.containers[t].element.offset(),this.containers[t].containerCache.left=n.left,this.containers[t].containerCache.top=n.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(n){var i,o,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,o=n.currentItem[0].nodeName.toLowerCase(),r.placeholder={element:function(){var e=G("<"+o+">",n.document[0]);return n._addClass(e,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===o?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),G("<tr>",n.document[0]).appendTo(e)):"tr"===o?n._createTrPlaceholder(n.currentItem,e):"img"===o&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(e,t){i&&!r.forcePlaceholderSize||(t.height()&&(!r.forcePlaceholderSize||"tbody"!==o&&"tr"!==o)||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=G(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(e,t){var n=this;e.children().each(function(){G("<td>&#160;</td>",n.document[0]).attr("colspan",G(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){for(var t,n,i,o,r,s,a,l,u,c=null,f=null,d=this.containers.length-1;0<=d;d--)G.contains(this.currentItem[0],this.containers[d].element[0])||(this._intersectsWith(this.containers[d].containerCache)?c&&G.contains(this.containers[d].element[0],c.element[0])||(c=this.containers[d],f=d):this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",e,this._uiHash(this)),this.containers[d].containerCache.over=0));if(this.innermostContainer=c)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(n=1e4,i=null,o=(l=c.floating||this._isFloating(this.currentItem))?"left":"top",r=l?"width":"height",u=l?"pageX":"pageY",t=this.items.length-1;0<=t;t--)G.contains(this.containers[f].element[0],this.items[t].item[0])&&this.items[t].item[0]!==this.currentItem[0]&&(s=this.items[t].item.offset()[o],a=!1,e[u]-s>this.items[t][r]/2&&(a=!0),Math.abs(e[u]-s)<n&&(n=Math.abs(e[u]-s),i=this.items[t],this.direction=a?"up":"down"));(i||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[f]?(i?this._rearrange(e,i,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(e){var t=this.options;return(e="function"==typeof t.helper?G(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem).parents("body").length||this.appendTo[0].appendChild(e[0]),e[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),e[0].style.width&&!t.forceHelperSize||e.width(this.currentItem.width()),e[0].style.height&&!t.forceHelperSize||e.height(this.currentItem.height()),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&G.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&G.ui.ie?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=G(n.containment)[0],t=G(n.containment).offset(),n="hidden"!==G(e).css("overflow"),this.containment=[t.left+(parseInt(G(e).css("borderLeftWidth"),10)||0)+(parseInt(G(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(G(e).css("borderTopWidth"),10)||0)+(parseInt(G(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(G(e).css("borderLeftWidth"),10)||0)-(parseInt(G(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(G(e).css("borderTopWidth"),10)||0)-(parseInt(G(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t=t||this.position;var n="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&G.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:i.scrollTop())*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:i.scrollLeft())*n}},_generatePosition:function(e){var t=this.options,n=e.pageX,i=e.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&G.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(i=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(i=this.containment[3]+this.offset.click.top)),t.grid&&(e=this.originalPageY+Math.round((i-this.originalPageY)/t.grid[1])*t.grid[1],i=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-t.grid[1]:e+t.grid[1],e=this.originalPageX+Math.round((n-this.originalPageX)/t.grid[0])*t.grid[0],n=!this.containment||e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-t.grid[0]:e+t.grid[0])),{top:i-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function o(t,n,i){return function(e){i._trigger(t,e,n._uiHash(n))}}for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this===this.currentContainer||t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))),n=this.containers.length-1;0<=n;n--)t||i.push(o("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(o("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===G.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||G([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}}),G.widget("ui.spinner",{version:"1.13.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i=this._super(),o=this.element;return G.each(["min","max","step"],function(e,t){var n=o.attr(t);null!=n&&n.length&&(i[t]=n)}),i},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){var n=G.ui.safeActiveElement(this.document[0]);if(this.element[0]===n&&t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var t;function n(){this.element[0]!==G.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=t,this._delay(function(){this.previous=t}))}t=this.element[0]===G.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,G(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(G(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,G(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var t=this.options,n=G.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,t.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?"function"==typeof t?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var t=e.toString();return-1===(e=t.indexOf("."))?0:t.length-e-1},_adjustValue:function(e){var t=this.options,n=null!==t.min?t.min:0;return e=n+Math.round((e-n)/t.step)*t.step,e=parseFloat(e.toFixed(this._precision())),null!==t.max&&e>t.max?t.max:null!==t.min&&e<t.min?t.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var n;if("culture"===e||"numberFormat"===e)return n=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(n));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,t.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:O(function(e){this._super(e)}),_parse:function(e){return""===(e="string"==typeof e&&""!==e?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e:e)||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:O(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:O(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:O(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:O(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());O(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==G.uiBackCompat&&G.widget("ui.spinner",G.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),G.ui.spinner,G.widget("ui.tabs",{version:"1.13.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(N=/#.*$/,function(e){var t=e.href.replace(N,""),n=location.href.replace(N,"");try{t=decodeURIComponent(t)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return 1<e.hash.length&&t===n}),_create:function(){var t=this,e=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,e.collapsible),this._processTabs(),e.active=this._initialActive(),Array.isArray(e.disabled)&&(e.disabled=G.uniqueSort(e.disabled.concat(G.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=G(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var n=this.options.active,e=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(e,t){if(G(t).attr("aria-controls")===i)return n=e,!1}),null!==(n=null===n?this.tabs.index(this.tabs.filter(".ui-tabs-active")):n)&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!e&&0),n=!e&&!1===n&&this.anchors.length?0:n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):G()}},_tabKeydown:function(e){var t=G(G.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(t),i=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case G.ui.keyCode.RIGHT:case G.ui.keyCode.DOWN:n++;break;case G.ui.keyCode.UP:case G.ui.keyCode.LEFT:i=!1,n--;break;case G.ui.keyCode.END:n=this.anchors.length-1;break;case G.ui.keyCode.HOME:n=0;break;case G.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case G.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===G.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===G.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===G.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){for(var n=this.tabs.length-1;-1!==G.inArray(e=(e=n<e?0:e)<0?n:e,this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=G.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!G.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=G()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=G()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){G(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){G(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return G("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=G(),this.anchors.each(function(e,t){var n,i,o,r=G(t).uniqueId().attr("id"),s=G(t).closest("li"),a=s.attr("aria-controls");l._isLocal(t)?(o=(n=t.hash).substring(1),i=l.element.find(l._sanitizeSelector(n))):(o=s.attr("aria-controls")||G({}).uniqueId()[0].id,(i=l.element.find(n="#"+o)).length||(i=l._createPanel(o)).insertAfter(l.panels[e-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),a&&s.data("ui-tabs-aria-controls",a),s.attr({"aria-controls":o,"aria-labelledby":r}),i.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return G("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var t,n;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;t=this.tabs[n];n++)t=G(t),!0===e||-1!==G.inArray(n,e)?(t.attr("aria-disabled","true"),this._addClass(t,null,"ui-state-disabled")):(t.removeAttr("aria-disabled"),this._removeClass(t,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&G.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,t=this.element.parent();"fill"===e?(n=t.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=G(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=G(this).outerHeight(!0)}),this.panels.each(function(){G(this).height(Math.max(0,n-G(this).innerHeight()+G(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,G(this).height("").height())}).height(n))},_eventHandler:function(e){var t=this.options,n=this.active,i=G(e.currentTarget).closest("li"),o=i[0]===n[0],r=o&&t.collapsible,s=r?G():this._getPanelForTab(i),a=n.length?this._getPanelForTab(n):G(),n={oldTab:n,oldPanel:a,newTab:r?G():i,newPanel:s};e.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||o&&!t.collapsible||!1===this._trigger("beforeActivate",e,n)||(t.active=!r&&this.tabs.index(i),this.active=o?G():i,this.xhr&&this.xhr.abort(),a.length||s.length||G.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),e),this._toggle(e,n))},_toggle:function(e,t){var n=this,i=t.newPanel,o=t.oldPanel;function r(){n.running=!1,n._trigger("activate",e,t)}function s(){n._addClass(t.newTab.closest("li"),"ui-tabs-active","ui-state-active"),i.length&&n.options.show?n._show(i,n.options.show,r):(i.show(),r())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){n._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),s()),o.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&o.length?t.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return 0===G(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){(e=this._findActive(e))[0]!==this.active[0]&&(e=(e=e.length?e:this.active).find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:G.noop}))},_findActive:function(e){return!1===e?G():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e?this.anchors.index(this.anchors.filter("[href$='"+G.escapeSelector(e)+"']")):e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){G.data(this,"ui-tabs-destroy")?G(this).remove():G(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=G(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var e=this.options.disabled;!1!==e&&(e=void 0!==n&&(n=this._getIndex(n),Array.isArray(e)?G.map(e,function(e){return e!==n?e:null}):G.map(this.tabs,function(e,t){return t!==n?t:null})),this._setOptionDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(void 0===e)t=!0;else{if(e=this._getIndex(e),-1!==G.inArray(e,t))return;t=Array.isArray(t)?G.merge([e],t).sort():[e]}this._setOptionDisabled(t)}},load:function(e,i){function o(e,t){"abort"===t&&r.panels.stop(!1,!0),r._removeClass(n,"ui-tabs-loading"),s.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr}e=this._getIndex(e);var r=this,n=this.tabs.eq(e),e=n.find(".ui-tabs-anchor"),s=this._getPanelForTab(n),a={tab:n,panel:s};this._isLocal(e[0])||(this.xhr=G.ajax(this._ajaxSettings(e,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){s.html(e),r._trigger("load",i,a),o(n,t)},1)}).fail(function(e,t){setTimeout(function(){o(e,t)},1)})))},_ajaxSettings:function(e,n,i){var o=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,t){return o._trigger("beforeLoad",n,G.extend({jqXHR:e,ajaxSettings:t},i))}}},_getPanelForTab:function(e){return e=G(e).attr("aria-controls"),this.element.find(this._sanitizeSelector("#"+e))}}),!1!==G.uiBackCompat&&G.widget("ui.tabs",G.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),G.ui.tabs,G.widget("ui.tooltip",{version:"1.13.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=G(this).attr("title");return G("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",String.prototype.trim.call(n.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/);-1!==(t=G.inArray(t,n))&&n.splice(t,1),e.removeData("ui-tooltip-id"),(n=String.prototype.trim.call(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=G("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=G([])},_setOption:function(e,t){var n=this;this._super(e,t),"content"===e&&G.each(this.tooltips,function(e,t){n._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var i=this;G.each(this.tooltips,function(e,t){var n=G.Event("blur");n.target=n.currentTarget=t.element[0],i.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=G(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=G(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=G([])},open:function(e){var n=this,t=G(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=G(this);t.data("ui-tooltip-open")&&((e=G.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),t.attr("title")&&(t.uniqueId(),n.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,n){var e=this.options.content,i=this,o=n?n.type:null;if("string"==typeof e||e.nodeType||e.jquery)return this._open(n,t,e);(e=e.call(t[0],function(e){i._delay(function(){t.data("ui-tooltip-open")&&(n&&(n.type=o),this._open(n,t,e))})}))&&this._open(n,t,e)},_open:function(e,t,n){var i,o,r,s=G.extend({},this.options.position);function a(e){s.of=e,o.is(":hidden")||o.position(s)}n&&((i=this._find(t))?i.tooltip.find(".ui-tooltip-content").html(n):(t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),i=this._tooltip(t),o=i.tooltip,this._addDescribedBy(t,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(n=G("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),n.removeAttr("id").find("[id]").removeAttr("id"),n.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:a}),a(e)):o.position(G.extend({of:t},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(a(s.of),clearInterval(r))},13)),this._trigger("open",e,{tooltip:o})))},_registerCloseHandlers:function(e,t){var n={keyup:function(e){e.keyCode===G.ui.keyCode.ESCAPE&&((e=G.Event(e)).currentTarget=t[0],this.close(e,!0))}};t[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(t).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,t,n)},close:function(e){var t,n=this,i=G(e?e.currentTarget:this.element),o=this._find(i);o?(t=o.tooltip,o.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),o.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){n._removeTooltip(G(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&G.each(this.parents,function(e,t){G(t.element).attr("title",t.title),delete n.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:t}),o.hiding||(o.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(e){var t=G("<div>").attr("role","tooltip"),n=G("<div>").appendTo(t),i=t.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(t,"ui-tooltip","ui-widget ui-widget-content"),t.appendTo(this._appendTo(e)),this.tooltips[i]={element:e,tooltip:t}},_find:function(e){return(e=e.data("ui-tooltip-id"))?this.tooltips[e]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){return(e=e.closest(".ui-front, dialog")).length?e:this.document[0].body},_destroy:function(){var i=this;G.each(this.tooltips,function(e,t){var n=G.Event("blur"),t=t.element;n.target=n.currentTarget=t[0],i.close(n,!0),G("#"+e).remove(),t.data("ui-tooltip-title")&&(t.attr("title")||t.attr("title",t.data("ui-tooltip-title")),t.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==G.uiBackCompat&&G.widget("ui.tooltip",G.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),G.ui.tooltip}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var z;function h(){return z.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function F(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function P(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(f(e,t))return;return 1}function a(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function R(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function U(e,t){for(var n=[],i=0;i<e.length;++i)n.push(t(e[i],i));return n}function B(e,t){for(var n in t)f(t,n)&&(e[n]=t[n]);return f(t,"toString")&&(e.toString=t.toString),f(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return St(e,t,n,i,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function Y(e){if(null==e._isValid){var t=p(e),n=W.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function H(e){var t=u(NaN);return null!=e?B(p(t),e):p(t).userInvalidated=!0,t}var W=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1},Q=h.momentProperties=[],V=!1;function G(e,t){var n,i,o;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=p(t)),a(t._locale)||(e._locale=t._locale),0<Q.length)for(n=0;n<Q.length;n++)a(o=t[i=Q[n]])||(e[i]=o);return e}function q(e){G(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===V&&(V=!0,h.updateOffset(this),V=!1)}function c(e){return e instanceof q||null!=e&&null!=e._isAMomentObject}function Z(e){!1===h.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(o,r){var s=!0;return B(function(){if(null!=h.deprecationHandler&&h.deprecationHandler(null,o),s){for(var e,t,n=[],i=0;i<arguments.length;i++){if(e="","object"==typeof arguments[i]){for(t in e+="\n["+i+"] ",arguments[0])f(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[i];n.push(e)}Z(o+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),s=!1}return r.apply(this,arguments)},r)}var K={};function J(e,t){null!=h.deprecationHandler&&h.deprecationHandler(e,t),K[e]||(Z(t),K[e]=!0)}function d(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function X(e,t){var n,i=B({},e);for(n in t)f(t,n)&&(F(e[n])&&F(t[n])?(i[n]={},B(i[n],e[n]),B(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)f(e,n)&&!f(t,n)&&F(e[n])&&(i[n]=B({},i[n]));return i}function $(e){null!=e&&this.set(e)}h.suppressDeprecationWarnings=!1,h.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)f(e,t)&&n.push(t);return n};function r(e,t,n){var i=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}var te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ie={},oe={};function i(e,t,n,i){var o="string"==typeof i?function(){return this[i]()}:i;e&&(oe[e]=o),t&&(oe[t[0]]=function(){return r(o.apply(this,arguments),t[1],t[2])}),n&&(oe[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function re(e,t){return e.isValid()?(t=se(t,e.localeData()),ie[t]=ie[t]||function(i){for(var e,o=i.match(te),t=0,r=o.length;t<r;t++)oe[o[t]]?o[t]=oe[o[t]]:o[t]=(e=o[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<r;n++)t+=d(o[n])?o[n].call(e,i):o[n];return t}}(t),ie[t](e)):e.localeData().invalidDate()}function se(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(ne.lastIndex=0;0<=n&&ne.test(e);)e=e.replace(ne,i),ne.lastIndex=0,--n;return e}var ae={};function t(e,t){var n=e.toLowerCase();ae[n]=ae[n+"s"]=ae[t]=e}function g(e){return"string"==typeof e?ae[e]||ae[e.toLowerCase()]:void 0}function le(e){var t,n,i={};for(n in e)f(e,n)&&(t=g(n))&&(i[t]=e[n]);return i}var ue={};function n(e,t){ue[e]=t}function ce(e){return e%4==0&&e%100!=0||e%400==0}function m(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?m(e):t}function fe(t,n){return function(e){return null!=e?(he(this,t,e),h.updateOffset(this,n),this):de(this,t)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ce(e.year())&&1===e.month()&&29===e.date()?(n=v(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),je(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var o=/\d/,y=/\d\d/,pe=/\d{3}/,ge=/\d{4}/,me=/[+-]?\d{6}/,D=/\d\d?/,ve=/\d\d\d\d?/,ye=/\d\d\d\d\d\d?/,De=/\d{1,3}/,_e=/\d{1,4}/,be=/[+-]?\d{1,6}/,Ce=/\d+/,Me=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function b(e,n,i){ke[e]=d(n)?n:function(e,t){return e&&i?i:n}}function Ie(e,t){return f(ke,e)?ke[e](t._strict,t._locale):new RegExp(C(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o})))}function C(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ke={},Te={};function M(e,n){var t,i=n;for("string"==typeof e&&(e=[e]),l(n)&&(i=function(e,t){t[n]=v(e)}),t=0;t<e.length;t++)Te[e[t]]=i}function xe(e,o){M(e,function(e,t,n,i){n._w=n._w||{},o(e,n._w,n,i)})}var w,A=0,I=1,k=2,T=3,x=4,E=5,Ee=6,Se=7,Ne=8;function je(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%(n=12)+n)%n;return e+=(t-n)/12,1==n?ce(e)?29:28:31-n%7%2}w=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},i("M",["MM",2],"Mo",function(){return this.month()+1}),i("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),i("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),n("month",8),b("M",D),b("MM",D,y),b("MMM",function(e,t){return t.monthsShortRegex(e)}),b("MMMM",function(e,t){return t.monthsRegex(e)}),M(["M","MM"],function(e,t){t[I]=v(e)-1}),M(["MMM","MMMM"],function(e,t,n,i){i=n._locale.monthsParse(e,i,n._strict);null!=i?t[I]=i:p(n).invalidMonth=e});var Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Le="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ze=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Fe=_,Pe=_;function Re(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(!l(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),je(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function Ue(e){return null!=e?(Re(this,e),h.updateOffset(this,!0),this):de(this,"Month")}function Be(){function e(e,t){return t.length-e.length}for(var t,n=[],i=[],o=[],r=0;r<12;r++)t=u([2e3,r]),n.push(this.monthsShort(t,"")),i.push(this.months(t,"")),o.push(this.months(t,"")),o.push(this.monthsShort(t,""));for(n.sort(e),i.sort(e),o.sort(e),r=0;r<12;r++)n[r]=C(n[r]),i[r]=C(i[r]);for(r=0;r<24;r++)o[r]=C(o[r]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ye(e){return ce(e)?366:365}i("Y",0,0,function(){var e=this.year();return e<=9999?r(e,4):"+"+e}),i(0,["YY",2],0,function(){return this.year()%100}),i(0,["YYYY",4],0,"year"),i(0,["YYYYY",5],0,"year"),i(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),b("Y",Me),b("YY",D,y),b("YYYY",_e,ge),b("YYYYY",be,me),b("YYYYYY",be,me),M(["YYYYY","YYYYYY"],A),M("YYYY",function(e,t){t[A]=2===e.length?h.parseTwoDigitYear(e):v(e)}),M("YY",function(e,t){t[A]=h.parseTwoDigitYear(e)}),M("Y",function(e,t){t[A]=parseInt(e,10)}),h.parseTwoDigitYear=function(e){return v(e)+(68<v(e)?1900:2e3)};var He=fe("FullYear",!0);function We(e,t,n,i,o,r,s){var a;return e<100&&0<=e?(a=new Date(e+400,t,n,i,o,r,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,o,r,s),a}function Qe(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ve(e,t,n){n=7+t-n;return n-(7+Qe(e,0,n).getUTCDay()-t)%7-1}function Ge(e,t,n,i,o){var r,t=1+7*(t-1)+(7+n-i)%7+Ve(e,i,o),n=t<=0?Ye(r=e-1)+t:t>Ye(e)?(r=e+1,t-Ye(e)):(r=e,t);return{year:r,dayOfYear:n}}function qe(e,t,n){var i,o,r=Ve(e.year(),t,n),r=Math.floor((e.dayOfYear()-r-1)/7)+1;return r<1?i=r+S(o=e.year()-1,t,n):r>S(e.year(),t,n)?(i=r-S(e.year(),t,n),o=e.year()+1):(o=e.year(),i=r),{week:i,year:o}}function S(e,t,n){var i=Ve(e,t,n),t=Ve(e+1,t,n);return(Ye(e)-i+t)/7}i("w",["ww",2],"wo","week"),i("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),b("w",D),b("ww",D,y),b("W",D),b("WW",D,y),xe(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=v(e)});function Ze(e,t){return e.slice(t,7).concat(e.slice(0,t))}i("d",0,"do","day"),i("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),i("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),i("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),i("e",0,0,"weekday"),i("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),b("d",D),b("e",D),b("E",D),b("dd",function(e,t){return t.weekdaysMinRegex(e)}),b("ddd",function(e,t){return t.weekdaysShortRegex(e)}),b("dddd",function(e,t){return t.weekdaysRegex(e)}),xe(["dd","ddd","dddd"],function(e,t,n,i){i=n._locale.weekdaysParse(e,i,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),xe(["d","e","E"],function(e,t,n,i){t[i]=v(e)});var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$e=_,et=_,tt=_;function nt(){function e(e,t){return t.length-e.length}for(var t,n,i,o=[],r=[],s=[],a=[],l=0;l<7;l++)i=u([2e3,1]).day(l),t=C(this.weekdaysMin(i,"")),n=C(this.weekdaysShort(i,"")),i=C(this.weekdays(i,"")),o.push(t),r.push(n),s.push(i),a.push(t),a.push(n),a.push(i);o.sort(e),r.sort(e),s.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function it(){return this.hours()%12||12}function ot(e,t){i(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function rt(e,t){return t._meridiemParse}i("H",["HH",2],0,"hour"),i("h",["hh",2],0,it),i("k",["kk",2],0,function(){return this.hours()||24}),i("hmm",0,0,function(){return""+it.apply(this)+r(this.minutes(),2)}),i("hmmss",0,0,function(){return""+it.apply(this)+r(this.minutes(),2)+r(this.seconds(),2)}),i("Hmm",0,0,function(){return""+this.hours()+r(this.minutes(),2)}),i("Hmmss",0,0,function(){return""+this.hours()+r(this.minutes(),2)+r(this.seconds(),2)}),ot("a",!0),ot("A",!1),t("hour","h"),n("hour",13),b("a",rt),b("A",rt),b("H",D),b("h",D),b("k",D),b("HH",D,y),b("hh",D,y),b("kk",D,y),b("hmm",ve),b("hmmss",ye),b("Hmm",ve),b("Hmmss",ye),M(["H","HH"],T),M(["k","kk"],function(e,t,n){e=v(e);t[T]=24===e?0:e}),M(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),M(["h","hh"],function(e,t,n){t[T]=v(e),p(n).bigHour=!0}),M("hmm",function(e,t,n){var i=e.length-2;t[T]=v(e.substr(0,i)),t[x]=v(e.substr(i)),p(n).bigHour=!0}),M("hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[T]=v(e.substr(0,i)),t[x]=v(e.substr(i,2)),t[E]=v(e.substr(o)),p(n).bigHour=!0}),M("Hmm",function(e,t,n){var i=e.length-2;t[T]=v(e.substr(0,i)),t[x]=v(e.substr(i))}),M("Hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[T]=v(e.substr(0,i)),t[x]=v(e.substr(i,2)),t[E]=v(e.substr(o))});_=fe("Hours",!0);var st,at={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Oe,monthsShort:Le,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:Xe,weekdaysShort:Je,meridiemParse:/[ap]\.?m?\.?/i},N={},lt={};function ut(e){return e&&e.toLowerCase().replace("_","-")}function ct(e){for(var t,n,i,o,r=0;r<e.length;){for(t=(o=ut(e[r]).split("-")).length,n=(n=ut(e[r+1]))?n.split("-"):null;0<t;){if(i=ft(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}(o,n)>=t-1)break;t--}r++}return st}function ft(t){var e;if(void 0===N[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=st._abbr,require("./locale/"+t),dt(e)}catch(e){N[t]=null}return N[t]}function dt(e,t){return e&&((t=a(t)?pt(e):ht(e,t))?st=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),st._abbr}function ht(e,t){if(null===t)return delete N[e],null;var n,i=at;if(t.abbr=e,null!=N[e])J("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=N[e]._config;else if(null!=t.parentLocale)if(null!=N[t.parentLocale])i=N[t.parentLocale]._config;else{if(null==(n=ft(t.parentLocale)))return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return N[e]=new $(X(i,t)),lt[e]&&lt[e].forEach(function(e){ht(e.name,e.config)}),dt(e),N[e]}function pt(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return st;if(!s(e)){if(t=ft(e))return t;e=[e]}return ct(e)}function gt(e){var t=e._a;return t&&-2===p(e).overflow&&(t=t[I]<0||11<t[I]?I:t[k]<1||t[k]>je(t[A],t[I])?k:t[T]<0||24<t[T]||24===t[T]&&(0!==t[x]||0!==t[E]||0!==t[Ee])?T:t[x]<0||59<t[x]?x:t[E]<0||59<t[E]?E:t[Ee]<0||999<t[Ee]?Ee:-1,p(e)._overflowDayOfYear&&(t<A||k<t)&&(t=k),p(e)._overflowWeeks&&-1===t&&(t=Se),p(e)._overflowWeekday&&-1===t&&(t=Ne),p(e).overflow=t),e}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,Dt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bt=/^\/?Date\((-?\d+)/i,Ct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Mt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,n,i,o,r,s,a=e._i,l=mt.exec(a)||vt.exec(a);if(l){for(p(e).iso=!0,t=0,n=Dt.length;t<n;t++)if(Dt[t][1].exec(l[1])){o=Dt[t][0],i=!1!==Dt[t][2];break}if(null==o)e._isValid=!1;else{if(l[3]){for(t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(l[3])){r=(l[2]||" ")+_t[t][0];break}if(null==r)return void(e._isValid=!1)}if(i||null==r){if(l[4]){if(!yt.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=o+(r||"")+(s||""),xt(e)}else e._isValid=!1}}else e._isValid=!1}function At(e,t,n,i,o,r){e=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Le.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return r&&e.push(parseInt(r,10)),e}function It(e){var t,n,i,o,r=Ct.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));r?(t=At(r[4],r[3],r[2],r[5],r[6],r[7]),n=r[1],i=t,o=e,n&&Je.indexOf(n)!==new Date(i[0],i[1],i[2]).getDay()?(p(o).weekdayMismatch=!0,o._isValid=!1):(e._a=t,e._tzm=(n=r[8],i=r[9],o=r[10],n?Mt[n]:i?0:60*(((n=parseInt(o,10))-(i=n%100))/100)+i),e._d=Qe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0)):e._isValid=!1}function kt(e,t,n){return null!=e?e:null!=t?t:n}function Tt(e){var t,n,i,o,r,s,a,l,u,c,f,d=[];if(!e._d){for(i=e,o=new Date(h.now()),n=i._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()],e._w&&null==e._a[k]&&null==e._a[I]&&(null!=(o=(i=e)._w).GG||null!=o.W||null!=o.E?(l=1,u=4,r=kt(o.GG,i._a[A],qe(j(),1,4).year),s=kt(o.W,1),((a=kt(o.E,1))<1||7<a)&&(c=!0)):(l=i._locale._week.dow,u=i._locale._week.doy,f=qe(j(),l,u),r=kt(o.gg,i._a[A],f.year),s=kt(o.w,f.week),null!=o.d?((a=o.d)<0||6<a)&&(c=!0):null!=o.e?(a=o.e+l,(o.e<0||6<o.e)&&(c=!0)):a=l),s<1||s>S(r,l,u)?p(i)._overflowWeeks=!0:null!=c?p(i)._overflowWeekday=!0:(f=Ge(r,s,a,l,u),i._a[A]=f.year,i._dayOfYear=f.dayOfYear)),null!=e._dayOfYear&&(o=kt(e._a[A],n[A]),(e._dayOfYear>Ye(o)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),c=Qe(o,0,e._dayOfYear),e._a[I]=c.getUTCMonth(),e._a[k]=c.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=d[t]=n[t];for(;t<7;t++)e._a[t]=d[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[T]&&0===e._a[x]&&0===e._a[E]&&0===e._a[Ee]&&(e._nextDay=!0,e._a[T]=0),e._d=(e._useUTC?Qe:We).apply(null,d),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[T]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(p(e).weekdayMismatch=!0)}}function xt(e){if(e._f===h.ISO_8601)wt(e);else if(e._f===h.RFC_2822)It(e);else{e._a=[],p(e).empty=!0;for(var t,n,i,o,r,s=""+e._i,a=s.length,l=0,u=se(e._f,e._locale).match(te)||[],c=0;c<u.length;c++)n=u[c],(t=(s.match(Ie(n,e))||[])[0])&&(0<(i=s.substr(0,s.indexOf(t))).length&&p(e).unusedInput.push(i),s=s.slice(s.indexOf(t)+t.length),l+=t.length),oe[n]?(t?p(e).empty=!1:p(e).unusedTokens.push(n),i=n,r=e,null!=(o=t)&&f(Te,i)&&Te[i](o,r._a,r,i)):e._strict&&!t&&p(e).unusedTokens.push(n);p(e).charsLeftOver=a-l,0<s.length&&p(e).unusedInput.push(s),e._a[T]<=12&&!0===p(e).bigHour&&0<e._a[T]&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[T]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[T],e._meridiem),null!==(a=p(e).era)&&(e._a[A]=e._locale.erasConvertYear(a,e._a[A])),Tt(e),gt(e)}}function Et(e){var t,n,i,o=e._i,r=e._f;if(e._locale=e._locale||pt(e._l),null===o||void 0===r&&""===o)return H({nullInput:!0});if("string"==typeof o&&(e._i=o=e._locale.preparse(o)),c(o))return new q(gt(o));if(R(o))e._d=o;else if(s(r))!function(e){var t,n,i,o,r,s,a=!1;if(0===e._f.length)return p(e).invalidFormat=!0,e._d=new Date(NaN);for(o=0;o<e._f.length;o++)r=0,s=!1,t=G({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],xt(t),Y(t)&&(s=!0),r=(r+=p(t).charsLeftOver)+10*p(t).unusedTokens.length,p(t).score=r,a?r<i&&(i=r,n=t):(null==i||r<i||s)&&(i=r,n=t,s&&(a=!0));B(e,n||t)}(e);else if(r)xt(e);else if(a(r=(o=e)._i))o._d=new Date(h.now());else R(r)?o._d=new Date(r.valueOf()):"string"==typeof r?(n=o,null!==(t=bt.exec(n._i))?n._d=new Date(+t[1]):(wt(n),!1===n._isValid&&(delete n._isValid,It(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:h.createFromInputFallback(n))))):s(r)?(o._a=U(r.slice(0),function(e){return parseInt(e,10)}),Tt(o)):F(r)?(t=o)._d||(i=void 0===(n=le(t._i)).day?n.date:n.day,t._a=U([n.year,n.month,i,n.hour,n.minute,n.second,n.millisecond],function(e){return e&&parseInt(e,10)}),Tt(t)):l(r)?o._d=new Date(r):h.createFromInputFallback(o);return Y(e)||(e._d=null),e}function St(e,t,n,i,o){var r={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(F(e)&&P(e)||s(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=n,r._i=e,r._f=t,r._strict=i,(o=new q(gt(Et(o=r))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function j(e,t,n,i){return St(e,t,n,i,!1)}h.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),h.ISO_8601=function(){},h.RFC_2822=function(){};ve=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=j.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:H()}),ye=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=j.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:H()});function Nt(e,t){var n,i;if(!(t=1===t.length&&s(t[0])?t[0]:t).length)return j();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var jt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ot(e){var e=le(e),t=e.year||0,n=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,r=e.day||0,s=e.hour||0,a=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(f(e,t)&&(-1===w.call(jt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<jt.length;++n)if(e[jt[n]]){if(i)return!1;parseFloat(e[jt[n]])!==v(e[jt[n]])&&(i=!0)}return!0}(e),this._milliseconds=+u+1e3*l+6e4*a+1e3*s*60*60,this._days=+r+7*o,this._months=+i+3*n+12*t,this._data={},this._locale=pt(),this._bubble()}function Lt(e){return e instanceof Ot}function zt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,n){i(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+r(~~(e/60),2)+n+r(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),b("Z",Ae),b("ZZ",Ae),M(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Rt(Ae,e)});var Pt=/([\+\-]|\d\d)/gi;function Rt(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Pt)||["-",0,0])[1]+v(e[2]))?0:"+"===e[0]?t:-t}function Ut(e,t){var n;return t._isUTC?(t=t.clone(),n=(c(e)||R(e)?e:j(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),h.updateOffset(t,!1),t):j(e).local()}function Bt(e){return-Math.round(e._d.getTimezoneOffset())}function Yt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}h.updateOffset=function(){};var Ht=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Wt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function O(e,t){var n,i=e,o=null;return Lt(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(o=Ht.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:v(o[k])*n,h:v(o[T])*n,m:v(o[x])*n,s:v(o[E])*n,ms:v(zt(1e3*o[Ee]))*n}):(o=Wt.exec(e))?(n="-"===o[1]?-1:1,i={y:Qt(o[2],n),M:Qt(o[3],n),w:Qt(o[4],n),d:Qt(o[5],n),h:Qt(o[6],n),m:Qt(o[7],n),s:Qt(o[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(t=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Ut(t,e),e.isBefore(t)?n=Vt(e,t):((n=Vt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(j(i.from),j(i.to)),(i={}).ms=t.milliseconds,i.M=t.months),o=new Ot(i),Lt(e)&&f(e,"_locale")&&(o._locale=e._locale),Lt(e)&&f(e,"_isValid")&&(o._isValid=e._isValid),o}function Qt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Vt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Gt(i,o){return function(e,t){var n;return null===t||isNaN(+t)||(J(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),qt(this,O(e,t),i),this}}function qt(e,t,n,i){var o=t._milliseconds,r=zt(t._days),t=zt(t._months);e.isValid()&&(i=null==i||i,t&&Re(e,de(e,"Month")+t*n),r&&he(e,"Date",de(e,"Date")+r*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&h.updateOffset(e,r||t))}O.fn=Ot.prototype,O.invalid=function(){return O(NaN)};Oe=Gt(1,"add"),Ke=Gt(-1,"subtract");function Zt(e){return"string"==typeof e||e instanceof String}function Kt(e){return c(e)||R(e)||Zt(e)||l(e)||function(t){var e=s(t),n=!1;e&&(n=0===t.filter(function(e){return!l(e)&&Zt(t)}).length);return e&&n}(e)||function(e){var t,n,i=F(e)&&!P(e),o=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<r.length;t+=1)n=r[t],o=o||f(e,n);return i&&o}(e)||null==e}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months"),t=t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(1+n,"months")-i);return-(n+t)||0}function Xt(e){return void 0===e?this._locale._abbr:(null!=(e=pt(e))&&(this._locale=e),this)}h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",h.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Xe=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function $t(){return this._locale}var en=126227808e5;function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-en:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-en:Date.UTC(e,t,n)}function rn(e,t){return t.erasAbbrRegex(e)}function sn(){for(var e=[],t=[],n=[],i=[],o=this.eras(),r=0,s=o.length;r<s;++r)t.push(C(o[r].name)),e.push(C(o[r].abbr)),n.push(C(o[r].narrow)),i.push(C(o[r].name)),i.push(C(o[r].abbr)),i.push(C(o[r].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function an(e,t){i(0,[e,e.length],0,t)}function ln(e,t,n,i,o){var r;return null==e?qe(this,i,o).year:(r=S(e,i,o),function(e,t,n,i,o){e=Ge(e,t,n,i,o),t=Qe(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=r<t?r:t,n,i,o))}i("N",0,0,"eraAbbr"),i("NN",0,0,"eraAbbr"),i("NNN",0,0,"eraAbbr"),i("NNNN",0,0,"eraName"),i("NNNNN",0,0,"eraNarrow"),i("y",["y",1],"yo","eraYear"),i("y",["yy",2],0,"eraYear"),i("y",["yyy",3],0,"eraYear"),i("y",["yyyy",4],0,"eraYear"),b("N",rn),b("NN",rn),b("NNN",rn),b("NNNN",function(e,t){return t.erasNameRegex(e)}),b("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),M(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){i=n._locale.erasParse(e,i,n._strict);i?p(n).era=i:p(n).invalidEra=e}),b("y",Ce),b("yy",Ce),b("yyy",Ce),b("yyyy",Ce),b("yo",function(e,t){return t._eraYearOrdinalRegex||Ce}),M(["y","yy","yyy","yyyy"],A),M(["yo"],function(e,t,n,i){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[A]=n._locale.eraYearOrdinalParse(e,o):t[A]=parseInt(e,10)}),i(0,["gg",2],0,function(){return this.weekYear()%100}),i(0,["GG",2],0,function(){return this.isoWeekYear()%100}),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),b("G",Me),b("g",Me),b("GG",D,y),b("gg",D,y),b("GGGG",_e,ge),b("gggg",_e,ge),b("GGGGG",be,me),b("ggggg",be,me),xe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=v(e)}),xe(["gg","GG"],function(e,t,n,i){t[i]=h.parseTwoDigitYear(e)}),i("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),b("Q",o),M("Q",function(e,t){t[I]=3*(v(e)-1)}),i("D",["DD",2],"Do","date"),t("date","D"),n("date",9),b("D",D),b("DD",D,y),b("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),M(["D","DD"],k),M("Do",function(e,t){t[k]=v(e.match(D)[0])});_e=fe("Date",!0);i("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),b("DDD",De),b("DDDD",pe),M(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),i("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),b("m",D),b("mm",D,y),M(["m","mm"],x);var un,ge=fe("Minutes",!1),be=(i("s",["ss",2],0,"second"),t("second","s"),n("second",15),b("s",D),b("ss",D,y),M(["s","ss"],E),fe("Seconds",!1));for(i("S",0,0,function(){return~~(this.millisecond()/100)}),i(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),i(0,["SSS",3],0,"millisecond"),i(0,["SSSS",4],0,function(){return 10*this.millisecond()}),i(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),i(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),i(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),i(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),i(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),n("millisecond",16),b("S",De,o),b("SS",De,y),b("SSS",De,pe),un="SSSS";un.length<=9;un+="S")b(un,Ce);function cn(e,t){t[Ee]=v(1e3*("0."+e))}for(un="S";un.length<=9;un+="S")M(un,cn);me=fe("Milliseconds",!1),i("z",0,0,"zoneAbbr"),i("zz",0,0,"zoneName");o=q.prototype;function fn(e){return e}o.add=Oe,o.calendar=function(e,t){1===arguments.length&&(arguments[0]?Kt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=F(e)&&!P(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o=0;o<i.length;o+=1)n=n||f(e,i[o]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var e=e||j(),n=Ut(e,this).startOf("day"),n=h.calendarFormat(this,n)||"sameElse",t=t&&(d(t[n])?t[n].call(this,e):t[n]);return this.format(t||this.localeData().calendar(n,this,j(e)))},o.clone=function(){return new q(this)},o.diff=function(e,t,n){var i,o,r;if(!this.isValid())return NaN;if(!(i=Ut(e,this)).isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),t=g(t)){case"year":r=Jt(this,i)/12;break;case"month":r=Jt(this,i);break;case"quarter":r=Jt(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-o)/864e5;break;case"week":r=(this-i-o)/6048e5;break;default:r=this-i}return n?r:m(r)},o.endOf=function(e){var t,n;if(void 0===(e=g(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}return this._d.setTime(t),h.updateOffset(this,!0),this},o.format=function(e){return e=e||(this.isUtc()?h.defaultFormatUtc:h.defaultFormat),e=re(this,e),this.localeData().postformat(e)},o.from=function(e,t){return this.isValid()&&(c(e)&&e.isValid()||j(e).isValid())?O({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},o.fromNow=function(e){return this.from(j(),e)},o.to=function(e,t){return this.isValid()&&(c(e)&&e.isValid()||j(e).isValid())?O({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},o.toNow=function(e){return this.to(j(),e)},o.get=function(e){return d(this[e=g(e)])?this[e]():this},o.invalidAt=function(){return p(this).overflow},o.isAfter=function(e,t){return e=c(e)?e:j(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=g(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},o.isBefore=function(e,t){return e=c(e)?e:j(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=g(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},o.isBetween=function(e,t,n,i){return e=c(e)?e:j(e),t=c(t)?t:j(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n)))},o.isSame=function(e,t){var e=c(e)?e:j(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=g(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},o.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},o.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},o.isValid=function(){return Y(this)},o.lang=Xe,o.locale=Xt,o.localeData=$t,o.max=ye,o.min=ve,o.parsingFlags=function(){return B({},p(this))},o.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)f(e,t)&&n.push({unit:t,priority:ue[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=le(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(d(this[e=g(e)]))return this[e](t);return this},o.startOf=function(e){var t,n;if(void 0===(e=g(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}return this._d.setTime(t),h.updateOffset(this,!0),this},o.subtract=Ke,o.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},o.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},o.toDate=function(){return new Date(this.valueOf())},o.toISOString=function(e){if(!this.isValid())return null;var t=(e=!0!==e)?this.clone().utc():this;return t.year()<0||9999<t.year()?re(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):d(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",re(t,"Z")):re(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},o.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t="moment",n="";return this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),t="["+t+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+(n+'[")]'))},"undefined"!=typeof Symbol&&null!=Symbol.for&&(o[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},o.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},o.eraName=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},o.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},o.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},o.eraYear=function(){for(var e,t,n=this.localeData().eras(),i=0,o=n.length;i<o;++i)if(e=n[i].since<=n[i].until?1:-1,t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until||n[i].until<=t&&t<=n[i].since)return(this.year()-h(n[i].since).year())*e+n[i].offset;return this.year()},o.year=He,o.isLeapYear=function(){return ce(this.year())},o.weekYear=function(e){return ln.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},o.isoWeekYear=function(e){return ln.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},o.quarter=o.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},o.month=Ue,o.daysInMonth=function(){return je(this.year(),this.month())},o.week=o.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},o.isoWeek=o.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},o.weeksInYear=function(){var e=this.localeData()._week;return S(this.year(),e.dow,e.doy)},o.weeksInWeekYear=function(){var e=this.localeData()._week;return S(this.weekYear(),e.dow,e.doy)},o.isoWeeksInYear=function(){return S(this.year(),1,4)},o.isoWeeksInISOWeekYear=function(){return S(this.isoWeekYear(),1,4)},o.date=_e,o.day=o.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},o.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},o.isoWeekday=function(e){return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN;var t,n},o.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},o.hour=o.hours=_,o.minute=o.minutes=ge,o.second=o.seconds=be,o.millisecond=o.milliseconds=me,o.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?o:Bt(this);if("string"==typeof e){if(null===(e=Rt(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Bt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?qt(this,O(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null)),this},o.utc=function(e){return this.utcOffset(0,e)},o.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Bt(this),"m")),this},o.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Rt(we,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},o.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?j(e).utcOffset():0,(this.utcOffset()-e)%60==0)},o.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},o.isLocal=function(){return!!this.isValid()&&!this._isUTC},o.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},o.isUtc=Yt,o.isUTC=Yt,o.zoneAbbr=function(){return this._isUTC?"UTC":""},o.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},o.dates=e("dates accessor is deprecated. Use date instead.",_e),o.months=e("months accessor is deprecated. Use month instead",Ue),o.years=e("years accessor is deprecated. Use year instead",He),o.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),o.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return G(t,this),(t=Et(t))._a?(e=(t._isUTC?u:j)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0,s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&v(e[s])!==v(t[s]))&&r++;return r+o}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});y=$.prototype;function dn(e,t,n,i){var o=pt(),i=u().set(i,t);return o[n](i,e)}function hn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return dn(e,t,n,"month");for(var i=[],o=0;o<12;o++)i[o]=dn(e,o,n,"month");return i}function pn(e,t,n,i){t=("boolean"==typeof e?l(t)&&(n=t,t=void 0):(t=e,e=!1,l(n=t)&&(n=t,t=void 0)),t||"");var o,r=pt(),s=e?r._week.dow:0,a=[];if(null!=n)return dn(t,(n+s)%7,i,"day");for(o=0;o<7;o++)a[o]=dn(t,(o+s)%7,i,"day");return a}y.calendar=function(e,t,n){return d(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},y.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(te).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},y.invalidDate=function(){return this._invalidDate},y.ordinal=function(e){return this._ordinal.replace("%d",e)},y.preparse=fn,y.postformat=fn,y.relativeTime=function(e,t,n,i){var o=this._relativeTime[n];return d(o)?o(e,t,n,i):o.replace(/%d/i,e)},y.pastFuture=function(e,t){return d(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},y.set=function(e){var t,n;for(n in e)f(e,n)&&(d(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},y.eras=function(e,t){for(var n,i=this._eras||pt("en")._eras,o=0,r=i.length;o<r;++o)switch("string"==typeof i[o].since&&(n=h(i[o].since).startOf("day"),i[o].since=n.valueOf()),typeof i[o].until){case"undefined":i[o].until=1/0;break;case"string":n=h(i[o].until).startOf("day").valueOf(),i[o].until=n.valueOf()}return i},y.erasParse=function(e,t,n){var i,o,r,s,a,l=this.eras();for(e=e.toUpperCase(),i=0,o=l.length;i<o;++i)if(r=l[i].name.toUpperCase(),s=l[i].abbr.toUpperCase(),a=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[i];break;case"NNNN":if(r===e)return l[i];break;case"NNNNN":if(a===e)return l[i]}else if(0<=[r,s,a].indexOf(e))return l[i]},y.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?h(e.since).year():h(e.since).year()+(t-e.offset)*n},y.erasAbbrRegex=function(e){return f(this,"_erasAbbrRegex")||sn.call(this),e?this._erasAbbrRegex:this._erasRegex},y.erasNameRegex=function(e){return f(this,"_erasNameRegex")||sn.call(this),e?this._erasNameRegex:this._erasRegex},y.erasNarrowRegex=function(e){return f(this,"_erasNarrowRegex")||sn.call(this),e?this._erasNarrowRegex:this._erasRegex},y.months=function(e,t){return e?(s(this._months)?this._months:this._months[(this._months.isFormat||ze).test(t)?"format":"standalone"])[e.month()]:s(this._months)?this._months:this._months.standalone},y.monthsShort=function(e,t){return e?(s(this._monthsShort)?this._monthsShort:this._monthsShort[ze.test(t)?"format":"standalone"])[e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},y.monthsParse=function(e,t,n){var i,o;if(this._monthsParseExact)return function(e,t,n){var i,o,r,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=w.call(this._shortMonthsParse,e))?o:null:-1!==(o=w.call(this._longMonthsParse,e))?o:null:"MMM"===t?-1!==(o=w.call(this._shortMonthsParse,e))||-1!==(o=w.call(this._longMonthsParse,e))?o:null:-1!==(o=w.call(this._longMonthsParse,e))||-1!==(o=w.call(this._shortMonthsParse,e))?o:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},y.monthsRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Be.call(this),e?this._monthsStrictRegex:this._monthsRegex):(f(this,"_monthsRegex")||(this._monthsRegex=Pe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},y.monthsShortRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Be.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(f(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},y.week=function(e){return qe(e,this._week.dow,this._week.doy).week},y.firstDayOfYear=function(){return this._week.doy},y.firstDayOfWeek=function(){return this._week.dow},y.weekdays=function(e,t){return t=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Ze(t,this._week.dow):e?t[e.day()]:t},y.weekdaysMin=function(e){return!0===e?Ze(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},y.weekdaysShort=function(e){return!0===e?Ze(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},y.weekdaysParse=function(e,t,n){var i,o;if(this._weekdaysParseExact)return function(e,t,n){var i,o,r,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=w.call(this._weekdaysParse,e))?o:null:"ddd"===t?-1!==(o=w.call(this._shortWeekdaysParse,e))?o:null:-1!==(o=w.call(this._minWeekdaysParse,e))?o:null:"dddd"===t?-1!==(o=w.call(this._weekdaysParse,e))||-1!==(o=w.call(this._shortWeekdaysParse,e))||-1!==(o=w.call(this._minWeekdaysParse,e))?o:null:"ddd"===t?-1!==(o=w.call(this._shortWeekdaysParse,e))||-1!==(o=w.call(this._weekdaysParse,e))||-1!==(o=w.call(this._minWeekdaysParse,e))?o:null:-1!==(o=w.call(this._minWeekdaysParse,e))||-1!==(o=w.call(this._weekdaysParse,e))||-1!==(o=w.call(this._shortWeekdaysParse,e))?o:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},y.weekdaysRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(f(this,"_weekdaysRegex")||(this._weekdaysRegex=$e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},y.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(f(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},y.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(f(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},y.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},y.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},dt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===v(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),h.lang=e("moment.lang is deprecated. Use moment.locale instead.",dt),h.langData=e("moment.langData is deprecated. Use moment.localeData instead.",pt);var gn=Math.abs;function mn(e,t,n,i){t=O(t,n);return e._milliseconds+=i*t._milliseconds,e._days+=i*t._days,e._months+=i*t._months,e._bubble()}function vn(e){return e<0?Math.floor(e):Math.ceil(e)}function yn(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function _n(e){return function(){return this.as(e)}}De=_n("ms"),pe=_n("s"),Oe=_n("m"),ye=_n("h"),ve=_n("d"),Ke=_n("w"),_=_n("M"),ge=_n("Q"),be=_n("y");function bn(e){return function(){return this.isValid()?this._data[e]:NaN}}var me=bn("milliseconds"),_e=bn("seconds"),He=bn("minutes"),y=bn("hours"),Cn=bn("days"),Mn=bn("months"),wn=bn("years");var An=Math.round,In={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function kn(e,t,n,i){var o=O(e).abs(),r=An(o.as("s")),s=An(o.as("m")),a=An(o.as("h")),l=An(o.as("d")),u=An(o.as("M")),c=An(o.as("w")),o=An(o.as("y")),r=(r<=n.ss?["s",r]:r<n.s&&["ss",r])||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return(r=(r=null!=n.w?r||c<=1&&["w"]||c<n.w&&["ww",c]:r)||u<=1&&["M"]||u<n.M&&["MM",u]||o<=1&&["y"]||["yy",o])[2]=t,r[3]=0<+e,r[4]=i,function(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}.apply(null,r)}var Tn=Math.abs;function xn(e){return(0<e)-(e<0)||+e}function En(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,o,r,s,a=Tn(this._milliseconds)/1e3,l=Tn(this._days),u=Tn(this._months),c=this.asSeconds();return c?(e=m(a/60),t=m(e/60),a%=60,e%=60,n=m(u/12),u%=12,i=a?a.toFixed(3).replace(/\.?0+$/,""):"",o=xn(this._months)!==xn(c)?"-":"",r=xn(this._days)!==xn(c)?"-":"",s=xn(this._milliseconds)!==xn(c)?"-":"",(c<0?"-":"")+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(l?r+l+"D":"")+(t||e||a?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(a?s+i+"S":"")):"P0D"}var L=Ot.prototype;return L.isValid=function(){return this._isValid},L.abs=function(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this},L.add=function(e,t){return mn(this,e,t,1)},L.subtract=function(e,t){return mn(this,e,t,-1)},L.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=g(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+yn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},L.asMilliseconds=De,L.asSeconds=pe,L.asMinutes=Oe,L.asHours=ye,L.asDays=ve,L.asWeeks=Ke,L.asMonths=_,L.asQuarters=ge,L.asYears=be,L.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN},L._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*vn(Dn(n)+t),n=t=0),i.milliseconds=e%1e3,e=m(e/1e3),i.seconds=e%60,e=m(e/60),i.minutes=e%60,e=m(e/60),i.hours=e%24,t+=m(e/24),n+=e=m(yn(t)),t-=vn(Dn(e)),e=m(n/12),n%=12,i.days=t,i.months=n,i.years=e,this},L.clone=function(){return O(this)},L.get=function(e){return e=g(e),this.isValid()?this[e+"s"]():NaN},L.milliseconds=me,L.seconds=_e,L.minutes=He,L.hours=y,L.days=Cn,L.weeks=function(){return m(this.days()/7)},L.months=Mn,L.years=wn,L.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=In;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(i=Object.assign({},In,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),e=this.localeData(),t=kn(this,!n,i,e),n&&(t=e.pastFuture(+this,t)),e.postformat(t)},L.toISOString=En,L.toString=En,L.toJSON=En,L.locale=Xt,L.localeData=$t,L.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",En),L.lang=Xe,i("X",0,0,"unix"),i("x",0,0,"valueOf"),b("x",Me),b("X",/[+-]?\d+(\.\d{1,3})?/),M("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),M("x",function(e,t,n){n._d=new Date(v(e))}),h.version="2.29.1",z=j,h.fn=o,h.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},h.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},h.now=function(){return Date.now?Date.now():+new Date},h.utc=u,h.unix=function(e){return j(1e3*e)},h.months=function(e,t){return hn(e,t,"months")},h.isDate=R,h.locale=dt,h.invalid=H,h.duration=O,h.isMoment=c,h.weekdays=function(e,t,n){return pn(e,t,n,"weekdays")},h.parseZone=function(){return j.apply(null,arguments).parseZone()},h.localeData=pt,h.isDuration=Lt,h.monthsShort=function(e,t){return hn(e,t,"monthsShort")},h.weekdaysMin=function(e,t,n){return pn(e,t,n,"weekdaysMin")},h.defineLocale=ht,h.updateLocale=function(e,t){var n,i;return null!=t?(i=at,null!=N[e]&&null!=N[e].parentLocale?N[e].set(X(N[e]._config,t)):(t=X(i=null!=(n=ft(e))?n._config:i,t),null==n&&(t.abbr=e),(i=new $(t)).parentLocale=N[e],N[e]=i),dt(e)):null!=N[e]&&(null!=N[e].parentLocale?(N[e]=N[e].parentLocale,e===dt()&&dt(e)):null!=N[e]&&delete N[e]),N[e]},h.locales=function(){return ee(N)},h.weekdaysShort=function(e,t,n){return pn(e,t,n,"weekdaysShort")},h.normalizeUnits=g,h.relativeTimeRounding=function(e){return void 0===e?An:"function"==typeof e&&(An=e,!0)},h.relativeTimeThreshold=function(e,t){return void 0!==In[e]&&(void 0===t?In[e]:(In[e]=t,"s"===e&&(In.ss=t-1),!0))},h.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},h.prototype=o,h.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},h}),function(){var Br,Yr="Expected a function",ys="__lodash_hash_undefined__",Ds="__lodash_placeholder__",Hr=9007199254740991,_s=NaN,Wr=4294967295,bs=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Qr="[object Arguments]",Cs="[object Array]",Vr="[object Boolean]",Gr="[object Date]",Ms="[object Error]",ws="[object Function]",As="[object GeneratorFunction]",qr="[object Map]",Zr="[object Number]",Kr="[object Object]",Is="[object Promise]",Jr="[object RegExp]",Xr="[object Set]",$r="[object String]",ks="[object Symbol]",es="[object WeakMap]",ts="[object ArrayBuffer]",ns="[object DataView]",Ts="[object Float32Array]",xs="[object Float64Array]",Es="[object Int8Array]",Ss="[object Int16Array]",Ns="[object Int32Array]",js="[object Uint8Array]",Os="[object Uint8ClampedArray]",Ls="[object Uint16Array]",zs="[object Uint32Array]",Fs=/\b__p \+= '';/g,Ps=/\b(__p \+=) '' \+/g,Rs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Us=/&(?:amp|lt|gt|quot|#39);/g,Bs=/[&<>"']/g,Ys=RegExp(Us.source),Hs=RegExp(Bs.source),Ws=/<%-([\s\S]+?)%>/g,Qs=/<%([\s\S]+?)%>/g,Vs=/<%=([\s\S]+?)%>/g,Gs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qs=/^\w*$/,Zs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ks=/[\\^$.*+?()[\]{}|]/g,Js=RegExp(Ks.source),Xs=/^\s+/,r=/\s/,$s=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ea=/\{\n\/\* \[wrapped with (.+)\] \*/,ta=/,? & /,na=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ia=/[()=,{}\[\]\/\s]/,oa=/\\(\\)?/g,ra=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sa=/\w*$/,aa=/^[-+]0x[0-9a-f]+$/i,la=/^0b[01]+$/i,ua=/^\[object .+?Constructor\]$/,ca=/^0o[0-7]+$/i,fa=/^(?:0|[1-9]\d*)$/,da=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ha=/($^)/,pa=/['\n\r\u2028\u2029\\]/g,s="\\ud800-\\udfff",a="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",l="\\u2700-\\u27bf",e="a-z\\xdf-\\xf6\\xf8-\\xff",t="A-Z\\xc0-\\xd6\\xd8-\\xde",u="\\ufe0e\\ufe0f",c="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+s+"]",f="["+c+"]",d="["+a+"]",h="["+l+"]",p="["+e+"]",c="[^"+s+c+"\\d+"+l+e+t+"]",l="\\ud83c[\\udffb-\\udfff]",e="[^"+s+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",t="["+t+"]",m="(?:"+p+"|"+c+")",c="(?:"+t+"|"+c+")",v="(?:['’](?:d|ll|m|re|s|t|ve))?",y="(?:['’](?:D|LL|M|RE|S|T|VE))?",D="(?:"+d+"|"+l+")"+"?",_="["+u+"]?",_=_+D+("(?:\\u200d(?:"+[e,g,i].join("|")+")"+_+D+")*"),D="(?:"+[h,g,i].join("|")+")"+_,h="(?:"+[e+d+"?",d,g,i,n].join("|")+")",ga=RegExp("['’]","g"),ma=RegExp(d,"g"),b=RegExp(l+"(?="+l+")|"+h+_,"g"),va=RegExp([t+"?"+p+"+"+v+"(?="+[f,t,"$"].join("|")+")",c+"+"+y+"(?="+[f,t+m,"$"].join("|")+")",t+"?"+m+"+"+v,t+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",D].join("|"),"g"),C=RegExp("[\\u200d"+s+a+u+"]"),ya=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Da=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_a=-1,is={},os=(is[Ts]=is[xs]=is[Es]=is[Ss]=is[Ns]=is[js]=is[Os]=is[Ls]=is[zs]=!0,is[Qr]=is[Cs]=is[ts]=is[Vr]=is[ns]=is[Gr]=is[Ms]=is[ws]=is[qr]=is[Zr]=is[Kr]=is[Jr]=is[Xr]=is[$r]=is[es]=!1,{}),M=(os[Qr]=os[Cs]=os[ts]=os[ns]=os[Vr]=os[Gr]=os[Ts]=os[xs]=os[Es]=os[Ss]=os[Ns]=os[qr]=os[Zr]=os[Kr]=os[Jr]=os[Xr]=os[$r]=os[ks]=os[js]=os[Os]=os[Ls]=os[zs]=!0,os[Ms]=os[ws]=os[es]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),ba=parseFloat,Ca=parseInt,e="object"==typeof global&&global&&global.Object===Object&&global,g="object"==typeof self&&self&&self.Object===Object&&self,rs=e||g||Function("return this")(),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof module&&module&&!module.nodeType&&module,Ma=o&&o.exports===i,w=Ma&&e.process,n=function(){try{var e=o&&o.require&&o.require("util").types;return e?e:w&&w.binding&&w.binding("util")}catch(e){}}(),wa=n&&n.isArrayBuffer,Aa=n&&n.isDate,Ia=n&&n.isMap,ka=n&&n.isRegExp,Ta=n&&n.isSet,xa=n&&n.isTypedArray;function ss(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ea(e,t,n,i){for(var o=-1,r=null==e?0:e.length;++o<r;){var s=e[o];t(i,s,n(s),e)}return i}function as(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Sa(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Na(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ls(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var s=e[n];t(s,n,e)&&(r[o++]=s)}return r}function ja(e,t){return!!(null==e?0:e.length)&&-1<fs(e,t,0)}function Oa(e,t,n){for(var i=-1,o=null==e?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}function us(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}function cs(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}function La(e,t,n,i){var o=-1,r=null==e?0:e.length;for(i&&r&&(n=e[++o]);++o<r;)n=t(n,e[o],o,e);return n}function za(e,t,n,i){var o=null==e?0:e.length;for(i&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Fa(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var A=Ha("length");function Pa(e,i,t){var o;return t(e,function(e,t,n){if(i(e,t,n))return o=t,!1}),o}function Ra(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}function fs(e,t,n){if(t!=t)return Ra(e,Ba,n);for(var i=e,o=t,r=n-1,s=i.length;++r<s;)if(i[r]===o)return r;return-1}function Ua(e,t,n,i){for(var o=n-1,r=e.length;++o<r;)if(i(e[o],t))return o;return-1}function Ba(e){return e!=e}function Ya(e,t){var n=null==e?0:e.length;return n?Qa(e,t)/n:_s}function Ha(t){return function(e){return null==e?Br:e[t]}}function I(t){return function(e){return null==t?Br:t[e]}}function Wa(e,i,o,r,t){return t(e,function(e,t,n){o=r?(r=!1,e):i(o,e,t,n)}),o}function Qa(e,t){for(var n,i=-1,o=e.length;++i<o;){var r=t(e[i]);r!==Br&&(n=n===Br?r:n+r)}return n}function Va(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Ga(e){return e&&e.slice(0,ol(e)+1).replace(Xs,"")}function ds(t){return function(e){return t(e)}}function qa(t,e){return us(e,function(e){return t[e]})}function Za(e,t){return e.has(t)}function Ka(e,t){for(var n=-1,i=e.length;++n<i&&-1<fs(t,e[n],0););return n}function Ja(e,t){for(var n=e.length;n--&&-1<fs(t,e[n],0););return n}var Xa=I({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),$a=I({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function el(e){return"\\"+M[e]}function hs(e){return C.test(e)}function tl(e){var n=-1,i=Array(e.size);return e.forEach(function(e,t){i[++n]=[t,e]}),i}function nl(t,n){return function(e){return t(n(e))}}function ps(e,t){for(var n=-1,i=e.length,o=0,r=[];++n<i;){var s=e[n];s!==t&&s!==Ds||(e[n]=Ds,r[o++]=n)}return r}function il(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function gs(e){return(hs(e)?function(e){var t=b.lastIndex=0;for(;b.test(e);)++t;return t}:A)(e)}function ms(e){return hs(e)?e.match(b)||[]:e.split("")}function ol(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}var rl=I({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vs=function o(e){var C=(e=null==e?rs:vs.defaults(rs.Object(),e,vs.pick(rs,Da))).Array,r=e.Date,N=e.Error,j=e.Function,O=e.Math,g=e.Object,L=e.RegExp,Y=e.String,y=e.TypeError,H=C.prototype,W=j.prototype,Q=g.prototype,V=e["__core-js_shared__"],G=W.toString,z=Q.hasOwnProperty,q=0,Z=(W=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",K=Q.toString,J=G.call(g),X=rs._,$=L("^"+G.call(z).replace(Ks,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=Ma?e.Buffer:Br,t=e.Symbol,ee=e.Uint8Array,te=W?W.allocUnsafe:Br,ne=nl(g.getPrototypeOf,g),ie=g.create,oe=Q.propertyIsEnumerable,re=H.splice,se=t?t.isConcatSpreadable:Br,ae=t?t.iterator:Br,le=t?t.toStringTag:Br,ue=function(){try{var e=Xn(g,"defineProperty");return e({},"",{}),e}catch(e){}}(),ce=e.clearTimeout!==rs.clearTimeout&&e.clearTimeout,fe=r&&r.now!==rs.Date.now&&r.now,de=e.setTimeout!==rs.setTimeout&&e.setTimeout,he=O.ceil,pe=O.floor,ge=g.getOwnPropertySymbols,W=W?W.isBuffer:Br,me=e.isFinite,ve=H.join,ye=nl(g.keys,g),D=O.max,M=O.min,De=r.now,_e=e.parseInt,be=O.random,Ce=H.reverse,r=Xn(e,"DataView"),Me=Xn(e,"Map"),we=Xn(e,"Promise"),Ae=Xn(e,"Set"),e=Xn(e,"WeakMap"),Ie=Xn(g,"create"),ke=e&&new e,Te={},xe=Mi(r),Ee=Mi(Me),Se=Mi(we),Ne=Mi(Ae),je=Mi(e),t=t?t.prototype:Br,Oe=t?t.valueOf:Br,Le=t?t.toString:Br;function p(e){if(B(e)&&!U(e)&&!(e instanceof v)){if(e instanceof m)return e;if(z.call(e,"__wrapped__"))return wi(e)}return new m(e)}var ze=function(e){if(!A(e))return{};if(ie)return ie(e);Fe.prototype=e;e=new Fe;return Fe.prototype=Br,e};function Fe(){}function Pe(){}function m(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Br}function v(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Wr,this.__views__=[]}function Re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ye(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Be;++t<n;)this.add(e[t])}function F(e){e=this.__data__=new Ue(e);this.size=e.size}function He(e,t){var n,i=U(e),o=!i&&yo(e),r=!i&&!o&&_o(e),s=!i&&!o&&!r&&So(e),a=i||o||r||s,l=a?Va(e.length,Y):[],u=l.length;for(n in e)!t&&!z.call(e,n)||a&&("length"==n||r&&("offset"==n||"parent"==n)||s&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||oi(n,u))||l.push(n);return l}function We(e){var t=e.length;return t?e[Pt(0,t-1)]:Br}function Qe(e,t){return Di(w(e),et(t,0,e.length))}function Ve(e){return Di(w(e))}function Ge(e,t,n){(n===Br||R(e[t],n))&&(n!==Br||t in e)||Xe(e,t,n)}function qe(e,t,n){var i=e[t];z.call(e,t)&&R(i,n)&&(n!==Br||t in e)||Xe(e,t,n)}function Ze(e,t){for(var n=e.length;n--;)if(R(e[n][0],t))return n;return-1}function Ke(e,i,o,r){return ot(e,function(e,t,n){i(r,e,o(e),n)}),r}function Je(e,t){return e&&mn(t,x(t),e)}function Xe(e,t,n){"__proto__"==t&&ue?ue(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function $e(e,t){for(var n=-1,i=t.length,o=C(i),r=null==e;++n<i;)o[n]=r?Br:Qo(e,t[n]);return o}function et(e,t,n){return e==e&&(n!==Br&&(e=e<=n?e:n),t!==Br&&(e=t<=e?e:t)),e}function _(n,i,o,e,t,r){var s,a=1&i,l=2&i,u=4&i;if((s=o?t?o(n,e,t,r):o(n):s)!==Br)return s;if(!A(n))return n;var c,e=U(n);if(e){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!a)return w(n,s)}else{var f=P(n),d=f==ws||f==As;if(_o(n))return cn(n,a);if(f==Kr||f==Qr||d&&!t){if(s=l||d?{}:ni(n),!a)return l?(h=d=n,h=(c=s)&&mn(h,E(h),c),mn(d,ei(d),h)):(d=Je(s,c=n),mn(c,$n(c),d))}else{if(!os[f])return t?n:{};s=function(e,t,n){var i=e.constructor;switch(t){case ts:return fn(e);case Vr:case Gr:return new i(+e);case ns:return function(e,t){t=t?fn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,n);case Ts:case xs:case Es:case Ss:case Ns:case js:case Os:case Ls:case zs:return dn(e,n);case qr:return new i;case Zr:case $r:return new i(e);case Jr:return function(e){var t=new e.constructor(e.source,sa.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Xr:return new i;case ks:return function(e){return Oe?g(Oe.call(e)):{}}(e)}}(n,f,a)}}var h=(r=r||new F).get(n);if(h)return h;r.set(n,s),xo(n)?n.forEach(function(e){s.add(_(e,i,o,e,n,r))}):Ao(n)&&n.forEach(function(e,t){s.set(t,_(e,i,o,t,n,r))});var p=e?Br:(u?l?Vn:Qn:l?E:x)(n);return as(p||n,function(e,t){p&&(e=n[t=e]),qe(s,t,_(e,i,o,t,n,r))}),s}function tt(e,t,n){var i=n.length;if(null==e)return!i;for(e=g(e);i--;){var o=n[i],r=t[o],s=e[o];if(s===Br&&!(o in e)||!r(s))return!1}return!0}function nt(e,t,n){if("function"!=typeof e)throw new y(Yr);return gi(function(){e.apply(Br,n)},t)}function it(e,t,n,i){var o=-1,r=ja,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=us(t,ds(n))),i?(r=Oa,s=!1):200<=t.length&&(r=Za,s=!1,t=new Ye(t));e:for(;++o<a;){var c=e[o],f=null==n?c:n(c),c=i||0!==c?c:0;if(s&&f==f){for(var d=u;d--;)if(t[d]===f)continue e;l.push(c)}else r(t,f,i)||l.push(c)}return l}p.templateSettings={escape:Ws,evaluate:Qs,interpolate:Vs,variable:"",imports:{_:p}},(p.prototype=Pe.prototype).constructor=p,(m.prototype=ze(Pe.prototype)).constructor=m,(v.prototype=ze(Pe.prototype)).constructor=v,Re.prototype.clear=function(){this.__data__=Ie?Ie(null):{},this.size=0},Re.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Re.prototype.get=function(e){var t,n=this.__data__;return Ie?(t=n[e])===ys?Br:t:z.call(n,e)?n[e]:Br},Re.prototype.has=function(e){var t=this.__data__;return Ie?t[e]!==Br:z.call(t,e)},Re.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ie&&t===Br?ys:t,this},Ue.prototype.clear=function(){this.__data__=[],this.size=0},Ue.prototype.delete=function(e){var t=this.__data__;return!((e=Ze(t,e))<0)&&(e==t.length-1?t.pop():re.call(t,e,1),--this.size,!0)},Ue.prototype.get=function(e){var t=this.__data__;return(e=Ze(t,e))<0?Br:t[e][1]},Ue.prototype.has=function(e){return-1<Ze(this.__data__,e)},Ue.prototype.set=function(e,t){var n=this.__data__,i=Ze(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Be.prototype.clear=function(){this.size=0,this.__data__={hash:new Re,map:new(Me||Ue),string:new Re}},Be.prototype.delete=function(e){return e=Kn(this,e).delete(e),this.size-=e?1:0,e},Be.prototype.get=function(e){return Kn(this,e).get(e)},Be.prototype.has=function(e){return Kn(this,e).has(e)},Be.prototype.set=function(e,t){var n=Kn(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Ye.prototype.add=Ye.prototype.push=function(e){return this.__data__.set(e,ys),this},Ye.prototype.has=function(e){return this.__data__.has(e)},F.prototype.clear=function(){this.__data__=new Ue,this.size=0},F.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},F.prototype.get=function(e){return this.__data__.get(e)},F.prototype.has=function(e){return this.__data__.has(e)},F.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ue){var i=n.__data__;if(!Me||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Be(i)}return n.set(e,t),this.size=n.size,this};var ot=Dn(ft),rt=Dn(dt,!0);function st(e,i){var o=!0;return ot(e,function(e,t,n){return o=!!i(e,t,n)}),o}function at(e,t,n){for(var i=-1,o=e.length;++i<o;){var r,s,a=e[i],l=t(a);null!=l&&(r===Br?l==l&&!I(l):n(l,r))&&(r=l,s=a)}return s}function lt(e,i){var o=[];return ot(e,function(e,t,n){i(e,t,n)&&o.push(e)}),o}function l(e,t,n,i,o){var r=-1,s=e.length;for(n=n||ii,o=o||[];++r<s;){var a=e[r];0<t&&n(a)?1<t?l(a,t-1,n,i,o):cs(o,a):i||(o[o.length]=a)}return o}var ut=_n(),ct=_n(!0);function ft(e,t){return e&&ut(e,t,x)}function dt(e,t){return e&&ct(e,t,x)}function ht(t,e){return ls(e,function(e){return Co(t[e])})}function pt(e,t){for(var n=0,i=(t=sn(t,e)).length;null!=e&&n<i;)e=e[Ci(t[n++])];return n&&n==i?e:Br}function gt(e,t,n){t=t(e);return U(e)?t:cs(t,n(e))}function n(e){{if(null==e)return e===Br?"[object Undefined]":"[object Null]";if(le&&le in g(e)){var t=e,n=z.call(t,le),i=t[le];try{t[le]=Br;var o=!0}catch(e){}var r=K.call(t);return o&&(n?t[le]=i:delete t[le]),r}return K.call(e)}}function mt(e,t){return t<e}function vt(e,t){return null!=e&&z.call(e,t)}function yt(e,t){return null!=e&&t in g(e)}function Dt(e,t,n){for(var i=n?Oa:ja,o=e[0].length,r=e.length,s=r,a=C(r),l=1/0,u=[];s--;){var c=e[s];s&&t&&(c=us(c,ds(t))),l=M(c.length,l),a[s]=!n&&(t||120<=o&&120<=c.length)?new Ye(s&&c):Br}var c=e[0],f=-1,d=a[0];e:for(;++f<o&&u.length<l;){var h=c[f],p=t?t(h):h,h=n||0!==h?h:0;if(!(d?Za(d,p):i(u,p,n))){for(s=r;--s;){var g=a[s];if(!(g?Za(g,p):i(e[s],p,n)))continue e}d&&d.push(p),u.push(h)}}return u}function _t(e,t,n){t=null==(e=di(e,t=sn(t,e)))?e:e[Ci(i(t))];return null==t?Br:ss(t,e,n)}function bt(e){return B(e)&&n(e)==Qr}function Ct(e,t,n,i,o){{if(e===t)return!0;if(null==e||null==t||!B(e)&&!B(t))return e!=e&&t!=t;var r=Ct,s=U(e),a=U(t),l=s?Cs:P(e),a=a?Cs:P(t),u=(l=l==Qr?Kr:l)==Kr,c=(a=a==Qr?Kr:a)==Kr,a;if((a=l==a)&&_o(e)){if(!_o(t))return!1;u=!(s=!0)}if(a&&!u){o=o||new F;if(s||So(e))return Hn(e,t,n,i,r,o);else{var f=e;var d=t;var h=l;var p=n;var g=i;var m=r;var v=o;switch(h){case ns:if(f.byteLength!=d.byteLength||f.byteOffset!=d.byteOffset)return!1;f=f.buffer,d=d.buffer;case ts:return f.byteLength==d.byteLength&&m(new ee(f),new ee(d))?!0:!1;case Vr:case Gr:case Zr:return R(+f,+d);case Ms:return f.name==d.name&&f.message==d.message;case Jr:case $r:return f==d+"";case qr:var y=tl;case Xr:var D=1&p;if(y=y||il,f.size!=d.size&&!D)return!1;D=v.get(f);if(D)return D==d;p|=2,v.set(f,d);D=Hn(y(f),y(d),p,g,m,v);return v.delete(f),D;case ks:if(Oe)return Oe.call(f)==Oe.call(d)}return!1;return}}if(!(1&n)){s=u&&z.call(e,"__wrapped__"),l=c&&z.call(t,"__wrapped__");if(s||l)return u=s?e.value():e,c=l?t.value():t,o=o||new F,r(u,c,n,i,o)}if(a){o=o||new F;var _=e,b=t,C=n,M=i,w=r,A=o,I=1&C,k=Qn(_),T=k.length,s=Qn(b).length;if(T!=s&&!I)return!1;for(var x=T;x--;){var E=k[x];if(!(I?E in b:z.call(b,E)))return!1}s=A.get(_),l=A.get(b);if(s&&l)return s==b&&l==_;for(var S=!0,N=(A.set(_,b),A.set(b,_),I);++x<T;){E=k[x];var j,O=_[E],L=b[E];if(!((j=M?I?M(L,O,E,b,_,A):M(O,L,E,_,b,A):j)===Br?O===L||w(O,L,C,M,A):j)){S=!1;break}N=N||"constructor"==E}return S&&!N&&(s=_.constructor,l=b.constructor,s!=l&&"constructor"in _&&"constructor"in b&&!("function"==typeof s&&s instanceof s&&"function"==typeof l&&l instanceof l)&&(S=!1)),A.delete(_),A.delete(b),S}return!1}}function Mt(e,t,n,i){var o=n.length,r=o,s=!i;if(null==e)return!r;for(e=g(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<r;){var l=(a=n[o])[0],u=e[l],c=a[1];if(s&&a[2]){if(u===Br&&!(l in e))return!1}else{var f,d=new F;if(!((f=i?i(u,c,l,e,t,d):f)===Br?Ct(c,u,3,i,d):f))return!1}}return!0}function wt(e){return!(!A(e)||(t=e,Z&&Z in t))&&(Co(e)?$:ua).test(Mi(e));var t}function At(e){return"function"==typeof e?e:null==e?S:"object"==typeof e?U(e)?St(e[0],e[1]):Et(e):Tr(e)}function It(e){if(!li(e))return ye(e);var t,n=[];for(t in g(e))z.call(e,t)&&"constructor"!=t&&n.push(t);return n}function kt(e){if(!A(e)){var t=e,n=[];if(null!=t)for(var i in g(t))n.push(i);return n}var o,r=li(e),s=[];for(o in e)("constructor"!=o||!r&&z.call(e,o))&&s.push(o);return s}function Tt(e,t){return e<t}function xt(e,i){var o=-1,r=c(e)?C(e.length):[];return ot(e,function(e,t,n){r[++o]=i(e,t,n)}),r}function Et(t){var n=Jn(t);return 1==n.length&&n[0][2]?ci(n[0][0],n[0][1]):function(e){return e===t||Mt(e,t,n)}}function St(n,i){return ri(n)&&ui(i)?ci(Ci(n),i):function(e){var t=Qo(e,n);return t===Br&&t===i?Vo(e,n):Ct(i,t,3)}}function Nt(g,m,v,y,D){g!==m&&ut(m,function(e,t){var n,i,o,r,s,a,l,u,c,f,d,h,p;D=D||new F,A(e)?(i=m,r=v,s=Nt,a=y,l=D,d=hi(n=g,o=t),h=hi(i,o),(p=l.get(h))?Ge(n,o,p):(p=a?a(d,h,o+"",n,i,l):Br,(i=p===Br)&&(u=U(h),c=!u&&_o(h),f=!u&&!c&&So(h),p=h,u||c||f?p=U(d)?d:b(d)?w(d):c?cn(h,!(i=!1)):f?dn(h,!(i=!1)):[]:ko(h)||yo(h)?yo(p=d)?p=Fo(d):A(d)&&!Co(d)||(p=ni(h)):i=!1),i&&(l.set(h,p),s(p,h,r,a,l),l.delete(h)),Ge(n,o,p))):(u=y?y(hi(g,t),e,t+"",g,m,D):Br,Ge(g,t,u=u===Br?e:u))},E)}function jt(e,t){var n=e.length;if(n)return oi(t+=t<0?n:0,n)?e[t]:Br}function Ot(e,i,c){i=i.length?us(i,function(t){return U(t)?function(e){return pt(e,1===t.length?t[0]:t)}:t}):[S];var o=-1;i=us(i,ds(f()));var t=xt(e,function(t,e,n){return{criteria:us(i,function(e){return e(t)}),index:++o,value:t}}),e=function(e,t){for(var n=c,i=-1,o=e.criteria,r=t.criteria,s=o.length,a=n.length;++i<s;){var l=hn(o[i],r[i]);if(l){if(a<=i)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index},n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Lt(e,t,n){for(var i=-1,o=t.length,r={};++i<o;){var s=t[i],a=pt(e,s);n(a,s)&&Yt(r,sn(s,e),a)}return r}function zt(e,t,n,i){var o=i?Ua:fs,r=-1,s=t.length,a=e;for(e===t&&(t=w(t)),n&&(a=us(e,ds(n)));++r<s;)for(var l=0,u=t[r],c=n?n(u):u;-1<(l=o(a,c,l,i));)a!==e&&re.call(a,l,1),re.call(e,l,1);return e}function Ft(e,t){for(var n=e?t.length:0,i=n-1;n--;){var o,r=t[n];n!=i&&r===o||(oi(o=r)?re.call(e,r,1):Jt(e,r))}}function Pt(e,t){return e+pe(be()*(t-e+1))}function Rt(e,t){var n="";if(!e||t<1||Hr<t)return n;for(;t%2&&(n+=e),(t=pe(t/2))&&(e+=e),t;);return n}function s(e,t){return mi(fi(e,t,S),e+"")}function Ut(e){return We(ir(e))}function Bt(e,t){e=ir(e);return Di(e,et(t,0,e.length))}function Yt(e,t,n,i){if(!A(e))return e;for(var o=-1,r=(t=sn(t,e)).length,s=r-1,a=e;null!=a&&++o<r;){var l,u=Ci(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;o!=s&&(l=a[u],(c=i?i(l,u,a):Br)===Br&&(c=A(l)?l:oi(t[o+1])?[]:{})),qe(a,u,c),a=a[u]}return e}var Ht=ke?function(e,t){return ke.set(e,t),e}:S,t=ue?function(e,t){return ue(e,"toString",{configurable:!0,enumerable:!1,value:vr(t),writable:!0})}:S;function Wt(e){return Di(ir(e))}function a(e,t,n){for(var i=-1,o=e.length,r=((n=o<n?o:n)<0&&(n+=o),o=n<(t=t<0?o<-t?0:o+t:t)?0:n-t>>>0,t>>>=0,C(o));++i<o;)r[i]=e[i+t];return r}function Qt(e,i){var o;return ot(e,function(e,t,n){return!(o=i(e,t,n))}),!!o}function Vt(e,t,n){var i=0,o=null==e?i:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;i<o;){var r=i+o>>>1,s=e[r];null!==s&&!I(s)&&(n?s<=t:s<t)?i=1+r:o=r}return o}return Gt(e,t,S,n)}function Gt(e,t,n,i){var o=0,r=null==e?0:e.length;if(0===r)return 0;for(var s=(t=n(t))!=t,a=null===t,l=I(t),u=t===Br;o<r;){var c=pe((o+r)/2),f=n(e[c]),d=f!==Br,h=null===f,p=f==f,g=I(f),p=s?i||p:u?p&&(i||d):a?p&&d&&(i||!h):l?p&&d&&!h&&(i||!g):!h&&!g&&(i?f<=t:f<t);p?o=c+1:r=c}return M(r,4294967294)}function qt(e,t){for(var n=-1,i=e.length,o=0,r=[];++n<i;){var s,a=e[n],l=t?t(a):a;n&&R(l,s)||(s=l,r[o++]=0===a?0:a)}return r}function Zt(e){return"number"==typeof e?e:I(e)?_s:+e}function u(e){if("string"==typeof e)return e;if(U(e))return us(e,u)+"";if(I(e))return Le?Le.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Kt(e,t,n){var i=-1,o=ja,r=e.length,s=!0,a=[],l=a;if(n)s=!1,o=Oa;else if(200<=r){var u=t?null:Fn(e);if(u)return il(u);s=!1,o=Za,l=new Ye}else l=t?[]:a;e:for(;++i<r;){var c=e[i],f=t?t(c):c,c=n||0!==c?c:0;if(s&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),a.push(c)}else o(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}function Jt(e,t){return null==(e=di(e,t=sn(t,e)))||delete e[Ci(i(t))]}function Xt(e,t,n,i){return Yt(e,t,n(pt(e,t)),i)}function $t(e,t,n,i){for(var o=e.length,r=i?o:-1;(i?r--:++r<o)&&t(e[r],r,e););return n?a(e,i?0:r,i?r+1:o):a(e,i?r+1:0,i?o:r)}function en(e,t){var n=e;return La(t,function(e,t){return t.func.apply(t.thisArg,cs([e],t.args))},n=e instanceof v?e.value():n)}function tn(e,t,n){var i=e.length;if(i<2)return i?Kt(e[0]):[];for(var o=-1,r=C(i);++o<i;)for(var s=e[o],a=-1;++a<i;)a!=o&&(r[o]=it(r[o]||s,e[a],t,n));return Kt(l(r,1),t,n)}function nn(e,t,n){for(var i=-1,o=e.length,r=t.length,s={};++i<o;){var a=i<r?t[i]:Br;n(s,e[i],a)}return s}function on(e){return b(e)?e:[]}function rn(e){return"function"==typeof e?e:S}function sn(e,t){return U(e)?e:ri(e,t)?[e]:bi(h(e))}var an=s;function ln(e,t,n){var i=e.length;return n=n===Br?i:n,!t&&i<=n?e:a(e,t,n)}var un=ce||function(e){return rs.clearTimeout(e)};function cn(e,t){if(t)return e.slice();t=e.length,t=te?te(t):new e.constructor(t);return e.copy(t),t}function fn(e){var t=new e.constructor(e.byteLength);return new ee(t).set(new ee(e)),t}function dn(e,t){t=t?fn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function hn(e,t){if(e!==t){var n=e!==Br,i=null===e,o=e==e,r=I(e),s=t!==Br,a=null===t,l=t==t,u=I(t);if(!a&&!u&&!r&&t<e||r&&s&&l&&!a&&!u||i&&s&&l||!n&&l||!o)return 1;if(!i&&!r&&!u&&e<t||u&&n&&o&&!i&&!r||a&&n&&o||!s&&o||!l)return-1}return 0}function pn(e,t,n,i){for(var o=-1,r=e.length,s=n.length,a=-1,l=t.length,u=D(r-s,0),c=C(l+u),f=!i;++a<l;)c[a]=t[a];for(;++o<s;)(f||o<r)&&(c[n[o]]=e[o]);for(;u--;)c[a++]=e[o++];return c}function gn(e,t,n,i){for(var o=-1,r=e.length,s=-1,a=n.length,l=-1,u=t.length,c=D(r-a,0),f=C(c+u),d=!i;++o<c;)f[o]=e[o];for(var h=o;++l<u;)f[h+l]=t[l];for(;++s<a;)(d||o<r)&&(f[h+n[s]]=e[o++]);return f}function w(e,t){var n=-1,i=e.length;for(t=t||C(i);++n<i;)t[n]=e[n];return t}function mn(e,t,n,i){for(var o=!n,r=(n=n||{},-1),s=t.length;++r<s;){var a=t[r],l=i?i(n[a],e[a],a,n,e):Br;(o?Xe:qe)(n,a,l=l===Br?e[a]:l)}return n}function vn(o,r){return function(e,t){var n=U(e)?Ea:Ke,i=r?r():{};return n(e,o,f(t,2),i)}}function yn(a){return s(function(e,t){var n=-1,i=t.length,o=1<i?t[i-1]:Br,r=2<i?t[2]:Br,o=3<a.length&&"function"==typeof o?(i--,o):Br;for(r&&d(t[0],t[1],r)&&(o=i<3?Br:o,i=1),e=g(e);++n<i;){var s=t[n];s&&a(e,s,n,o)}return e})}function Dn(r,s){return function(e,t){if(null==e)return e;if(!c(e))return r(e,t);for(var n=e.length,i=s?n:-1,o=g(e);(s?i--:++i<n)&&!1!==t(o[i],i,o););return e}}function _n(l){return function(e,t,n){for(var i=-1,o=g(e),r=n(e),s=r.length;s--;){var a=r[l?s:++i];if(!1===t(o[a],a,o))break}return e}}function bn(i){return function(e){var t=hs(e=h(e))?ms(e):Br,n=t?t[0]:e.charAt(0),t=t?ln(t,1).join(""):e.slice(1);return n[i]()+t}}function Cn(t){return function(e){return La(pr(sr(e).replace(ga,"")),t,"")}}function Mn(i){return function(){var e=arguments;switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3]);case 5:return new i(e[0],e[1],e[2],e[3],e[4]);case 6:return new i(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=ze(i.prototype),n=i.apply(t,e);return A(n)?n:t}}function wn(r,s,a){var l=Mn(r);return function e(){for(var t=arguments.length,n=C(t),i=t,o=Zn(e);i--;)n[i]=arguments[i];o=t<3&&n[0]!==o&&n[t-1]!==o?[]:ps(n,o);return(t-=o.length)<a?Ln(r,s,kn,e.placeholder,Br,n,o,Br,Br,a-t):ss(this&&this!==rs&&this instanceof e?l:r,this,n)}}function An(r){return function(e,t,n){var i,o=g(e),t=(c(e)||(i=f(t,3),e=x(e),t=function(e){return i(o[e],e,o)}),r(e,t,n));return-1<t?o[i?e[t]:t]:Br}}function In(l){return Wn(function(o){var r=o.length,e=r,t=m.prototype.thru;for(l&&o.reverse();e--;){var n=o[e];if("function"!=typeof n)throw new y(Yr);t&&!a&&"wrapper"==qn(n)&&(a=new m([],!0))}for(e=a?e:r;++e<r;)var i=qn(n=o[e]),s="wrapper"==i?Gn(n):Br,a=s&&si(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[qn(s[0])].apply(a,s[3]):1==n.length&&si(n)?a[i]():a.thru(n);return function(){var e=arguments,t=e[0];if(a&&1==e.length&&U(t))return a.plant(t).value();for(var n=0,i=r?o[n].apply(this,e):t;++n<r;)i=o[n].call(this,i);return i}})}function kn(s,a,l,u,c,f,d,h,p,g){var m=128&a,v=1&a,y=2&a,D=24&a,_=512&a,b=y?Br:Mn(s);return function e(){for(var t=C(r=arguments.length),n=r;n--;)t[n]=arguments[n];if(D&&(o=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(t,i=Zn(e))),u&&(t=pn(t,u,c,D)),f&&(t=gn(t,f,d,D)),r-=o,D&&r<g)return o=ps(t,i),Ln(s,a,kn,e.placeholder,l,t,o,h,p,g-r);var i=v?l:this,o=y?i[s]:s,r=t.length;return h?t=function(e,t){for(var n=e.length,i=M(t.length,n),o=w(e);i--;){var r=t[i];e[i]=oi(r,n)?o[r]:Br}return e}(t,h):_&&1<r&&t.reverse(),m&&p<r&&(t.length=p),(o=this&&this!==rs&&this instanceof e?b||Mn(o):o).apply(i,t)}}function Tn(n,s){return function(e,t){return e=e,i=n,o=s(t),r={},ft(e,function(e,t,n){i(r,o(e),t,n)}),r;var i,o,r}}function xn(i,o){return function(e,t){var n;if(e===Br&&t===Br)return o;if(e!==Br&&(n=e),t!==Br){if(n===Br)return t;t="string"==typeof e||"string"==typeof t?(e=u(e),u(t)):(e=Zt(e),Zt(t)),n=i(e,t)}return n}}function En(i){return Wn(function(e){return e=us(e,ds(f())),s(function(t){var n=this;return i(e,function(e){return ss(e,n,t)})})})}function Sn(e,t){var n=(t=t===Br?" ":u(t)).length;if(n<2)return n?Rt(t,e):t;n=Rt(t,he(e/gs(t)));return hs(t)?ln(ms(n),0,e).join(""):n.slice(0,e)}function Nn(a,e,l,u){var c=1&e,f=Mn(a);return function e(){for(var t=-1,n=arguments.length,i=-1,o=u.length,r=C(o+n),s=this&&this!==rs&&this instanceof e?f:a;++i<o;)r[i]=u[i];for(;n--;)r[i++]=arguments[++t];return ss(s,c?l:this,r)}}function jn(u){return function(e,t,n){n&&"number"!=typeof n&&d(e,t,n)&&(t=n=Br),e=Lo(e),t===Br?(t=e,e=0):t=Lo(t),n=n===Br?e<t?1:-1:Lo(n);for(var i=e,o=n,r=u,s=-1,a=D(he((t-i)/(o||1)),0),l=C(a);a--;)l[r?a:++s]=i,i+=o;return l}}function On(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=T(e),t=T(t)),n(e,t)}}function Ln(e,t,n,i,o,r,s,a,l,u){var c=8&t,o=(4&(t=(t|(c?32:64))&~(c?64:32))||(t&=-4),[e,t,o,c?r:Br,c?s:Br,c?Br:r,c?Br:s,a,l,u]),r=n.apply(Br,o);return si(e)&&pi(r,o),r.placeholder=i,vi(r,e,t)}function zn(e){var i=O[e];return function(e,t){var n;return e=T(e),(t=null==t?0:M(k(t),292))&&me(e)?(n=(h(e)+"e").split("e"),+((n=(h(i(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))):i(e)}}var Fn=Ae&&1/il(new Ae([,-0]))[1]==1/0?function(e){return new Ae(e)}:wr;function Pn(r){return function(e){var t,n,i,o=P(e);return o==qr?tl(e):o==Xr?(o=e,t=-1,n=Array(o.size),o.forEach(function(e){n[++t]=[e,e]}),n):us(r(i=e),function(e){return[e,i[e]]})}}function Rn(e,t,n,i,o,r,s,a){var l=2&t;if(!l&&"function"!=typeof e)throw new y(Yr);var u,c,f,d,h,p=i?i.length:0,g=(p||(t&=-97,i=o=Br),s=s===Br?s:D(k(s),0),a=a===Br?a:k(a),p-=o?o.length:0,64&t&&(m=i,u=o,i=o=Br),l?Br:Gn(e)),m=[e,t,n,i,o,m,u,r,s,a];return g&&function(e,t){var n=e[1],i=t[1],o=n|i,r=o<131,s=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!r&&!s)return;1&i&&(e[2]=t[2],o|=1&n?0:4);r=t[3];{var a;r&&(a=e[3],e[3]=a?pn(a,r,t[4]):r,e[4]=a?ps(e[3],Ds):t[4])}(r=t[5])&&(a=e[5],e[5]=a?gn(a,r,t[6]):r,e[6]=a?ps(e[5],Ds):t[6]);(r=t[7])&&(e[7]=r);128&i&&(e[8]=null==e[8]?t[8]:M(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(m,g),e=m[0],t=m[1],n=m[2],i=m[3],o=m[4],!(a=m[9]=m[9]===Br?l?0:e.length:D(m[9]-p,0))&&24&t&&(t&=-25),u=t&&1!=t?8==t||16==t?wn(e,t,a):32!=t&&33!=t||o.length?kn.apply(Br,m):Nn(e,t,n,i):(f=n,d=1&t,h=Mn(c=e),function e(){return(this&&this!==rs&&this instanceof e?h:c).apply(d?f:this,arguments)}),vi((g?Ht:pi)(u,m),e,t)}function Un(e,t,n,i){return e===Br||R(e,Q[n])&&!z.call(i,n)?t:e}function Bn(e,t,n,i,o,r){return A(e)&&A(t)&&(r.set(t,e),Nt(e,t,Br,Bn,r),r.delete(t)),e}function Yn(e){return ko(e)?Br:e}function Hn(e,t,n,i,o,r){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&a<l))return!1;var l=r.get(e),u=r.get(t);if(l&&u)return l==t&&u==e;var c=-1,f=!0,d=2&n?new Ye:Br;for(r.set(e,t),r.set(t,e);++c<a;){var h,p=e[c],g=t[c];if((h=i?s?i(g,p,c,t,e,r):i(p,g,c,e,t,r):h)!==Br){if(h)continue;f=!1;break}if(d){if(!Fa(t,function(e,t){return!Za(d,t)&&(p===e||o(p,e,n,i,r))&&d.push(t)})){f=!1;break}}else if(p!==g&&!o(p,g,n,i,r)){f=!1;break}}return r.delete(e),r.delete(t),f}function Wn(e){return mi(fi(e,Br,ki),e+"")}function Qn(e){return gt(e,x,$n)}function Vn(e){return gt(e,E,ei)}var Gn=ke?function(e){return ke.get(e)}:wr;function qn(e){for(var t=e.name+"",n=Te[t],i=z.call(Te,t)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==e)return o.name}return t}function Zn(e){return(z.call(p,"placeholder")?p:e).placeholder}function f(){var e=(e=p.iteratee||_r)===_r?At:e;return arguments.length?e(arguments[0],arguments[1]):e}function Kn(e,t){var n,i,e=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?e["string"==typeof t?"string":"hash"]:e.map}function Jn(e){for(var t=x(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,ui(o)]}return t}function Xn(e,t){t=t;e=null==(e=e)?Br:e[t];return wt(e)?e:Br}var $n=ge?function(t){return null==t?[]:(t=g(t),ls(ge(t),function(e){return oe.call(t,e)}))}:Sr,ei=ge?function(e){for(var t=[];e;)cs(t,$n(e)),e=ne(e);return t}:Sr,P=n;function ti(e,t,n){for(var i=-1,o=(t=sn(t,e)).length,r=!1;++i<o;){var s=Ci(t[i]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}return r||++i!=o?r:!!(o=null==e?0:e.length)&&wo(o)&&oi(s,o)&&(U(e)||yo(e))}function ni(e){return"function"!=typeof e.constructor||li(e)?{}:ze(ne(e))}function ii(e){return U(e)||yo(e)||!!(se&&e&&e[se])}function oi(e,t){var n=typeof e;return!!(t=null==t?Hr:t)&&("number"==n||"symbol"!=n&&fa.test(e))&&-1<e&&e%1==0&&e<t}function d(e,t,n){var i;if(A(n))return i=typeof t,("number"==i?c(n)&&oi(t,n.length):"string"==i&&t in n)&&R(n[t],e)}function ri(e,t){var n;if(!U(e))return n=typeof e,"number"==n||"symbol"==n||"boolean"==n||null==e||I(e)||(qs.test(e)||!Gs.test(e)||null!=t&&e in g(t))}function si(e){var t=qn(e),n=p[t];if("function"==typeof n&&t in v.prototype){if(e===n)return 1;t=Gn(n);return t&&e===t[0]}}(r&&P(new r(new ArrayBuffer(1)))!=ns||Me&&P(new Me)!=qr||we&&P(we.resolve())!=Is||Ae&&P(new Ae)!=Xr||e&&P(new e)!=es)&&(P=function(e){var t=n(e),e=t==Kr?e.constructor:Br,e=e?Mi(e):"";if(e)switch(e){case xe:return ns;case Ee:return qr;case Se:return Is;case Ne:return Xr;case je:return es}return t});var ai=V?Co:Nr;function li(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Q)}function ui(e){return e==e&&!A(e)}function ci(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==Br||t in g(e)))}}function fi(r,s,a){return s=D(s===Br?r.length-1:s,0),function(){for(var e=arguments,t=-1,n=D(e.length-s,0),i=C(n);++t<n;)i[t]=e[s+t];for(var t=-1,o=C(s+1);++t<s;)o[t]=e[t];return o[s]=a(i),ss(r,this,o)}}function di(e,t){return t.length<2?e:pt(e,a(t,0,-1))}function hi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var pi=yi(Ht),gi=de||function(e,t){return rs.setTimeout(e,t)},mi=yi(t);function vi(e,t,n){var i,o,t=t+"";return mi(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(1<n?"& ":"")+t[i],t=t.join(2<n?", ":" "),e.replace($s,"{\n/* [wrapped with "+t+"] */\n")}(t,(i=(e=(e=t).match(ea))?e[1].split(ta):[],o=n,as(bs,function(e){var t="_."+e[0];o&e[1]&&!ja(i,t)&&i.push(t)}),i.sort())))}function yi(n){var i=0,o=0;return function(){var e=De(),t=16-(e-o);if(o=e,0<t){if(800<=++i)return arguments[0]}else i=0;return n.apply(Br,arguments)}}function Di(e,t){var n=-1,i=e.length,o=i-1;for(t=t===Br?i:t;++n<t;){var r=Pt(n,o),s=e[r];e[r]=e[n],e[n]=s}return e.length=t,e}_i=(ce=co(ce=function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(Zs,function(e,t,n,i){o.push(n?i.replace(oa,"$1"):t||e)}),o},function(e){return 500===_i.size&&_i.clear(),e})).cache;var _i,bi=ce;function Ci(e){if("string"==typeof e||I(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Mi(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function wi(e){if(e instanceof v)return e.clone();var t=new m(e.__wrapped__,e.__chain__);return t.__actions__=w(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}r=s(function(e,t){return b(e)?it(e,l(t,1,b,!0)):[]}),we=s(function(e,t){var n=i(t);return b(n)&&(n=Br),b(e)?it(e,l(t,1,b,!0),f(n,2)):[]}),e=s(function(e,t){var n=i(t);return b(n)&&(n=Br),b(e)?it(e,l(t,1,b,!0),Br,n):[]});function Ai(e,t,n){var i=null==e?0:e.length;if(!i)return-1;n=null==n?0:k(n);return n<0&&(n=D(i+n,0)),Ra(e,f(t,3),n)}function Ii(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==Br&&(o=k(n),o=n<0?D(i+o,0):M(o,i-1)),Ra(e,f(t,3),o,!0)}function ki(e){return(null==e?0:e.length)?l(e,1):[]}function Ti(e){return e&&e.length?e[0]:Br}V=s(function(e){var t=us(e,on);return t.length&&t[0]===e[0]?Dt(t):[]}),de=s(function(e){var t=i(e),n=us(e,on);return t===i(n)?t=Br:n.pop(),n.length&&n[0]===e[0]?Dt(n,f(t,2)):[]}),t=s(function(e){var t=i(e),n=us(e,on);return(t="function"==typeof t?t:Br)&&n.pop(),n.length&&n[0]===e[0]?Dt(n,Br,t):[]});function i(e){var t=null==e?0:e.length;return t?e[t-1]:Br}ce=s(xi);function xi(e,t){return e&&e.length&&t&&t.length?zt(e,t):e}var Ei=Wn(function(e,t){var n=null==e?0:e.length,i=$e(e,t);return Ft(e,us(t,function(e){return oi(e,n)?+e:e}).sort(hn)),i});function Si(e){return null==e?e:Ce.call(e)}var Ni=s(function(e){return Kt(l(e,1,b,!0))}),ji=s(function(e){var t=i(e);return b(t)&&(t=Br),Kt(l(e,1,b,!0),f(t,2))}),Oi=s(function(e){var t="function"==typeof(t=i(e))?t:Br;return Kt(l(e,1,b,!0),Br,t)});function Li(t){if(!t||!t.length)return[];var n=0;return t=ls(t,function(e){return b(e)&&(n=D(e.length,n),1)}),Va(n,function(e){return us(t,Ha(e))})}function zi(e,t){if(!e||!e.length)return[];e=Li(e);return null==t?e:us(e,function(e){return ss(t,Br,e)})}var Fi=s(function(e,t){return b(e)?it(e,t):[]}),Pi=s(function(e){return tn(ls(e,b))}),Ri=s(function(e){var t=i(e);return b(t)&&(t=Br),tn(ls(e,b),f(t,2))}),Ui=s(function(e){var t="function"==typeof(t=i(e))?t:Br;return tn(ls(e,b),Br,t)}),Bi=s(Li);var Yi=s(function(e){var t=e.length,t="function"==typeof(t=1<t?e[t-1]:Br)?(e.pop(),t):Br;return zi(e,t)});function Hi(e){e=p(e);return e.__chain__=!0,e}function Wi(e,t){return t(e)}var Qi=Wn(function(t){function e(e){return $e(e,t)}var n=t.length,i=n?t[0]:0,o=this.__wrapped__;return!(1<n||this.__actions__.length)&&o instanceof v&&oi(i)?((o=o.slice(i,+i+(n?1:0))).__actions__.push({func:Wi,args:[e],thisArg:Br}),new m(o,this.__chain__).thru(function(e){return n&&!e.length&&e.push(Br),e})):this.thru(e)});var Vi=vn(function(e,t,n){z.call(e,n)?++e[n]:Xe(e,n,1)});var Gi=An(Ai),qi=An(Ii);function Zi(e,t){return(U(e)?as:ot)(e,f(t,3))}function Ki(e,t){return(U(e)?Sa:rt)(e,f(t,3))}var Ji=vn(function(e,t,n){z.call(e,n)?e[n].push(t):Xe(e,n,[t])});var Xi=s(function(e,t,n){var i=-1,o="function"==typeof t,r=c(e)?C(e.length):[];return ot(e,function(e){r[++i]=o?ss(t,e,n):_t(e,t,n)}),r}),$i=vn(function(e,t,n){Xe(e,n,t)});function eo(e,t){return(U(e)?us:xt)(e,f(t,3))}var to=vn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var no=s(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&d(e,t[0],t[1])?t=[]:2<n&&d(t[0],t[1],t[2])&&(t=[t[0]]),Ot(e,l(t,1),[])}),io=fe||function(){return rs.Date.now()};function oo(e,t,n){return t=n?Br:t,t=e&&null==t?e.length:t,Rn(e,128,Br,Br,Br,Br,t)}function ro(e,t){var n;if("function"!=typeof t)throw new y(Yr);return e=k(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=Br),n}}var so=s(function(e,t,n){var i,o=1;return n.length&&(i=ps(n,Zn(so)),o|=32),Rn(e,o,t,n,i)}),ao=s(function(e,t,n){var i,o=3;return n.length&&(i=ps(n,Zn(ao)),o|=32),Rn(t,o,e,n,i)});function lo(i,n,e){var o,r,s,a,l,u,c=0,f=!1,d=!1,t=!0;if("function"!=typeof i)throw new y(Yr);function h(e){var t=o,n=r;return o=r=Br,c=e,a=i.apply(n,t)}function p(e){var t=e-u;return u===Br||n<=t||t<0||d&&s<=e-c}function g(){var e,t=io();if(p(t))return m(t);l=gi(g,(e=n-((t=t)-u),d?M(e,s-(t-c)):e))}function m(e){return l=Br,t&&o?h(e):(o=r=Br,a)}function v(){var e=io(),t=p(e);if(o=arguments,r=this,u=e,t){if(l===Br)return c=e=u,l=gi(g,n),f?h(e):a;if(d)return un(l),l=gi(g,n),h(u)}return l===Br&&(l=gi(g,n)),a}return n=T(n)||0,A(e)&&(f=!!e.leading,d="maxWait"in e,s=d?D(T(e.maxWait)||0,n):s,t="trailing"in e?!!e.trailing:t),v.cancel=function(){l!==Br&&un(l),c=0,o=u=r=l=Br},v.flush=function(){return l===Br?a:m(io())},v}var fe=s(function(e,t){return nt(e,1,t)}),uo=s(function(e,t,n){return nt(e,T(t)||0,n)});function co(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new y(Yr);function r(){var e=arguments,t=o?o.apply(this,e):e[0],n=r.cache;return n.has(t)?n.get(t):(e=i.apply(this,e),r.cache=n.set(t,e)||n,e)}return r.cache=new(co.Cache||Be),r}function fo(t){if("function"!=typeof t)throw new y(Yr);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}co.Cache=Be;var an=an(function(i,o){var r=(o=1==o.length&&U(o[0])?us(o[0],ds(f())):us(l(o,1),ds(f()))).length;return s(function(e){for(var t=-1,n=M(e.length,r);++t<n;)e[t]=o[t].call(this,e[t]);return ss(i,this,e)})}),ho=s(function(e,t){var n=ps(t,Zn(ho));return Rn(e,32,Br,t,n)}),po=s(function(e,t){var n=ps(t,Zn(po));return Rn(e,64,Br,t,n)}),go=Wn(function(e,t){return Rn(e,256,Br,Br,Br,t)});function R(e,t){return e===t||e!=e&&t!=t}var mo=On(mt),vo=On(function(e,t){return t<=e}),yo=bt(function(){return arguments}())?bt:function(e){return B(e)&&z.call(e,"callee")&&!oe.call(e,"callee")},U=C.isArray,Do=wa?ds(wa):function(e){return B(e)&&n(e)==ts};function c(e){return null!=e&&wo(e.length)&&!Co(e)}function b(e){return B(e)&&c(e)}var _o=W||Nr,W=Aa?ds(Aa):function(e){return B(e)&&n(e)==Gr};function bo(e){if(!B(e))return!1;var t=n(e);return t==Ms||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ko(e)}function Co(e){if(!A(e))return!1;e=n(e);return e==ws||e==As||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Mo(e){return"number"==typeof e&&e==k(e)}function wo(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Hr}function A(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function B(e){return null!=e&&"object"==typeof e}var Ao=Ia?ds(Ia):function(e){return B(e)&&P(e)==qr};function Io(e){return"number"==typeof e||B(e)&&n(e)==Zr}function ko(e){if(!B(e)||n(e)!=Kr)return!1;e=ne(e);if(null===e)return!0;e=z.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&G.call(e)==J}var To=ka?ds(ka):function(e){return B(e)&&n(e)==Jr};var xo=Ta?ds(Ta):function(e){return B(e)&&P(e)==Xr};function Eo(e){return"string"==typeof e||!U(e)&&B(e)&&n(e)==$r}function I(e){return"symbol"==typeof e||B(e)&&n(e)==ks}var So=xa?ds(xa):function(e){return B(e)&&wo(e.length)&&!!is[n(e)]};var No=On(Tt),jo=On(function(e,t){return e<=t});function Oo(e){if(!e)return[];if(c(e))return(Eo(e)?ms:w)(e);if(ae&&e[ae]){for(var t,n=e[ae](),i=[];!(t=n.next()).done;)i.push(t.value);return i}var o=P(e);return(o==qr?tl:o==Xr?il:ir)(e)}function Lo(e){return e?(e=T(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function k(e){var e=Lo(e),t=e%1;return e==e?t?e-t:e:0}function zo(e){return e?et(k(e),0,Wr):0}function T(e){if("number"==typeof e)return e;if(I(e))return _s;if("string"!=typeof(e=A(e)?A(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=Ga(e);var t=la.test(e);return t||ca.test(e)?Ca(e.slice(2),t?2:8):aa.test(e)?_s:+e}function Fo(e){return mn(e,E(e))}function h(e){return null==e?"":u(e)}var Po=yn(function(e,t){if(li(t)||c(t))mn(t,x(t),e);else for(var n in t)z.call(t,n)&&qe(e,n,t[n])}),Ro=yn(function(e,t){mn(t,E(t),e)}),Uo=yn(function(e,t,n,i){mn(t,E(t),e,i)}),Bo=yn(function(e,t,n,i){mn(t,x(t),e,i)}),Yo=Wn($e);var Ho=s(function(e,t){e=g(e);var n=-1,i=t.length,o=2<i?t[2]:Br;for(o&&d(t[0],t[1],o)&&(i=1);++n<i;)for(var r=t[n],s=E(r),a=-1,l=s.length;++a<l;){var u=s[a],c=e[u];(c===Br||R(c,Q[u])&&!z.call(e,u))&&(e[u]=r[u])}return e}),Wo=s(function(e){return e.push(Br,Bn),ss(Jo,Br,e)});function Qo(e,t,n){e=null==e?Br:pt(e,t);return e===Br?n:e}function Vo(e,t){return null!=e&&ti(e,t,yt)}var Go=Tn(function(e,t,n){e[t=null!=t&&"function"!=typeof t.toString?K.call(t):t]=n},vr(S)),qo=Tn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=K.call(t)),z.call(e,t)?e[t].push(n):e[t]=[n]},f),Zo=s(_t);function x(e){return(c(e)?He:It)(e)}function E(e){return c(e)?He(e,!0):kt(e)}var Ko=yn(function(e,t,n){Nt(e,t,n)}),Jo=yn(function(e,t,n,i){Nt(e,t,n,i)}),Xo=Wn(function(t,e){var n={};if(null==t)return n;for(var i=!1,o=(e=us(e,function(e){return e=sn(e,t),i=i||1<e.length,e}),mn(t,Vn(t),n),i&&(n=_(n,7,Yn)),e.length);o--;)Jt(n,e[o]);return n});var $o=Wn(function(e,t){return null==e?{}:Lt(n=e,t,function(e,t){return Vo(n,t)});var n});function er(e,n){if(null==e)return{};var t=us(Vn(e),function(e){return[e]});return n=f(n),Lt(e,t,function(e,t){return n(e,t[0])})}var tr=Pn(x),nr=Pn(E);function ir(e){return null==e?[]:qa(e,x(e))}var or=Cn(function(e,t,n){return t=t.toLowerCase(),e+(n?rr(t):t)});function rr(e){return hr(h(e).toLowerCase())}function sr(e){return(e=h(e))&&e.replace(da,Xa).replace(ma,"")}var ar=Cn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),lr=Cn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),ur=bn("toLowerCase");var cr=Cn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var fr=Cn(function(e,t,n){return e+(n?" ":"")+hr(t)});var dr=Cn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),hr=bn("toUpperCase");function pr(e,t,n){return e=h(e),(t=n?Br:t)===Br?(n=e,ya.test(n)?e.match(va)||[]:e.match(na)||[]):e.match(t)||[]}var gr=s(function(e,t){try{return ss(e,Br,t)}catch(e){return bo(e)?e:new N(e)}}),mr=Wn(function(t,e){return as(e,function(e){e=Ci(e),Xe(t,e,so(t[e],t))}),t});function vr(e){return function(){return e}}var yr=In(),Dr=In(!0);function S(e){return e}function _r(e){return At("function"==typeof e?e:_(e,1))}var br=s(function(t,n){return function(e){return _t(e,t,n)}}),Cr=s(function(t,n){return function(e){return _t(t,e,n)}});function Mr(i,t,e){var n=x(t),o=ht(t,n),r=(null!=e||A(t)&&(o.length||!n.length)||(e=t,t=i,i=this,o=ht(t,x(t))),!(A(e)&&"chain"in e&&!e.chain)),s=Co(i);return as(o,function(e){var n=t[e];i[e]=n,s&&(i.prototype[e]=function(){var e,t=this.__chain__;return r||t?(((e=i(this.__wrapped__)).__actions__=w(this.__actions__)).push({func:n,args:arguments,thisArg:i}),e.__chain__=t,e):n.apply(i,cs([this.value()],arguments))})}),i}function wr(){}var Ar=En(us),Ir=En(Na),kr=En(Fa);function Tr(e){return ri(e)?Ha(Ci(e)):(t=e,function(e){return pt(e,t)});var t}var xr=jn(),Er=jn(!0);function Sr(){return[]}function Nr(){return!1}var jr=xn(function(e,t){return e+t},0),Or=zn("ceil"),Lr=xn(function(e,t){return e/t},1),zr=zn("floor");var Fr,Pr=xn(function(e,t){return e*t},1),Rr=zn("round"),Ur=xn(function(e,t){return e-t},0);return p.after=function(e,t){if("function"!=typeof t)throw new y(Yr);return e=k(e),function(){if(--e<1)return t.apply(this,arguments)}},p.ary=oo,p.assign=Po,p.assignIn=Ro,p.assignInWith=Uo,p.assignWith=Bo,p.at=Yo,p.before=ro,p.bind=so,p.bindAll=mr,p.bindKey=ao,p.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return U(e)?e:[e]},p.chain=Hi,p.chunk=function(e,t,n){t=(n?d(e,t,n):t===Br)?1:D(k(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,r=0,s=C(he(i/t));o<i;)s[r++]=a(e,o,o+=t);return s},p.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,o=[];++t<n;){var r=e[t];r&&(o[i++]=r)}return o},p.concat=function(){var e=arguments.length;if(!e)return[];for(var t=C(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return cs(U(n)?w(n):[n],l(t,1))},p.cond=function(i){var o=null==i?0:i.length,t=f();return i=o?us(i,function(e){if("function"!=typeof e[1])throw new y(Yr);return[t(e[0]),e[1]]}):[],s(function(e){for(var t=-1;++t<o;){var n=i[t];if(ss(n[0],this,e))return ss(n[1],this,e)}})},p.conforms=function(e){return t=_(e,1),n=x(t),function(e){return tt(e,t,n)};var t,n},p.constant=vr,p.countBy=Vi,p.create=function(e,t){return e=ze(e),null==t?e:Je(e,t)},p.curry=function e(t,n,i){t=Rn(t,8,Br,Br,Br,Br,Br,n=i?Br:n);return t.placeholder=e.placeholder,t},p.curryRight=function e(t,n,i){t=Rn(t,16,Br,Br,Br,Br,Br,n=i?Br:n);return t.placeholder=e.placeholder,t},p.debounce=lo,p.defaults=Ho,p.defaultsDeep=Wo,p.defer=fe,p.delay=uo,p.difference=r,p.differenceBy=we,p.differenceWith=e,p.drop=function(e,t,n){var i=null==e?0:e.length;return i?a(e,(t=n||t===Br?1:k(t))<0?0:t,i):[]},p.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?a(e,0,(t=i-(t=n||t===Br?1:k(t)))<0?0:t):[]},p.dropRightWhile=function(e,t){return e&&e.length?$t(e,f(t,3),!0,!0):[]},p.dropWhile=function(e,t){return e&&e.length?$t(e,f(t,3),!0):[]},p.fill=function(e,t,n,i){if(!(l=null==e?0:e.length))return[];n&&"number"!=typeof n&&d(e,t,n)&&(n=0,i=l);var o=e,r=t,s=n,a=i,l=o.length;for((s=k(s))<0&&(s=l<-s?0:l+s),(a=a===Br||l<a?l:k(a))<0&&(a+=l),a=a<s?0:zo(a);s<a;)o[s++]=r;return o},p.filter=function(e,t){return(U(e)?ls:lt)(e,f(t,3))},p.flatMap=function(e,t){return l(eo(e,t),1)},p.flatMapDeep=function(e,t){return l(eo(e,t),1/0)},p.flatMapDepth=function(e,t,n){return n=n===Br?1:k(n),l(eo(e,t),n)},p.flatten=ki,p.flattenDeep=function(e){return(null==e?0:e.length)?l(e,1/0):[]},p.flattenDepth=function(e,t){return(null==e?0:e.length)?l(e,t=t===Br?1:k(t)):[]},p.flip=function(e){return Rn(e,512)},p.flow=yr,p.flowRight=Dr,p.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var o=e[t];i[o[0]]=o[1]}return i},p.functions=function(e){return null==e?[]:ht(e,x(e))},p.functionsIn=function(e){return null==e?[]:ht(e,E(e))},p.groupBy=Ji,p.initial=function(e){return(null==e?0:e.length)?a(e,0,-1):[]},p.intersection=V,p.intersectionBy=de,p.intersectionWith=t,p.invert=Go,p.invertBy=qo,p.invokeMap=Xi,p.iteratee=_r,p.keyBy=$i,p.keys=x,p.keysIn=E,p.map=eo,p.mapKeys=function(e,i){var o={};return i=f(i,3),ft(e,function(e,t,n){Xe(o,i(e,t,n),e)}),o},p.mapValues=function(e,i){var o={};return i=f(i,3),ft(e,function(e,t,n){Xe(o,t,i(e,t,n))}),o},p.matches=function(e){return Et(_(e,1))},p.matchesProperty=function(e,t){return St(e,_(t,1))},p.memoize=co,p.merge=Ko,p.mergeWith=Jo,p.method=br,p.methodOf=Cr,p.mixin=Mr,p.negate=fo,p.nthArg=function(t){return t=k(t),s(function(e){return jt(e,t)})},p.omit=Xo,p.omitBy=function(e,t){return er(e,fo(f(t)))},p.once=function(e){return ro(2,e)},p.orderBy=function(e,t,n,i){return null==e?[]:Ot(e,t=U(t)?t:null==t?[]:[t],n=U(n=i?Br:n)?n:null==n?[]:[n])},p.over=Ar,p.overArgs=an,p.overEvery=Ir,p.overSome=kr,p.partial=ho,p.partialRight=po,p.partition=to,p.pick=$o,p.pickBy=er,p.property=Tr,p.propertyOf=function(t){return function(e){return null==t?Br:pt(t,e)}},p.pull=ce,p.pullAll=xi,p.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?zt(e,t,f(n,2)):e},p.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?zt(e,t,Br,n):e},p.pullAt=Ei,p.range=xr,p.rangeRight=Er,p.rearg=go,p.reject=function(e,t){return(U(e)?ls:lt)(e,fo(f(t,3)))},p.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,o=[],r=e.length;for(t=f(t,3);++i<r;){var s=e[i];t(s,i,e)&&(n.push(s),o.push(i))}return Ft(e,o),n},p.rest=function(e,t){if("function"!=typeof e)throw new y(Yr);return s(e,t=t===Br?t:k(t))},p.reverse=Si,p.sampleSize=function(e,t,n){return t=(n?d(e,t,n):t===Br)?1:k(t),(U(e)?Qe:Bt)(e,t)},p.set=function(e,t,n){return null==e?e:Yt(e,t,n)},p.setWith=function(e,t,n,i){return i="function"==typeof i?i:Br,null==e?e:Yt(e,t,n,i)},p.shuffle=function(e){return(U(e)?Ve:Wt)(e)},p.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n=n&&"number"!=typeof n&&d(e,t,n)?(t=0,i):(t=null==t?0:k(t),n===Br?i:k(n)),a(e,t,n)):[]},p.sortBy=no,p.sortedUniq=function(e){return e&&e.length?qt(e):[]},p.sortedUniqBy=function(e,t){return e&&e.length?qt(e,f(t,2)):[]},p.split=function(e,t,n){return n&&"number"!=typeof n&&d(e,t,n)&&(t=n=Br),(n=n===Br?Wr:n>>>0)?(e=h(e))&&("string"==typeof t||null!=t&&!To(t))&&!(t=u(t))&&hs(e)?ln(ms(e),0,n):e.split(t,n):[]},p.spread=function(n,i){if("function"!=typeof n)throw new y(Yr);return i=null==i?0:D(k(i),0),s(function(e){var t=e[i],e=ln(e,0,i);return t&&cs(e,t),ss(n,this,e)})},p.tail=function(e){var t=null==e?0:e.length;return t?a(e,1,t):[]},p.take=function(e,t,n){return e&&e.length?a(e,0,(t=n||t===Br?1:k(t))<0?0:t):[]},p.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?a(e,(t=i-(t=n||t===Br?1:k(t)))<0?0:t,i):[]},p.takeRightWhile=function(e,t){return e&&e.length?$t(e,f(t,3),!1,!0):[]},p.takeWhile=function(e,t){return e&&e.length?$t(e,f(t,3)):[]},p.tap=function(e,t){return t(e),e},p.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new y(Yr);return A(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),lo(e,t,{leading:i,maxWait:t,trailing:o})},p.thru=Wi,p.toArray=Oo,p.toPairs=tr,p.toPairsIn=nr,p.toPath=function(e){return U(e)?us(e,Ci):I(e)?[e]:w(bi(h(e)))},p.toPlainObject=Fo,p.transform=function(e,i,o){var t,n=U(e),r=n||_o(e)||So(e);return i=f(i,4),null==o&&(t=e&&e.constructor,o=r?n?new t:[]:A(e)&&Co(t)?ze(ne(e)):{}),(r?as:ft)(e,function(e,t,n){return i(o,e,t,n)}),o},p.unary=function(e){return oo(e,1)},p.union=Ni,p.unionBy=ji,p.unionWith=Oi,p.uniq=function(e){return e&&e.length?Kt(e):[]},p.uniqBy=function(e,t){return e&&e.length?Kt(e,f(t,2)):[]},p.uniqWith=function(e,t){return t="function"==typeof t?t:Br,e&&e.length?Kt(e,Br,t):[]},p.unset=function(e,t){return null==e||Jt(e,t)},p.unzip=Li,p.unzipWith=zi,p.update=function(e,t,n){return null==e?e:Xt(e,t,rn(n))},p.updateWith=function(e,t,n,i){return i="function"==typeof i?i:Br,null==e?e:Xt(e,t,rn(n),i)},p.values=ir,p.valuesIn=function(e){return null==e?[]:qa(e,E(e))},p.without=Fi,p.words=pr,p.wrap=function(e,t){return ho(rn(t),e)},p.xor=Pi,p.xorBy=Ri,p.xorWith=Ui,p.zip=Bi,p.zipObject=function(e,t){return nn(e||[],t||[],qe)},p.zipObjectDeep=function(e,t){return nn(e||[],t||[],Yt)},p.zipWith=Yi,p.entries=tr,p.entriesIn=nr,p.extend=Ro,p.extendWith=Uo,Mr(p,p),p.add=jr,p.attempt=gr,p.camelCase=or,p.capitalize=rr,p.ceil=Or,p.clamp=function(e,t,n){return n===Br&&(n=t,t=Br),n!==Br&&(n=(n=T(n))==n?n:0),t!==Br&&(t=(t=T(t))==t?t:0),et(T(e),t,n)},p.clone=function(e){return _(e,4)},p.cloneDeep=function(e){return _(e,5)},p.cloneDeepWith=function(e,t){return _(e,5,t="function"==typeof t?t:Br)},p.cloneWith=function(e,t){return _(e,4,t="function"==typeof t?t:Br)},p.conformsTo=function(e,t){return null==t||tt(e,t,x(t))},p.deburr=sr,p.defaultTo=function(e,t){return null==e||e!=e?t:e},p.divide=Lr,p.endsWith=function(e,t,n){e=h(e),t=u(t);var i=e.length,i=n=n===Br?i:et(k(n),0,i);return 0<=(n-=t.length)&&e.slice(n,i)==t},p.eq=R,p.escape=function(e){return(e=h(e))&&Hs.test(e)?e.replace(Bs,$a):e},p.escapeRegExp=function(e){return(e=h(e))&&Js.test(e)?e.replace(Ks,"\\$&"):e},p.every=function(e,t,n){return(U(e)?Na:st)(e,f(t=n&&d(e,t,n)?Br:t,3))},p.find=Gi,p.findIndex=Ai,p.findKey=function(e,t){return Pa(e,f(t,3),ft)},p.findLast=qi,p.findLastIndex=Ii,p.findLastKey=function(e,t){return Pa(e,f(t,3),dt)},p.floor=zr,p.forEach=Zi,p.forEachRight=Ki,p.forIn=function(e,t){return null==e?e:ut(e,f(t,3),E)},p.forInRight=function(e,t){return null==e?e:ct(e,f(t,3),E)},p.forOwn=function(e,t){return e&&ft(e,f(t,3))},p.forOwnRight=function(e,t){return e&&dt(e,f(t,3))},p.get=Qo,p.gt=mo,p.gte=vo,p.has=function(e,t){return null!=e&&ti(e,t,vt)},p.hasIn=Vo,p.head=Ti,p.identity=S,p.includes=function(e,t,n,i){return e=c(e)?e:ir(e),n=n&&!i?k(n):0,i=e.length,n<0&&(n=D(i+n,0)),Eo(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<fs(e,t,n)},p.indexOf=function(e,t,n){var i=null==e?0:e.length;return i?(n=null==n?0:k(n),fs(e,t,n=n<0?D(i+n,0):n)):-1},p.inRange=function(e,t,n){return t=Lo(t),n===Br?(n=t,t=0):n=Lo(n),(e=e=T(e))>=M(t=t,n=n)&&e<D(t,n)},p.invoke=Zo,p.isArguments=yo,p.isArray=U,p.isArrayBuffer=Do,p.isArrayLike=c,p.isArrayLikeObject=b,p.isBoolean=function(e){return!0===e||!1===e||B(e)&&n(e)==Vr},p.isBuffer=_o,p.isDate=W,p.isElement=function(e){return B(e)&&1===e.nodeType&&!ko(e)},p.isEmpty=function(e){if(null==e)return!0;if(c(e)&&(U(e)||"string"==typeof e||"function"==typeof e.splice||_o(e)||So(e)||yo(e)))return!e.length;var t,n=P(e);if(n==qr||n==Xr)return!e.size;if(li(e))return!It(e).length;for(t in e)if(z.call(e,t))return!1;return!0},p.isEqual=function(e,t){return Ct(e,t)},p.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:Br)?n(e,t):Br;return i===Br?Ct(e,t,Br,n):!!i},p.isError=bo,p.isFinite=function(e){return"number"==typeof e&&me(e)},p.isFunction=Co,p.isInteger=Mo,p.isLength=wo,p.isMap=Ao,p.isMatch=function(e,t){return e===t||Mt(e,t,Jn(t))},p.isMatchWith=function(e,t,n){return n="function"==typeof n?n:Br,Mt(e,t,Jn(t),n)},p.isNaN=function(e){return Io(e)&&e!=+e},p.isNative=function(e){if(ai(e))throw new N("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wt(e)},p.isNil=function(e){return null==e},p.isNull=function(e){return null===e},p.isNumber=Io,p.isObject=A,p.isObjectLike=B,p.isPlainObject=ko,p.isRegExp=To,p.isSafeInteger=function(e){return Mo(e)&&-Hr<=e&&e<=Hr},p.isSet=xo,p.isString=Eo,p.isSymbol=I,p.isTypedArray=So,p.isUndefined=function(e){return e===Br},p.isWeakMap=function(e){return B(e)&&P(e)==es},p.isWeakSet=function(e){return B(e)&&"[object WeakSet]"==n(e)},p.join=function(e,t){return null==e?"":ve.call(e,t)},p.kebabCase=ar,p.last=i,p.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;if(n!==Br&&(o=(o=k(n))<0?D(i+o,0):M(o,i-1)),t!=t)return Ra(e,Ba,o,!0);for(var r=e,s=t,a=o+1;a--;)if(r[a]===s)return a;return a},p.lowerCase=lr,p.lowerFirst=ur,p.lt=No,p.lte=jo,p.max=function(e){return e&&e.length?at(e,S,mt):Br},p.maxBy=function(e,t){return e&&e.length?at(e,f(t,2),mt):Br},p.mean=function(e){return Ya(e,S)},p.meanBy=function(e,t){return Ya(e,f(t,2))},p.min=function(e){return e&&e.length?at(e,S,Tt):Br},p.minBy=function(e,t){return e&&e.length?at(e,f(t,2),Tt):Br},p.stubArray=Sr,p.stubFalse=Nr,p.stubObject=function(){return{}},p.stubString=function(){return""},p.stubTrue=function(){return!0},p.multiply=Pr,p.nth=function(e,t){return e&&e.length?jt(e,k(t)):Br},p.noConflict=function(){return rs._===this&&(rs._=X),this},p.noop=wr,p.now=io,p.pad=function(e,t,n){e=h(e);var i=(t=k(t))?gs(e):0;return!t||t<=i?e:Sn(pe(t=(t-i)/2),n)+e+Sn(he(t),n)},p.padEnd=function(e,t,n){e=h(e);var i=(t=k(t))?gs(e):0;return t&&i<t?e+Sn(t-i,n):e},p.padStart=function(e,t,n){e=h(e);var i=(t=k(t))?gs(e):0;return t&&i<t?Sn(t-i,n)+e:e},p.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,_e(h(e).replace(Xs,""),t||0)},p.random=function(e,t,n){var i;return n&&"boolean"!=typeof n&&d(e,t,n)&&(t=n=Br),n===Br&&("boolean"==typeof t?(n=t,t=Br):"boolean"==typeof e&&(n=e,e=Br)),e===Br&&t===Br?(e=0,t=1):(e=Lo(e),t===Br?(t=e,e=0):t=Lo(t)),t<e&&(i=e,e=t,t=i),n||e%1||t%1?(i=be(),M(e+i*(t-e+ba("1e-"+((i+"").length-1))),t)):Pt(e,t)},p.reduce=function(e,t,n){var i=U(e)?La:Wa,o=arguments.length<3;return i(e,f(t,4),n,o,ot)},p.reduceRight=function(e,t,n){var i=U(e)?za:Wa,o=arguments.length<3;return i(e,f(t,4),n,o,rt)},p.repeat=function(e,t,n){return t=(n?d(e,t,n):t===Br)?1:k(t),Rt(h(e),t)},p.replace=function(){var e=arguments,t=h(e[0]);return e.length<3?t:t.replace(e[1],e[2])},p.result=function(e,t,n){var i=-1,o=(t=sn(t,e)).length;for(o||(o=1,e=Br);++i<o;){var r=null==e?Br:e[Ci(t[i])];r===Br&&(i=o,r=n),e=Co(r)?r.call(e):r}return e},p.round=Rr,p.runInContext=o,p.sample=function(e){return(U(e)?We:Ut)(e)},p.size=function(e){if(null==e)return 0;if(c(e))return Eo(e)?gs(e):e.length;var t=P(e);return t==qr||t==Xr?e.size:It(e).length},p.snakeCase=cr,p.some=function(e,t,n){return(U(e)?Fa:Qt)(e,f(t=n&&d(e,t,n)?Br:t,3))},p.sortedIndex=function(e,t){return Vt(e,t)},p.sortedIndexBy=function(e,t,n){return Gt(e,t,f(n,2))},p.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Vt(e,t);if(i<n&&R(e[i],t))return i}return-1},p.sortedLastIndex=function(e,t){return Vt(e,t,!0)},p.sortedLastIndexBy=function(e,t,n){return Gt(e,t,f(n,2),!0)},p.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Vt(e,t,!0)-1;if(R(e[n],t))return n}return-1},p.startCase=fr,p.startsWith=function(e,t,n){return e=h(e),n=null==n?0:et(k(n),0,e.length),t=u(t),e.slice(n,n+t.length)==t},p.subtract=Ur,p.sum=function(e){return e&&e.length?Qa(e,S):0},p.sumBy=function(e,t){return e&&e.length?Qa(e,f(t,2)):0},p.template=function(s,e,t){var a,l,n=p.templateSettings;t&&d(s,e,t)&&(e=Br),s=h(s),e=Uo({},e,n,Un);var i=x(t=Uo({},e.imports,n.imports,Un)),o=qa(t,i),u=0,n=e.interpolate||ha,c="__p += '",t=L((e.escape||ha).source+"|"+n.source+"|"+(n===Vs?ra:ha).source+"|"+(e.evaluate||ha).source+"|$","g"),r="//# sourceURL="+(z.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_a+"]")+"\n";if(s.replace(t,function(e,t,n,i,o,r){return n=n||i,c+=s.slice(u,r).replace(pa,el),t&&(a=!0,c+="' +\n__e("+t+") +\n'"),o&&(l=!0,c+="';\n"+o+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=r+e.length,e}),c+="';\n",n=z.call(e,"variable")&&e.variable){if(ia.test(n))throw new N("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";if(c=(l?c.replace(Fs,""):c).replace(Ps,"$1").replace(Rs,"$1;"),c="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}",(t=gr(function(){return j(i,r+"return "+c).apply(Br,o)})).source=c,bo(t))throw t;return t},p.times=function(e,t){if((e=k(e))<1||Hr<e)return[];for(var n=Wr,i=M(e,Wr),i=(t=f(t),e-=Wr,Va(i,t));++n<e;)t(n);return i},p.toFinite=Lo,p.toInteger=k,p.toLength=zo,p.toLower=function(e){return h(e).toLowerCase()},p.toNumber=T,p.toSafeInteger=function(e){return e?et(k(e),-Hr,Hr):0===e?e:0},p.toString=h,p.toUpper=function(e){return h(e).toUpperCase()},p.trim=function(e,t,n){return(e=h(e))&&(n||t===Br)?Ga(e):e&&(t=u(t))?(n=ms(e),e=ms(t),ln(n,Ka(n,e),Ja(n,e)+1).join("")):e},p.trimEnd=function(e,t,n){return(e=h(e))&&(n||t===Br)?e.slice(0,ol(e)+1):e&&(t=u(t))?ln(n=ms(e),0,Ja(n,ms(t))+1).join(""):e},p.trimStart=function(e,t,n){return(e=h(e))&&(n||t===Br)?e.replace(Xs,""):e&&(t=u(t))?ln(n=ms(e),Ka(n,ms(t))).join(""):e},p.truncate=function(e,t){var n,i=30,o="...",t=(A(t)&&(n="separator"in t?t.separator:n,i="length"in t?k(t.length):i,o="omission"in t?u(t.omission):o),(e=h(e)).length);if((t=hs(e)?(r=ms(e)).length:t)<=i)return e;if((t=i-gs(o))<1)return o;var r,i=r?ln(r,0,t).join(""):e.slice(0,t);if(n===Br)return i+o;if(r&&(t+=i.length-t),To(n)){if(e.slice(t).search(n)){var s,a=i;for((n=n.global?n:L(n.source,h(sa.exec(n))+"g")).lastIndex=0;s=n.exec(a);)var l=s.index;i=i.slice(0,l===Br?t:l)}}else e.indexOf(u(n),t)==t||-1<(r=i.lastIndexOf(n))&&(i=i.slice(0,r));return i+o},p.unescape=function(e){return(e=h(e))&&Ys.test(e)?e.replace(Us,rl):e},p.uniqueId=function(e){var t=++q;return h(e)+t},p.upperCase=dr,p.upperFirst=hr,p.each=Zi,p.eachRight=Ki,p.first=Ti,Mr(p,(Fr={},ft(p,function(e,t){z.call(p.prototype,t)||(Fr[t]=e)}),Fr),{chain:!1}),p.VERSION="4.17.21",as(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),as(["drop","take"],function(n,i){v.prototype[n]=function(e){e=e===Br?1:D(k(e),0);var t=this.__filtered__&&!i?new v(this):this.clone();return t.__filtered__?t.__takeCount__=M(e,t.__takeCount__):t.__views__.push({size:M(e,Wr),type:n+(t.__dir__<0?"Right":"")}),t},v.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),as(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;v.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:f(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),as(["head","last"],function(e,t){var n="take"+(t?"Right":"");v.prototype[e]=function(){return this[n](1).value()[0]}}),as(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");v.prototype[e]=function(){return this.__filtered__?new v(this):this[n](1)}}),v.prototype.compact=function(){return this.filter(S)},v.prototype.find=function(e){return this.filter(e).head()},v.prototype.findLast=function(e){return this.reverse().find(e)},v.prototype.invokeMap=s(function(t,n){return"function"==typeof t?new v(this):this.map(function(e){return _t(e,t,n)})}),v.prototype.reject=function(e){return this.filter(fo(f(e)))},v.prototype.slice=function(e,t){e=k(e);var n=this;return n.__filtered__&&(0<e||t<0)?new v(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Br?(t=k(t))<0?n.dropRight(-t):n.take(t-e):n)},v.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},v.prototype.toArray=function(){return this.take(Wr)},ft(v.prototype,function(u,e){var c=/^(?:filter|find|map|reject)|While$/.test(e),f=/^(?:head|last)$/.test(e),d=p[f?"take"+("last"==e?"Right":""):e],h=f||/^find/.test(e);d&&(p.prototype[e]=function(){function e(e){return e=d.apply(p,cs([e],i)),f&&a?e[0]:e}var t,n=this.__wrapped__,i=f?[1]:arguments,o=n instanceof v,r=i[0],s=o||U(n),a=(s&&c&&"function"==typeof r&&1!=r.length&&(o=s=!1),this.__chain__),r=!!this.__actions__.length,l=h&&!a,o=o&&!r;return!h&&s?(n=o?n:new v(this),(t=u.apply(n,i)).__actions__.push({func:Wi,args:[e],thisArg:Br}),new m(t,a)):l&&o?u.apply(this,i):(t=this.thru(e),l?f?t.value()[0]:t.value():t)})}),as(["pop","push","shift","sort","splice","unshift"],function(e){var n=H[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var e,t=arguments;return o&&!this.__chain__?(e=this.value(),n.apply(U(e)?e:[],t)):this[i](function(e){return n.apply(U(e)?e:[],t)})}}),ft(v.prototype,function(e,t){var n,i=p[t];i&&(n=i.name+"",z.call(Te,n)||(Te[n]=[]),Te[n].push({name:t,func:i}))}),Te[kn(Br,2).name]=[{name:"wrapper",func:Br}],v.prototype.clone=function(){var e=new v(this.__wrapped__);return e.__actions__=w(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=w(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=w(this.__views__),e},v.prototype.reverse=function(){var e;return this.__filtered__?((e=new v(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},v.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=U(e),i=t<0,o=n?e.length:0,r=function(e,t,n){var i=-1,o=n.length;for(;++i<o;){var r=n[i],s=r.size;switch(r.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=M(t,e+s);break;case"takeRight":e=D(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=r.start,a=(r=r.end)-s,l=i?r:s-1,u=this.__iteratees__,c=u.length,f=0,d=M(a,this.__takeCount__);if(!n||!i&&o==a&&d==a)return en(e,this.__actions__);var h=[];e:for(;a--&&f<d;){for(var p=-1,g=e[l+=t];++p<c;){var m=u[p],v=m.iteratee,m=m.type,v=v(g);if(2==m)g=v;else if(!v){if(1==m)continue e;break e}}h[f++]=g}return h},p.prototype.at=Qi,p.prototype.chain=function(){return Hi(this)},p.prototype.commit=function(){return new m(this.value(),this.__chain__)},p.prototype.next=function(){this.__values__===Br&&(this.__values__=Oo(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Br:this.__values__[this.__index__++]}},p.prototype.plant=function(e){for(var t,n=this;n instanceof Pe;)var i=wi(n),o=(i.__index__=0,i.__values__=Br,t?o.__wrapped__=i:t=i,i),n=n.__wrapped__;return o.__wrapped__=e,t},p.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof v?(e=e,(e=(e=this.__actions__.length?new v(this):e).reverse()).__actions__.push({func:Wi,args:[Si],thisArg:Br}),new m(e,this.__chain__)):this.thru(Si)},p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=function(){return en(this.__wrapped__,this.__actions__)},p.prototype.first=p.prototype.head,ae&&(p.prototype[ae]=function(){return this}),p}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(rs._=vs,define(function(){return vs})):o?((o.exports=vs)._=vs,i._=vs):rs._=vs}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})}(this,function(U){"use strict";function y(e,t){return[e,t]}function D(e,t,n){t=(t-e)/Math.max(0,n),e=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,e);return 0<=e?(fl<=n?10:dl<=n?5:hl<=n?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(fl<=n?10:dl<=n?5:hl<=n?2:1)}function A(e,t,n){var n=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),n=n/i;return fl<=n?i*=10:dl<=n?i*=5:hl<=n&&(i*=2),t<e?-i:i}function a(e){return e.length}function r(e){return"translate("+(e+.5)+",0)"}function F(e){return"translate(0,"+(e+.5)+")"}function P(t){return function(e){return+t(e)}}function Q(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function V(){return!this.__axis}function b(h,p){function t(e){var t=null==m?p.ticks?p.ticks.apply(p,g):p.domain():m,n=null==v?p.tickFormat?p.tickFormat.apply(p,g):Qa:v,i=Math.max(y,0)+_,o=p.range(),r=+o[0]+.5,o=+o[o.length-1]+.5,s=(p.bandwidth?Q:P)(p.copy()),a=e.selection?e.selection():e,l=a.selectAll(".domain").data([null]),u=(t=a.selectAll(".tick").data(t,p).order()).exit(),c=t.enter().append("g").attr("class","tick"),f=t.select("line"),d=t.select("text"),l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),t=t.merge(c),f=f.merge(c.append("line").attr("stroke","#000").attr(C+"2",b*y)),d=d.merge(c.append("text").attr("fill","#000").attr(C,b*i).attr("dy",1===h?"0em":3===h?"0.71em":"0.32em"));e!==a&&(l=l.transition(e),t=t.transition(e),f=f.transition(e),d=d.transition(e),u=u.transition(e).attr("opacity",1e-6).attr("transform",function(e){return isFinite(e=s(e))?M(e):this.getAttribute("transform")}),c.attr("opacity",1e-6).attr("transform",function(e){var t=this.parentNode.__axis;return M(t&&isFinite(t=t(e))?t:s(e))})),u.remove(),l.attr("d",4===h||2==h?"M"+b*D+","+r+"H0.5V"+o+"H"+b*D:"M"+r+","+b*D+"V0.5H"+o+"V"+b*D),t.attr("opacity",1).attr("transform",function(e){return M(s(e))}),f.attr(C+"2",b*y),d.attr(C,b*i).text(n),a.filter(V).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===h?"start":4===h?"end":"middle"),a.each(function(){this.__axis=s})}var g=[],m=null,v=null,y=6,D=6,_=3,b=1===h||4===h?-1:1,C=4===h||2===h?"x":"y",M=1===h||3===h?r:F;return t.scale=function(e){return arguments.length?(p=e,t):p},t.ticks=function(){return g=gl.call(arguments),t},t.tickArguments=function(e){return arguments.length?(g=null==e?[]:gl.call(e),t):g.slice()},t.tickValues=function(e){return arguments.length?(m=null==e?null:gl.call(e),t):m&&m.slice()},t.tickFormat=function(e){return arguments.length?(v=e,t):v},t.tickSize=function(e){return arguments.length?(y=D=+e,t):y},t.tickSizeInner=function(e){return arguments.length?(y=+e,t):y},t.tickSizeOuter=function(e){return arguments.length?(D=+e,t):D},t.tickPadding=function(e){return arguments.length?(_=+e,t):_},t}function G(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i)throw new Error("illegal type: "+e);i[e]=[]}return new M(i)}function M(e){this._=e}function q(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=ml,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}function Z(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===vl&&e.documentElement.namespaceURI===vl?e.createElement(n):e.createElementNS(t,n)}}function K(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function J(){return new X}function X(){this._="@"+(++Dl).toString(36)}function $(n,e,t){return n=ee(n,e,t),function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}function ee(n,i,o){return function(e){var t=U.event;U.event=e;try{n.call(this,this.__data__,i,o)}finally{U.event=t}}}function te(r){return function(){var e=this.__on;if(e){for(var t,n=0,i=-1,o=e.length;n<o;++n)t=e[n],r.type&&t.type!==r.type||t.name!==r.name?e[++i]=t:this.removeEventListener(t.type,t.listener,t.capture);++i?e.length=i:delete this.__on}}}function ne(l,u,c){var f=bl.hasOwnProperty(l.type)?$:ee;return function(e,t,n){var i,o=this.__on,r=f(u,t,n);if(o)for(var s=0,a=o.length;s<a;++s)if((i=o[s]).type===l.type&&i.name===l.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=r,i.capture=c),void(i.value=u);this.addEventListener(l.type,r,c),i={type:l.type,name:l.name,value:u,listener:r,capture:c},o?o.push(i):this.__on=[i]}}function ie(e,t,n,i){var o=U.event;e.sourceEvent=U.event,U.event=e;try{return t.apply(n,i)}finally{U.event=o}}function oe(){}function re(){return[]}function se(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function ae(e,t,n,i,o,r){for(var s,a=0,l=t.length,u=r.length;a<u;++a)(s=t[a])?(s.__data__=r[a],i[a]=s):n[a]=new se(e,r[a]);for(;a<l;++a)(s=t[a])&&(o[a]=s)}function le(e,t,n,i,o,r,s){for(var a,l,u={},c=t.length,f=r.length,d=new Array(c),h=0;h<c;++h)(a=t[h])&&(d[h]=l="$"+s.call(a,a.__data__,h,t),l in u?o[h]=a:u[l]=a);for(h=0;h<f;++h)(a=u[l="$"+s.call(e,r[h],h,r)])?((i[h]=a).__data__=r[h],u[l]=null):n[h]=new se(e,r[h]);for(h=0;h<c;++h)(a=t[h])&&u[d[h]]===a&&(o[h]=a)}function ue(e,t){return e<t?-1:t<e?1:t<=e?0:NaN}function ce(e,t){return e.style.getPropertyValue(t)||wl(e).getComputedStyle(e,null).getPropertyValue(t)}function fe(e){return e.trim().split(/^|\s+/)}function de(e){return e.classList||new he(e)}function he(e){this._node=e,this._names=fe(e.getAttribute("class")||"")}function pe(e,t){for(var n=de(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function ge(e,t){for(var n=de(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function me(){this.textContent=""}function ve(){this.innerHTML=""}function ye(){this.nextSibling&&this.parentNode.appendChild(this)}function De(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _e(){return null}function be(){var e=this.parentNode;e&&e.removeChild(this)}function Ce(e,t,n){var i=wl(e),o=i.CustomEvent;"function"==typeof o?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function C(e,t){this._groups=e,this._parents=t}function Me(){return new C([[document.documentElement]],Al)}function we(){U.event.stopImmediatePropagation()}function Ae(e,t){var n=e.document.documentElement,i=B(e).on("dragstart.drag",null);t&&(i.on("click.drag",Il,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ie(e,t,n,i,o,r,s,a,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=i,this.active=o,this.x=r,this.y=s,this.dx=a,this.dy=l,this._=u}function ke(){return!U.event.button}function Te(){return this.parentNode}function xe(e){return null==e?{x:U.event.x,y:U.event.y}:e}function Ee(){return"ontouchstart"in this}function Se(e,t){var n,i=Object.create(e.prototype);for(n in t)i[n]=t[n];return i}function Ne(){}function je(e){var t;return e=(e+"").trim().toLowerCase(),(t=xl.exec(e))?new s((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=El.exec(e))?Oe(parseInt(t[1],16)):(t=Sl.exec(e))?new s(t[1],t[2],t[3],1):(t=Nl.exec(e))?new s(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=jl.exec(e))?Le(t[1],t[2],t[3],t[4]):(t=Ol.exec(e))?Le(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ll.exec(e))?Pe(t[1],t[2]/100,t[3]/100,1):(t=zl.exec(e))?Pe(t[1],t[2]/100,t[3]/100,t[4]):Fl.hasOwnProperty(e)?Oe(Fl[e]):"transparent"===e?new s(NaN,NaN,NaN,0):null}function Oe(e){return new s(e>>16&255,e>>8&255,255&e,1)}function Le(e,t,n,i){return new s(e=i<=0?t=n=NaN:e,t,n,i)}function ze(e){return(e=e instanceof Ne?e:je(e))?new s((e=e.rgb()).r,e.g,e.b,e.opacity):new s}function Fe(e,t,n,i){return 1===arguments.length?ze(e):new s(e,t,n,null==i?1:i)}function s(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Pe(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||1<=n?e=t=NaN:t<=0&&(e=NaN),new Ue(e,t,n,i)}function Re(e,t,n,i){if(1!==arguments.length)return new Ue(e,t,n,null==i?1:i);t=e;if(t instanceof Ue)return new Ue(t.h,t.s,t.l,t.opacity);if(!(t=t instanceof Ne?t:je(t)))return new Ue;if(t instanceof Ue)return t;var n=(t=t.rgb()).r/255,i=t.g/255,e=t.b/255,o=Math.min(n,i,e),r=Math.max(n,i,e),s=NaN,a=r-o,l=(r+o)/2;return a?(s=n===r?(i-e)/a+6*(i<e):i===r?(e-n)/a+2:(n-i)/a+4,a/=l<.5?r+o:2-r-o,s*=60):a=0<l&&l<1?0:s,new Ue(s,a,l,t.opacity)}function Ue(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Be(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Ye(e){if(e instanceof We)return new We(e.l,e.a,e.b,e.opacity);if(e instanceof Ke)return t=e.h*Pl,new We(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity);var t=qe((e=e instanceof s?e:ze(e)).r),n=qe(e.g),i=qe(e.b),o=Qe((.4124564*t+.3575761*n+.1804375*i)/Ul),r=Qe((.2126729*t+.7151522*n+.072175*i)/Bl);return new We(116*r-16,500*(o-r),200*(r-Qe((.0193339*t+.119192*n+.9503041*i)/Yl)),e.opacity)}function He(e,t,n,i){return 1===arguments.length?Ye(e):new We(e,t,n,null==i?1:i)}function We(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function Qe(e){return Ql<e?Math.pow(e,1/3):e/Wl+Hl}function Ve(e){return 6/29<e?e*e*e:Wl*(e-Hl)}function Ge(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function qe(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ze(e,t,n,i){if(1!==arguments.length)return new Ke(e,t,n,null==i?1:i);t=e;if(t instanceof Ke)return new Ke(t.h,t.c,t.l,t.opacity);t instanceof We||(t=Ye(t));n=Math.atan2(t.b,t.a)*Rl;return new Ke(n<0?360+n:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ke(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function Je(e,t,n,i){if(1!==arguments.length)return new Xe(e,t,n,null==i?1:i);t=e;if(t instanceof Xe)return new Xe(t.h,t.s,t.l,t.opacity);var n=(t=t instanceof s?t:ze(t)).r/255,i=t.g/255,e=t.b/255,i=(ql*(i-(n=(Jl*e+Zl*n-Kl*i)/(Jl+Zl-Kl)))-Vl*(e=e-n))/Gl,o=Math.sqrt(i*i+e*e)/(ql*n*(1-n));return new Xe((i=o?Math.atan2(i,e)*Rl-120:NaN)<0?i+360:i,o,n,t.opacity)}function Xe(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function $e(e,t,n,i,o){var r=e*e,s=r*e;return((1-3*e+3*r-s)*t+(4-6*r+3*s)*n+(1+3*e+3*r-3*s)*i+s*o)/6}function et(t,n){return function(e){return t+e*n}}function tt(e,t){var n=t-e;return n?et(e,180<n||n<-180?n-360*Math.round(n/360):n):vu(isNaN(e)?t:e)}function nt(r){return 1==(r=+r)?l:function(e,t){return t-e?(n=e,i=t,o=r,n=Math.pow(n,o),i=Math.pow(i,o)-n,o=1/o,function(e){return Math.pow(n+e*i,o)}):vu(isNaN(e)?t:e);var n,i,o}}function l(e,t){var n=t-e;return n?et(e,n):vu(isNaN(e)?t:e)}function it(a){return function(e){for(var t,n=e.length,i=new Array(n),o=new Array(n),r=new Array(n),s=0;s<n;++s)t=Fe(e[s]),i[s]=t.r||0,o[s]=t.g||0,r[s]=t.b||0;return i=a(i),o=a(o),r=a(r),t.opacity=1,function(e){return t.r=i(e),t.g=o(e),t.b=r(e),t+""}}}function ot(f,d,h,p){function g(e){return e.length?e.pop()+" ":""}return function(e,t){var n,i,o,r,s,a,l,u=[],c=[];return e=f(e),t=f(t),n=e.translateX,i=e.translateY,o=t.translateX,r=t.translateY,s=u,a=c,n!==o||i!==r?(l=s.push("translate(",null,d,null,h),a.push({i:l-4,x:w(n,o)},{i:l-2,x:w(i,r)})):(o||r)&&s.push("translate("+o+d+r+h),a=e.rotate,n=t.rotate,l=u,i=c,a!==n?(180<a-n?n+=360:180<n-a&&(a+=360),i.push({i:l.push(g(l)+"rotate(",null,p)-2,x:w(a,n)})):n&&l.push(g(l)+"rotate("+n+p),s=e.skewX,o=t.skewX,r=u,i=c,s!==o?i.push({i:r.push(g(r)+"skewX(",null,p)-2,x:w(s,o)}):o&&r.push(g(r)+"skewX("+o+p),a=e.scaleX,n=e.scaleY,i=t.scaleX,s=t.scaleY,r=u,o=c,a!==i||n!==s?(e=r.push(g(r)+"scale(",null,",",null,")"),o.push({i:e-4,x:w(a,i)},{i:e-2,x:w(n,s)})):1===i&&1===s||r.push(g(r)+"scale("+i+","+s+")"),function(e){for(var t,n=-1,i=c.length;++n<i;)u[(t=c[n]).i]=t.x(e);return u.join("")}}}function rt(e){return((e=Math.exp(e))+1/e)/2}function st(s){return function(t,e){var n=s((t=Re(t)).h,(e=Re(e)).h),i=l(t.s,e.s),o=l(t.l,e.l),r=l(t.opacity,e.opacity);return function(e){return t.h=n(e),t.s=i(e),t.l=o(e),t.opacity=r(e),t+""}}}function at(s){return function(t,e){var n=s((t=Ze(t)).h,(e=Ze(e)).h),i=l(t.c,e.c),o=l(t.l,e.l),r=l(t.opacity,e.opacity);return function(e){return t.h=n(e),t.c=i(e),t.l=o(e),t.opacity=r(e),t+""}}}function lt(a){return function e(s){function t(t,e){var n=a((t=Je(t)).h,(e=Je(e)).h),i=l(t.s,e.s),o=l(t.l,e.l),r=l(t.opacity,e.opacity);return function(e){return t.h=n(e),t.s=i(e),t.l=o(Math.pow(e,s)),t.opacity=r(e),t+""}}return s=+s,t.gamma=e,t}(1)}function ut(){return Yu||(Qu(ct),Yu=Wu.now()+Hu)}function ct(){Yu=0}function ft(){this._call=this._time=this._next=null}function dt(e,t,n){var i=new ft;return i.restart(e,t,n),i}function ht(){ut(),++Fu;for(var e,t=gu;t;)0<=(e=Yu-t._time)&&t._call.call(null,e),t=t._next;--Fu}function pt(){Yu=(Bu=Wu.now())+Hu,Fu=Pu=0;try{ht()}finally{for(var e,t,n=gu,i=1/(Fu=0);n;)n=n._call?(i>n._time&&(i=n._time),(e=n)._next):(t=n._next,n._next=null,e?e._next=t:gu=t);mu=e,mt(i),Yu=0}}function gt(){var e=Wu.now(),t=e-Bu;Uu<t&&(Hu-=t,Bu=e)}function mt(e){var t;Fu||(Pu=Pu&&clearTimeout(Pu),24<(t=e-Yu)?(e<1/0&&(Pu=setTimeout(pt,t)),Ru=Ru&&clearInterval(Ru)):(Ru||(Bu=Yu,Ru=setInterval(gt,Uu)),Fu=1,Qu(pt)))}function vt(e,t){e=e.__transition;if(!e||!(e=e[t])||e.state>Zu)throw new Error("too late");return e}function yt(e,t){e=e.__transition;if(!e||!(e=e[t])||e.state>Ju)throw new Error("too late");return e}function Dt(e,t){e=e.__transition;if(e=e&&e[t])return e;throw new Error("too late")}function _t(e,t,n){var i=e._id;return e.each(function(){var e=yt(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Dt(e,i).value[t]}}function bt(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Ct(e){return Me().transition(e)}function Mt(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function wt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function At(e){return(1-Math.cos(ac*e))/2}function It(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function kt(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}function Tt(e){return(e=+e)<4/11?uc*e*e:e<8/11?uc*(e-=6/11)*e+.75:e<10/11?uc*(e-=9/11)*e+.9375:uc*(e-=21/22)*e+63/64}function xt(){U.event.stopImmediatePropagation()}function Et(e){return{type:e}}function St(){return!U.event.button}function Nt(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function jt(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Ot(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Lt(L){function t(e){var t=e.property("__brush",o).selectAll(".overlay").data([Et("overlay")]),t=(t.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ic.overlay).merge(t).each(function(){var e=jt(this).extent;B(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),e.selectAll(".selection").data([Et("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ic.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges"),e.selectAll(".handle").data(L.handles,function(e){return e.type}));t.exit().remove(),t.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return Ic[e.type]}),e.each(z).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",i)}function z(){var e=B(this),t=jt(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-a/2:t[0][0]-a/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-a/2:t[0][1]-a/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+a:a}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+a:a})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function F(e,t){return e.__brush.emitter||new n(e,t)}function n(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function i(){function e(){var e=qa(m);!T||p||g||(Math.abs(e[0]-E[0])>Math.abs(e[1]-E[1])?g=!0:p=!0),E=e,h=!0,au(),t()}function t(){var e;switch(f=E[0]-x[0],d=E[1]-x[1],y){case _c:case Dc:D&&(f=Math.max(w-i,Math.min(I-a,f)),o=i+f,l=a+f),_&&(d=Math.max(A-r,Math.min(k-u,d)),s=r+d,c=u+d);break;case bc:D<0?(f=Math.max(w-i,Math.min(I-i,f)),o=i+f,l=a):0<D&&(f=Math.max(w-a,Math.min(I-a,f)),o=i,l=a+f),_<0?(d=Math.max(A-r,Math.min(k-r,d)),s=r+d,c=u):0<_&&(d=Math.max(A-u,Math.min(k-u,d)),s=r,c=u+d);break;case Cc:D&&(o=Math.max(w,Math.min(I,i-f*D)),l=Math.max(w,Math.min(I,a+f*D))),_&&(s=Math.max(A,Math.min(k,r-d*_)),c=Math.max(A,Math.min(k,u+d*_)))}l<o&&(D*=-1,e=i,i=a,a=e,e=o,o=l,l=e,v in kc&&j.attr("cursor",Ic[v=kc[v]])),c<s&&(_*=-1,e=r,r=u,u=e,e=s,s=c,c=e,v in Tc&&j.attr("cursor",Ic[v=Tc[v]])),b.selection&&(M=b.selection),p&&(o=M[0][0],l=M[1][0]),g&&(s=M[0][1],c=M[1][1]),M[0][0]===o&&M[0][1]===s&&M[1][0]===l&&M[1][1]===c||(b.selection=[[o,s],[l,c]],z.call(m),S.brush())}function n(){if(xt(),U.event.touches){if(U.event.touches.length)return;P&&clearTimeout(P),P=setTimeout(function(){P=null},500),N.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Ae(U.event.view,h),O.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),j.attr("cursor",Ic.overlay),Ot(M=b.selection?b.selection:M)&&(b.selection=null,z.call(m)),S.end()}if(U.event.touches){if(U.event.changedTouches.length<U.event.touches.length)return au()}else if(P)return;var i,o,r,s,a,l,u,c,f,d,h,p,g,m,v,y,D,_,b,C,M,w,A,I,k,T,x,E,S,N,j,O;R.apply(this,arguments)&&(m=this,v=U.event.target.__data__.type,y="selection"===(U.event.metaKey?v="overlay":v)?Dc:U.event.altKey?Cc:bc,D=L===wc?null:xc[v],_=L===Mc?null:Ec[v],C=(b=jt(m)).extent,M=b.selection,w=C[0][0],A=C[0][1],I=C[1][0],k=C[1][1],T=D&&_&&U.event.shiftKey,x=qa(m),E=x,S=F(m,arguments).beforestart(),"overlay"===v?b.selection=M=[[i=L===wc?w:x[0],r=L===Mc?A:x[1]],[a=L===wc?I:i,u=L===Mc?k:r]]:(i=M[0][0],r=M[0][1],a=M[1][0],u=M[1][1]),o=i,s=r,l=a,c=u,N=B(m).attr("pointer-events","none"),j=N.selectAll(".overlay").attr("cursor",Ic[v]),U.event.touches?N.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",n,!0):(O=B(U.event.view).on("keydown.brush",function(){switch(U.event.keyCode){case 16:T=D&&_;break;case 18:y===bc&&(D&&(a=l-f*D,i=o+f*D),_&&(u=c-d*_,r=s+d*_),y=Cc,t());break;case 32:y!==bc&&y!==Cc||(D<0?a=l-f:0<D&&(i=o-f),_<0?u=c-d:0<_&&(r=s-d),y=_c,j.attr("cursor",Ic.selection),t());break;default:return}au()},!0).on("keyup.brush",function(){switch(U.event.keyCode){case 16:T&&(p=g=T=!1,t());break;case 18:y===Cc&&(D<0?a=l:0<D&&(i=o),_<0?u=c:0<_&&(r=s),y=bc,t());break;case 32:y===_c&&(y=U.event.altKey?(D&&(a=l-f*D,i=o+f*D),_&&(u=c-d*_,r=s+d*_),Cc):(D<0?a=l:0<D&&(i=o),_<0?u=c:0<_&&(r=s),bc),j.attr("cursor",Ic[v]),t());break;default:return}au()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",n,!0),$a(U.event.view)),xt(),iu(m),z.call(m),S.start())}function o(){var e=this.__brush||{selection:null};return e.extent=r.apply(this,arguments),e.dim=L,e}var P,r=Nt,R=St,s=G(t,"start","brush","end"),a=6;return t.move=function(e,a){e.selection?e.on("start.brush",function(){F(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){F(this,arguments).end()}).tween("brush",function(){function e(e){n.selection=1===e&&Ot(r)?null:s(e),z.call(t),i.brush()}var t=this,n=t.__brush,i=F(t,arguments),o=n.selection,r=L.input("function"==typeof a?a.apply(this,arguments):a,n.extent),s=Au(o,r);return o&&r?e:e(1)}):e.each(function(){var e=arguments,t=this.__brush,n=L.input("function"==typeof a?a.apply(this,e):a,t.extent),e=F(this,e).beforestart();iu(this),t.selection=null==n||Ot(n)?null:n,z.call(this),e.start().brush().end()})},n.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){ie(new su(t,e,L.output(this.state.selection)),s.apply,s,[e,this.that,this.args])}},t.extent=function(e){return arguments.length?(r="function"==typeof e?e:ru([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):r},t.filter=function(e){return arguments.length?(R="function"==typeof e?e:ru(!!e),t):R},t.handleSize=function(e){return arguments.length?(a=+e,t):a},t.on=function(){var e=s.on.apply(s,arguments);return e===s?t:e},t}function zt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ft(){return new zt}function Pt(e){return e.source}function Rt(e){return e.target}function Ut(e){return e.radius}function Bt(e){return e.startAngle}function Yt(e){return e.endAngle}function Ht(){}function Wt(e,t){var n=new Ht;if(e instanceof Ht)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,o=-1,r=e.length;if(null==t)for(;++o<r;)n.set(o,e[o]);else for(;++o<r;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}function Qt(){return{}}function Vt(e,t,n){e[t]=n}function Gt(){return Wt()}function qt(e,t,n){e.set(t,n)}function Zt(){}function Kt(e,t){var n=new Zt;if(e instanceof Zt)e.each(function(e){n.add(e)});else if(e){var i=-1,o=e.length;if(null==t)for(;++i<o;)n.add(e[i]);else for(;++i<o;)n.add(t(e[i],i,e))}return n}function Jt(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function Xt(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var o,r,s,a,l,u,c,f,d,h=e._root,p={data:i},g=e._x0,m=e._y0,v=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((u=t>=(r=(g+v)/2))?g=r:v=r,(c=n>=(s=(m+y)/2))?m=s:y=s,!(h=(o=h)[f=c<<1|u]))return o[f]=p,e;if(a=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===a&&n===l)return p.next=h,o?o[f]=p:e._root=p,e;for(;o=o?o[f]=new Array(4):e._root=new Array(4),(u=t>=(r=(g+v)/2))?g=r:v=r,(c=n>=(s=(m+y)/2))?m=s:y=s,(f=c<<1|u)==(d=(s<=l)<<1|r<=a););return o[d]=h,o[f]=p,e}function $t(e){return e[0]}function en(e){return e[1]}function tn(e,t,n){t=new nn(null==t?$t:t,null==n?en:n,NaN,NaN,NaN,NaN);return null==e?t:t.addAll(e)}function nn(e,t,n,i,o,r){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=o,this._y1=r,this._root=void 0}function on(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}function rn(e){return e.x+e.vx}function sn(e){return e.y+e.vy}function an(e){return e.index}function ln(e,t){e=e.get(t);if(e)return e;throw new Error("missing: "+t)}function un(e){return e.x}function cn(e){return e.y}function fn(e){return new dn(e)}function dn(e){if(!(l=tf.exec(e)))throw new Error("invalid format: "+e);var e=l[1]||" ",t=l[2]||">",n=l[3]||"-",i=l[4]||"",o=!!l[5],r=l[6]&&+l[6],s=!!l[7],a=l[8]&&+l[8].slice(1),l=l[9]||"";"n"===l?(s=!0,l="g"):ef[l]||(l=""),(o||"0"===e&&"="===t)&&(o=!0,e="0",t="="),this.fill=e,this.align=t,this.sign=n,this.symbol=i,this.zero=o,this.width=r,this.comma=s,this.precision=a,this.type=l}function hn(e){return lf=nf(e),U.format=lf.format,U.formatPrefix=lf.formatPrefix,lf}function pn(){this.reset()}function gn(e,t,n){var i=e.s=t+n,o=i-t;e.t=t-(i-o)+(n-o)}function mn(e){return 1<e?0:e<-1?I:Math.acos(e)}function E(e){return 1<e?m:e<-1?-m:Math.asin(e)}function vn(e){return(e=x(e/2))*e}function i(){}function yn(e,t){e&&Zf.hasOwnProperty(e.type)&&Zf[e.type](e,t)}function Dn(e,t,n){var i,o=-1,r=e.length-n;for(t.lineStart();++o<r;)i=e[o],t.point(i[0],i[1],i[2]);t.lineEnd()}function _n(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Dn(e[n],t,1);t.polygonEnd()}function bn(){Xf.point=Mn}function Cn(){wn(hf,pf)}function Mn(e,t){Xf.point=wn,hf=e,pf=t,gf=e*=j,mf=T(t=(t*=j)/2+Uf),vf=x(t)}function wn(e,t){t=(t*=j)/2+Uf;var n=(e*=j)-gf,i=0<=n?1:-1,n=i*n,o=T(t),t=x(t),r=vf*t,s=mf*o+r*T(n),r=r*i*x(n);Kf.add(L(r,s)),gf=e,mf=o,vf=t}function An(e){return[L(e[1],e[0]),E(e[2])]}function In(e){var t=e[0],e=e[1],n=T(e);return[n*T(t),n*x(t),x(e)]}function kn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Tn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function xn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function En(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Sn(e){var t=z(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Nn(e,t){wf.push(Af=[c=e,f=e]),t<yf&&(yf=t),Df<t&&(Df=t)}function jn(e,t){var n,i,o,r,s,a=In([e*j,t*j]);Mf?(n=Tn(Mf,a),Sn(n=Tn([n[1],-n[0],0],n)),n=An(n),s=e-_f,r=n[0]*N*(o=0<s?1:-1),(s=180<O(s))^(o*_f<r&&r<o*e)?(i=n[1]*N)>Df&&(Df=i):s^(o*_f<(r=(r+360)%360-180)&&r<o*e)?(i=-n[1]*N)<yf&&(yf=i):(t<yf&&(yf=t),Df<t&&(Df=t)),s?e<_f?u(c,e)>u(c,f)&&(f=e):u(e,f)>u(c,f)&&(c=e):c<=f?(e<c&&(c=e),f<e&&(f=e)):_f<e?u(c,e)>u(c,f)&&(f=e):u(e,f)>u(c,f)&&(c=e)):wf.push(Af=[c=e,f=e]),t<yf&&(yf=t),Df<t&&(Df=t),Mf=a,_f=e}function On(){ed.point=jn}function Ln(){Af[0]=c,Af[1]=f,ed.point=Nn,Mf=null}function zn(e,t){var n;Mf?(n=e-_f,$f.add(180<O(n)?n+(0<n?360:-360):n)):(bf=e,Cf=t),Xf.point(e,t),jn(e,t)}function Fn(){Xf.lineStart()}function Pn(){zn(bf,Cf),Xf.lineEnd(),O($f)>S&&(c=-(f=180)),Af[0]=c,Af[1]=f,Mf=null}function u(e,t){return(t-=e)<0?t+360:t}function Rn(e,t){return e[0]-t[0]}function Un(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Bn(e,t){e*=j;var n=T(t*=j);Yn(n*T(e),n*x(e),x(t))}function Yn(e,t,n){Tf+=(e-Tf)/++If,xf+=(t-xf)/If,Ef+=(n-Ef)/If}function Hn(){td.point=Wn}function Wn(e,t){e*=j;var n=T(t*=j);d=n*T(e),h=n*x(e),p=x(t),td.point=Qn,Yn(d,h,p)}function Qn(e,t){e*=j;var n=T(t*=j),i=n*T(e),n=n*x(e),e=x(t),t=L(z((t=h*e-p*n)*t+(t=p*i-d*e)*t+(t=d*n-h*i)*t),d*i+h*n+p*e);kf+=t,Sf+=t*(d+(d=i)),Nf+=t*(h+(h=n)),jf+=t*(p+(p=e)),Yn(d,h,p)}function Vn(){td.point=Bn}function Gn(){td.point=Zn}function qn(){Kn(Ff,Pf),td.point=Bn}function Zn(e,t){Ff=e,Pf=t,e*=j,t*=j,td.point=Kn;var n=T(t);d=n*T(e),h=n*x(e),p=x(t),Yn(d,h,p)}function Kn(e,t){e*=j;var n=T(t*=j),i=n*T(e),n=n*x(e),e=x(t),t=h*e-p*n,o=p*i-d*e,r=d*n-h*i,s=z(t*t+o*o+r*r),a=E(s),s=s&&-a/s;Of+=s*t,Lf+=s*o,zf+=s*r,kf+=a,Sf+=a*(d+(d=i)),Nf+=a*(h+(h=n)),jf+=a*(p+(p=e)),Yn(d,h,p)}function Jn(e,t){return[I<e?e-k:e<-I?e+k:e,t]}function Xn(e,t,n){return(e%=k)?t||n?nd(ei(e),ti(t,n)):ei(e):t||n?ti(t,n):Jn}function $n(n){return function(e,t){return[I<(e+=n)?e-k:e<-I?e+k:e,t]}}function ei(e){var t=$n(e);return t.invert=$n(-e),t}function ti(e,t){function n(e,t){var n=T(t),i=T(e)*n,e=x(e)*n,n=x(t),t=n*o+i*r;return[L(e*s-t*a,i*o-n*r),E(t*s+e*a)]}var o=T(e),r=x(e),s=T(t),a=x(t);return n.invert=function(e,t){var n=T(t),i=T(e)*n,e=x(e)*n,n=x(t),t=n*s-e*a;return[L(e*s+n*a,i*o+t*r),E(t*o-i*r)]},n}function ni(e,t,n,i,o,r){if(n){var s=T(t),a=x(t),l=i*n;null==o?(o=t+i*k,r=t-l/2):(o=ii(s,o),r=ii(s,r),(0<i?o<r:r<o)&&(o+=i*k));for(var u,c=o;0<i?r<c:c<r;c-=l)u=An([s,-a*T(c),-a*x(c)]),e.point(u[0],u[1])}}function ii(e,t){(t=In(t))[0]-=e,Sn(t);e=mn(-t[1]);return((-t[2]<0?-e:e)+k-S)%k}function oi(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ri(e){if(t=e.length){for(var t,n,i=0,o=e[0];++i<t;)o.n=n=e[i],n.p=o,o=n;o.n=n=e[0],n.p=o}}function si(v,y,D,_){function b(e,t){return v<=e&&e<=D&&y<=t&&t<=_}function C(e,t,n,i){var o=0,r=0;if(null==e||(o=s(e,n))!==(r=s(t,n))||a(e,t)<0^0<n)for(;i.point(0===o||3===o?v:D,1<o?_:y),(o=(o+n+4)%4)!==r;);else i.point(t[0],t[1])}function s(e,t){return O(e[0]-v)<S?0<t?0:3:O(e[0]-D)<S?0<t?2:1:O(e[1]-y)<S?0<t?1:0:0<t?3:2}function M(e,t){return a(e.x,t.x)}function a(e,t){var n=s(e,1),i=s(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(i){function e(e,t){b(e,t)&&g.point(e,t)}function t(e,t){var n,i,o=b(e,t);f&&r.push([e,t]),h?(s=e,a=t,h=!1,(l=o)&&(g.lineStart(),g.point(e,t))):o&&d?g.point(e,t):(n=[u=Math.max(Cd,Math.min(bd,u)),c=Math.max(Cd,Math.min(bd,c))],i=[e=Math.max(Cd,Math.min(bd,e)),t=Math.max(Cd,Math.min(bd,t))],rd(n,i,v,y,D,_)?(d||(g.lineStart(),g.point(n[0],n[1])),g.point(i[0],i[1]),o||g.lineEnd(),p=!1):o&&(g.lineStart(),g.point(e,t),p=!1)),u=e,c=t,d=o}var o,f,r,s,a,l,u,c,d,h,p,g=i,n=od(),m={point:e,lineStart:function(){m.point=t,f&&f.push(r=[]),d=!(h=!0),u=c=NaN},lineEnd:function(){o&&(t(s,a),l&&d&&n.rejoin(),o.push(n.result())),m.point=e,d&&g.lineEnd()},polygonStart:function(){g=n,o=[],f=[],p=!0},polygonEnd:function(){var e=function(){for(var e=0,t=0,n=f.length;t<n;++t)for(var i,o,r=f[t],s=1,a=r.length,l=r[0],u=l[0],c=l[1];s<a;++s)i=u,o=c,u=(l=r[s])[0],c=l[1],o<=_?_<c&&(c-o)*(v-i)<(u-i)*(_-o)&&++e:c<=_&&(u-i)*(_-o)<(c-o)*(v-i)&&--e;return e}(),t=p&&e,n=(o=Ya(o)).length;(t||n)&&(i.polygonStart(),t&&(i.lineStart(),C(null,null,1,i),i.lineEnd()),n&&sd(o,M,e,C,i),i.polygonEnd()),g=i,o=f=r=null}};return m}}function ai(){Ad.point=Ad.lineEnd=i}function li(e,t){ud=e*=j,cd=x(t*=j),fd=T(t),Ad.point=ui}function ui(e,t){e*=j;var n=x(t*=j),t=T(t),i=O(e-ud),o=T(i),i=t*x(i),r=fd*n-cd*t*o,o=cd*n+fd*t*o;wd.add(L(z(i*i+r*r),o)),ud=e,cd=n,fd=t}function ci(e,t){return!(!e||!Ed.hasOwnProperty(e.type))&&Ed[e.type](e,t)}function fi(e,t){return 0===ld(e,t)}function di(e,t){var n=ld(e[0],e[1]);return ld(e[0],t)+ld(t,e[1])<=n+S}function hi(e,t){return!!ad(e.map(pi),gi(t))}function pi(e){return(e=e.map(gi)).pop(),e}function gi(e){return[e[0]*j,e[1]*j]}function mi(e,t,n){var i=cl(e,t-S,n).concat(t);return function(t){return i.map(function(e){return[t,e]})}}function vi(e,t,n){var i=cl(e,t-S,n).concat(t);return function(t){return i.map(function(e){return[e,t]})}}function yi(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return cl(Yf(r/m)*m,o,m).map(d).concat(cl(Yf(u/v)*v,l,v).map(h)).concat(cl(Yf(i/p)*p,n,p).filter(function(e){return O(e%m)>S}).map(c)).concat(cl(Yf(a/g)*g,s,g).filter(function(e){return O(e%v)>S}).map(f))}var n,i,o,r,s,a,l,u,c,f,d,h,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(e){return{type:"LineString",coordinates:e}})},t.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(h(l).slice(1),d(o).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(r=+e[0][0],o=+e[1][0],u=+e[0][1],l=+e[1][1],o<r&&(e=r,r=o,o=e),l<u&&(e=u,u=l,l=e),t.precision(y)):[[r,u],[o,l]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],n<i&&(e=i,i=n,n=e),s<a&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.stepMinor=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=mi(a,s,90),f=vi(i,n,y),d=mi(u,l,90),h=vi(r,o,y),t):y},t.extentMajor([[-180,-90+S],[180,90-S]]).extentMinor([[-180,-80-S],[180,80+S]])}function Di(){Od.point=_i}function _i(e,t){Od.point=bi,dd=pd=e,hd=gd=t}function bi(e,t){jd.add(gd*e-pd*t),pd=e,gd=t}function Ci(){bi(dd,hd)}function Mi(e,t){Ud+=e,Bd+=t,++Yd}function wi(){Zd.point=Ai}function Ai(e,t){Zd.point=Ii,Mi(yd=e,Dd=t)}function Ii(e,t){var n=e-yd,i=t-Dd,n=z(n*n+i*i);Hd+=n*(yd+e)/2,Wd+=n*(Dd+t)/2,Qd+=n,Mi(yd=e,Dd=t)}function ki(){Zd.point=Mi}function Ti(){Zd.point=Ei}function xi(){Si(md,vd)}function Ei(e,t){Zd.point=Si,Mi(md=yd=e,vd=Dd=t)}function Si(e,t){var n=e-yd,i=t-Dd,n=z(n*n+i*i);Hd+=n*(yd+e)/2,Wd+=n*(Dd+t)/2,Qd+=n,Vd+=(n=Dd*e-yd*t)*(yd+e),Gd+=n*(Dd+t),qd+=3*n,Mi(yd=e,Dd=t)}function Ni(e){this._context=e}function ji(e,t){hh.point=Oi,lh=ch=e,uh=fh=t}function Oi(e,t){ch-=e,fh-=t,dh.add(z(ch*ch+fh*fh)),ch=e,fh=t}function Li(){this._string=[]}function zi(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Fi(e){return 1<e.length}function Pi(e,t){return((e=e.x)[0]<0?e[1]-m-S:m-e[1])-((t=t.x)[0]<0?t[1]-m-S:m-t[1])}function Ri(i){return function(e){var t,n=new Ui;for(t in i)n[t]=i[t];return n.stream=e,n}}function Ui(){}function Bi(e,t,n){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],r=e.clipExtent&&e.clipExtent(),n=(e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),ff(n,e.stream(Rd)),Rd.result()),s=Math.min(i/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),i=+t[0][0]+(i-s*(n[1][0]+n[0][0]))/2,t=+t[0][1]+(o-s*(n[1][1]+n[0][1]))/2;return null!=r&&e.clipExtent(r),e.scale(150*s).translate([i,t])}function Yi(e,t,n){return Bi(e,[[0,0],t],n)}function Hi(e){return Wi(function(){return e})()}function Wi(e){function n(e){return[(e=c(e[0]*j,e[1]*j))[0]*m+a,l-e[1]*m]}function t(e){return(e=c.invert((e[0]-a)/m,(l-e[1])/m))&&[e[0]*N,e[1]*N]}function i(e,t){return[(e=s(e,t))[0]*m+a,l-e[1]*m]}function o(){c=nd(u=Xn(b,C,M),s);var e=s(D,_);return a=v-e[0]*m,l=y+e[1]*m,r()}function r(){return p=g=null,n}var s,a,l,u,c,f,d,h,p,g,m=150,v=480,y=250,D=0,_=0,b=0,C=0,M=0,w=null,A=ph,I=null,k=Sd,T=.5,x=vh(i,T);return n.stream=function(e){return p&&g===e?p:p=yh(A(u,x(k(g=e))))},n.clipAngle=function(e){return arguments.length?(A=+e?gh(w=e*j,6*j):(w=null,ph),r()):w*N},n.clipExtent=function(e){return arguments.length?(k=null==e?(I=f=d=h=null,Sd):si(I=+e[0][0],f=+e[0][1],d=+e[1][0],h=+e[1][1]),r()):null==I?null:[[I,f],[d,h]]},n.scale=function(e){return arguments.length?(m=+e,o()):m},n.translate=function(e){return arguments.length?(v=+e[0],y=+e[1],o()):[v,y]},n.center=function(e){return arguments.length?(D=e[0]%360*j,_=e[1]%360*j,o()):[D*N,_*N]},n.rotate=function(e){return arguments.length?(b=e[0]%360*j,C=e[1]%360*j,M=2<e.length?e[2]%360*j:0,o()):[b*N,C*N,M*N]},n.precision=function(e){return arguments.length?(x=vh(i,T=e*e),r()):z(T)},n.fitExtent=function(e,t){return Bi(n,e,t)},n.fitSize=function(e,t){return Yi(n,e,t)},function(){return s=e.apply(this,arguments),n.invert=s.invert&&t,o()}}function Qi(e){var t=0,n=I/3,i=Wi(e),e=i(t,n);return e.parallels=function(e){return arguments.length?i(t=e[0]*j,n=e[1]*j):[t*N,n*N]},e}function Vi(e,t){function n(e,t){t=z(a-2*r*x(t))/r;return[t*x(e*=r),l-t*T(e)]}var i,o=x(e),r=(o+x(t))/2;if(O(r)<S)return i=T(e),s.invert=function(e,t){return[e/i,E(t*i)]},s;function s(e,t){return[e*i,x(t)/i]}var a=1+o*(2*r-o),l=z(a)/r;return n.invert=function(e,t){t=l-t;return[L(e,O(t))/r*Vf(t),E((a-(e*e+t*t)*r*r)/(2*r))]},n}function Gi(o){return function(e,t){var n=T(e),i=T(t),n=o(n*i);return[n*i*x(e),n*x(t)]}}function qi(r){return function(e,t){var n=z(e*e+t*t),i=r(n),o=x(i),i=T(i);return[L(e*o,n*i),E(n&&t*o/n)]}}function Zi(e,t){return[e,Wf(Gf((m+t)/2))]}function Ki(n){function t(){var e=I*l(),t=s(id(s.rotate()).invert([0,0]));return c(null==f?[[t[0]-e,t[1]-e],[t[0]+e,t[1]+e]]:n===Zi?[[Math.max(t[0]-e,f),i],[Math.min(t[0]+e,o),r]]:[[f,Math.max(t[1]-e,i)],[o,Math.min(t[1]+e,r)]])}var i,o,r,s=Hi(n),a=s.center,l=s.scale,u=s.translate,c=s.clipExtent,f=null;return s.scale=function(e){return arguments.length?(l(e),t()):l()},s.translate=function(e){return arguments.length?(u(e),t()):u()},s.center=function(e){return arguments.length?(a(e),t()):a()},s.clipExtent=function(e){return arguments.length?(null==e?f=i=o=r=null:(f=+e[0][0],i=+e[0][1],o=+e[1][0],r=+e[1][1]),t()):null==f?null:[[f,i],[o,r]]},t()}function Ji(e){return Gf((m+e)/2)}function Xi(e,t){function n(e,t){0<r?t<-m+S&&(t=-m+S):m-S<t&&(t=m-S);t=r/Qf(Ji(t),o);return[t*x(o*e),r-t*T(o*e)]}var i=T(e),o=e===t?x(e):Wf(i/T(t))/Wf(Ji(t)/Ji(e)),r=i*Qf(Ji(e),o)/o;return o?(n.invert=function(e,t){var t=r-t,n=Vf(o)*z(e*e+t*t);return[L(e,O(t))/o*Vf(t),2*Bf(Qf(r/n,1/o))-m]},n):Zi}function $i(e,t){return[e,t]}function eo(e,t){function n(e,t){t=r-t,e*=o;return[t*x(e),r-t*T(e)]}var i=T(e),o=e===t?x(e):(i-T(t))/(t-e),r=i/o+e;return O(o)<S?$i:(n.invert=function(e,t){t=r-t;return[L(e,O(t))/o*Vf(t),r-Vf(o)*z(e*e+t*t)]},n)}function to(e,t){var n=T(t),i=T(e)*n;return[n*x(e)/i,x(t)/i]}function no(n,i,o,r){return 1===n&&1===i&&0===o&&0===r?Sd:Ri({point:function(e,t){this.stream.point(e*n+o,t*i+r)}})}function io(e,t){return[T(t)*x(e),x(t)]}function oo(e,t){var n=T(t),i=1+T(e)*n;return[n*x(e)/i,x(t)/i]}function ro(e,t){return[Wf(Gf((m+t)/2)),-e]}function so(e,t){return e.parent===t.parent?1:2}function ao(e,t){return e+t.x}function lo(e,t){return Math.max(e,t.y)}function uo(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;0<=--i;)t+=n[i].value;else t=1;e.value=t}function co(e,t){var n,i,o,r,s,a=new go(e),l=+e.value&&(a.value=e.value),u=[a];for(null==t&&(t=fo);n=u.pop();)if(l&&(n.value=+n.data.value),(o=t(n.data))&&(s=o.length))for(n.children=new Array(s),r=s-1;0<=r;--r)u.push(i=n.children[r]=new go(o[r])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(po)}function fo(e){return e.children}function ho(e){e.data=e.data.data}function po(e){for(var t=0;e.height=t,(e=e.parent)&&e.height<++t;);}function go(e){this.data=e,this.depth=this.height=0,this.parent=null}function mo(e,t){var n=e.r-t.r,i=t.x-e.x,t=t.y-e.y;return n<0||n*n<i*i+t*t}function vo(e,t){var n=e.r-t.r+1e-6,i=t.x-e.x,t=t.y-e.y;return 0<n&&i*i+t*t<n*n}function yo(e,t){for(var n=0;n<t.length;++n)if(!vo(e,t[n]))return;return 1}function Do(e,t){var n=e.x,i=e.y,e=e.r,o=t.x,r=t.y,t=t.r,s=o-n,a=r-i,l=t-e,u=Math.sqrt(s*s+a*a);return{x:(n+o+s/u*l)/2,y:(i+r+a/u*l)/2,r:(u+e+t)/2}}function _o(e,t,n){var i=e.x,o=e.y,e=e.r,r=t.x,s=t.y,t=t.r,a=n.x,l=n.y,n=n.r,u=i-r,c=i-a,f=o-s,d=o-l,h=t-e,p=n-e,g=i*i+o*o-e*e,r=g-r*r-s*s+t*t,s=g-a*a-l*l+n*n,t=c*f-u*d,g=(f*s-d*r)/(2*t)-i,a=(d*h-f*p)/t,l=(c*r-u*s)/(2*t)-o,n=(u*p-c*h)/t,d=a*a+n*n-1,f=2*(e+g*a+l*n),r=g*g+l*l-e*e,s=-(d?(f+Math.sqrt(f*f-4*d*r))/(2*d):r/f);return{x:i+g+a*s,y:o+l+n*s,r:s}}function bo(e,t,n){var i,o=e.x,r=e.y,s=t.r+n.r,e=e.r+n.r,a=t.x-o,t=t.y-r,l=a*a+t*t;l?(i=.5+((e*=e)-(s*=s))/(2*l),s=Math.sqrt(Math.max(0,2*s*(e+l)-(e-=l)*e-s*s))/(2*l),n.x=o+i*a+s*t,n.y=r+i*t-s*a):(n.x=o+e,n.y=r)}function Co(e,t){var n=t.x-e.x,i=t.y-e.y,e=e.r+t.r;return n*n+i*i<e*e-1e-6}function Mo(e){var t=e._,e=e.next._,n=t.r+e.r,i=(t.x*e.r+e.x*t.r)/n,e=(t.y*e.r+e.y*t.r)/n;return i*i+e*e}function wo(e){this._=e,this.next=null,this.previous=null}function Ao(e){if(!(i=e.length))return 0;var t,n,i,o,r,s,a,l,u,c,f=e[0];if(f.x=0,f.y=0,!(1<i))return f.r;if(t=e[1],f.x=-t.r,t.x=f.r,t.y=0,!(2<i))return f.r+t.r;bo(t,f,n=e[2]),f=new wo(f),t=new wo(t),n=new wo(n),((f.next=n.previous=t).next=f.previous=n).next=t.previous=f;e:for(s=3;s<i;++s){bo(f._,t._,n=e[s]),n=new wo(n),a=t.next,l=f.previous,u=t._.r,c=f._.r;do{if(u<=c){if(Co(a._,n._)){t=a,(f.next=t).previous=f,--s;continue e}u+=a._.r,a=a.next}else{if(Co(l._,n._)){((f=l).next=t).previous=f,--s;continue e}c+=l._.r,l=l.previous}}while(a!==l.next);for(n.previous=f,n.next=t,f.next=t.previous=t=n,o=Mo(f);(n=n.next)!==t;)(r=Mo(n))<o&&(f=n,o=r);t=f.next}for(f=[t._],n=t;(n=n.next)!==t;)f.push(n._);for(n=$d(f),s=0;s<i;++s)(f=e[s]).x-=n.x,f.y-=n.y;return n.r}function Io(e){if("function"!=typeof e)throw new Error;return e}function ko(){return 0}function To(e){return Math.sqrt(e.value)}function xo(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Eo(s,a){return function(e){if(t=e.children){var t,n,i,o=t.length,r=s(e)*a||0;if(r)for(n=0;n<o;++n)t[n].r+=r;if(i=Ao(t),r)for(n=0;n<o;++n)t[n].r-=r;e.r=i+r}}}function So(n){return function(e){var t=e.parent;e.r*=n,t&&(e.x=t.x+n*e.x,e.y=t.y+n*e.y)}}function No(e){return e.id}function jo(e){return e.parentId}function Oo(e,t){return e.parent===t.parent?1:2}function Lo(e){var t=e.children;return t?t[0]:e.t}function zo(e){var t=e.children;return t?t[t.length-1]:e.t}function Fo(e,t){this._=e,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Po(e,t,n,i,o,r){for(var s,a,l,u,c,f,d,h,p,g,m,v=[],y=t.children,D=0,_=0,b=y.length,C=t.value;D<b;){for(l=o-n,u=r-i;!(c=y[_++].value)&&_<b;);for(m=(f=d=c)*c*(g=Math.max(u/l,l/u)/(C*e)),p=Math.max(d/m,m/f);_<b;++_){if(c+=a=y[_].value,a<f&&(f=a),d<a&&(d=a),m=c*c*g,(h=Math.max(d/m,m/f))>p){c-=a;break}p=h}v.push(s={value:c,dice:l<u,children:y.slice(D,_)}),s.dice?Ch(s,n,i,o,C?i+=u*c/C:r):Ah(s,n,i,C?n+=l*c/C:o,r),C-=c,D=_}return v}function Ro(e,t){return e[0]-t[0]||e[1]-t[1]}function Uo(e){for(var t,n,i,o=e.length,r=[0,1],s=2,a=2;a<o;++a){for(;1<s&&(t=e[r[s-2]],n=e[r[s-1]],i=e[a],(n[0]-t[0])*(i[1]-t[1])-(n[1]-t[1])*(i[0]-t[0])<=0);)--s;r[s++]=a}return r.slice(0,s)}function Bo(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Yo(t){if(!t._start)try{for(var e=t;e._start=e._waiting&&e._active<e._size;){var n=e._ended+e._active,i=e._tasks[n],o=i.length-1,r=i[o];i[o]=function(n,i){return function(e,t){n._tasks[i]&&(--n._active,++n._ended,(n._tasks[i]=null)==n._error&&(null!=e?Ho(n,e):(n._data[i]=t,(n._waiting?Yo:Wo)(n))))}}(e,n),--e._waiting,++e._active,i=r.apply(null,i),e._tasks[n]&&(e._tasks[n]=i||Th)}}catch(e){if(t._tasks[t._ended+t._active-1])Ho(t,e);else if(!t._data)throw e}}function Ho(e,t){var n,i=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;0<=--i;)if((n=e._tasks[i])&&(e._tasks[i]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,Wo(e)}function Wo(e){var t;!e._active&&e._call&&(t=e._data,e._data=void 0,e._call(e._error,t))}function Qo(e){if(null==e)e=1/0;else if(!(1<=(e=+e)))throw new Error("invalid concurrency");return new Bo(e)}function Vo(i){function r(e){var t=e+"",n=s.get(t);if(!n){if(o!==Wh)return o;s.set(t,n=a.push(e))}return i[(n-1)%i.length]}var s=Wt(),a=[],o=Wh;return i=null==i?[]:Hh.call(i),r.domain=function(e){if(!arguments.length)return a.slice();a=[],s=Wt();for(var t,n,i=-1,o=e.length;++i<o;)s.has(n=(t=e[i])+"")||s.set(n,a.push(t));return r},r.range=function(e){return arguments.length?(i=Hh.call(e),r):i.slice()},r.unknown=function(e){return arguments.length?(o=e,r):o},r.copy=function(){return Vo().domain(a).range(i).unknown(o)},r}function Go(){function t(){var e=s().length,t=l[1]<l[0],n=l[+t],i=l[1-t],i=(o=(i-n)/Math.max(1,e-c+2*f),u&&(o=Math.floor(o)),n+=(i-n-o*(e-c))*d,r=o*(1-c),u&&(n=Math.round(n),r=Math.round(r)),cl(e).map(function(e){return n+o*e}));return a(t?i.reverse():i)}var o,r,e=Vo().unknown(void 0),s=e.domain,a=e.range,l=[0,1],u=!1,c=0,f=0,d=.5;return delete e.unknown,e.domain=function(e){return arguments.length?(s(e),t()):s()},e.range=function(e){return arguments.length?(l=[+e[0],+e[1]],t()):l.slice()},e.rangeRound=function(e){return l=[+e[0],+e[1]],u=!0,t()},e.bandwidth=function(){return r},e.step=function(){return o},e.round=function(e){return arguments.length?(u=!!e,t()):u},e.padding=function(e){return arguments.length?(c=f=Math.max(0,Math.min(1,e)),t()):c},e.paddingInner=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},e.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},e.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),t()):d},e.copy=function(){return Go().domain(s()).range(l).round(u).paddingInner(c).paddingOuter(f).align(d)},t()}function qo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Qh(n)}function Zo(e,t,n,i){var o=e[0],e=e[1],r=t[0],t=t[1],r=e<o?(o=n(e,o),i(t,r)):(o=n(o,e),i(r,t));return function(e){return r(o(e))}}function Ko(n,e,t,i){var o=Math.min(n.length,e.length)-1,r=new Array(o),s=new Array(o),a=-1;for(n[o]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<o;)r[a]=t(n[a],n[a+1]),s[a]=i(e[a],e[a+1]);return function(e){var t=rl(n,e,1,o)-1;return s[t](r[t](e))}}function Jo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function Xo(t,n){function i(){return r=2<Math.min(l.length,u.length)?Ko:Zo,s=a=null,e}function e(e){return(s=s||r(l,u,f?(o=t,function(t,n){var i=o(t=+t,n=+n);return function(e){return e<=t?0:n<=e?1:i(e)}}):t,c))(+e);var o}var r,s,a,l=Gh,u=Gh,c=Au,f=!1;return e.invert=function(e){return(a=a||r(u,l,qo,f?(o=n,function(t,n){var i=o(t=+t,n=+n);return function(e){return e<=0?t:1<=e?n:i(e)}}):n))(+e);var o},e.domain=function(e){return arguments.length?(l=Yh.call(e,Vh),i()):l.slice()},e.range=function(e){return arguments.length?(u=Hh.call(e),i()):u.slice()},e.rangeRound=function(e){return u=Hh.call(e),c=Iu,i()},e.clamp=function(e){return arguments.length?(f=!!e,i()):f},e.interpolate=function(e){return arguments.length?(c=e,i()):c},i()}function $o(a){var l=a.domain;return a.ticks=function(e){var t=l();return pl(t[0],t[t.length-1],null==e?10:e)},a.tickFormat=function(e,t){return qh(l(),e,t)},a.nice=function(e){null==e&&(e=10);var t,n=l(),i=0,o=n.length-1,r=n[i],s=n[o];return s<r&&(t=r,r=s,s=t,t=i,i=o,o=t),0<(t=D(r,s,e))?t=D(r=Math.floor(r/t)*t,s=Math.ceil(s/t)*t,e):t<0&&(t=D(r=Math.ceil(r*t)/t,s=Math.floor(s*t)/t,e)),0<t?(n[i]=Math.floor(r/t)*t,n[o]=Math.ceil(s/t)*t,l(n)):t<0&&(n[i]=Math.ceil(r*t)/t,n[o]=Math.floor(s*t)/t,l(n)),a},a}function er(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:Qh(n)}function tr(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function nr(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ir(t){return 10===t?nr:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function or(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function rr(t){return function(e){return-t(-e)}}function sr(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function ar(){var i=1,e=Xo(function(t,n){return(n=sr(n,i)-(t=sr(t,i)))?function(e){return(sr(e,i)-t)/n}:Qh(n)},function(t,n){return n=sr(n,i)-(t=sr(t,i)),function(e){return sr(t+n*e,1/i)}}),t=e.domain;return e.exponent=function(e){return arguments.length?(i=+e,t(t())):i},e.copy=function(){return Jo(e,ar().exponent(i))},$o(e)}function e(o,r,n,i){function s(e){return o(e=new Date(+e)),e}return(s.floor=s).ceil=function(e){return o(e=new Date(e-1)),r(e,1),o(e),e},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,t){return r(e=new Date(+e),null==t?1:Math.floor(t)),e},s.range=function(e,t,n){var i=[];if(e=s.ceil(e),n=null==n?1:Math.floor(n),!(e<t&&0<n))return i;for(;i.push(new Date(+e)),r(e,n),o(e),e<t;);return i},s.filter=function(n){return e(function(e){if(e<=e)for(;o(e),!n(e);)e.setTime(e-1)},function(e,t){if(e<=e)if(t<0)for(;++t<=0;)for(;r(e,-1),!n(e););else for(;0<=--t;)for(;r(e,1),!n(e););})},n&&(s.count=function(e,t){return Zh.setTime(+e),Kh.setTime(+t),o(Zh),o(Kh),Math.floor(n(Zh,Kh))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&0<t?1<t?s.filter(i?function(e){return i(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s}function lr(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function ur(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}function cr(e){var t;return 0<=e.y&&e.y<100?((t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L)).setFullYear(e.y),t):new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fr(e){var t;return 0<=e.y&&e.y<100?((t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L))).setUTCFullYear(e.y),t):new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dr(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function hr(e){function n(l,u){return function(e){var t,n,i,o=[],r=-1,s=0,a=l.length;for(e instanceof Date||(e=new Date(+e));++r<a;)37===l.charCodeAt(r)&&(o.push(l.slice(s,r)),null!=(n=lg[t=l.charAt(++r)])?t=l.charAt(++r):n="e"===t?" ":"0",(i=u[t])&&(t=i(e,n)),o.push(t),s=r+1);return o.push(l.slice(s,r)),o.join("")}}function i(n,i){return function(e){var t=dr(1900);return o(t,n,e+="",0)!=e.length?null:("p"in t&&(t.H=t.H%12+12*t.p),("W"in t||"U"in t)&&("w"in t||(t.w="W"in t?1:0),e="Z"in t?fr(dr(t.y)).getUTCDay():i(dr(t.y)).getDay(),t.m=0,t.d="W"in t?(t.w+6)%7+7*t.W-(e+5)%7:t.w+7*t.U-(e+6)%7),"Z"in t?(t.H+=t.Z/100|0,t.M+=t.Z%100,fr(t)):i(t))}}function o(e,t,n,i){for(var o,r,s=0,a=t.length,l=n.length;s<a;){if(l<=i)return-1;if(37===(o=t.charCodeAt(s++))){if(o=t.charAt(s++),!(r=w[o in lg?t.charAt(s++):o])||(i=r(e,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}var r=e.dateTime,s=e.date,a=e.time,t=e.periods,l=e.days,u=e.shortDays,c=e.months,f=e.shortMonths,d=gr(t),h=mr(t),p=gr(l),g=mr(l),m=gr(u),v=mr(u),y=gr(c),D=mr(c),_=gr(f),b=mr(f),C={a:function(e){return u[e.getDay()]},A:function(e){return l[e.getDay()]},b:function(e){return f[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:null,d:Sr,e:Sr,H:Nr,I:jr,j:Or,L:Lr,m:zr,M:Fr,p:function(e){return t[+(12<=e.getHours())]},S:Pr,U:Rr,w:Ur,W:Br,x:null,X:null,y:Yr,Y:Hr,Z:Wr,"%":rs},M={a:function(e){return u[e.getUTCDay()]},A:function(e){return l[e.getUTCDay()]},b:function(e){return f[e.getUTCMonth()]},B:function(e){return c[e.getUTCMonth()]},c:null,d:Qr,e:Qr,H:Vr,I:Gr,j:qr,L:Zr,m:Kr,M:Jr,p:function(e){return t[+(12<=e.getUTCHours())]},S:Xr,U:$r,w:es,W:ts,x:null,X:null,y:ns,Y:is,Z:os,"%":rs},w={a:function(e,t,n){t=m.exec(t.slice(n));return t?(e.w=v[t[0].toLowerCase()],n+t[0].length):-1},A:function(e,t,n){t=p.exec(t.slice(n));return t?(e.w=g[t[0].toLowerCase()],n+t[0].length):-1},b:function(e,t,n){t=_.exec(t.slice(n));return t?(e.m=b[t[0].toLowerCase()],n+t[0].length):-1},B:function(e,t,n){t=y.exec(t.slice(n));return t?(e.m=D[t[0].toLowerCase()],n+t[0].length):-1},c:function(e,t,n){return o(e,r,t,n)},d:wr,e:wr,H:Ir,I:Ir,j:Ar,L:xr,m:Mr,M:kr,p:function(e,t,n){t=d.exec(t.slice(n));return t?(e.p=h[t[0].toLowerCase()],n+t[0].length):-1},S:Tr,U:yr,w:vr,W:Dr,x:function(e,t,n){return o(e,s,t,n)},X:function(e,t,n){return o(e,a,t,n)},y:br,Y:_r,Z:Cr,"%":Er};return C.x=n(s,C),C.X=n(a,C),C.c=n(r,C),M.x=n(s,M),M.X=n(a,M),M.c=n(r,M),{format:function(e){var t=n(e+="",C);return t.toString=function(){return e},t},parse:function(e){var t=i(e+="",cr);return t.toString=function(){return e},t},utcFormat:function(e){var t=n(e+="",M);return t.toString=function(){return e},t},utcParse:function(e){var t=i(e,fr);return t.toString=function(){return e},t}}}function n(e,t,n){var i=e<0?"-":"",e=(i?-e:e)+"",o=e.length;return i+(o<n?new Array(n-o+1).join(t)+e:e)}function pr(e){return e.replace(fg,"\\$&")}function gr(e){return new RegExp("^(?:"+e.map(pr).join("|")+")","i")}function mr(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function vr(e,t,n){t=ug.exec(t.slice(n,n+1));return t?(e.w=+t[0],n+t[0].length):-1}function yr(e,t,n){t=ug.exec(t.slice(n));return t?(e.U=+t[0],n+t[0].length):-1}function Dr(e,t,n){t=ug.exec(t.slice(n));return t?(e.W=+t[0],n+t[0].length):-1}function _r(e,t,n){t=ug.exec(t.slice(n,n+4));return t?(e.y=+t[0],n+t[0].length):-1}function br(e,t,n){t=ug.exec(t.slice(n,n+2));return t?(e.y=+t[0]+(68<+t[0]?1900:2e3),n+t[0].length):-1}function Cr(e,t,n){t=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return t?(e.Z=t[1]?0:-(t[2]+(t[3]||"00")),n+t[0].length):-1}function Mr(e,t,n){t=ug.exec(t.slice(n,n+2));return t?(e.m=t[0]-1,n+t[0].length):-1}function wr(e,t,n){t=ug.exec(t.slice(n,n+2));return t?(e.d=+t[0],n+t[0].length):-1}function Ar(e,t,n){t=ug.exec(t.slice(n,n+3));return t?(e.m=0,e.d=+t[0],n+t[0].length):-1}function Ir(e,t,n){t=ug.exec(t.slice(n,n+2));return t?(e.H=+t[0],n+t[0].length):-1}function kr(e,t,n){t=ug.exec(t.slice(n,n+2));return t?(e.M=+t[0],n+t[0].length):-1}function Tr(e,t,n){t=ug.exec(t.slice(n,n+2));return t?(e.S=+t[0],n+t[0].length):-1}function xr(e,t,n){t=ug.exec(t.slice(n,n+3));return t?(e.L=+t[0],n+t[0].length):-1}function Er(e,t,n){t=cg.exec(t.slice(n,n+1));return t?n+t[0].length:-1}function Sr(e,t){return n(e.getDate(),t,2)}function Nr(e,t){return n(e.getHours(),t,2)}function jr(e,t){return n(e.getHours()%12||12,t,2)}function Or(e,t){return n(1+op.count(Cp(e),e),t,3)}function Lr(e,t){return n(e.getMilliseconds(),t,3)}function zr(e,t){return n(e.getMonth()+1,t,2)}function Fr(e,t){return n(e.getMinutes(),t,2)}function Pr(e,t){return n(e.getSeconds(),t,2)}function Rr(e,t){return n(sp.count(Cp(e),e),t,2)}function Ur(e){return e.getDay()}function Br(e,t){return n(ap.count(Cp(e),e),t,2)}function Yr(e,t){return n(e.getFullYear()%100,t,2)}function Hr(e,t){return n(e.getFullYear()%1e4,t,4)}function Wr(e){e=e.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+n(e/60|0,"0",2)+n(e%60,"0",2)}function Qr(e,t){return n(e.getUTCDate(),t,2)}function Vr(e,t){return n(e.getUTCHours(),t,2)}function Gr(e,t){return n(e.getUTCHours()%12||12,t,2)}function qr(e,t){return n(1+Tp.count(Vp(e),e),t,3)}function Zr(e,t){return n(e.getUTCMilliseconds(),t,3)}function Kr(e,t){return n(e.getUTCMonth()+1,t,2)}function Jr(e,t){return n(e.getUTCMinutes(),t,2)}function Xr(e,t){return n(e.getUTCSeconds(),t,2)}function $r(e,t){return n(Ep.count(Vp(e),e),t,2)}function es(e){return e.getUTCDay()}function ts(e,t){return n(Sp.count(Vp(e),e),t,2)}function ns(e,t){return n(e.getUTCFullYear()%100,t,2)}function is(e,t){return n(e.getUTCFullYear()%1e4,t,4)}function os(){return"+0000"}function rs(){return"%"}function ss(e){return sg=hr(e),U.timeFormat=sg.format,U.timeParse=sg.parse,U.utcFormat=sg.utcFormat,U.utcParse=sg.utcParse,sg}function as(e){return new Date(e)}function ls(e){return e instanceof Date?+e:+new Date(+e)}function us(s,t,n,i,o,r,a,l,u){function c(e){return(a(e)<e?g:r(e)<e?m:o(e)<e?v:i(e)<e?y:t(e)<e?n(e)<e?D:_:s(e)<e?b:C)(e)}function f(e,t,n,i){var o,r;return"number"==typeof(e=null==e?10:e)&&(o=Math.abs(n-t)/e,e=(r=Oa(function(e){return e[2]}).right(M,o))===M.length?(i=A(t/31536e6,n/31536e6,e),s):r?(i=(r=M[o/M[r-1][2]<M[r][2]/o?r-1:r])[1],r[0]):(i=A(t,n,e),l)),null==i?e:e.every(i)}var d=Xo(qo,w),h=d.invert,p=d.domain,g=u(".%L"),m=u(":%S"),v=u("%I:%M"),y=u("%I %p"),D=u("%a %d"),_=u("%b %d"),b=u("%B"),C=u("%Y"),M=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[r,1,6e4],[r,5,3e5],[r,15,9e5],[r,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[s,1,31536e6]];return d.invert=function(e){return new Date(h(e))},d.domain=function(e){return arguments.length?p(Yh.call(e,ls)):p().map(as)},d.ticks=function(e,t){var n,i=p(),o=i[0],i=i[i.length-1],r=i<o;return r&&(n=o,o=i,i=n),n=(n=f(e,o,i,t))?n.range(o,i+1):[],r?n.reverse():n},d.tickFormat=function(e,t){return null==t?c:u(t)},d.nice=function(e,t){var n=p();return(e=f(e,n[0],n[n.length-1],t))?p(sh(n,e)):d},d.copy=function(){return Jo(d,us(s,t,n,i,o,r,a,l,u))},d}function cs(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function fs(e){return 1<=e?jg:e<=-1?-jg:Math.asin(e)}function ds(e){return e.innerRadius}function hs(e){return e.outerRadius}function ps(e){return e.startAngle}function gs(e){return e.endAngle}function ms(e){return e&&e.padAngle}function vs(e,t,n,i,o,r,s){var a=e-n,l=t-i,s=(s?r:-r)/Sg(a*a+l*l),l=s*l,s=-s*a,a=e+l,e=t+s,t=n+l,n=i+s,i=(a+t)/2,u=(e+n)/2,c=t-a,f=n-e,d=c*c+f*f,r=o-r,a=a*n-t*e,n=(f<0?-1:1)*Sg(Tg(0,r*r*d-a*a)),t=(a*f-c*n)/d,e=(-a*c-f*n)/d,h=(a*f+c*n)/d,a=(-a*c+f*n)/d,c=t-i,f=e-u,n=h-i,d=a-u;return n*n+d*d<c*c+f*f&&(t=h,e=a),{cx:t,cy:e,x01:-l,y01:-s,x11:t*(o/r-1),y11:e*(o/r-1)}}function ys(e){this._context=e}function Ds(e){return e[0]}function _s(e){return e[1]}function bs(e){this._curve=e}function Cs(t){function e(e){return new bs(t(e))}return e._curve=t,e}function Ms(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(Cs(e)):t()._curve},e}function ws(e){return e.source}function As(e){return e.target}function Is(o){function t(){var e,t=Fg.call(arguments),n=r.apply(this,t),i=s.apply(this,t);if(u=u||(e=Ft()),o(u,+a.apply(this,(t[0]=n,t)),+l.apply(this,t),+a.apply(this,(t[0]=i,t)),+l.apply(this,t)),e)return u=null,e+""||null}var r=ws,s=As,a=Ds,l=_s,u=null;return t.source=function(e){return arguments.length?(r=e,t):r},t.target=function(e){return arguments.length?(s=e,t):s},t.x=function(e){return arguments.length?(a="function"==typeof e?e:_(+e),t):a},t.y=function(e){return arguments.length?(l="function"==typeof e?e:_(+e),t):l},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t}function ks(e,t,n,i,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+i)/2,n,t,o,i,o)}function Ts(e,t,n,i,o){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+o)/2,i,n,i,o)}function xs(e,t,n,i,o){var r=eg(t,n),t=eg(t,n=(n+o)/2),n=eg(i,n),i=eg(i,o);e.moveTo(r[0],r[1]),e.bezierCurveTo(t[0],t[1],n[0],n[1],i[0],i[1])}function Es(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ss(e){this._context=e}function Ns(e){this._context=e}function js(e){this._context=e}function Os(e,t){this._basis=new Ss(e),this._beta=t}function Ls(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function zs(e,t){this._context=e,this._k=(1-t)/6}function Fs(e,t){this._context=e,this._k=(1-t)/6}function Ps(e,t){this._context=e,this._k=(1-t)/6}function Rs(e,t,n){var i,o,r=e._x1,s=e._y1,a=e._x2,l=e._y2;e._l01_a>Y&&(i=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,o=3*e._l01_a*(e._l01_a+e._l12_a),r=(r*i-e._x0*e._l12_2a+e._x2*e._l01_2a)/o,s=(s*i-e._y0*e._l12_2a+e._y2*e._l01_2a)/o),e._l23_a>Y&&(i=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,o=3*e._l23_a*(e._l23_a+e._l12_a),a=(a*i+e._x1*e._l23_2a-t*e._l12_2a)/o,l=(l*i+e._y1*e._l23_2a-n*e._l12_2a)/o),e._context.bezierCurveTo(r,s,a,l,e._x2,e._y2)}function Us(e,t){this._context=e,this._alpha=t}function Bs(e,t){this._context=e,this._alpha=t}function Ys(e,t){this._context=e,this._alpha=t}function Hs(e){this._context=e}function Ws(e){return e<0?-1:1}function Qs(e,t,n){var i=e._x1-e._x0,t=t-e._x1,o=(e._y1-e._y0)/(i||t<0&&-0),n=(n-e._y1)/(t||i<0&&-0),e=(o*t+n*i)/(i+t);return(Ws(o)+Ws(n))*Math.min(Math.abs(o),Math.abs(n),.5*Math.abs(e))||0}function Vs(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Gs(e,t,n){var i=e._x0,o=e._y0,r=e._x1,s=e._y1,a=(r-i)/3;e._context.bezierCurveTo(i+a,o+a*t,r-a,s-a*n,r,s)}function qs(e){this._context=e}function Zs(e){this._context=new Ks(e)}function Ks(e){this._context=e}function Js(e){this._context=e}function Xs(e){var t,n,i=e.length-1,o=new Array(i),r=new Array(i),s=new Array(i);for(r[o[0]=0]=2,s[0]=e[0]+2*e[1],t=1;t<i-1;++t)o[t]=1,r[t]=4,s[t]=4*e[t]+2*e[t+1];for(o[i-1]=2,r[i-1]=7,s[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=o[t]/r[t-1],r[t]-=n,s[t]-=n*s[t-1];for(o[i-1]=s[i-1]/r[i-1],t=i-2;0<=t;--t)o[t]=(s[t]-o[t+1])/r[t];for(r[i-1]=(e[i]+o[i-1])/2,t=0;t<i-1;++t)r[t]=2*e[t+1]-o[t+1];return[o,r]}function $s(e,t){this._context=e,this._t=t}function ea(e,t){return e[t]}function ta(e){for(var t,n=0,i=-1,o=e.length;++i<o;)(t=+e[i][1])&&(n+=t);return n}function na(e){return e[0]}function ia(e){return e[1]}function oa(){this._=null}function ra(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function sa(e,t){var n=t,t=t.R,i=n.U;i?i.L===n?i.L=t:i.R=t:e._=t,t.U=i,n.U=t,n.R=t.L,n.R&&(n.R.U=n),t.L=n}function aa(e,t){var n=t,t=t.L,i=n.U;i?i.L===n?i.L=t:i.R=t:e._=t,t.U=i,n.U=t,n.L=t.R,n.L&&(n.L.U=n),t.R=n}function la(e){for(;e.L;)e=e.L;return e}function ua(e,t,n,i){var o=[null,null],r=H.push(o)-1;return o.left=e,o.right=t,n&&fa(o,e,t,n),i&&fa(o,t,e,i),fm[e.index].halfedges.push(r),fm[t.index].halfedges.push(r),o}function ca(e,t,n){t=[t,n];return t.left=e,t}function fa(e,t,n,i){e[0]||e[1]?e.left===n?e[1]=i:e[0]=i:(e[0]=i,e.left=t,e.right=n)}function da(e,t,n,i){for(var o,r=H.length;r--;)(function(e,t,n,i,o){var r=e[1];if(r)return 1;var s,a=e[0],l=e.left,u=e.right,c=l[0],l=l[1],f=u[0],u=u[1],d=(c+f)/2;if(u===l){if(d<t||i<=d)return;if(f<c){if(a){if(a[1]>=o)return}else a=[d,n];r=[d,o]}else{if(a){if(a[1]<n)return}else a=[d,o];r=[d,n]}}else if(d=(l+u)/2-(s=(c-f)/(u-l))*d,s<-1||1<s)if(f<c){if(a){if(a[1]>=o)return}else a=[(n-d)/s,n];r=[(o-d)/s,o]}else{if(a){if(a[1]<n)return}else a=[(o-d)/s,o];r=[(n-d)/s,n]}else if(l<u){if(a){if(a[0]>=i)return}else a=[t,s*t+d];r=[i,s*i+d]}else{if(a){if(a[0]<t)return}else a=[i,s*i+d];r=[t,s*t+d]}return e[0]=a,e[1]=r,1})(o=H[r],e,t,n,i)&&function(e,t,n,i,o){var r=e[0],s=e[1],a=r[0],r=r[1],l=0,u=1,c=s[0]-a,s=s[1]-r,t=t-a;if(c||!(0<t)){if(t/=c,c<0){if(t<l)return;t<u&&(u=t)}else if(0<c){if(u<t)return;l<t&&(l=t)}if(t=i-a,c||!(t<0)){if(t/=c,c<0){if(u<t)return;l<t&&(l=t)}else if(0<c){if(t<l)return;t<u&&(u=t)}if(t=n-r,s||!(0<t)){if(t/=s,s<0){if(t<l)return;t<u&&(u=t)}else if(0<s){if(u<t)return;l<t&&(l=t)}if(t=o-r,s||!(t<0)){if(t/=s,s<0){if(u<t)return;l<t&&(l=t)}else if(0<s){if(t<l)return;t<u&&(u=t)}return(0<l||u<1)&&(0<l&&(e[0]=[a+l*c,r+l*s]),u<1&&(e[1]=[a+u*c,r+u*s])),1}}}}}(o,e,t,n,i)&&(Math.abs(o[0][0]-o[1][0])>W||Math.abs(o[0][1]-o[1][1])>W)||delete H[r]}function ha(e,t){return t[+(t.left!==e.site)]}function pa(){for(var e,t,n,i,o,r,s,a=0,l=fm.length;a<l;++a)if((e=fm[a])&&(n=(t=e.halfedges).length)){for(var u=new Array(n),c=new Array(n),f=0;f<n;++f)u[f]=f,c[f]=(i=e,o=H[t[f]],s=r=void 0,i=i.site,r=o.left,s=o.right,i===s&&(s=r,r=i),s?Math.atan2(s[1]-r[1],s[0]-r[0]):(s=i===r?(r=o[1],o[0]):(r=o[0],o[1]),Math.atan2(r[0]-s[0],s[1]-r[1])));for(u.sort(function(e,t){return c[t]-c[e]}),f=0;f<n;++f)c[f]=t[u[f]];for(f=0;f<n;++f)t[f]=c[f]}}function ga(){ra(this),this.x=this.y=this.arc=this.site=this.cy=null}function ma(e){var t=e.P,n=e.N;if(t&&n){var t=t.site,i=e.site,n=n.site;if(t!==n){var o=i[0],r=i[1],s=t[0]-o,t=t[1]-r,a=n[0]-o,n=n[1]-r,l=2*(s*n-t*a);if(!(-gm<=l)){var u=s*s+t*t,c=a*a+n*n,n=(n*u-t*c)/l,t=(s*c-a*u)/l,f=hm.pop()||new ga;f.arc=e,f.site=i,f.x=n+o,f.y=(f.cy=t+r)+Math.sqrt(n*n+t*t),e.circle=f;for(var d=null,h=dm._;h;)if(f.y<h.y||f.y===h.y&&f.x<=h.x){if(!h.L){d=h.P;break}h=h.L}else{if(!h.R){d=h;break}h=h.R}dm.insert(d,f),d||(um=f)}}}}function va(e){var t=e.circle;t&&(t.P||(um=t.N),dm.remove(t),hm.push(t),ra(t),e.circle=null)}function ya(){ra(this),this.edge=this.site=this.circle=null}function Da(e){var t=pm.pop()||new ya;return t.site=e,t}function _a(e){va(e),cm.remove(e),pm.push(e),ra(e)}function ba(e){for(var t,n,i,o,r=e[0],s=e[1],a=cm._;a;)if((i=Ca(a,s)-r)>W)a=a.L;else{if(!((o=r-function(e,t){var n=e.N;if(n)return Ca(n,t);n=e.site;return n[1]===t?n[0]:1/0}(a,s))>W)){-W<i?(t=a.P,n=a):-W<o?n=(t=a).N:t=n=a;break}if(!a.R){t=a;break}a=a.R}fm[e.index]={site:e,halfedges:[]};var l,u,c,f,d,h,p,g,m,v,y=Da(e);if(cm.insert(t,y),t||n){if(t===n)return va(t),n=Da(t.site),cm.insert(y,n),y.edge=n.edge=ua(t.site,y.site),ma(t),ma(n);n?(va(t),va(n),u=(l=t.site)[0],c=l[1],f=e[0]-u,v=e[1]-c,h=(d=n.site)[0]-u,p=d[1]-c,fa(n.edge,l,d,v=[(p*(g=f*f+v*v)-v*(m=h*h+p*p))/(p=2*(f*p-v*h))+u,(f*m-h*g)/p+c]),y.edge=ua(l,e,null,v),n.edge=ua(e,d,null,v),ma(t),ma(n)):y.edge=ua(t.site,y.site)}}function Ca(e,t){var n=e.site,i=n[0],o=n[1],r=o-t;if(!r)return i;e=e.P;if(!e)return-1/0;e=(n=e.site)[0],n=n[1],t=n-t;if(!t)return e;var s=e-i,a=1/r-1/t,l=s/t;return a?(-l+Math.sqrt(l*l-2*a*(s*s/(-2*t)-n+t/2+o-r/2)))/a+i:(i+e)/2}function Ma(e,t){return t[1]-e[1]||t[0]-e[0]}function wa(e,t){var z,F,n,i=e.sort(Ma).pop();for(H=[],fm=new Array(e.length),cm=new oa,dm=new oa;;)if(n=um,i&&(!n||i[1]<n.y||i[1]===n.y&&i[0]<n.x))i[0]===z&&i[1]===F||(ba(i),z=i[0],F=i[1]),i=e.pop();else{if(!n)break;p=g=h=d=f=c=u=l=a=s=r=o=void 0;var o=n.arc,r=o.circle,s=r.x,a=r.cy,l=[s,a],u=o.P,c=o.N,f=[o];_a(o);for(var d=u;d.circle&&Math.abs(s-d.circle.x)<W&&Math.abs(a-d.circle.cy)<W;)u=d.P,f.unshift(d),_a(d),d=u;f.unshift(d),va(d);for(var h=c;h.circle&&Math.abs(s-h.circle.x)<W&&Math.abs(a-h.circle.cy)<W;)c=h.N,f.push(h),_a(h),h=c;f.push(h),va(h);for(var p=f.length,g=1;g<p;++g)h=f[g],d=f[g-1],fa(h.edge,d.site,h.site,l);d=f[0],(h=f[p-1]).edge=ua(d.site,h.site,null,l),ma(d),ma(h)}if(pa(),t){var m,v,y,D,_,b,C,M,w,A,I=+t[0][0],k=+t[0][1],T=+t[1][0],t=+t[1][1],x=(da(I,k,T,t),I),E=k,S=T,N=t,P=fm.length,j=!0;for(L=0;L<P;++L)if(m=fm[L]){for(v=m.site,y=(D=m.halfedges).length;y--;)H[D[y]]||D.splice(y,1);for(y=0,_=D.length;y<_;)w=m,w=(A=(A=H[D[y]])[+(A.left===w.site)])[0],M=A[1],b=(C=ha(m,H[D[++y%_]]))[0],C=C[1],(Math.abs(w-b)>W||Math.abs(M-C)>W)&&(D.splice(y,0,H.push(ca(v,A,Math.abs(w-x)<W&&W<N-M?[x,Math.abs(b-x)<W?C:N]:Math.abs(M-N)<W&&W<S-w?[Math.abs(C-N)<W?b:S,N]:Math.abs(w-S)<W&&W<M-E?[S,Math.abs(b-S)<W?C:E]:Math.abs(M-E)<W&&W<w-x?[Math.abs(C-E)<W?b:x,E]:null))-1),++_);_&&(j=!1)}if(j){for(var O,R=1/0,L=0,j=null;L<P;++L)(m=fm[L])&&(O=(O=(v=m.site)[0]-x)*O+(O=v[1]-E)*O)<R&&(R=O,j=m);j&&(I=[S,N],k=[S,E],j.halfedges.push(H.push(ca(v=j.site,T=[x,E],t=[x,N]))-1,H.push(ca(v,t,I))-1,H.push(ca(v,I,k))-1,H.push(ca(v,k,T))-1))}for(L=0;L<P;++L)!(m=fm[L])||m.halfedges.length||delete fm[L]}this.edges=H,this.cells=fm,cm=dm=H=fm=null}function Aa(e,t,n){this.target=e,this.type=t,this.transform=n}function Ia(e,t,n){this.k=e,this.x=t,this.y=n}function ka(e){return e.__zoom||mm}function Ta(){U.event.stopImmediatePropagation()}function xa(){return!U.event.button}function Ea(){var e,t=this,t=t instanceof SVGElement?(e=(t=t.ownerSVGElement||t).width.baseVal.value,t.height.baseVal.value):(e=t.clientWidth,t.clientHeight);return[[0,0],[e,t]]}function Sa(){return this.__zoom||mm}function Na(){return-U.event.deltaY*(U.event.deltaMode?120:1)/500}function ja(){return"ontouchstart"in this}function Oa(r){return 1===r.length&&(n=r,r=function(e,t){return il(n(e),t)}),{left:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var o=n+i>>>1;r(e[o],t)<0?n=1+o:i=o}return n},right:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var o=n+i>>>1;0<r(e[o],t)?i=o:n=1+o}return n}};var n}function La(e,t){var n,i,o=e.length,r=0,s=-1,a=0,l=0;if(null==t)for(;++s<o;)isNaN(n=sl(e[s]))||(l+=(i=n-a)*(n-(a+=i/++r)));else for(;++s<o;)isNaN(n=sl(t(e[s],s,e)))||(l+=(i=n-a)*(n-(a+=i/++r)));if(1<r)return l/(r-1)}function za(e,t){return(e=La(e,t))&&Math.sqrt(e)}function Fa(e,t){var n,i,o,r=e.length,s=-1;if(null==t){for(;++s<r;)if(null!=(n=e[s])&&n<=n)for(i=o=n;++s<r;)null!=(n=e[s])&&(n<i&&(i=n),o<n&&(o=n))}else for(;++s<r;)if(null!=(n=t(e[s],s,e))&&n<=n)for(i=o=n;++s<r;)null!=(n=t(e[s],s,e))&&(n<i&&(i=n),o<n&&(o=n));return[i,o]}function Pa(e){return function(){return e}}function Ra(e){return e}function Ua(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function Ba(e,t,n){if(null==n&&(n=sl),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(1<=t)return+n(e[i-1],i-1,e);var i=(i-1)*t,t=Math.floor(i),o=+n(e[t],t,e);return o+(+n(e[t+1],t+1,e)-o)*(i-t)}}function Ya(e){for(var t,n,i,o=e.length,r=-1,s=0;++r<o;)s+=e[r].length;for(n=new Array(s);0<=--o;)for(t=(i=e[o]).length;0<=--t;)n[--s]=i[t];return n}function Ha(e,t){var n,i,o=e.length,r=-1;if(null==t){for(;++r<o;)if(null!=(n=e[r])&&n<=n)for(i=n;++r<o;)null!=(n=e[r])&&n<i&&(i=n)}else for(;++r<o;)if(null!=(n=t(e[r],r,e))&&n<=n)for(i=n;++r<o;)null!=(n=t(e[r],r,e))&&n<i&&(i=n);return i}function Wa(e){if(!(o=e.length))return[];for(var t=-1,n=Ha(e,a),i=new Array(n);++t<n;)for(var o,r=-1,s=i[t]=new Array(o);++r<o;)s[r]=e[r][t];return i}function Qa(e){return e}function Va(e){var t=e+="",n=t.indexOf(":");return 0<=n&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),yl.hasOwnProperty(t)?{space:yl[t],local:e}:e}function Ga(e){return((e=Va(e)).local?K:Z)(e)}function qa(e){var t=Cl();return t.changedTouches&&(t=t.changedTouches[0]),Ml(e,t)}function Za(e){return null==e?oe:function(){return this.querySelector(e)}}function Ka(e){return null==e?re:function(){return this.querySelectorAll(e)}}function Ja(e){return new Array(e.length)}function Xa(e,t,n){arguments.length<3&&(n=t,t=Cl().changedTouches);for(var i,o=0,r=t?t.length:0;o<r;++o)if((i=t[o]).identifier===n)return Ml(e,i);return null}function $a(e){var t=e.document.documentElement,e=B(e).on("dragstart.drag",Il,!0);"onselectstart"in t?e.on("selectstart.drag",Il,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function el(e){return function(){return e}}function tl(e,t,n){(e.prototype=t.prototype=n).constructor=e}var nl,il=function(e,t){return e<t?-1:t<e?1:t<=e?0:NaN},ol=Oa(il),rl=ol.right,ol=ol.left,sl=function(e){return null===e?NaN:+e},al=Array.prototype,ll=al.slice,ul=al.map,cl=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),r=new Array(o);++i<o;)r[i]=e+i*n;return r},fl=Math.sqrt(50),dl=Math.sqrt(10),hl=Math.sqrt(2),pl=function(e,t,n){var i,o,r,s=t<e,a=-1;if(s&&(i=e,e=t,t=i),0===(r=D(e,t,n))||!isFinite(r))return[];if(0<r)for(e=Math.ceil(e/r),t=Math.floor(t/r),o=new Array(i=Math.ceil(t-e+1));++a<i;)o[a]=(e+a)*r;else for(e=Math.floor(e*r),t=Math.ceil(t*r),o=new Array(i=Math.ceil(e-t+1));++a<i;)o[a]=(e-a)/r;return s&&o.reverse(),o},gl=Array.prototype.slice,ml={value:function(){}},vl=(M.prototype=G.prototype={constructor:M,on:function(e,t){var n,i,o=this._,r=(i=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(0<=n&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!i.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),s=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(n=(e=r[s]).type)o[n]=q(o[n],e.name,t);else if(null==t)for(n in o)o[n]=q(o[n],e.name,null);return this}for(;++s<a;)if((n=(e=r[s]).type)&&(n=function(e,t){for(var n,i=0,o=e.length;i<o;++i)if((n=e[i]).name===t)return n.value}(o[n],e.name)))return n},copy:function(){var e,t={},n=this._;for(e in n)t[e]=n[e].slice();return new M(t)},call:function(e,t){if(0<(n=arguments.length-2))for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,n=(i=this._[e]).length;r<n;++r)i[r].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)}},"http://www.w3.org/1999/xhtml"),yl={svg:"http://www.w3.org/2000/svg",xhtml:vl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dl=0,al=(X.prototype=J.prototype={constructor:X,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}},function(e){return function(){return this.matches(e)}}),_l=("undefined"==typeof document||(kl=document.documentElement).matches||(nl=kl.webkitMatchesSelector||kl.msMatchesSelector||kl.mozMatchesSelector||kl.oMatchesSelector,al=function(e){return function(){return nl.call(this,e)}}),al),bl={},Cl=(U.event=null,"undefined"==typeof document||"onmouseenter"in document.documentElement||(bl={mouseenter:"mouseover",mouseleave:"mouseout"}),function(){for(var e,t=U.event;e=t.sourceEvent;)t=e;return t}),Ml=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint)return(n=n.createSVGPoint()).x=t.clientX,n.y=t.clientY,[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y];n=e.getBoundingClientRect();return[t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop]},wl=(se.prototype={constructor:se,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}),Al=(he.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){e=this._names.indexOf(e);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return 0<=this._names.indexOf(e)}},[null]),B=(C.prototype=Me.prototype={constructor:C,select:function(e){"function"!=typeof e&&(e=Za(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r,s,a=t[o],l=a.length,u=i[o]=new Array(l),c=0;c<l;++c)(r=a[c])&&(s=e.call(r,r.__data__,c,a))&&("__data__"in r&&(s.__data__=r.__data__),u[c]=s);return new C(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Ka(e));for(var t=this._groups,n=t.length,i=[],o=[],r=0;r<n;++r)for(var s,a=t[r],l=a.length,u=0;u<l;++u)(s=a[u])&&(i.push(e.call(s,s.__data__,u,a)),o.push(s));return new C(i,o)},filter:function(e){"function"!=typeof e&&(e=_l(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r,s=t[o],a=s.length,l=i[o]=[],u=0;u<a;++u)(r=s[u])&&e.call(r,r.__data__,u,s)&&l.push(r);return new C(i,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each(function(e){p[++c]=e}),p;var n,i=t?le:ae,o=this._parents,r=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=r.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=o[c],d=r[c],h=d.length,p=e.call(f,f&&f.__data__,c,o),g=p.length,m=l[c]=new Array(g),v=a[c]=new Array(g);i(f,d,m,v,u[c]=new Array(h),p,t);for(var y,D,_=0,b=0;_<g;++_)if(y=m[_]){for(b<=_&&(b=_+1);!(D=v[b])&&++b<g;);y._next=D||null}}return(a=new C(a,o))._enter=l,a._exit=u,a},enter:function(){return new C(this._enter||this._groups.map(Ja),this._parents)},exit:function(){return new C(this._exit||this._groups.map(Ja),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,e=n.length,o=Math.min(i,e),r=new Array(i),s=0;s<o;++s)for(var a,l=t[s],u=n[s],c=l.length,f=r[s]=new Array(c),d=0;d<c;++d)(a=l[d]||u[d])&&(f[d]=a);for(;s<i;++s)r[s]=t[s];return new C(r,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,o=e[t],r=o.length-1,s=o[r];0<=--r;)(i=o[r])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(n){n=n||ue;for(var e=this._groups,t=e.length,i=new Array(t),o=0;o<t;++o){for(var r,s=e[o],a=s.length,l=i[o]=new Array(a),u=0;u<a;++u)(r=s[u])&&(l[u]=r);l.sort(function(e,t){return e&&t?n(e.__data__,t.__data__):!e-!t})}return new C(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o,r=t[n],s=0,a=r.length;s<a;++s)(o=r[s])&&e.call(o,o.__data__,s,r);return this},attr:function(e,t){var n,e=Va(e);return arguments.length<2?(n=this.node(),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)):this.each((null==t?e.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(e,t))},style:function(e,t,n){return 1<arguments.length?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(t,n,i){return function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,i)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):ce(this.node(),e)},property:function(e,t){return 1<arguments.length?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=fe(e+"");if(arguments.length<2){for(var i=de(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?pe:ge)(this,e)}}:t?function(e){return function(){pe(this,e)}}:function(e){return function(){ge(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?me:("function"==typeof e?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ve:("function"==typeof e?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(ye)},lower:function(){return this.each(De)},append:function(e){var t="function"==typeof e?e:Ga(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:Ga(e),i=null==t?_e:"function"==typeof t?t:Za(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(be)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,o,r=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return 0<=n&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),s=r.length;if(!(arguments.length<2)){for(a=t?ne:te,null==n&&(n=!1),i=0;i<s;++i)this.each(a(r[i],t,n));return this}var a=this.node().__on;if(a)for(var l,u=0,c=a.length;u<c;++u)for(i=0,l=a[u];i<s;++i)if((o=r[i]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return Ce(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return Ce(this,e,t)}})(e,t))}},function(e){return"string"==typeof e?new C([[document.querySelector(e)]],[document.documentElement]):new C([[e]],Al)}),Il=function(){U.event.preventDefault(),U.event.stopImmediatePropagation()},kl=(Ie.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e},"\\s*([+-]?\\d+)\\s*"),al="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xl=/^#([0-9a-f]{3})$/,El=/^#([0-9a-f]{6})$/,Sl=new RegExp("^rgb\\("+[kl,kl,kl]+"\\)$"),Nl=new RegExp("^rgb\\("+[Tl,Tl,Tl]+"\\)$"),jl=new RegExp("^rgba\\("+[kl,kl,kl,al]+"\\)$"),Ol=new RegExp("^rgba\\("+[Tl,Tl,Tl,al]+"\\)$"),Ll=new RegExp("^hsl\\("+[al,Tl,Tl]+"\\)$"),zl=new RegExp("^hsla\\("+[al,Tl,Tl,al]+"\\)$"),Fl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pl=(tl(Ne,je,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),tl(s,Fe,Se(Ne,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new s(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new s(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),tl(Ue,Re,Se(Ne,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ue(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ue(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,t=n+(n<.5?n:1-n)*t,n=2*n-t;return new s(Be(240<=e?e-240:120+e,n,t),Be(e,n,t),Be(e<120?240+e:e-120,n,t),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}})),Math.PI/180),Rl=180/Math.PI,Ul=.95047,Bl=1,Yl=1.08883,Hl=4/29,Wl=6/29*3*(6/29),Ql=6/29*(6/29)*(6/29),Vl=(tl(We,He,Se(Ne,{brighter:function(e){return new We(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new We(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200,e=Bl*Ve(e);return new s(Ge(3.2404542*(t=Ul*Ve(t))-1.5371385*e-.4985314*(n=Yl*Ve(n))),Ge(-.969266*t+1.8760108*e+.041556*n),Ge(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),tl(Ke,Ze,Se(Ne,{brighter:function(e){return new Ke(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Ke(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Ye(this).rgb()}})),-.29227),Gl=-.90649,ql=1.97294,Zl=ql*Gl,Kl=1.78277*ql,Jl=1.78277*Vl- -.14861*Gl;tl(Xe,Je,Se(Ne,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Xe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Xe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Pl,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),e=Math.sin(e);return new s(255*(t+n*(-.14861*i+1.78277*e)),255*(t+n*(Vl*i+Gl*e)),255*(t+ql*i*n),this.opacity)}}));function Xl(s){var a=s.length-1;return function(e){var t=e<=0?e=0:1<=e?a-(e=1):Math.floor(e*a),n=s[t],i=s[t+1],o=0<t?s[t-1]:2*n-i,r=t<a-1?s[t+2]:2*i-n;return $e((e-t/a)*a,o,n,i,r)}}function $l(s){var a=s.length;return function(e){var t=Math.floor(((e%=1)<0?++e:e)*a),n=s[(t+a-1)%a],i=s[t%a],o=s[(t+1)%a],r=s[(t+2)%a];return $e((e-t/a)*a,n,i,o,r)}}function eu(e,t,n,i,o,r){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(t,e)*ku,skewX:Math.atan(l)*ku,scaleX:s,scaleY:a}}function tu(e,t){var i,o,r,s=e[0],a=e[1],l=e[2],e=t[0],n=t[1],t=t[2],u=e-s,c=n-a;return(t=(e=u*u+c*c)<1e-12?(r=Math.log(t/l)/Su,function(e){return[s+e*u,a+e*c,l*Math.exp(Su*e*r)]}):(i=Math.sqrt(e),n=(t*t-l*l+4*e)/(2*l*2*i),e=(t*t-l*l-4*e)/(2*t*2*i),o=Math.log(Math.sqrt(n*n+1)-n),r=(Math.log(Math.sqrt(e*e+1)-e)-o)/Su,function(e){var e=e*r,t=rt(o),n=l/(2*i)*(t*(n=Su*e+o,((n=Math.exp(2*n))-1)/(n+1))-(n=o,((n=Math.exp(o))-1/n)/2));return[s+n*u,a+n*c,l*t/rt(Su*e+o)]})).duration=1e3*r,t}function nu(e,t,n,i,o,r){var s,a,l,u,c,f=e.__transition;if(f){if(n in f)return}else e.__transition={};function d(e){var t,n,i,o;if(l.state!==Ku)return p();for(t in c)if((o=c[t]).name===l.name){if(o.state===Xu)return Vu(d);o.state===$u?(o.state=tc,o.timer.stop(),o.on.call("interrupt",s,s.__data__,o.index,o.group),delete c[t]):+t<a&&(o.state=tc,o.timer.stop(),delete c[t])}if(Vu(function(){l.state===Xu&&(l.state=$u,l.timer.restart(h,l.delay,l.time),h(e))}),l.state=Ju,l.on.call("start",s,s.__data__,l.index,l.group),l.state===Ju){for(l.state=Xu,u=new Array(i=l.tween.length),t=0,n=-1;t<i;++t)(o=l.tween[t].value.call(s,s.__data__,l.index,l.group))&&(u[++n]=o);u.length=n+1}}function h(e){for(var t=e<l.duration?l.ease.call(null,e/l.duration):(l.timer.restart(p),l.state=ec,1),n=-1,i=u.length;++n<i;)u[n].call(null,t);l.state===ec&&(l.on.call("end",s,s.__data__,l.index,l.group),p())}function p(){for(var e in l.state=tc,l.timer.stop(),delete c[a],c)return;delete s.__transition}s=e,a=n,l={name:t,index:i,group:o,on:Gu,tween:qu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Zu},((c=s.__transition)[a]=l).timer=dt(function(e){l.state=Ku,l.timer.restart(d,l.delay,l.time),l.delay<=e&&d(e-l.delay)},0,l.time)}function iu(e,t){var n,i,o,r=e.__transition,s=!0;if(r){for(o in t=null==t?null:t+"",r)(n=r[o]).name===t?(i=n.state>Ju&&n.state<ec,n.state=tc,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete r[o]):s=!1;s&&delete e.__transition}}function ou(e,t){var n;return("number"==typeof t?w:t instanceof je?yu:(n=je(t))?(t=n,yu):wu)(e,t)}function ru(e){return function(){return e}}function su(e,t,n){this.target=e,this.type=t,this.selection=n}function au(){U.event.preventDefault(),U.event.stopImmediatePropagation()}function lu(e){return function(){return e}}function uu(r){function t(o,e){function t(){if(l<=u)return a;if(r)return r=!1,s;var e,t=u;if(34===o.charCodeAt(t)){for(var n=t;n++<l;)if(34===o.charCodeAt(n)){if(34!==o.charCodeAt(n+1))break;++n}return u=n+2,13===(e=o.charCodeAt(n+1))?(r=!0,10===o.charCodeAt(n+2)&&++u):10===e&&(r=!0),o.slice(t+1,n).replace(/""/g,'"')}for(;u<l;){var i=1;if(10===(e=o.charCodeAt(u++)))r=!0;else if(13===e)r=!0,10===o.charCodeAt(u)&&(++u,++i);else if(e!==d)continue;return o.slice(t,u-i)}return o.slice(t)}for(var n,r,s={},a={},i=[],l=o.length,u=0,c=0;(n=t())!==a;){for(var f=[];n!==s&&n!==a;)f.push(n),n=t();e&&null==(f=e(f,c++))||i.push(f)}return i}function n(e){return e.map(s).join(r)}function s(e){return null==e?"":i.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}var i=new RegExp('["'+r+"\n\r]"),d=r.charCodeAt(0);return{parse:function(e,r){var s,a,e=t(e,function(e,t){if(s)return s(e,t-1);var n,i,o;a=e,s=r?(i=r,o=Jt(n=e),function(e,t){return i(o(e),t,n)}):Jt(e)});return e.columns=a,e},parseRows:t,format:function(e,n){return null==n&&(t=e,i=Object.create(null),o=[],t.forEach(function(e){for(var t in e)t in i||o.push(i[t]=t)}),n=o),[n.map(s).join(r)].concat(e.map(function(t){return n.map(function(e){return s(t[e])}).join(r)})).join("\n");var t,i,o},formatRows:function(e){return e.map(n).join("\n")}}}function g(e){return function(){return e}}function cu(){return 1e-6*(Math.random()-.5)}function v(e,t,n,i,o){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=o}var fu,du,hu,pu,gu,mu,vu=function(e){return function(){return e}},yu=function e(t){function n(t,e){var n=s((t=Fe(t)).r,(e=Fe(e)).r),i=s(t.g,e.g),o=s(t.b,e.b),r=l(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=r(e),t+""}}var s=nt(t);return n.gamma=e,n}(1),kl=it(Xl),Tl=it($l),Du=function(e,t){for(var n=t?t.length:0,i=e?Math.min(n,e.length):0,o=new Array(n),r=new Array(n),s=0;s<i;++s)o[s]=Au(e[s],t[s]);for(;s<n;++s)r[s]=t[s];return function(e){for(s=0;s<i;++s)r[s]=o[s](e);return r}},_u=function(t,n){var i=new Date;return n-=t=+t,function(e){return i.setTime(t+n*e),i}},w=function(t,n){return n-=t=+t,function(e){return t+n*e}},bu=function(e,t){var n,i={},o={};for(n in null!==e&&"object"==typeof e||(e={}),t=null!==t&&"object"==typeof t?t:{})n in e?i[n]=Au(e[n],t[n]):o[n]=t[n];return function(e){for(n in i)o[n]=i[n](e);return o}},Cu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mu=new RegExp(Cu.source,"g"),wu=function(e,i){var t,n,o,r,s,a=Cu.lastIndex=Mu.lastIndex=0,l=-1,u=[],c=[];for(e+="",i+="";(t=Cu.exec(e))&&(n=Mu.exec(i));)(o=n.index)>a&&(o=i.slice(a,o),u[l]?u[l]+=o:u[++l]=o),(t=t[0])===(n=n[0])?u[l]?u[l]+=n:u[++l]=n:(u[++l]=null,c.push({i:l,x:w(t,n)})),a=Mu.lastIndex;return a<i.length&&(o=i.slice(a),u[l]?u[l]+=o:u[++l]=o),u.length<2?c[0]?(s=c[0].x,function(e){return s(e)+""}):(r=i,function(){return r}):(i=c.length,function(e){for(var t,n=0;n<i;++n)u[(t=c[n]).i]=t.x(e);return u.join("")})},Au=function(e,t){var n=typeof t;return null==t||"boolean"==n?vu(t):("number"==n?w:"string"==n?(n=je(t))?(t=n,yu):wu:t instanceof je?yu:t instanceof Date?_u:Array.isArray(t)?Du:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?bu:w)(e,t)},Iu=function(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}},ku=180/Math.PI,Tu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},xu=ot(function(e){return"none"===e?Tu:(fu||(fu=document.createElement("DIV"),du=document.documentElement,hu=document.defaultView),fu.style.transform=e,e=hu.getComputedStyle(du.appendChild(fu),null).getPropertyValue("transform"),du.removeChild(fu),e=e.slice(7,-1).split(","),eu(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Eu=ot(function(e){return null==e?Tu:((pu=pu||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",e),(e=pu.transform.baseVal.consolidate())?(e=e.matrix,eu(e.a,e.b,e.c,e.d,e.e,e.f)):Tu)},", ",")",")"),Su=Math.SQRT2,al=st(tt),Nu=st(l),ju=at(tt),Ou=at(l),Lu=lt(tt),zu=lt(l),Fu=0,Pu=0,Ru=0,Uu=1e3,Bu=0,Yu=0,Hu=0,Wu="object"==typeof performance&&performance.now?performance:Date,Qu="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)},Vu=(ft.prototype=dt.prototype={constructor:ft,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?ut():+n)+(null==t?0:+t),this._next||mu===this||(mu?mu._next=this:gu=this,mu=this),this._call=e,this._time=n,mt()},stop:function(){this._call&&(this._call=null,this._time=1/0,mt())}},function(t,n,e){var i=new ft;return n=null==n?0:+n,i.restart(function(e){i.stop(),t(e+n)},n,e),i}),Gu=G("start","end","interrupt"),qu=[],Zu=0,Ku=1,Ju=2,Xu=3,$u=4,ec=5,tc=6,nc=Me.prototype.constructor,ic=0,oc=Me.prototype,oc=(bt.prototype=Ct.prototype={constructor:bt,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Za(e));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var a,l,u=i[s],c=u.length,f=r[s]=new Array(c),d=0;d<c;++d)(a=u[d])&&(l=e.call(a,a.__data__,d,u))&&("__data__"in a&&(l.__data__=a.__data__),f[d]=l,nu(f[d],t,n,d,f,Dt(a,n)));return new bt(r,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ka(e));for(var i=this._groups,o=i.length,r=[],s=[],a=0;a<o;++a)for(var l,u=i[a],c=u.length,f=0;f<c;++f)if(l=u[f]){for(var d,h=e.call(l,l.__data__,f,u),p=Dt(l,n),g=0,m=h.length;g<m;++g)(d=h[g])&&nu(d,t,n,g,h,p);r.push(h),s.push(l)}return new bt(r,s,t,n)},filter:function(e){"function"!=typeof e&&(e=_l(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r,s=t[o],a=s.length,l=i[o]=[],u=0;u<a;++u)(r=s[u])&&e.call(r,r.__data__,u,s)&&l.push(r);return new bt(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,e=n.length,o=Math.min(i,e),r=new Array(i),s=0;s<o;++s)for(var a,l=t[s],u=n[s],c=l.length,f=r[s]=new Array(c),d=0;d<c;++d)(a=l[d]||u[d])&&(f[d]=a);for(;s<i;++s)r[s]=t[s];return new bt(r,this._parents,this._name,this._id)},selection:function(){return new nc(this._groups,this._parents)},transition:function(){for(var e,t=this._name,n=this._id,i=++ic,o=this._groups,r=o.length,s=0;s<r;++s)for(var a,l=o[s],u=l.length,c=0;c<u;++c)(a=l[c])&&(e=Dt(a,n),nu(a,t,i,c,l,{time:e.time+e.delay+e.duration,delay:0,duration:e.duration,ease:e.ease}));return new bt(o,this._parents,t,i)},call:oc.call,nodes:oc.nodes,node:oc.node,size:oc.size,empty:oc.empty,each:oc.each,on:function(e,t){var n,i,o,r,s,a,l=this._id;return arguments.length<2?Dt(this.node(),l).on.on(e):this.each((n=l,o=t,a=((i=e)+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return!(e=0<=t?e.slice(0,t):e)||"start"===e})?vt:yt,function(){var e=a(this,n),t=e.on;t!==r&&(s=(r=t).copy()).on(i,o),e.on=s}))},attr:function(e,t){var n=Va(e),i="transform"===n?Eu:ou;return this.attrTween(e,"function"==typeof t?(n.local?function(n,i,o){var r,s,a;return function(){var e,t=o(this);if(null!=t)return(e=this.getAttributeNS(n.space,n.local))===t?null:e===r&&t===s?a:a=i(r=e,s=t);this.removeAttributeNS(n.space,n.local)}}:function(n,i,o){var r,s,a;return function(){var e,t=o(this);if(null!=t)return(e=this.getAttribute(n))===t?null:e===r&&t===s?a:a=i(r=e,s=t);this.removeAttribute(n)}})(n,i,_t(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(t,n,i){var o,r;return function(){var e=this.getAttributeNS(t.space,t.local);return e===i?null:e===o?r:r=n(o=e,i)}}:function(t,n,i){var o,r;return function(){var e=this.getAttribute(t);return e===i?null:e===o?r:r=n(o=e,i)}})(n,i,t+""))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;e=Va(e);return this.tween(n,(e.local?function(i,e){function t(){var t=this,n=e.apply(t,arguments);return n&&function(e){t.setAttributeNS(i.space,i.local,n(e))}}return t._value=e,t}:function(i,e){function t(){var t=this,n=e.apply(t,arguments);return n&&function(e){t.setAttribute(i,n(e))}}return t._value=e,t})(e,t))},style:function(e,t,n){var i,o,r,s,a,l,u,c,f,d,h,p,g,m,v,y,D,_="transform"==(e+="")?xu:ou;return null==t?this.styleTween(e,(g=e,m=_,function(){var e=ce(this,g),t=(this.style.removeProperty(g),ce(this,g));return e===t?null:e===v&&t===y?D:D=m(v=e,y=t)})).on("end.style."+e,(p=e,function(){this.style.removeProperty(p)})):this.styleTween(e,"function"==typeof t?(u=_,c=_t(this,"style."+(l=e),t),function(){var e=ce(this,l),t=c(this);return null==t&&(this.style.removeProperty(l),t=ce(this,l)),e===t?null:e===f&&t===d?h:h=u(f=e,d=t)}):(i=e,o=_,r=t+"",function(){var e=ce(this,i);return e===r?null:e===s?a:a=o(s=e,r)}),n)},styleTween:function(e,t,n){var i,o,r,s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==t)return this.tween(s,null);if("function"!=typeof t)throw new Error;return this.tween(s,(i=e,o=t,r=null==n?"":n,a._value=o,a));function a(){var t=this,n=o.apply(t,arguments);return n&&function(e){t.style.setProperty(i,n(e),r)}}},text:function(e){return this.tween("text","function"==typeof e?(n=_t(this,"text",e),function(){var e=n(this);this.textContent=null==e?"":e}):(t=null==e?"":e+"",function(){this.textContent=t}));var t,n},remove:function(){return this.on("end.remove",(n=this._id,function(){var e,t=this.parentNode;for(e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,o=Dt(this.node(),n).tween,r=0,s=o.length;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((null==t?function(o,r){var s,a;return function(){var e=yt(this,o),t=e.tween;if(t!==s)for(var n=0,i=(a=s=t).length;n<i;++n)if(a[n].name===r){(a=a.slice()).splice(n,1);break}e.tween=a}}:function(r,s,a){var l,u;if("function"!=typeof a)throw new Error;return function(){var e=yt(this,r),t=e.tween;if(t!==l){u=(l=t).slice();for(var n={name:s,value:a},i=0,o=u.length;i<o;++i)if(u[i].name===s){u[i]=n;break}i===o&&u.push(n)}e.tween=u}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){vt(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){vt(this,e).delay=t}})(t,e)):Dt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){yt(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){yt(this,e).duration=t}})(t,e)):Dt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){yt(this,e).ease=t}}(t,e)):Dt(this.node(),t).ease}},function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3)),rc=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),sc=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),ac=Math.PI,lc=ac/2,uc=7.5625,cc=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),fc=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),dc=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),hc=2*Math.PI,pc=function t(n,i){function e(e){return n*Math.pow(2,10*--e)*Math.sin((o-e)/i)}var o=Math.asin(1/(n=Math.max(1,n)))*(i/=hc);return e.amplitude=function(e){return t(e,i*hc)},e.period=function(e){return t(n,e)},e}(1,.3),gc=function t(n,i){function e(e){return 1-n*Math.pow(2,-10*(e=+e))*Math.sin((e+o)/i)}var o=Math.asin(1/(n=Math.max(1,n)))*(i/=hc);return e.amplitude=function(e){return t(e,i*hc)},e.period=function(e){return t(n,e)},e}(1,.3),mc=function t(n,i){function e(e){return((e=2*e-1)<0?n*Math.pow(2,10*e)*Math.sin((o-e)/i):2-n*Math.pow(2,-10*e)*Math.sin((o+e)/i))/2}var o=Math.asin(1/(n=Math.max(1,n)))*(i/=hc);return e.amplitude=function(e){return t(e,i*hc)},e.period=function(e){return t(n,e)},e}(1,.3),vc={time:null,delay:0,duration:250,ease:wt},yc=(Me.prototype.interrupt=function(e){return this.each(function(){iu(this,e)})},Me.prototype.transition=function(e){var t,n;e=e instanceof bt?(t=e._id,e._name):(t=++ic,(n=vc).time=ut(),null==e?null:e+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s,a=i[r],l=a.length,u=0;u<l;++u)(s=a[u])&&nu(s,e,t,u,a,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return vc.time=ut(),vc;return n}(s,t));return new bt(i,this._parents,e,t)},[null]),Dc={name:"drag"},_c={name:"space"},bc={name:"handle"},Cc={name:"center"},Mc={name:"x",handles:["e","w"].map(Et),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},wc={name:"y",handles:["n","s"].map(Et),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Ac={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Et),input:function(e){return e},output:function(e){return e}},Ic={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},kc={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Tc={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},xc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ec={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Sc=Math.cos,Nc=Math.sin,t=Math.PI,jc=t/2,Oc=2*t,Lc=Math.max,zc=Array.prototype.slice,Fc=Math.PI,Pc=2*Fc,Rc=Pc-1e-6,t=(zt.prototype=Ft.prototype={constructor:zt,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,o,r){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+o)+","+(this._y1=+r)},arcTo:function(e,t,n,i,o){var r,s,a=this._x1,l=this._y1,u=(n=+n)-(e=+e),c=(i=+i)-(t=+t),f=a-e,d=l-t,h=f*f+d*d;if((o=+o)<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+(this._x1=e)+","+(this._y1=t):1e-6<h&&(1e-6<Math.abs(d*u-c*f)&&o?(s=u*u+c*c,i=(n=n-a)*n+(a=i-l)*a,l=Math.sqrt(s),r=Math.sqrt(h),h=(s=o*Math.tan((Fc-Math.acos((s+h-i)/(2*l*r)))/2))/r,i=s/l,1e-6<Math.abs(h-1)&&(this._+="L"+(e+h*f)+","+(t+h*d)),this._+="A"+o+","+o+",0,0,"+ +(f*a<d*n)+","+(this._x1=e+i*u)+","+(this._y1=t+i*c)):this._+="L"+(this._x1=e)+","+(this._y1=t))},arc:function(e,t,n,i,o,r){e=+e,t=+t;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=e+s,u=t+a,c=1^r,r=r?i-o:o-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(1e-6<Math.abs(this._x1-l)||1e-6<Math.abs(this._y1-u))&&(this._+="L"+l+","+u),n&&(Rc<(r=r<0?r%Pc+Pc:r)?this._+="A"+n+","+n+",0,1,"+c+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):1e-6<r&&(this._+="A"+n+","+n+",0,"+ +(Fc<=r)+","+c+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},Ht.prototype=Wt.prototype={constructor:Ht,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){e="$"+e;return e in this&&delete this[e]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e,t=[];for(e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var e,t=[];for(e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var e,t=[];for(e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var e,t=0;for(e in this)"$"===e[0]&&++t;return t},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}},Wt.prototype),t=(Zt.prototype=Kt.prototype={constructor:Zt,has:t.has,add:function(e){return this["$"+(e+="")]=e,this},remove:t.remove,clear:t.clear,values:t.keys,size:t.size,empty:t.empty,each:t.each},uu(",")),Uc=t.parse,Bc=t.parseRows,Yc=t.format,t=t.formatRows,Hc=uu("\t"),Wc=Hc.parse,Qc=Hc.parseRows,Vc=Hc.format,Hc=Hc.formatRows,o=tn.prototype=nn.prototype;o.copy=function(){var e,t,n=new nn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=on(i),n;for(e=[{source:i,target:n._root=new Array(4)}];i=e.pop();)for(var o=0;o<4;++o)(t=i.source[o])&&(t.length?e.push({source:t,target:i.target[o]=new Array(4)}):i.target[o]=on(t));return n},o.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Xt(this.cover(t,n),t,n,e)},o.addAll=function(e){for(var t,n,i=e.length,o=new Array(i),r=new Array(i),s=1/0,a=1/0,l=-1/0,u=-1/0,c=0;c<i;++c)isNaN(t=+this._x.call(null,n=e[c]))||isNaN(n=+this._y.call(null,n))||((o[c]=t)<s&&(s=t),l<t&&(l=t),(r[c]=n)<a&&(a=n),u<n&&(u=n));for(l<s&&(s=this._x0,l=this._x1),u<a&&(a=this._y0,u=this._y1),this.cover(s,a).cover(l,u),c=0;c<i;++c)Xt(this,o[c],r[c],e[c]);return this},o.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,o=this._x1,r=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,r=(i=Math.floor(t))+1;else{if(!(e<n||o<e||t<i||r<t))return this;var s,a,l=o-n,u=this._root;switch(a=(t<(i+r)/2)<<1|e<(n+o)/2){case 0:for(;(s=new Array(4))[a]=u,u=s,r=i+(l*=2),(o=n+l)<e||r<t;);break;case 1:for(;(s=new Array(4))[a]=u,u=s,r=i+(l*=2),e<(n=o-l)||r<t;);break;case 2:for(;(s=new Array(4))[a]=u,u=s,i=r-(l*=2),(o=n+l)<e||t<i;);break;case 3:for(;(s=new Array(4))[a]=u,u=s,i=r-(l*=2),e<(n=o-l)||t<i;);}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=o,this._y1=r,this},o.data=function(){var t=[];return this.visit(function(e){if(!e.length)for(;t.push(e.data),e=e.next;);}),t},o.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},o.find=function(e,t,n){var i,o,r,s,a,l,u,c,f=this._x0,d=this._y0,h=this._x1,p=this._y1,g=[],m=this._root;for(m&&g.push(new v(m,f,d,h,p)),null==n?n=1/0:(f=e-n,d=t-n,h=e+n,p=t+n,n*=n);i=g.pop();)!(m=i.node)||(a=i.x0)>h||(l=i.y0)>p||(s=i.x1)<f||(o=i.y1)<d||(m.length?(g.push(new v(m[3],r=(a+s)/2,u=(l+o)/2,s,o),new v(m[2],a,u,r,o),new v(m[1],r,l,s,u),new v(m[0],a,l,r,u)),(o=(u<=t)<<1|r<=e)&&(i=g[g.length-1],g[g.length-1]=g[g.length-1-o],g[g.length-1-o]=i)):(l=(s=e-+this._x.call(null,m.data))*s+(a=t-+this._y.call(null,m.data))*a)<n&&(f=e-(u=Math.sqrt(n=l)),d=t-u,h=e+u,p=t+u,c=m.data));return c},o.remove=function(e){if(isNaN(r=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,i,o,r,s,a,l,u,c,f,d=this._root,h=this._x0,p=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((l=r>=(a=(h+g)/2))?h=a:g=a,(u=s>=(a=(p+m)/2))?p=a:m=a,!(d=(t=d)[c=u<<1|l]))return this;if(!d.length)break;(t[c+1&3]||t[c+2&3]||t[c+3&3])&&(n=t,f=c)}for(;d.data!==e;)if(!(d=(i=d).next))return this;return(o=d.next)&&delete d.next,i?o?i.next=o:delete i.next:t?(o?t[c]=o:delete t[c],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[f]=d:this._root=d)):this._root=o,this},o.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},o.root=function(){return this._root},o.size=function(){var t=0;return this.visit(function(e){if(!e.length)for(;++t,e=e.next;);}),t},o.visit=function(e){var t,n,i,o,r,s,a,l=[],u=this._root;for(u&&l.push(new v(u,this._x0,this._y0,this._x1,this._y1));r=l.pop();)!e(u=r.node,n=r.x0,i=r.y0,o=r.x1,r=r.y1)&&u.length&&(s=(n+o)/2,a=(i+r)/2,(t=u[3])&&l.push(new v(t,s,a,o,r)),(t=u[2])&&l.push(new v(t,n,a,s,r)),(t=u[1])&&l.push(new v(t,s,i,o,a)),(t=u[0])&&l.push(new v(t,n,i,s,a)));return this},o.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new v(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o,r,s,a,l,u,c,f=t.node;f.length&&(r=t.x0,s=t.y0,u=(r+(a=t.x1))/2,c=(s+(l=t.y1))/2,(o=f[0])&&n.push(new v(o,r,s,u,c)),(o=f[1])&&n.push(new v(o,u,s,a,c)),(o=f[2])&&n.push(new v(o,r,c,u,l)),(o=f[3])&&n.push(new v(o,u,c,a,l))),i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},o.x=function(e){return arguments.length?(this._x=e,this):this._x},o.y=function(e){return arguments.length?(this._y=e,this):this._y};function Gc(e,t){return(t=Kc(e,t))?(e=t[0],(t=t[1])<0?"0."+new Array(-t).join("0")+e:e.length>t+1?e.slice(0,t+1)+"."+e.slice(t+1):e+new Array(t-e.length+2).join("0")):e+""}var qc,Zc=Math.PI*(3-Math.sqrt(5)),Kc=function(e,t){if((t=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n=e.slice(0,t);return[1<n.length?n[0]+n.slice(2):n,+e.slice(t+1)]},Jc=function(e){return(e=Kc(Math.abs(e)))?e[1]:NaN},Xc=function(a,l){return function(e,t){for(var n=e.length,i=[],o=0,r=a[0],s=0;0<n&&0<r&&(t<s+r+1&&(r=Math.max(1,t-s)),i.push(e.substring(n-=r,n+r)),!((s+=r+1)>t));)r=a[o=(o+1)%a.length];return i.reverse().join(l)}},$c=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},ef={"":function(e,t){e:for(var n,i=(e=e.toPrecision(t)).length,o=1,r=-1;o<i;++o)switch(e[o]){case".":r=n=o;break;case"0":0===r&&(r=o),n=o;break;case"e":break e;default:0<r&&(r=0)}return 0<r?e.slice(0,r)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Gc(100*e,t)},r:Gc,s:function(e,t){var n=Kc(e,t);if(!n)return e+"";var i=n[0],n=n[1],n=n-(qc=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,o=i.length;return n===o?i:o<n?i+new Array(n-o+1).join("0"):0<n?i.slice(0,n)+"."+i.slice(n):"0."+new Array(1-n).join("0")+Kc(e,Math.max(0,t+n-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},tf=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;fn.prototype=dn.prototype,dn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};function nf(e){function r(e){function t(e){var t,n,i,o=v,r=y;if("c"===m)r=D(e)+r,e="";else{var s=(e=+e)<0;if(e=D(Math.abs(e),g),o=((s=s&&0==+e?!1:s)?"("===f?f:"-":"-"===f||"("===f?"":f)+o,r=r+("s"===m?cf[8+qc/3]:"")+(s&&"("===f?")":""),_)for(t=-1,n=e.length;++t<n;)if((i=e.charCodeAt(t))<48||57<i){r=(46===i?C+e.slice(t+1):e.slice(t))+r,e=e.slice(0,t);break}}p&&!d&&(e=b(e,1/0));var a=o.length+e.length+r.length,l=a<h?new Array(h-a+1).join(u):"";switch(p&&d&&(e=b(l+e,l.length?h-r.length:1/0),l=""),c){case"<":e=o+e+r+l;break;case"=":e=o+l+e+r;break;case"^":e=l.slice(0,a=l.length>>1)+o+e+r+l.slice(a);break;default:e=l+o+e+r}return M(e)}var u=(e=fn(e)).fill,c=e.align,f=e.sign,n=e.symbol,d=e.zero,h=e.width,p=e.comma,g=e.precision,m=e.type,v="$"===n?i[0]:"#"===n&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===n?i[1]:/[%p]/.test(m)?o:"",D=ef[m],_=!m||/[defgprs%]/.test(m),g=null==g?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));return t.toString=function(){return e+""},t}var b=e.grouping&&e.thousands?Xc(e.grouping,e.thousands):uf,i=e.currency,C=e.decimal,M=e.numerals?$c(e.numerals):uf,o=e.percent||"%";return{format:r,formatPrefix:function(e,t){var n=r(((e=fn(e)).type="f",e)),e=3*Math.max(-8,Math.min(8,Math.floor(Jc(t)/3))),i=Math.pow(10,-e),o=cf[8+e/3];return function(e){return n(i*e)+o}}}}function of(e){return Math.max(0,-Jc(Math.abs(e)))}function rf(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jc(t)/3)))-Jc(Math.abs(e)))}function sf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jc(t)-Jc(e))+1}function af(){return new pn}var lf,uf=function(e){return e},cf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];hn({decimal:".",thousands:",",grouping:[3],currency:["$",""]});pn.prototype={constructor:pn,reset:function(){this.s=this.t=0},add:function(e){gn(Rf,e,this.t),gn(this,Rf.s,this.s),this.s?this.t+=Rf.t:this.s=Rf.t},valueOf:function(){return this.s}};function ff(e,t){e&&qf.hasOwnProperty(e.type)?qf[e.type](e,t):yn(e,t)}function df(e){return function(){return e}}var hf,pf,gf,mf,vf,c,yf,f,Df,_f,bf,Cf,Mf,wf,Af,If,kf,Tf,xf,Ef,Sf,Nf,jf,Of,Lf,zf,Ff,Pf,d,h,p,Rf=new pn,S=1e-6,I=Math.PI,m=I/2,Uf=I/4,k=2*I,N=180/I,j=I/180,O=Math.abs,Bf=Math.atan,L=Math.atan2,T=Math.cos,Yf=Math.ceil,Hf=Math.exp,Wf=Math.log,Qf=Math.pow,x=Math.sin,Vf=Math.sign||function(e){return 0<e?1:e<0?-1:0},z=Math.sqrt,Gf=Math.tan,qf={Feature:function(e,t){yn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,o=n.length;++i<o;)yn(n[i].geometry,t)}},Zf={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Dn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)Dn(n[i],t,0)},Polygon:function(e,t){_n(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)_n(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,o=n.length;++i<o;)yn(n[i],t)}},Kf=af(),Jf=af(),Xf={point:i,lineStart:i,lineEnd:i,polygonStart:function(){Kf.reset(),Xf.lineStart=bn,Xf.lineEnd=Cn},polygonEnd:function(){var e=+Kf;Jf.add(e<0?k+e:e),this.lineStart=this.lineEnd=this.point=i},sphere:function(){Jf.add(k)}},$f=af(),ed={point:Nn,lineStart:On,lineEnd:Ln,polygonStart:function(){ed.point=zn,ed.lineStart=Fn,ed.lineEnd=Pn,$f.reset(),Xf.polygonStart()},polygonEnd:function(){Xf.polygonEnd(),ed.point=Nn,ed.lineStart=On,ed.lineEnd=Ln,Kf<0?(c=-(f=180),yf=-(Df=90)):S<$f?Df=90:$f<-S&&(yf=-90),Af[0]=c,Af[1]=f}},td={sphere:i,point:Bn,lineStart:Hn,lineEnd:Vn,polygonStart:function(){td.lineStart=Gn,td.lineEnd=qn},polygonEnd:function(){td.lineStart=Hn,td.lineEnd=Vn}},nd=function(n,i){function e(e,t){return e=n(e,t),i(e[0],e[1])}return n.invert&&i.invert&&(e.invert=function(e,t){return(e=i.invert(e,t))&&n.invert(e[0],e[1])}),e};Jn.invert=Jn;function id(t){function e(e){return(e=t(e[0]*j,e[1]*j))[0]*=N,e[1]*=N,e}return t=Xn(t[0]*j,t[1]*j,2<t.length?t[2]*j:0),e.invert=function(e){return(e=t.invert(e[0]*j,e[1]*j))[0]*=N,e[1]*=N,e},e}function od(){var n,t=[];return{point:function(e,t){n.push([e,t])},lineStart:function(){t.push(n=[])},lineEnd:i,rejoin:function(){1<t.length&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function rd(e,t,n,i,o,r){var s=e[0],a=e[1],l=0,u=1,c=t[0]-s,f=t[1]-a,n=n-s;if(c||!(0<n)){if(n/=c,c<0){if(n<l)return;n<u&&(u=n)}else if(0<c){if(u<n)return;l<n&&(l=n)}if(n=o-s,c||!(n<0)){if(n/=c,c<0){if(u<n)return;l<n&&(l=n)}else if(0<c){if(n<l)return;n<u&&(u=n)}if(n=i-a,f||!(0<n)){if(n/=f,f<0){if(n<l)return;n<u&&(u=n)}else if(0<f){if(u<n)return;l<n&&(l=n)}if(n=r-a,f||!(n<0)){if(n/=f,f<0){if(u<n)return;l<n&&(l=n)}else if(0<f){if(n<l)return;n<u&&(u=n)}return 0<l&&(e[0]=s+l*c,e[1]=a+l*f),u<1&&(t[0]=s+u*c,t[1]=a+u*f),1}}}}}function sd(e,t,n,i,r){var s,o,a=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],o=e[t];if(_d(i,o)){for(r.lineStart(),s=0;s<t;++s)r.point((i=e[s])[0],i[1]);r.lineEnd()}else a.push(n=new oi(i,e,null,!0)),l.push(n.o=new oi(i,null,n,!1)),a.push(n=new oi(o,e,null,!1)),l.push(n.o=new oi(o,null,n,!0))}}),a.length){for(l.sort(t),ri(a),ri(l),s=0,o=l.length;s<o;++s)l[s].e=n=!n;for(var u,c,f=a[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;u=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,o=u.length;s<o;++s)r.point((c=u[s])[0],c[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(h)for(u=d.p.z,s=u.length-1;0<=s;--s)r.point((c=u[s])[0],c[1]);else i(d.x,d.p.x,-1,r);d=d.p}}while(u=(d=d.o).z,h=!h,!d.v);r.lineEnd()}}}function ad(e,t){var n=t[0],i=t[1],o=[x(n),-T(n),0],r=0,s=0;Md.reset();for(var a=0,l=e.length;a<l;++a)if(c=(u=e[a]).length)for(var u,c,f=u[c-1],d=f[0],h=f[1]/2+Uf,p=x(h),g=T(h),m=0;m<c;++m,d=y,p=_,g=D,f=v){var v=u[m],y=v[0],D=v[1]/2+Uf,_=x(D),D=T(D),b=y-d,C=0<=b?1:-1,M=C*b,w=I<M,A=p*_;Md.add(L(A*C*x(M),g*D+A*T(M))),r+=w?b+C*k:b,w^n<=d^n<=y&&(Sn(A=Tn(In(f),In(v))),Sn(M=Tn(o,A)),((C=(w^0<=b?-1:1)*E(M[2]))<i||i===C&&(A[0]||A[1]))&&(s+=w^0<=b?1:-1))}return(r<-S||r<S&&Md<-S)^1&s}function ld(e,t){return kd[0]=e,kd[1]=t,Id(Td)}var ud,cd,fd,dd,hd,pd,gd,md,vd,yd,Dd,_d=function(e,t){return O(e[0]-t[0])<S&&O(e[1]-t[1])<S},bd=1e9,Cd=-bd,Md=af(),wd=af(),Ad={sphere:i,point:i,lineStart:function(){Ad.point=li,Ad.lineEnd=ai},lineEnd:i,polygonStart:i,polygonEnd:i},Id=function(e){return wd.reset(),ff(e,Ad),+wd},kd=[null,null],Td={type:"LineString",coordinates:kd},xd={Feature:function(e,t){return ci(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,o=n.length;++i<o;)if(ci(n[i].geometry,t))return!0;return!1}},Ed={Sphere:function(){return!0},Point:function(e,t){return fi(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)if(fi(n[i],t))return!0;return!1},LineString:function(e,t){return di(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)if(di(n[i],t))return!0;return!1},Polygon:function(e,t){return hi(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,o=n.length;++i<o;)if(hi(n[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,o=n.length;++i<o;)if(ci(n[i],t))return!0;return!1}},Sd=function(e){return e},Nd=af(),jd=af(),Od={point:i,lineStart:i,lineEnd:i,polygonStart:function(){Od.lineStart=Di,Od.lineEnd=Ci},polygonEnd:function(){Od.lineStart=Od.lineEnd=Od.point=i,Nd.add(O(jd)),jd.reset()},result:function(){var e=Nd/2;return Nd.reset(),e}},Ld=1/0,zd=Ld,Fd=-Ld,Pd=Fd,Rd={point:function(e,t){e<Ld&&(Ld=e),Fd<e&&(Fd=e),t<zd&&(zd=t),Pd<t&&(Pd=t)},lineStart:i,lineEnd:i,polygonStart:i,polygonEnd:i,result:function(){var e=[[Ld,zd],[Fd,Pd]];return Fd=Pd=-(zd=Ld=1/0),e}},Ud=0,Bd=0,Yd=0,Hd=0,Wd=0,Qd=0,Vd=0,Gd=0,qd=0,Zd={point:Mi,lineStart:wi,lineEnd:ki,polygonStart:function(){Zd.lineStart=Ti,Zd.lineEnd=xi},polygonEnd:function(){Zd.point=Mi,Zd.lineStart=wi,Zd.lineEnd=ki},result:function(){var e=qd?[Vd/qd,Gd/qd]:Qd?[Hd/Qd,Wd/Qd]:Yd?[Ud/Yd,Bd/Yd]:[NaN,NaN];return Ud=Bd=Yd=Hd=Wd=Qd=Vd=Gd=qd=0,e}};Ni.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,k)}},result:i};function Kd(y,D,_,b){return function(i,a){function t(e,t){var n=i(e,t);y(e=n[0],t=n[1])&&a.point(e,t)}function e(e,t){e=i(e,t);d.point(e[0],e[1])}function n(){v.point=e,d.lineStart()}function o(){v.point=t,d.lineEnd()}function l(e,t){f.push([e,t]);e=i(e,t);g.point(e[0],e[1])}function r(){g.lineStart(),f=[]}function s(){l(f[0][0],f[0][1]),g.lineEnd();var e,t,n,i,o=g.clean(),r=p.result(),s=r.length;if(f.pop(),u.push(f),f=null,s)if(1&o){if(0<(t=(n=r[0]).length-1)){for(m||(a.polygonStart(),m=!0),a.lineStart(),e=0;e<t;++e)a.point((i=n[e])[0],i[1]);a.lineEnd()}}else 1<s&&2&o&&r.push(r.pop().concat(r.shift())),c.push(r.filter(Fi))}var u,c,f,d=D(a),h=i.invert(b[0],b[1]),p=od(),g=D(p),m=!1,v={point:t,lineStart:n,lineEnd:o,polygonStart:function(){v.point=l,v.lineStart=r,v.lineEnd=s,c=[],u=[]},polygonEnd:function(){v.point=t,v.lineStart=n,v.lineEnd=o,c=Ya(c);var e=ad(u,h);c.length?(m||(a.polygonStart(),m=!0),sd(c,Pi,e,_,a)):e&&(m||(a.polygonStart(),m=!0),a.lineStart(),_(null,null,1,a),a.lineEnd()),m&&(a.polygonEnd(),m=!1),c=u=null},sphere:function(){a.polygonStart(),a.lineStart(),_(null,null,1,a),a.lineEnd(),a.polygonEnd()}};return v}}function Jd(){return Qi(Vi).scale(155.424).center([0,33.6442])}function Xd(){return Jd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function $d(e){for(var t,n,i=0,o=(e=function(e){for(var t,n,i=e.length;i;)n=Math.random()*i--|0,t=e[i],e[i]=e[n],e[n]=t;return e}(bh.call(e))).length,r=[];i<o;)t=e[i],n&&vo(n,t)?++i:(n=function(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return Do(e[0],e[1]);case 3:return _o(e[0],e[1],e[2])}var t}(r=function(e,t){var n,i;if(yo(t,e))return[t];for(n=0;n<e.length;++n)if(mo(t,e[n])&&yo(Do(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(mo(Do(e[n],e[i]),t)&&mo(Do(e[n],t),e[i])&&mo(Do(e[i],t),e[n])&&yo(_o(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}(r,t)),i=0);return n}function eh(e){return function(){return e}}function th(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function nh(){return Math.random()}function ih(o,e){function t(e){var t,n,i,o=f.status;if(!o&&((i=(n=f).responseType)&&"text"!==i?n.response:n.responseText)||200<=o&&o<300||304===o){if(a)try{t=a.call(r,f)}catch(e){return void u.call("error",r,e)}else t=f;u.call("load",r,t)}else u.call("error",r,e)}var r,s,a,l,u=G("beforesend","progress","load","error"),c=Wt(),f=new XMLHttpRequest,d=null,h=null,p=0;if("onload"in(f="undefined"==typeof XDomainRequest||"withCredentials"in f||!/^(http(s)?:)?\/\//.test(o)?f:new XDomainRequest)?f.onload=f.onerror=f.ontimeout=t:f.onreadystatechange=function(e){3<f.readyState&&t(e)},f.onprogress=function(e){u.call("progress",r,e)},r={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?c.get(e):(null==t?c.remove(e):c.set(e,t+""),r)},mimeType:function(e){return arguments.length?(s=null==e?null:e+"",r):s},responseType:function(e){return arguments.length?(l=e,r):l},timeout:function(e){return arguments.length?(p=+e,r):p},user:function(e){return arguments.length<1?d:(d=null==e?null:e+"",r)},password:function(e){return arguments.length<1?h:(h=null==e?null:e+"",r)},response:function(e){return a=e,r},get:function(e,t){return r.send("GET",e,t)},post:function(e,t){return r.send("POST",e,t)},send:function(e,t,n){return f.open(e,o,!0,d,h),null==s||c.has("accept")||c.set("accept",s+",*/*"),f.setRequestHeader&&c.each(function(e,t){f.setRequestHeader(t,e)}),null!=s&&f.overrideMimeType&&f.overrideMimeType(s),null!=l&&(f.responseType=l),0<p&&(f.timeout=p),null==n&&"function"==typeof t&&(n=t,t=null),null!=n&&1===n.length&&(i=n,n=function(e,t){i(null==e?t:null)}),null!=n&&r.on("error",n).on("load",function(e){n(null,e)}),u.call("beforesend",r,f),f.send(null==t?null:t),r;var i},abort:function(){return f.abort(),r},on:function(){var e=u.on.apply(u,arguments);return e===u?r:e}},null==e)return r;if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}function oh(n,i){return function(e,t){e=ih(e).mimeType(n).response(i);if(null==t)return e;if("function"!=typeof t)throw new Error("invalid callback: "+t);return e.get(t)}}function rh(n,r){return function(e,i,t){arguments.length<3&&(t=i,i=null);var o=ih(e).mimeType(n);return o.row=function(e){return arguments.length?o.response((t=r,n=i=e,function(e){return t(e.responseText,n)})):i;var t,n},o.row(i),t?o.get(t):o}}function sh(e,t){var n,i=0,o=(e=e.slice()).length-1,r=e[i],s=e[o];return s<r&&(n=i,i=o,o=n,n=r,r=s,s=n),e[i]=t.floor(r),e[o]=t.ceil(s),e}var ah,lh,uh,ch,fh,dh=af(),hh={point:i,lineStart:function(){hh.point=ji},lineEnd:function(){ah&&Oi(lh,uh),hh.point=i},polygonStart:function(){ah=!0},polygonEnd:function(){ah=null},result:function(){var e=+dh;return dh.reset(),e}},ph=(Li.prototype={_radius:4.5,_circle:zi(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=zi(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){var e;return this._string.length?(e=this._string.join(""),this._string=[],e):null}},Kd(function(){return 1},function(u){var c,f=NaN,d=NaN,h=NaN;return{lineStart:function(){u.lineStart(),c=1},point:function(e,t){var n,i,o,r,s,a=0<e?I:-I,l=O(e-f);O(l-I)<S?(u.point(f,d=0<(d+t)/2?m:-m),u.point(h,d),u.lineEnd(),u.lineStart(),u.point(a,d),u.point(e,d),c=0):h!==a&&I<=l&&(O(f-h)<S&&(f-=h*S),O(e-a)<S&&(e-=a*S),l=d,o=t,s=x((n=f)-(i=e)),d=O(s)>S?Bf((x(l)*(r=T(o))*x(i)-x(o)*(i=T(l))*x(n))/(i*r*s)):(l+o)/2,u.point(h,d),u.lineEnd(),u.lineStart(),u.point(a,d),c=0),u.point(f=e,d=t),h=a},lineEnd:function(){u.lineEnd(),f=d=NaN},clean:function(){return 2-c}}},function(e,t,n,i){var o;null==e?(o=n*m,i.point(-I,o),i.point(0,o),i.point(I,o),i.point(I,0),i.point(I,-o),i.point(0,-o),i.point(-I,-o),i.point(-I,0),i.point(-I,o)):O(e[0]-t[0])>S?(e=e[0]<t[0]?I:-I,i.point(-e,o=n*e/2),i.point(0,o),i.point(e,o)):i.point(t[0],t[1])},[-I,-m])),gh=function(o,r){function f(e,t){return T(e)*T(t)>p}function d(e,t,n){var i=[1,0,0],o=Tn(In(e),In(t)),r=kn(o,o),s=o[0],a=r-s*s;if(!a)return!n&&e;var l=Tn(i,o),i=En(i,p*r/a),r=(xn(i,En(o,-p*s/a)),l),o=kn(i,r),s=kn(r,r),a=o*o-s*(kn(i,i)-1);if(!(a<0)){l=z(a),a=En(r,(-o-l)/s);if(xn(a,i),a=An(a),!n)return a;var u,n=e[0],c=t[0],e=e[1],t=t[1],f=(c<n&&(u=n,n=c,c=u),c-n),d=O(f-I)<S;return(!d&&t<e&&(u=e,e=t,t=u),d||f<S?d?0<e+t^a[1]<(O(a[0]-n)<S?e:t):e<=a[1]&&a[1]<=t:I<f^(n<=a[0]&&a[0]<=c))?(xn(u=En(r,(-o+l)/s),i),[a,An(u)]):void 0}}function h(e,t){var n=g?o:I-o,i=0;return e<-n?i|=1:n<e&&(i|=2),t<-n?i|=4:n<t&&(i|=8),i}var p=T(o),g=0<p,m=O(p)>S;return Kd(f,function(r){var s,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(e,t){var n,i=[e,t],o=f(e,t),e=g?o?0:h(e,t):o?h(e+(e<0?I:-I),t):0;!s&&(u=l=o)&&r.lineStart(),o===l||(n=d(s,i))&&!_d(s,n)&&!_d(i,n)||(i[0]+=S,i[1]+=S,o=f(i[0],i[1])),o!==l?(c=0,o?(r.lineStart(),n=d(i,s),r.point(n[0],n[1])):(n=d(s,i),r.point(n[0],n[1]),r.lineEnd()),s=n):m&&s&&g^o&&(e&a||!(t=d(i,s,!0))||(c=0,g?(r.lineStart(),r.point(t[0][0],t[0][1]),r.point(t[1][0],t[1][1]),r.lineEnd()):(r.point(t[1][0],t[1][1]),r.lineEnd(),r.lineStart(),r.point(t[0][0],t[0][1])))),!o||s&&_d(s,i)||r.point(i[0],i[1]),s=i,l=o,a=e},lineEnd:function(){l&&r.lineEnd(),s=null},clean:function(){return c|(u&&l)<<1}}},function(e,t,n,i){ni(i,o,r,n,e,t)},g?[0,-o]:[-I,o-I])},mh=(Ui.prototype={constructor:Ui,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},T(30*j)),vh=function(e,t){return+t?(k=e,T=t,function(i){function e(e,t){e=k(e,t),i.point(e[0],e[1])}function t(){g=NaN,_.point=n,i.lineStart()}function n(e,t){var n=In([e,t]),t=k(e,t);x(g,m,p,v,y,D,g=t[0],m=t[1],p=e,v=n[0],y=n[1],D=n[2],16,i),i.point(g,m)}function o(){_.point=e,i.lineEnd()}function r(){t(),_.point=s,_.lineEnd=a}function s(e,t){n(l=e,t),u=g,c=m,f=v,d=y,h=D,_.point=n}function a(){x(g,m,p,v,y,D,u,c,l,f,d,h,16,i),_.lineEnd=o,o()}var l,u,c,f,d,h,p,g,m,v,y,D,_={point:e,lineStart:t,lineEnd:o,polygonStart:function(){i.polygonStart(),_.lineStart=r},polygonEnd:function(){i.polygonEnd(),_.lineStart=t}};return _}):(n=e,Ri({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}}));var n,k,T;function x(e,t,n,i,o,r,s,a,l,u,c,f,d,h){var p,g,m,v,y,D,_,b,C,M,w=s-e,A=a-t,I=w*w+A*A;4*T<I&&d--&&(m=r+f,_=E(m/=v=z((p=i+u)*p+(g=o+c)*g+m*m)),y=O(O(m)-1)<S||O(n-l)<S?(n+l)/2:L(g,p),D=(_=k(y,_))[0],_=_[1],(T<(M=A*(b=D-e)-w*(C=_-t))*M/I||.3<O((w*b+A*C)/I-.5)||i*u+o*c+r*f<mh)&&(x(e,t,n,i,o,r,D,_,y,p/=v,g/=v,m,d,h),h.point(D,_),x(D,_,y,p,g,m,s,a,l,u,c,f,d,h)))}},yh=Ri({point:function(e,t){this.stream.point(e*j,t*j)}}),Dh=Gi(function(e){return z(2/(1+e))}),_h=(Dh.invert=qi(function(e){return 2*E(e/2)}),Gi(function(e){return(e=mn(e))&&e/x(e)})),bh=(_h.invert=qi(function(e){return e}),Zi.invert=function(e,t){return[e,2*Bf(Hf(t))-m]},$i.invert=$i,to.invert=qi(Bf),io.invert=qi(E),oo.invert=qi(function(e){return 2*Bf(e)}),ro.invert=function(e,t){return[-t,2*Bf(Hf(e))-m]},go.prototype=co.prototype={constructor:go,count:function(){return this.eachAfter(uo)},each:function(e){var t,n,i,o,r,s=[this];do{for(t=s.reverse(),s=[];r=t.pop();)if(e(r),n=r.children)for(i=0,o=n.length;i<o;++i)s.push(n[i])}while(s.length);return this},eachAfter:function(e){for(var t,n,i,o=this,r=[o],s=[];o=r.pop();)if(s.push(o),t=o.children)for(n=0,i=t.length;n<i;++n)r.push(t[n]);for(;o=s.pop();)e(o);return this},eachBefore:function(e){for(var t,n,i,o=[this];i=o.pop();)if(e(i),t=i.children)for(n=t.length-1;0<=n;--n)o.push(t[n]);return this},sum:function(o){return this.eachAfter(function(e){for(var t=+o(e.data)||0,n=e.children,i=n&&n.length;0<=--i;)t+=n[i].value;e.value=t})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),o=null;for(e=n.pop(),t=i.pop();e===t;)o=e,e=n.pop(),t=i.pop();return o}(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var o=i.length;e!==n;)i.splice(o,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return co(this).eachBefore(ho)}},Array.prototype.slice),Ch=function(e,t,n,i,o){for(var r,s=e.children,a=-1,l=s.length,u=e.value&&(i-t)/e.value;++a<l;)(r=s[a]).y0=n,r.y1=o,r.x0=t,r.x1=t+=r.value*u},Mh={depth:-1},wh={},Ah=(Fo.prototype=Object.create(go.prototype),function(e,t,n,i,o){for(var r,s=e.children,a=-1,l=s.length,u=e.value&&(o-n)/e.value;++a<l;)(r=s[a]).x0=t,r.x1=i,r.y0=n,r.y1=n+=r.value*u}),o=(1+Math.sqrt(5))/2,Ih=function t(r){function e(e,t,n,i,o){Po(r,e,t,n,i,o)}return e.ratio=function(e){return t(1<(e=+e)?e:1)},e}(o),o=function t(h){function e(e,t,n,i,o){if((r=e._squarify)&&r.ratio===h)for(var r,s,a,l,u,c=-1,f=r.length,d=e.value;++c<f;){for(a=(s=r[c]).children,l=s.value=0,u=a.length;l<u;++l)s.value+=a[l].value;s.dice?Ch(s,t,n,i,n+=(o-n)*s.value/d):Ah(s,t,n,t+=(i-t)*s.value/d,o),d-=s.value}else e._squarify=r=Po(h,e,t,n,i,o),r.ratio=h}return e.ratio=function(e){return t(1<(e=+e)?e:1)},e}(o),kh=[].slice,Th={},xh=(Bo.prototype=Qo.prototype={constructor:Bo,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=kh.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),Yo(this),this},abort:function(){return null==this._error&&Ho(this,new Error("abort")),this},await:function(n){if("function"!=typeof n)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,t){n.apply(null,[e].concat(t))},Wo(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,Wo(this),this}},function e(n){function t(e,t){return e=null==e?0:+e,t=null==t?1:+t,1===arguments.length?(t=e,e=0):t-=e,function(){return n()*t+e}}return t.source=e,t}(nh)),Eh=function e(r){function t(t,n){var i,o;return t=null==t?0:+t,n=null==n?1:+n,function(){var e;if(null!=i)e=i,i=null;else for(;i=2*r()-1,e=2*r()-1,!(o=i*i+e*e)||1<o;);return t+n*e*Math.sqrt(-2*Math.log(o)/o)}}return t.source=e,t}(nh),Sh=function e(t){function n(){var e=Eh.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(nh),Nh=function e(i){function t(n){return function(){for(var e=0,t=0;t<n;++t)e+=i();return e}}return t.source=e,t}(nh),jh=function e(n){function t(e){var t=Nh.source(n)(e);return function(){return t()/e}}return t.source=e,t}(nh),Oh=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(nh),Lh=oh("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),zh=oh("application/json",function(e){return JSON.parse(e.responseText)}),Fh=oh("text/plain",function(e){return e.responseText}),Ph=oh("application/xml",function(e){e=e.responseXML;if(e)return e;throw new Error("parse error")}),Rh=rh("text/csv",Uc),Uh=rh("text/tab-separated-values",Wc),Bh=Array.prototype,Yh=Bh.map,Hh=Bh.slice,Wh={name:"implicit"},Qh=function(e){return function(){return e}},Vh=function(e){return+e},Gh=[0,1],qh=function(e,t,n){var i,o=e[0],r=e[e.length-1],s=A(o,r,null==t?10:t);switch((n=fn(null==n?",f":n)).type){case"s":var a=Math.max(Math.abs(o),Math.abs(r));return null!=n.precision||isNaN(i=rf(s,a))||(n.precision=i),U.formatPrefix(n,a);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=sf(s,Math.max(Math.abs(o),Math.abs(r))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=of(s))||(n.precision=i-2*("%"===n.type))}return U.format(n)},Zh=new Date,Kh=new Date,Jh=e(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e}),Bh=(Jh.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?e(function(e){e.setTime(Math.floor(e/n)*n)},function(e,t){e.setTime(+e+t*n)},function(e,t){return(t-e)/n}):Jh:null},Jh.range),Xh=e(function(e){e.setTime(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),$h=Xh.range,ep=e(function(e){e.setTime(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),tp=ep.range,np=e(function(e){var t=6e4*e.getTimezoneOffset()%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),ip=np.range,op=e(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5},function(e){return e.getDate()-1}),rp=op.range,sp=lr(0),ap=lr(1),lp=lr(2),up=lr(3),cp=lr(4),fp=lr(5),dp=lr(6),hp=sp.range,pp=ap.range,gp=lp.range,mp=up.range,vp=cp.range,yp=fp.range,Dp=dp.range,_p=e(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),bp=_p.range,Cp=e(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}),Mp=(Cp.every=function(n){return isFinite(n=Math.floor(n))&&0<n?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t*n)}):null},Cp.range),wp=e(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),Ap=wp.range,Ip=e(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),kp=Ip.range,Tp=e(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),xp=Tp.range,Ep=ur(0),Sp=ur(1),Np=ur(2),jp=ur(3),Op=ur(4),Lp=ur(5),zp=ur(6),Fp=Ep.range,Pp=Sp.range,Rp=Np.range,Up=jp.range,Bp=Op.range,Yp=Lp.range,Hp=zp.range,Wp=e(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),Qp=Wp.range,Vp=e(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Vp.every=function(n){return isFinite(n=Math.floor(n))&&0<n?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t*n)}):null};function Gp(e){return e.match(/.{6}/g).map(function(e){return"#"+e})}function qp(){function t(e){var t,n,i,o=e.length,r=!1;for(null==u&&(f=c(i=Ft())),t=0;t<=o;++t)!(t<o&&l(n=e[t],t,e))===r&&((r=!r)?f.lineStart():f.lineEnd()),r&&f.point(+s(n,t,e),+a(n,t,e));if(i)return f=null,i+""||null}var s=Ds,a=_s,l=_(!0),u=null,c=Lg,f=null;return t.x=function(e){return arguments.length?(s="function"==typeof e?e:_(+e),t):s},t.y=function(e){return arguments.length?(a="function"==typeof e?e:_(+e),t):a},t.defined=function(e){return arguments.length?(l="function"==typeof e?e:_(!!e),t):l},t.curve=function(e){return arguments.length?(c=e,null!=u&&(f=c(u)),t):c},t.context=function(e){return arguments.length?(null==e?u=f=null:f=c(u=e),t):u},t}function Zp(){function t(e){var t,n,i,o,r,s=e.length,a=!1,l=new Array(s),u=new Array(s);for(null==g&&(v=m(r=Ft())),t=0;t<=s;++t){if(!(t<s&&p(o=e[t],t,e))===a)if(a=!a)n=t,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),i=t-1;n<=i;--i)v.point(l[i],u[i]);v.lineEnd(),v.areaEnd()}a&&(l[t]=+c(o,t,e),u[t]=+d(o,t,e),v.point(f?+f(o,t,e):l[t],h?+h(o,t,e):u[t]))}if(r)return v=null,r+""||null}function e(){return qp().defined(p).curve(m).context(g)}var c=Ds,f=null,d=_(0),h=_s,p=_(!0),g=null,m=Lg,v=null;return t.x=function(e){return arguments.length?(c="function"==typeof e?e:_(+e),f=null,t):c},t.x0=function(e){return arguments.length?(c="function"==typeof e?e:_(+e),t):c},t.x1=function(e){return arguments.length?(f=null==e?null:"function"==typeof e?e:_(+e),t):f},t.y=function(e){return arguments.length?(d="function"==typeof e?e:_(+e),h=null,t):d},t.y0=function(e){return arguments.length?(d="function"==typeof e?e:_(+e),t):d},t.y1=function(e){return arguments.length?(h=null==e?null:"function"==typeof e?e:_(+e),t):h},t.lineX0=t.lineY0=function(){return e().x(c).y(d)},t.lineY1=function(){return e().x(c).y(h)},t.lineX1=function(){return e().x(f).y(d)},t.defined=function(e){return arguments.length?(p="function"==typeof e?e:_(!!e),t):p},t.curve=function(e){return arguments.length?(m=e,null!=g&&(v=m(g)),t):m},t.context=function(e){return arguments.length?(null==e?g=v=null:v=m(g=e),t):g},t}function Kp(e,t){return t<e?-1:e<t?1:e<=t?0:NaN}function Jp(e){return e}function Xp(){return Ms(qp().curve(zg))}function $p(){var e=Zp().curve(zg),t=e.curve,n=e.lineX0,i=e.lineX1,o=e.lineY0,r=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Ms(n())},delete e.lineX0,e.lineEndAngle=function(){return Ms(i())},delete e.lineX1,e.lineInnerRadius=function(){return Ms(o())},delete e.lineY0,e.lineOuterRadius=function(){return Ms(r())},delete e.lineY1,e.curve=function(e){return arguments.length?t(Cs(e)):t()._curve},e}function eg(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}function tg(){}function ng(e,t){if(1<(o=e.length))for(var n,i,o,r=1,s=e[t[0]],a=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ig(e){for(var t=e.length,n=new Array(t);0<=--t;)n[t]=t;return n}function og(e){var n=e.map(ta);return ig(e).sort(function(e,t){return n[e]-n[t]})}function rg(e){return function(){return e}}var sg,ag=Vp.range,lg={"-":"",_:" ",0:"0"},ug=/^\s*\d+/,cg=/^%/,fg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,dg=(ss({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Date.prototype.toISOString?function(e){return e.toISOString()}:U.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ")),hg=+new Date("2000-01-01T00:00:00.000Z")?function(e){e=new Date(e);return isNaN(e)?null:e}:U.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),pg=Gp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),gg=Gp("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),mg=Gp("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),vg=Gp("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),yg=zu(Je(300,.5,0),Je(-240,.5,1)),Dg=zu(Je(-100,.75,.35),Je(80,1.5,.8)),_g=zu(Je(260,.75,.35),Je(80,1.5,.8)),bg=Je(),Cg=cs(Gp("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Mg=cs(Gp("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),wg=cs(Gp("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ag=cs(Gp("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),_=function(e){return function(){return e}},Ig=Math.abs,R=Math.atan2,kg=Math.cos,Tg=Math.max,xg=Math.min,Eg=Math.sin,Sg=Math.sqrt,Y=1e-12,Ng=Math.PI,jg=Ng/2,Og=2*Ng,Lg=(ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},function(e){return new ys(e)}),zg=Cs(Lg),Fg=(bs.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}},Array.prototype.slice),Pg={draw:function(e,t){t=Math.sqrt(t/Ng);e.moveTo(t,0),e.arc(0,0,t,0,Og)}},Rg={draw:function(e,t){t=Math.sqrt(t/5)/2;e.moveTo(-3*t,-t),e.lineTo(-t,-t),e.lineTo(-t,-3*t),e.lineTo(t,-3*t),e.lineTo(t,-t),e.lineTo(3*t,-t),e.lineTo(3*t,t),e.lineTo(t,t),e.lineTo(t,3*t),e.lineTo(-t,3*t),e.lineTo(-t,t),e.lineTo(-3*t,t),e.closePath()}},Ug=Math.sqrt(1/3),Bg=2*Ug,Yg={draw:function(e,t){var t=Math.sqrt(t/Bg),n=t*Ug;e.moveTo(0,-t),e.lineTo(n,0),e.lineTo(0,t),e.lineTo(-n,0),e.closePath()}},Hg=Math.sin(Ng/10)/Math.sin(7*Ng/10),Wg=Math.sin(Og/10)*Hg,Qg=-Math.cos(Og/10)*Hg,Hg={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=Wg*n,o=Qg*n;e.moveTo(0,-n),e.lineTo(i,o);for(var r=1;r<5;++r){var s=Og*r/5,a=Math.cos(s),s=Math.sin(s);e.lineTo(s*n,-a*n),e.lineTo(a*i-s*o,s*i+a*o)}e.closePath()}},Vg={draw:function(e,t){var t=Math.sqrt(t),n=-t/2;e.rect(n,n,t,t)}},Gg=Math.sqrt(3),qg={draw:function(e,t){t=-Math.sqrt(t/(3*Gg));e.moveTo(0,2*t),e.lineTo(-Gg*t,-t),e.lineTo(Gg*t,-t),e.closePath()}},Zg=Math.sqrt(3)/2,Kg=1/Math.sqrt(12),Jg=3*(Kg/2+1),Xg={draw:function(e,t){var t=Math.sqrt(t/Jg),n=t/2,i=t*Kg,o=n,t=t*Kg+t,r=-o,s=t;e.moveTo(n,i),e.lineTo(o,t),e.lineTo(r,s),e.lineTo(-.5*n-Zg*i,Zg*n+-.5*i),e.lineTo(-.5*o-Zg*t,Zg*o+-.5*t),e.lineTo(-.5*r-Zg*s,Zg*r+-.5*s),e.lineTo(-.5*n+Zg*i,-.5*i-Zg*n),e.lineTo(-.5*o+Zg*t,-.5*t-Zg*o),e.lineTo(-.5*r+Zg*s,-.5*s-Zg*r),e.closePath()}},$g=[Pg,Rg,Yg,Vg,Hg,qg,Xg],em=(Ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Es(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Es(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ns.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Es(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Es(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Os.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(0<n)for(var i,o=e[0],r=t[0],s=e[n]-o,a=t[n]-r,l=-1;++l<=n;)this._basis.point(this._beta*e[l]+(1-this._beta)*(o+(i=l/n)*s),this._beta*t[l]+(1-this._beta)*(r+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}},function t(n){function e(e){return 1===n?new Ss(e):new Os(e,n)}return e.beta=function(e){return t(+e)},e}(.85)),tm=(zs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ls(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ls(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function t(n){function e(e){return new zs(e,n)}return e.tension=function(e){return t(+e)},e}(0)),nm=(Fs.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ls(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function t(n){function e(e){return new Fs(e,n)}return e.tension=function(e){return t(+e)},e}(0)),im=(Ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ls(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function t(n){function e(e){return new Ps(e,n)}return e.tension=function(e){return t(+e)},e}(0)),om=(Us.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n,i;switch(e=+e,t=+t,this._point&&(n=this._x2-e,i=this._y2-t,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))),this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Rs(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function t(n){function e(e){return n?new Us(e,n):new zs(e,0)}return e.alpha=function(e){return t(+e)},e}(.5)),rm=(Bs.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){var n,i;switch(e=+e,t=+t,this._point&&(n=this._x2-e,i=this._y2-t,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))),this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Rs(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function t(n){function e(e){return n?new Bs(e,n):new Fs(e,0)}return e.alpha=function(e){return t(+e)},e}(.5)),sm=(Ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n,i;switch(e=+e,t=+t,this._point&&(n=this._x2-e,i=this._y2-t,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))),this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Rs(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function t(n){function e(e){return n?new Ys(e,n):new Ps(e,0)}return e.alpha=function(e){return t(+e)},e}(.5));Hs.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gs(this,this._t0,Vs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Gs(this,Vs(this,n=Qs(this,e,t)),n);break;default:Gs(this,this._t0,n=Qs(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Zs.prototype=Object.create(qs.prototype)).point=function(e,t){qs.prototype.point.call(this,t,e)},Ks.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,o,r){this._context.bezierCurveTo(t,e,i,n,r,o)}},Js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=Xs(e),o=Xs(t),r=0,s=1;s<n;++r,++s)this._context.bezierCurveTo(i[0][r],o[0][r],i[1][r],o[1][r],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},$s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:var n;this._t<=0?(this._context.lineTo(this._x,t),this._context.lineTo(e,t)):(n=this._x*(1-this._t)+e*this._t,this._context.lineTo(n,this._y),this._context.lineTo(n,t))}this._x=e,this._y=t}};oa.prototype={constructor:oa,insert:function(e,t){var n,i,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else n=this._?(e=la(this._),t.P=null,(t.N=e).P=e.L=t,e):(t.P=t.N=null,this._=t,null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(o=i.R)&&o.C?(n.C=o.C=!1,i.C=!0,e=i):(e===n.R&&(sa(this,n),n=(e=n).U),n.C=!1,i.C=!0,aa(this,i)):(o=i.L)&&o.C?(n.C=o.C=!1,i.C=!0,e=i):(e===n.L&&(aa(this,n),n=(e=n).U),n.C=!1,i.C=!0,sa(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i=e.U,o=e.L,r=e.R,s=o?r?la(r):o:r;if(i?i.L===e?i.L=s:i.R=s:this._=s,o&&r?(n=s.C,s.C=e.C,((s.L=o).U=s)!==r?(i=s.U,s.U=e.U,e=s.R,i.L=e,(s.R=r).U=s):(s.U=i,e=(i=s).R)):(n=e.C,e=s),e&&(e.U=i),!n)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,sa(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,aa(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,sa(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,aa(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,sa(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,aa(this,i),e=this._;break}}while(t.C=!0,i=(e=i).U,!e.C);e&&(e.C=!1)}}};function am(e){return function(){return e}}function lm(){U.event.preventDefault(),U.event.stopImmediatePropagation()}var um,cm,fm,dm,H,hm=[],pm=[],W=1e-6,gm=1e-12,mm=(wa.prototype={constructor:wa,polygons:function(){var n=this.edges;return this.cells.map(function(t){var e=t.halfedges.map(function(e){return ha(t,n[e])});return e.data=t.site.data,e})},triangles:function(){var c=[],f=this.edges;return this.cells.forEach(function(e,t){if(i=(n=e.halfedges).length)for(var n,i,o,r=e.site,s=-1,a=f[n[i-1]],l=a.left===r?a.right:a.left;++s<i;)o=l,l=(a=f[n[s]]).left===r?a.right:a.left,o&&l&&t<o.index&&t<l.index&&(u=l,(r[0]-u[0])*(o[1]-r[1])-(r[0]-o[0])*(u[1]-r[1])<0)&&c.push([r.data,o.data,l.data]);var u}),c},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(n,i,e){for(var t,o,r=this,s=r._found||0,a=r.cells.length;!(o=r.cells[s]);)if(++s>=a)return null;for(var l=n-o.site[0],u=i-o.site[1],c=l*l+u*u;o=r.cells[t=s],s=null,o.halfedges.forEach(function(e){var e=r.edges[e],t=e.left;(t!==o.site&&t||(t=e.right))&&(e=(e=n-t[0])*e+(e=i-t[1])*e)<c&&(c=e,s=t.index)}),null!==s;);return r._found=t,null==e||c<=e*e?o.site:null}},Ia.prototype={constructor:Ia,scale:function(e){return 1===e?this:new Ia(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Ia(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Ia(1,0,0));ka.prototype=Ia.prototype;U.version="4.10.0",U.bisect=rl,U.bisectRight=rl,U.bisectLeft=ol,U.ascending=il,U.bisector=Oa,U.cross=function(e,t,n){var i,o,r,s,a=e.length,l=t.length,u=new Array(a*l);for(null==n&&(n=y),i=r=0;i<a;++i)for(s=e[i],o=0;o<l;++o,++r)u[r]=n(s,t[o]);return u},U.descending=function(e,t){return t<e?-1:e<t?1:e<=t?0:NaN},U.deviation=za,U.extent=Fa,U.histogram=function(){function t(e){for(var t,n=e.length,i=new Array(n),o=0;o<n;++o)i[o]=d(e[o],o,e);var r=h(i),s=r[0],a=r[1],l=p(i,s,a);Array.isArray(l)||(l=A(s,a,l),l=cl(Math.ceil(s/l)*l,Math.floor(a/l)*l,l));for(var u=l.length;l[0]<=s;)l.shift(),--u;for(;l[u-1]>a;)l.pop(),--u;var c,f=new Array(u+1);for(o=0;o<=u;++o)(c=f[o]=[]).x0=0<o?l[o-1]:s,c.x1=o<u?l[o]:a;for(o=0;o<n;++o)s<=(t=i[o])&&t<=a&&f[rl(l,t,0,u)].push(e[o]);return f}var d=Ra,h=Fa,p=Ua;return t.value=function(e){return arguments.length?(d="function"==typeof e?e:Pa(e),t):d},t.domain=function(e){return arguments.length?(h="function"==typeof e?e:Pa([e[0],e[1]]),t):h},t.thresholds=function(e){return arguments.length?(p="function"==typeof e?e:Pa(Array.isArray(e)?ll.call(e):e),t):p},t},U.thresholdFreedmanDiaconis=function(e,t,n){return e=ul.call(e,sl).sort(il),Math.ceil((n-t)/(2*(Ba(e,.75)-Ba(e,.25))*Math.pow(e.length,-1/3)))},U.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*za(e)*Math.pow(e.length,-1/3)))},U.thresholdSturges=Ua,U.max=function(e,t){var n,i,o=e.length,r=-1;if(null==t){for(;++r<o;)if(null!=(n=e[r])&&n<=n)for(i=n;++r<o;)null!=(n=e[r])&&i<n&&(i=n)}else for(;++r<o;)if(null!=(n=t(e[r],r,e))&&n<=n)for(i=n;++r<o;)null!=(n=t(e[r],r,e))&&i<n&&(i=n);return i},U.mean=function(e,t){var n,i=e.length,o=i,r=-1,s=0;if(null==t)for(;++r<i;)isNaN(n=sl(e[r]))?--o:s+=n;else for(;++r<i;)isNaN(n=sl(t(e[r],r,e)))?--o:s+=n;if(o)return s/o},U.median=function(e,t){var n,i=e.length,o=-1,r=[];if(null==t)for(;++o<i;)isNaN(n=sl(e[o]))||r.push(n);else for(;++o<i;)isNaN(n=sl(t(e[o],o,e)))||r.push(n);return Ba(r.sort(il),.5)},U.merge=Ya,U.min=Ha,U.pairs=function(e,t){null==t&&(t=y);for(var n=0,i=e.length-1,o=e[0],r=new Array(i<0?0:i);n<i;)r[n]=t(o,o=e[++n]);return r},U.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},U.quantile=Ba,U.range=cl,U.scan=function(e,t){if(n=e.length){var n,i,o=0,r=0,s=e[r];for(null==t&&(t=il);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,r=o);return 0===t(s,s)?r:void 0}},U.shuffle=function(e,t,n){for(var i,o,r=(null==n?e.length:n)-(t=null==t?0:+t);r;)o=Math.random()*r--|0,i=e[r+t],e[r+t]=e[o+t],e[o+t]=i;return e},U.sum=function(e,t){var n,i=e.length,o=-1,r=0;if(null==t)for(;++o<i;)(n=+e[o])&&(r+=n);else for(;++o<i;)(n=+t(e[o],o,e))&&(r+=n);return r},U.ticks=pl,U.tickIncrement=D,U.tickStep=A,U.transpose=Wa,U.variance=La,U.zip=function(){return Wa(arguments)},U.axisTop=function(e){return b(1,e)},U.axisRight=function(e){return b(2,e)},U.axisBottom=function(e){return b(3,e)},U.axisLeft=function(e){return b(4,e)},U.brush=function(){return Lt(Ac)},U.brushX=function(){return Lt(Mc)},U.brushY=function(){return Lt(wc)},U.brushSelection=function(e){e=e.__brush;return e?e.dim.output(e.selection):null},U.chord=function(){function t(i){for(var e,t,n,o,r=i.length,s=[],a=cl(r),l=[],u=[],c=u.groups=new Array(r),f=new Array(r*r),d=0,h=-1;++h<r;){for(e=0,o=-1;++o<r;)e+=i[h][o];s.push(e),l.push(cl(r)),d+=e}for(C&&a.sort(function(e,t){return C(s[e],s[t])}),M&&l.forEach(function(e,n){e.sort(function(e,t){return M(i[n][e],i[n][t])})}),n=(d=Lc(0,Oc-b*r)/d)?b:Oc/r,e=0,h=-1;++h<r;){for(t=e,o=-1;++o<r;){var p=a[h],g=l[p][o],m=i[p][g],v=e,y=e+=m*d;f[g*r+p]={index:p,subindex:g,startAngle:v,endAngle:y,value:m}}c[p]={index:p,startAngle:t,endAngle:e,value:s[p]},e+=n}for(h=-1;++h<r;)for(o=h-1;++o<r;){var D=f[o*r+h],_=f[h*r+o];(D.value||_.value)&&u.push(D.value<_.value?{source:_,target:D}:{source:D,target:_})}return w?u.sort(w):u}var b=0,C=null,M=null,w=null;return t.padAngle=function(e){return arguments.length?(b=Lc(0,e),t):b},t.sortGroups=function(e){return arguments.length?(C=e,t):C},t.sortSubgroups=function(e){return arguments.length?(M=e,t):M},t.sortChords=function(e){return arguments.length?(null==e?w=null:(n=e,(w=function(e,t){return n(e.source.value+e.target.value,t.source.value+t.target.value)})._=e),t):w&&w._;var n},t},U.ribbon=function(){function t(){var e,t=zc.call(arguments),n=u.apply(this,t),i=c.apply(this,t),n=+f.apply(this,(t[0]=n,t)),o=d.apply(this,t)-jc,r=h.apply(this,t)-jc,s=n*Sc(o),a=n*Nc(o),i=+f.apply(this,(t[0]=i,t)),l=d.apply(this,t)-jc,t=h.apply(this,t)-jc;if((p=p||(e=Ft())).moveTo(s,a),p.arc(0,0,n,o,r),o==l&&r==t||(p.quadraticCurveTo(0,0,i*Sc(l),i*Nc(l)),p.arc(0,0,i,l,t)),p.quadraticCurveTo(0,0,s,a),p.closePath(),e)return p=null,e+""||null}var u=Pt,c=Rt,f=Ut,d=Bt,h=Yt,p=null;return t.radius=function(e){return arguments.length?(f="function"==typeof e?e:lu(+e),t):f},t.startAngle=function(e){return arguments.length?(d="function"==typeof e?e:lu(+e),t):d},t.endAngle=function(e){return arguments.length?(h="function"==typeof e?e:lu(+e),t):h},t.source=function(e){return arguments.length?(u=e,t):u},t.target=function(e){return arguments.length?(c=e,t):c},t.context=function(e){return arguments.length?(p=null==e?null:e,t):p},t},U.nest=function(){function d(e,n,i,o){if(n>=g.length)return null!=h&&e.sort(h),null!=p?p(e):e;for(var t,r,s,a=-1,l=e.length,u=g[n++],c=Wt(),f=i();++a<l;)(s=c.get(t=u(r=e[a])+""))?s.push(r):c.set(t,[r]);return c.each(function(e,t){o(f,t,d(e,n,i,o))}),f}var h,p,t,g=[],s=[];return t={object:function(e){return d(e,0,Qt,Vt)},map:function(e){return d(e,0,Gt,qt)},entries:function(e){return function n(e,i){if(++i>g.length)return e;var o,r=s[i-1];return null!=p&&i>=g.length?o=e.entries():(o=[],e.each(function(e,t){o.push({key:t,values:n(e,i)})})),null!=r?o.sort(function(e,t){return r(e.key,t.key)}):o}(d(e,0,Gt,qt),0)},key:function(e){return g.push(e),t},sortKeys:function(e){return s[g.length-1]=e,t},sortValues:function(e){return h=e,t},rollup:function(e){return p=e,t}}},U.set=Kt,U.map=Wt,U.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},U.values=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},U.entries=function(e){var t,n=[];for(t in e)n.push({key:t,value:e[t]});return n},U.color=je,U.rgb=Fe,U.hsl=Re,U.lab=He,U.hcl=Ze,U.cubehelix=Je,U.dispatch=G,U.drag=function(){function p(e){e.on("mousedown.drag",t).filter(Ee).on("touchstart.drag",o).on("touchmove.drag",r).on("touchend.drag touchcancel.drag",s).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(){var e;!f&&d.apply(this,arguments)&&(e=a("mouse",h.apply(this,arguments),qa,this,arguments))&&(B(U.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",i,!0),$a(U.event.view),we(),c=!1,l=U.event.clientX,u=U.event.clientY,e("start"))}function n(){var e,t;Il(),c||(e=U.event.clientX-l,t=U.event.clientY-u,c=D<e*e+t*t),m.mouse("drag")}function i(){B(U.event.view).on("mousemove.drag mouseup.drag",null),Ae(U.event.view,c),Il(),m.mouse("end")}function o(){if(d.apply(this,arguments))for(var e,t=U.event.changedTouches,n=h.apply(this,arguments),i=t.length,o=0;o<i;++o)(e=a(t[o].identifier,n,Xa,this,arguments))&&(we(),e("start"))}function r(){for(var e,t=U.event.changedTouches,n=t.length,i=0;i<n;++i)(e=m[t[i].identifier])&&(Il(),e("drag"))}function s(){var e,t,n=U.event.changedTouches,i=n.length;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),e=0;e<i;++e)(t=m[n[e].identifier])&&(we(),t("end"))}function a(o,r,s,a,l){var u,c,f,d=s(r,o),h=v.copy();if(ie(new Ie(p,"beforestart",u,o,y,d[0],d[1],0,0,h),function(){return null!=(U.event.subject=u=g.apply(a,l))&&(c=u.x-d[0]||0,f=u.y-d[1]||0,!0)}))return function e(t){var n,i=d;switch(t){case"start":m[o]=e,n=y++;break;case"end":delete m[o],--y;case"drag":d=s(r,o),n=y}ie(new Ie(p,t,u,o,n,d[0]+c,d[1]+f,d[0]-i[0],d[1]-i[1],h),h.apply,h,[t,a,l])}}var l,u,c,f,d=ke,h=Te,g=xe,m={},v=G("start","drag","end"),y=0,D=0;return p.filter=function(e){return arguments.length?(d="function"==typeof e?e:el(!!e),p):d},p.container=function(e){return arguments.length?(h="function"==typeof e?e:el(e),p):h},p.subject=function(e){return arguments.length?(g="function"==typeof e?e:el(e),p):g},p.on=function(){var e=v.on.apply(v,arguments);return e===v?p:e},p.clickDistance=function(e){return arguments.length?(D=(e=+e)*e,p):Math.sqrt(D)},p},U.dragDisable=$a,U.dragEnable=Ae,U.dsvFormat=uu,U.csvParse=Uc,U.csvParseRows=Bc,U.csvFormat=Yc,U.csvFormatRows=t,U.tsvParse=Wc,U.tsvParseRows=Qc,U.tsvFormat=Vc,U.tsvFormatRows=Hc,U.easeLinear=function(e){return+e},U.easeQuad=Mt,U.easeQuadIn=function(e){return e*e},U.easeQuadOut=function(e){return e*(2-e)},U.easeQuadInOut=Mt,U.easeCubic=wt,U.easeCubicIn=function(e){return e*e*e},U.easeCubicOut=function(e){return--e*e*e+1},U.easeCubicInOut=wt,U.easePoly=sc,U.easePolyIn=oc,U.easePolyOut=rc,U.easePolyInOut=sc,U.easeSin=At,U.easeSinIn=function(e){return 1-Math.cos(e*lc)},U.easeSinOut=function(e){return Math.sin(e*lc)},U.easeSinInOut=At,U.easeExp=It,U.easeExpIn=function(e){return Math.pow(2,10*e-10)},U.easeExpOut=function(e){return 1-Math.pow(2,-10*e)},U.easeExpInOut=It,U.easeCircle=kt,U.easeCircleIn=function(e){return 1-Math.sqrt(1-e*e)},U.easeCircleOut=function(e){return Math.sqrt(1- --e*e)},U.easeCircleInOut=kt,U.easeBounce=Tt,U.easeBounceIn=function(e){return 1-Tt(1-e)},U.easeBounceOut=Tt,U.easeBounceInOut=function(e){return((e*=2)<=1?1-Tt(1-e):Tt(e-1)+1)/2},U.easeBack=dc,U.easeBackIn=cc,U.easeBackOut=fc,U.easeBackInOut=dc,U.easeElastic=gc,U.easeElasticIn=pc,U.easeElasticOut=gc,U.easeElasticInOut=mc,U.forceCenter=function(r,s){function t(){for(var e,t=a.length,n=0,i=0,o=0;o<t;++o)n+=(e=a[o]).x,i+=e.y;for(n=n/t-r,i=i/t-s,o=0;o<t;++o)(e=a[o]).x-=n,e.y-=i}var a;return null==r&&(r=0),null==s&&(s=0),t.initialize=function(e){a=e},t.x=function(e){return arguments.length?(r=+e,t):r},t.y=function(e){return arguments.length?(s=+e,t):s},t},U.forceCollide=function(i){function t(){for(var e,t,a,l,u,c,f,n=r.length,i=0;i<h;++i)for(t=tn(r,rn,sn).visitAfter(o),e=0;e<n;++e)a=r[e],c=s[a.index],f=c*c,l=a.x+a.vx,u=a.y+a.vy,t.visit(function(e,t,n,i,o){var r=e.data,e=e.r,s=c+e;if(!r)return l+s<t||i<l-s||u+s<n||o<u-s;r.index>a.index&&((n=(t=l-r.x-r.vx)*t+(i=u-r.y-r.vy)*i)<s*s&&(0===t&&(n+=(t=cu())*t),0===i&&(n+=(i=cu())*i),n=(s-(n=Math.sqrt(n)))/n*d,a.vx+=(t*=n)*(s=(e*=e)/(f+e)),a.vy+=(i*=n)*s,r.vx-=t*(s=1-s),r.vy-=i*s))})}function o(e){if(e.data)return e.r=s[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function n(){if(r){var e,t,n=r.length;for(s=new Array(n),e=0;e<n;++e)t=r[e],s[t.index]=+i(t,e,r)}}var r,s,d=1,h=1;return"function"!=typeof i&&(i=g(null==i?1:+i)),t.initialize=function(e){r=e,n()},t.iterations=function(e){return arguments.length?(h=+e,t):h},t.strength=function(e){return arguments.length?(d=+e,t):d},t.radius=function(e){return arguments.length?(i="function"==typeof e?e:g(+e),n(),t):i},t},U.forceLink=function(u){function t(e){for(var t=0,n=u.length;t<p;++t)for(var i,o,r,s,a,l=0;l<n;++l)i=(o=u[l]).source,r=(o=o.target).x+o.vx-i.x-i.vx||cu(),s=o.y+o.vy-i.y-i.vy||cu(),r*=a=((a=Math.sqrt(r*r+s*s))-f[l])/a*e*c[l],s*=a,o.vx-=r*(a=d[l]),o.vy-=s*a,i.vx+=r*(a=1-a),i.vy+=s*a}function n(){if(a){var e,t=a.length,n=u.length,i=Wt(a,h),o=0;for(l=new Array(t);o<n;++o)(e=u[o]).index=o,"object"!=typeof e.source&&(e.source=ln(i,e.source)),"object"!=typeof e.target&&(e.target=ln(i,e.target)),l[e.source.index]=(l[e.source.index]||0)+1,l[e.target.index]=(l[e.target.index]||0)+1;for(o=0,d=new Array(n);o<n;++o)e=u[o],d[o]=l[e.source.index]/(l[e.source.index]+l[e.target.index]);c=new Array(n),r(),f=new Array(n),s()}}function r(){if(a)for(var e=0,t=u.length;e<t;++e)c[e]=+i(u[e],e,u)}function s(){if(a)for(var e=0,t=u.length;e<t;++e)f[e]=+o(u[e],e,u)}var c,f,a,l,d,h=an,i=function(e){return 1/Math.min(l[e.source.index],l[e.target.index])},o=g(30),p=1;return null==u&&(u=[]),t.initialize=function(e){a=e,n()},t.links=function(e){return arguments.length?(u=e,n(),t):u},t.id=function(e){return arguments.length?(h=e,t):h},t.iterations=function(e){return arguments.length?(p=+e,t):p},t.strength=function(e){return arguments.length?(i="function"==typeof e?e:g(+e),r(),t):i},t.distance=function(e){return arguments.length?(o="function"==typeof e?e:g(+e),s(),t):o},t},U.forceManyBody=function(){function t(e){var t,n=s.length,i=tn(s,un,cn).visitAfter(o);for(u=e,t=0;t<n;++t)l=s[t],i.visit(r)}function n(){if(s){var e,t,n=s.length;for(c=new Array(n),e=0;e<n;++e)t=s[e],c[t.index]=+i(t,e,s)}}function o(e){var t,n,i,o,r,s=0;if(e.length){for(i=o=r=0;r<4;++r)(t=e[r])&&(n=t.value)&&(s+=n,i+=n*t.x,o+=n*t.y);e.x=i/s,e.y=o/s}else for((t=e).x=t.data.x,t.y=t.data.y;s+=c[t.data.index],t=t.next;);e.value=s}function r(e,t,n,i){if(!e.value)return!0;var o=e.x-l.x,r=e.y-l.y,s=i-t,a=o*o+r*r;if(s*s/h<a)return a<d&&(0===o&&(a+=(o=cu())*o),0===r&&(a+=(r=cu())*r),a<f&&(a=Math.sqrt(f*a)),l.vx+=o*e.value*u/a,l.vy+=r*e.value*u/a),!0;if(!(e.length||d<=a))for(e.data===l&&!e.next||(0===o&&(a+=(o=cu())*o),0===r&&(a+=(r=cu())*r),a<f&&(a=Math.sqrt(f*a)));e.data!==l&&(s=c[e.data.index]*u/a,l.vx+=o*s,l.vy+=r*s),e=e.next;);}var s,l,u,c,i=g(-30),f=1,d=1/0,h=.81;return t.initialize=function(e){s=e,n()},t.strength=function(e){return arguments.length?(i="function"==typeof e?e:g(+e),n(),t):i},t.distanceMin=function(e){return arguments.length?(f=e*e,t):Math.sqrt(f)},t.distanceMax=function(e){return arguments.length?(d=e*e,t):Math.sqrt(d)},t.theta=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t},U.forceSimulation=function(l){function e(){t(),h.call("tick",o),r<s&&(d.stop(),h.call("end",o))}function t(){var e,t,n=l.length;for(r+=(u-r)*a,f.each(function(e){e(r)}),e=0;e<n;++e)null==(t=l[e]).fx?t.x+=t.vx*=c:(t.x=t.fx,t.vx=0),null==t.fy?t.y+=t.vy*=c:(t.y=t.fy,t.vy=0)}function n(){for(var e,t,n,i=0,o=l.length;i<o;++i)(n=l[i]).index=i,(isNaN(n.x)||isNaN(n.y))&&(e=10*Math.sqrt(i),t=i*Zc,n.x=e*Math.cos(t),n.y=e*Math.sin(t)),(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}function i(e){return e.initialize&&e.initialize(l),e}var o,r=1,s=.001,a=1-Math.pow(s,1/300),u=0,c=.6,f=Wt(),d=dt(e),h=G("tick","end");return null==l&&(l=[]),n(),o={tick:t,restart:function(){return d.restart(e),o},stop:function(){return d.stop(),o},nodes:function(e){return arguments.length?(l=e,n(),f.each(i),o):l},alpha:function(e){return arguments.length?(r=+e,o):r},alphaMin:function(e){return arguments.length?(s=+e,o):s},alphaDecay:function(e){return arguments.length?(a=+e,o):+a},alphaTarget:function(e){return arguments.length?(u=+e,o):u},velocityDecay:function(e){return arguments.length?(c=1-e,o):1-c},force:function(e,t){return 1<arguments.length?(null==t?f.remove(e):f.set(e,i(t)),o):f.get(e)},find:function(e,t,n){var i,o,r,s=0,a=l.length;for(null==n?n=1/0:n*=n,s=0;s<a;++s)(i=(i=e-(o=l[s]).x)*i+(i=t-o.y)*i)<n&&(r=o,n=i);return r},on:function(e,t){return 1<arguments.length?(h.on(e,t),o):h.on(e)}}},U.forceX=function(n){function t(e){for(var t,n=0,i=o.length;n<i;++n)(t=o[n]).vx+=(s[n]-t.x)*r[n]*e}function i(){if(o){var e,t=o.length;for(r=new Array(t),s=new Array(t),e=0;e<t;++e)r[e]=isNaN(s[e]=+n(o[e],e,o))?0:+a(o[e],e,o)}}var o,r,s,a=g(.1);return"function"!=typeof n&&(n=g(null==n?0:+n)),t.initialize=function(e){o=e,i()},t.strength=function(e){return arguments.length?(a="function"==typeof e?e:g(+e),i(),t):a},t.x=function(e){return arguments.length?(n="function"==typeof e?e:g(+e),i(),t):n},t},U.forceY=function(n){function t(e){for(var t,n=0,i=o.length;n<i;++n)(t=o[n]).vy+=(s[n]-t.y)*r[n]*e}function i(){if(o){var e,t=o.length;for(r=new Array(t),s=new Array(t),e=0;e<t;++e)r[e]=isNaN(s[e]=+n(o[e],e,o))?0:+a(o[e],e,o)}}var o,r,s,a=g(.1);return"function"!=typeof n&&(n=g(null==n?0:+n)),t.initialize=function(e){o=e,i()},t.strength=function(e){return arguments.length?(a="function"==typeof e?e:g(+e),i(),t):a},t.y=function(e){return arguments.length?(n="function"==typeof e?e:g(+e),i(),t):n},t},U.formatDefaultLocale=hn,U.formatLocale=nf,U.formatSpecifier=fn,U.precisionFixed=of,U.precisionPrefix=rf,U.precisionRound=sf,U.geoArea=function(e){return Jf.reset(),ff(e,Xf),2*Jf},U.geoBounds=function(e){var t,n,i,o,r,s,a;if(Df=f=-(c=yf=1/0),wf=[],ff(e,ed),n=wf.length){for(wf.sort(Rn),t=1,r=[i=wf[0]];t<n;++t)Un(i,(o=wf[t])[0])||Un(i,o[1])?(u(i[0],o[1])>u(i[0],i[1])&&(i[1]=o[1]),u(o[0],i[1])>u(i[0],i[1])&&(i[0]=o[0])):r.push(i=o);for(s=-1/0,t=0,i=r[n=r.length-1];t<=n;i=o,++t)o=r[t],(a=u(i[1],o[0]))>s&&(s=a,c=o[0],f=i[1])}return wf=Af=null,c===1/0||yf===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,yf],[f,Df]]},U.geoCentroid=function(e){If=kf=Tf=xf=Ef=Sf=Nf=jf=Of=Lf=zf=0,ff(e,td);var e=Of,t=Lf,n=zf,i=e*e+t*t+n*n;return i<1e-12&&(e=Sf,t=Nf,n=jf,kf<S&&(e=Tf,t=xf,n=Ef),(i=e*e+t*t+n*n)<1e-12)?[NaN,NaN]:[L(t,e)*N,E(n/z(i))*N]},U.geoCircle=function(){function t(){var e=r.apply(this,arguments),t=s.apply(this,arguments)*j,n=a.apply(this,arguments)*j;return i=[],o=Xn(-e[0]*j,-e[1]*j,0).invert,ni(l,t,n,1),e={type:"Polygon",coordinates:[i]},i=o=null,e}var i,o,r=df([0,0]),s=df(90),a=df(6),l={point:function(e,t){i.push(e=o(e,t)),e[0]*=N,e[1]*=N}};return t.center=function(e){return arguments.length?(r="function"==typeof e?e:df([+e[0],+e[1]]),t):r},t.radius=function(e){return arguments.length?(s="function"==typeof e?e:df(+e),t):s},t.precision=function(e){return arguments.length?(a="function"==typeof e?e:df(+e),t):a},t},U.geoClipExtent=function(){var t,n,i,o=0,r=0,s=960,a=500;return i={stream:function(e){return t&&n===e?t:t=si(o,r,s,a)(n=e)},extent:function(e){return arguments.length?(o=+e[0][0],r=+e[0][1],s=+e[1][0],a=+e[1][1],t=n=null,i):[[o,r],[s,a]]}}},U.geoContains=function(e,t){return(e&&xd.hasOwnProperty(e.type)?xd[e.type]:ci)(e,t)},U.geoDistance=ld,U.geoGraticule=yi,U.geoGraticule10=function(){return yi()()},U.geoInterpolate=function(e,t){var n=e[0]*j,i=e[1]*j,e=t[0]*j,t=t[1]*j,o=T(i),r=x(i),s=T(t),a=x(t),l=o*T(n),u=o*x(n),c=s*T(e),f=s*x(e),d=2*E(z(vn(t-i)+o*s*vn(e-n))),h=x(d),t=d?function(e){var t=x(e*=d)/h,e=x(d-e)/h,n=e*l+t*c,i=e*u+t*f,e=e*r+t*a;return[L(i,n)*N,L(e,z(n*n+i*i))*N]}:function(){return[n*N,i*N]};return t.distance=d,t},U.geoLength=Id,U.geoPath=function(t,n){function i(e){return e&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),ff(e,o(r))),r.result()}var o,r,s=4.5;return i.area=function(e){return ff(e,o(Od)),Od.result()},i.measure=function(e){return ff(e,o(hh)),hh.result()},i.bounds=function(e){return ff(e,o(Rd)),Rd.result()},i.centroid=function(e){return ff(e,o(Zd)),Zd.result()},i.projection=function(e){return arguments.length?(o=null==e?(t=null,Sd):(t=e).stream,i):t},i.context=function(e){return arguments.length?(r=null==e?(n=null,new Li):new Ni(n=e),"function"!=typeof s&&r.pointRadius(s),i):n},i.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(r.pointRadius(+e),+e),i):s},i.projection(t).context(n)},U.geoAlbers=Xd,U.geoAlbersUsa=function(){function n(e){var t=e[0],e=e[1];return i=null,s.point(t,e),i||(a.point(t,e),i)||(l.point(t,e),i)}function o(){return t=r=null,n}var t,r,s,a,l,i,u=Xd(),c=Jd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Jd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(e,t){i=[e,t]}};return n.invert=function(e){var t=u.scale(),n=u.translate(),i=(e[0]-n[0])/t,n=(e[1]-n[1])/t;return(.12<=n&&n<.234&&-.425<=i&&i<-.214?c:.166<=n&&n<.234&&-.214<=i&&i<-.115?f:u).invert(e)},n.stream=function(e){return t&&r===e?t:(i=[u.stream(r=e),c.stream(e),f.stream(e)],o=i.length,t={point:function(e,t){for(var n=-1;++n<o;)i[n].point(e,t)},sphere:function(){for(var e=-1;++e<o;)i[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)i[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)i[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)i[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)i[e].polygonEnd()}});var i,o},n.precision=function(e){return arguments.length?(u.precision(e),c.precision(e),f.precision(e),o()):u.precision()},n.scale=function(e){return arguments.length?(u.scale(e),c.scale(.35*e),f.scale(e),n.translate(u.translate())):u.scale()},n.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),n=+e[0],i=+e[1];return s=u.translate(e).clipExtent([[n-.455*t,i-.238*t],[n+.455*t,i+.238*t]]).stream(d),a=c.translate([n-.307*t,i+.201*t]).clipExtent([[n-.425*t+S,i+.12*t+S],[n-.214*t-S,i+.234*t-S]]).stream(d),l=f.translate([n-.205*t,i+.212*t]).clipExtent([[n-.214*t+S,i+.166*t+S],[n-.115*t-S,i+.234*t-S]]).stream(d),o()},n.fitExtent=function(e,t){return Bi(n,e,t)},n.fitSize=function(e,t){return Yi(n,e,t)},n.scale(1070)},U.geoAzimuthalEqualArea=function(){return Hi(Dh).scale(124.75).clipAngle(179.999)},U.geoAzimuthalEqualAreaRaw=Dh,U.geoAzimuthalEquidistant=function(){return Hi(_h).scale(79.4188).clipAngle(179.999)},U.geoAzimuthalEquidistantRaw=_h,U.geoConicConformal=function(){return Qi(Xi).scale(109.5).parallels([30,30])},U.geoConicConformalRaw=Xi,U.geoConicEqualArea=Jd,U.geoConicEqualAreaRaw=Vi,U.geoConicEquidistant=function(){return Qi(eo).scale(131.154).center([0,13.9389])},U.geoConicEquidistantRaw=eo,U.geoEquirectangular=function(){return Hi($i).scale(152.63)},U.geoEquirectangularRaw=$i,U.geoGnomonic=function(){return Hi(to).scale(144.049).clipAngle(60)},U.geoGnomonicRaw=to,U.geoIdentity=function(){function t(){return r=s=null,a}var n,i,o,r,s,a,l=1,u=0,c=0,f=1,d=1,h=Sd,p=null,g=Sd;return a={stream:function(e){return r&&s===e?r:r=h(g(s=e))},clipExtent:function(e){return arguments.length?(g=null==e?(p=n=i=o=null,Sd):si(p=+e[0][0],n=+e[0][1],i=+e[1][0],o=+e[1][1]),t()):null==p?null:[[p,n],[i,o]]},scale:function(e){return arguments.length?(h=no((l=+e)*f,l*d,u,c),t()):l},translate:function(e){return arguments.length?(h=no(l*f,l*d,u=+e[0],c=+e[1]),t()):[u,c]},reflectX:function(e){return arguments.length?(h=no(l*(f=e?-1:1),l*d,u,c),t()):f<0},reflectY:function(e){return arguments.length?(h=no(l*f,l*(d=e?-1:1),u,c),t()):d<0},fitExtent:function(e,t){return Bi(a,e,t)},fitSize:function(e,t){return Yi(a,e,t)}}},U.geoProjection=Hi,U.geoProjectionMutator=Wi,U.geoMercator=function(){return Ki(Zi).scale(961/k)},U.geoMercatorRaw=Zi,U.geoOrthographic=function(){return Hi(io).scale(249.5).clipAngle(90+S)},U.geoOrthographicRaw=io,U.geoStereographic=function(){return Hi(oo).scale(250).clipAngle(142)},U.geoStereographicRaw=oo,U.geoTransverseMercator=function(){var e=Ki(ro),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],2<e.length?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},U.geoTransverseMercatorRaw=ro,U.geoRotation=id,U.geoStream=ff,U.geoTransform=function(e){return{stream:Ri(e)}},U.cluster=function(){function t(t){var i,o=0,e=(t.eachAfter(function(e){var t,n=e.children;n?(e.x=(t=n).reduce(ao,0)/t.length,e.y=1+n.reduce(lo,0)):(e.x=i?o+=a(e,i):0,e.y=0,i=e)}),function(e){for(var t;t=e.children;)e=t[0];return e}(t)),n=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(t),r=e.x-a(e,n)/2,s=n.x+a(n,e)/2;return t.eachAfter(c?function(e){e.x=(e.x-t.x)*l,e.y=(t.y-e.y)*u}:function(e){e.x=(e.x-r)/(s-r)*l,e.y=(1-(t.y?e.y/t.y:1))*u})}var a=so,l=1,u=1,c=!1;return t.separation=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(c=!1,l=+e[0],u=+e[1],t):c?null:[l,u]},t.nodeSize=function(e){return arguments.length?(c=!0,l=+e[0],u=+e[1],t):c?[l,u]:null},t},U.hierarchy=co,U.pack=function(){function t(e){return e.x=i/2,e.y=o/2,n?e.eachBefore(xo(n)).eachAfter(Eo(r,.5)).eachBefore(So(1)):e.eachBefore(xo(To)).eachAfter(Eo(ko,1)).eachAfter(Eo(r,e.r/Math.min(i,o))).eachBefore(So(Math.min(i,o)/(2*e.r))),e}var n=null,i=1,o=1,r=ko;return t.radius=function(e){return arguments.length?(n=null==(e=e)?null:Io(e),t):n},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.padding=function(e){return arguments.length?(r="function"==typeof e?e:eh(+e),t):r},t},U.packSiblings=function(e){return Ao(e),e},U.packEnclose=$d,U.partition=function(){function t(e){var r,s,t=e.height+1;return e.x0=e.y0=a,e.x1=n,e.y1=i/t,e.eachBefore((r=i,s=t,function(e){e.children&&Ch(e,e.x0,r*(e.depth+1)/s,e.x1,r*(e.depth+2)/s);var t=e.x0,n=e.y0,i=e.x1-a,o=e.y1-a;i<t&&(t=i=(t+i)/2),o<n&&(n=o=(n+o)/2),e.x0=t,e.y0=n,e.x1=i,e.y1=o})),o&&e.eachBefore(th),e}var n=1,i=1,a=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(a=+e,t):a},t},U.stratify=function(){function t(e){for(var t,n,i,o,r,s=e.length,a=new Array(s),l={},u=0;u<s;++u)r=e[u],i=a[u]=new go(r),null!=(o=c(r,u,e))&&(o+="")&&(l[r="$"+(i.id=o)]=r in l?wh:i);for(u=0;u<s;++u)if(i=a[u],null!=(o=f(e[u],u,e))&&(o+="")){if(!(n=l["$"+o]))throw new Error("missing: "+o);if(n===wh)throw new Error("ambiguous: "+o);n.children?n.children.push(i):n.children=[i],i.parent=n}else{if(t)throw new Error("multiple roots");t=i}if(!t)throw new Error("no root");if(t.parent=Mh,t.eachBefore(function(e){e.depth=e.parent.depth+1,--s}).eachBefore(po),t.parent=null,0<s)throw new Error("cycle");return t}var c=No,f=jo;return t.id=function(e){return arguments.length?(c=Io(e),t):c},t.parentId=function(e){return arguments.length?(f=Io(e),t):f},t},U.tree=function(){function t(e){var t,n,i,o,r,s,a=function(e){for(var t,n,i,o,r,s=[e=new Fo(e,0)];t=s.pop();)if(i=t._.children)for(t.children=new Array(r=i.length),o=r-1;0<=o;--o)s.push(n=t.children[o]=new Fo(i[o],o)),n.parent=t;return(e.parent=new Fo(null,0)).children=[e],e}(e);return a.eachAfter(l),a.parent.m=-a.z,a.eachBefore(u),p?e.eachBefore(c):((i=n=t=e).eachBefore(function(e){e.x<t.x&&(t=e),e.x>n.x&&(n=e),e.depth>i.depth&&(i=e)}),a=t===n?1:d(t,n)/2,o=a-t.x,r=f/(n.x+a+o),s=h/(i.depth||1),e.eachBefore(function(e){e.x=(e.x+o)*r,e.y=e.depth*s})),e}function l(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t){for(var o,r=0,s=0,a=e.children,l=a.length;0<=--l;)(o=a[l]).z+=r,o.m+=r,r+=o.s+(s+=o.c);t=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+d(e._,i._),e.m=e.z-t):e.z=t}else i&&(e.z=i.z+d(e._,i._));e.parent.A=function(e,t,n){if(t){for(var i,o=e,r=e,s=t,a=o.parent.children[0],l=o.m,u=r.m,c=s.m,f=a.m;s=zo(s),o=Lo(o),s&&o;)a=Lo(a),(r=zo(r)).a=e,0<(i=s.z+c-o.z-l+d(s._,o._))&&(function(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}(function(e,t,n){return e.a.parent===t.parent?e.a:n}(s,e,n),e,i),l+=i,u+=i),c+=s.m,l+=o.m,f+=a.m,u+=r.m;s&&!zo(r)&&(r.t=s,r.m+=c-u),o&&!Lo(a)&&(a.t=o,a.m+=l-f,n=e)}return n}(e,i,e.parent.A||n[0])}function u(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function c(e){e.x*=f,e.y=e.depth*h}var d=Oo,f=1,h=1,p=null;return t.separation=function(e){return arguments.length?(d=e,t):d},t.size=function(e){return arguments.length?(p=!1,f=+e[0],h=+e[1],t):p?null:[f,h]},t.nodeSize=function(e){return arguments.length?(p=!0,f=+e[0],h=+e[1],t):p?[f,h]:null},t},U.treemap=function(){function t(e){return e.x0=e.y0=0,e.x1=o,e.y1=r,e.eachBefore(n),a=[0],i&&e.eachBefore(th),e}function n(e){var t=a[e.depth],n=e.x0+t,i=e.y0+t,o=e.x1-t,r=e.y1-t;o<n&&(n=o=(n+o)/2),r<i&&(i=r=(i+r)/2),e.x0=n,e.y0=i,e.x1=o,e.y1=r,e.children&&(t=a[e.depth+1]=l(e)/2,n+=d(e)-t,i+=u(e)-t,(o-=c(e)-t)<n&&(n=o=(n+o)/2),(r-=f(e)-t)<i&&(i=r=(i+r)/2),s(e,n,i,o,r))}var s=Ih,i=!1,o=1,r=1,a=[0],l=ko,u=ko,c=ko,f=ko,d=ko;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(e){return arguments.length?(o=+e[0],r=+e[1],t):[o,r]},t.tile=function(e){return arguments.length?(s=Io(e),t):s},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(l="function"==typeof e?e:eh(+e),t):l},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:eh(+e),t):u},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:eh(+e),t):c},t.paddingBottom=function(e){return arguments.length?(f="function"==typeof e?e:eh(+e),t):f},t.paddingLeft=function(e){return arguments.length?(d="function"==typeof e?e:eh(+e),t):d},t},U.treemapBinary=function(e,t,n,i,o){var r,s,g=e.children,a=g.length,m=new Array(a+1);for(m[0]=s=r=0;r<a;++r)m[r+1]=s+=g[r].value;!function e(t,n,i,o,r,s,a){if(n-1<=t)return(l=g[t]).x0=o,l.y0=r,l.x1=s,l.y1=a;for(var l=m[t],u=i/2+l,c=t+1,f=n-1;c<f;){var d=c+f>>>1;m[d]<u?c=1+d:f=d}u-m[c-1]<m[c]-u&&t+1<c&&--c;var h,l=m[c]-l,p=i-l;a-r<s-o?(e(t,c,l,o,r,h=(o*p+s*l)/i,a),e(c,n,p,h,r,s,a)):(e(t,c,l,o,r,s,h=(r*p+a*l)/i),e(c,n,p,o,h,s,a))}(0,a,e.value,t,n,i,o)},U.treemapDice=Ch,U.treemapSlice=Ah,U.treemapSliceDice=function(e,t,n,i,o){(1&e.depth?Ah:Ch)(e,t,n,i,o)},U.treemapSquarify=Ih,U.treemapResquarify=o,U.interpolate=Au,U.interpolateArray=Du,U.interpolateBasis=Xl,U.interpolateBasisClosed=$l,U.interpolateDate=_u,U.interpolateNumber=w,U.interpolateObject=bu,U.interpolateRound=Iu,U.interpolateString=wu,U.interpolateTransformCss=xu,U.interpolateTransformSvg=Eu,U.interpolateZoom=tu,U.interpolateRgb=yu,U.interpolateRgbBasis=kl,U.interpolateRgbBasisClosed=Tl,U.interpolateHsl=al,U.interpolateHslLong=Nu,U.interpolateLab=function(t,e){var n=l((t=He(t)).l,(e=He(e)).l),i=l(t.a,e.a),o=l(t.b,e.b),r=l(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=o(e),t.opacity=r(e),t+""}},U.interpolateHcl=ju,U.interpolateHclLong=Ou,U.interpolateCubehelix=Lu,U.interpolateCubehelixLong=zu,U.quantize=function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n},U.path=Ft,U.polygonArea=function(e){for(var t,n=-1,i=e.length,o=e[i-1],r=0;++n<i;)t=o,o=e[n],r+=t[1]*o[0]-t[0]*o[1];return r/2},U.polygonCentroid=function(e){for(var t,n,i=-1,o=e.length,r=0,s=0,a=e[o-1],l=0;++i<o;)t=a,a=e[i],l+=n=t[0]*a[1]-a[0]*t[1],r+=(t[0]+a[0])*n,s+=(t[1]+a[1])*n;return[r/(l*=3),s/l]},U.polygonHull=function(e){if((t=e.length)<3)return null;for(var t,n=new Array(t),i=new Array(t),o=0;o<t;++o)n[o]=[+e[o][0],+e[o][1],o];for(n.sort(Ro),o=0;o<t;++o)i[o]=[n[o][0],-n[o][1]];var r=Uo(n),s=Uo(i),a=s[0]===r[0],l=s[s.length-1]===r[r.length-1],u=[];for(o=r.length-1;0<=o;--o)u.push(e[n[r[o]][2]]);for(o=+a;o<s.length-l;++o)u.push(e[n[s[o]][2]]);return u},U.polygonContains=function(e,t){for(var n,i,o=e.length,r=e[o-1],s=t[0],a=t[1],l=r[0],u=r[1],c=!1,f=0;f<o;++f)n=(r=e[f])[0],(i=r[1])>a!=a<u&&s<(l-n)*(a-i)/(u-i)+n&&(c=!c),l=n,u=i;return c},U.polygonLength=function(e){for(var t,n,i=-1,o=e.length,r=e[o-1],s=r[0],a=r[1],l=0;++i<o;)t=s,n=a,t-=s=(r=e[i])[0],n-=a=r[1],l+=Math.sqrt(t*t+n*n);return l},U.quadtree=tn,U.queue=Qo,U.randomUniform=xh,U.randomNormal=Eh,U.randomLogNormal=Sh,U.randomBates=jh,U.randomIrwinHall=Nh,U.randomExponential=Oh,U.request=ih,U.html=Lh,U.json=zh,U.text=Fh,U.xml=Ph,U.csv=Rh,U.tsv=Uh,U.scaleBand=Go,U.scalePoint=function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(Go().paddingInner(1))},U.scaleIdentity=function e(){function t(e){return+e}var n=[0,1];return(t.invert=t).domain=t.range=function(e){return arguments.length?(n=Yh.call(e,Vh),t):n.slice()},t.copy=function(){return e().domain(n)},$o(t)},U.scaleLinear=function e(){var t=Xo(qo,w);return t.copy=function(){return Jo(t,e())},$o(t)},U.scaleLog=function e(){function t(){return d=or(f),h=ir(f),c()[0]<0&&(d=rr(d),h=rr(h)),o}var o=Xo(er,tr).domain([1,10]),c=o.domain,f=10,d=or(10),h=ir(10);return o.base=function(e){return arguments.length?(f=+e,t()):f},o.domain=function(e){return arguments.length?(c(e),t()):c()},o.ticks=function(e){var t=c(),n=t[0],i=t[t.length-1];(t=i<n)&&(a=n,n=i,i=a);var o,r,s,a=d(n),l=d(i),e=null==e?10:+e,u=[];if(!(f%1)&&l-a<e){if(a=Math.round(a)-1,l=Math.round(l)+1,0<n){for(;a<l;++a)for(r=1,o=h(a);r<f;++r)if(!((s=o*r)<n)){if(i<s)break;u.push(s)}}else for(;a<l;++a)for(r=f-1,o=h(a);1<=r;--r)if(!((s=o*r)<n)){if(i<s)break;u.push(s)}}else u=pl(a,l,Math.min(l-a,e)).map(h);return t?u.reverse():u},o.tickFormat=function(e,n){if("function"!=typeof(n=null==n?10===f?".0e":",":n)&&(n=U.format(n)),e===1/0)return n;null==e&&(e=10);var i=Math.max(1,f*e/o.ticks().length);return function(e){var t=e/h(Math.round(d(e)));return t*f<f-.5&&(t*=f),t<=i?n(e):""}},o.nice=function(){return c(sh(c(),{floor:function(e){return h(Math.floor(d(e)))},ceil:function(e){return h(Math.ceil(d(e)))}}))},o.copy=function(){return Jo(o,e().base(f))},o},U.scaleOrdinal=Vo,U.scaleImplicit=Wh,U.scalePow=ar,U.scaleSqrt=function(){return ar().exponent(.5)},U.scaleQuantile=function e(){function o(){var e=0,t=Math.max(1,i.length);for(s=new Array(t-1);++e<t;)s[e-1]=Ba(r,e/t);return n}function n(e){if(!isNaN(e=+e))return i[rl(s,e)]}var r=[],i=[],s=[];return n.invertExtent=function(e){return(e=i.indexOf(e))<0?[NaN,NaN]:[0<e?s[e-1]:r[0],e<s.length?s[e]:r[r.length-1]]},n.domain=function(e){if(!arguments.length)return r.slice();r=[];for(var t,n=0,i=e.length;n<i;++n)null==(t=e[n])||isNaN(t=+t)||r.push(t);return r.sort(il),o()},n.range=function(e){return arguments.length?(i=Hh.call(e),o()):i.slice()},n.quantiles=function(){return s.slice()},n.copy=function(){return e().domain(r).range(i)},n},U.scaleQuantize=function e(){function t(e){if(e<=e)return a[rl(s,e,0,r)]}function n(){var e=-1;for(s=new Array(r);++e<r;)s[e]=((e+1)*o-(e-r)*i)/(r+1);return t}var i=0,o=1,r=1,s=[.5],a=[0,1];return t.domain=function(e){return arguments.length?(i=+e[0],o=+e[1],n()):[i,o]},t.range=function(e){return arguments.length?(r=(a=Hh.call(e)).length-1,n()):a.slice()},t.invertExtent=function(e){return(e=a.indexOf(e))<0?[NaN,NaN]:e<1?[i,s[0]]:r<=e?[s[r-1],o]:[s[e-1],s[e]]},t.copy=function(){return e().domain([i,o]).range(a)},$o(t)},U.scaleThreshold=function e(){function t(e){if(e<=e)return i[rl(n,e,0,o)]}var n=[.5],i=[0,1],o=1;return t.domain=function(e){return arguments.length?(n=Hh.call(e),o=Math.min(n.length,i.length-1),t):n.slice()},t.range=function(e){return arguments.length?(i=Hh.call(e),o=Math.min(n.length,i.length-1),t):i.slice()},t.invertExtent=function(e){return e=i.indexOf(e),[n[e-1],n[e]]},t.copy=function(){return e().domain(n).range(i)},t},U.scaleTime=function(){return us(Cp,_p,sp,op,np,ep,Xh,Jh,U.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},U.scaleUtc=function(){return us(Vp,Wp,Ep,Tp,Ip,wp,Xh,Jh,U.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},U.schemeCategory10=pg,U.schemeCategory20b=gg,U.schemeCategory20c=mg,U.schemeCategory20=vg,U.interpolateCubehelixDefault=yg,U.interpolateRainbow=function(e){(e<0||1<e)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return bg.h=360*e-100,bg.s=1.5-1.5*t,bg.l=.8-.9*t,bg+""},U.interpolateWarm=Dg,U.interpolateCool=_g,U.interpolateViridis=Cg,U.interpolateMagma=Mg,U.interpolateInferno=wg,U.interpolatePlasma=Ag,U.scaleSequential=function e(t){function n(e){return e=(e-i)/(o-i),t(r?Math.max(0,Math.min(1,e)):e)}var i=0,o=1,r=!1;return n.domain=function(e){return arguments.length?(i=+e[0],o=+e[1],n):[i,o]},n.clamp=function(e){return arguments.length?(r=!!e,n):r},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return e(t).domain([i,o]).clamp(r)},$o(n)},U.creator=Ga,U.local=J,U.matcher=_l,U.mouse=qa,U.namespace=Va,U.namespaces=yl,U.select=B,U.selectAll=function(e){return"string"==typeof e?new C([document.querySelectorAll(e)],[document.documentElement]):new C([null==e?[]:e],Al)},U.selection=Me,U.selector=Za,U.selectorAll=Ka,U.style=ce,U.touch=Xa,U.touches=function(e,t){for(var n=0,i=(t=null==t?Cl().touches:t)?t.length:0,o=new Array(i);n<i;++n)o[n]=Ml(e,t[n]);return o},U.window=wl,U.customEvent=ie,U.arc=function(){function t(){var e,t,n,i,o,r,s,a,l,u,c,f,d,h,p,g,m,v,y,D,_,b,C,M,w,A=+S.apply(this,arguments),I=+N.apply(this,arguments),k=L.apply(this,arguments)-jg,T=z.apply(this,arguments)-jg,x=Ig(T-k),E=k<T;if(P=P||(e=Ft()),I<A&&(i=I,I=A,A=i),Y<I?Og-Y<x?(P.moveTo(I*kg(k),I*Eg(k)),P.arc(0,0,I,k,T,!E),Y<A&&(P.moveTo(A*kg(T),A*Eg(T)),P.arc(0,0,A,T,k,E))):(r=i=k,s=o=T,l=a=x,c=F.apply(this,arguments)/2,d=Y<c&&(O?+O.apply(this,arguments):Sg(A*A+I*I)),y=v=u=xg(Ig(I-A)/2,+j.apply(this,arguments)),Y<d&&(f=fs(d/A*Eg(c)),d=fs(d/I*Eg(c)),(a-=2*f)>Y?(r+=f*=E?1:-1,s-=f):(a=0,r=s=(k+T)/2),(l-=2*d)>Y?(i+=d*=E?1:-1,o-=d):(l=0,i=o=(k+T)/2)),c=I*kg(i),f=I*Eg(i),d=A*kg(s),k=A*Eg(s),Y<u&&(h=I*kg(o),p=I*Eg(o),g=A*kg(r),m=A*Eg(r),x<Ng&&(b=Y<a?(T=g,x=m,M=d,w=k,[(D=c)+(C=((M-=b=h)*((_=f)-(C=p))-(w-=C)*(D-b))/(w*(T-=D)-M*(x-=_)))*T,_+C*x]):[d,k],C=1/Eg((1<(_=((w=c-b[0])*(D=h-b[0])+(M=f-b[1])*(T=p-b[1]))/(Sg(w*w+M*M)*Sg(D*D+T*T)))?0:_<-1?Ng:Math.acos(_))/2),x=Sg(b[0]*b[0]+b[1]*b[1]),v=xg(u,(A-x)/(C-1)),y=xg(u,(I-x)/(1+C)))),Y<l?Y<y?(t=vs(g,m,c,f,I,y,E),n=vs(h,p,d,k,I,y,E),P.moveTo(t.cx+t.x01,t.cy+t.y01),y<u?P.arc(t.cx,t.cy,y,R(t.y01,t.x01),R(n.y01,n.x01),!E):(P.arc(t.cx,t.cy,y,R(t.y01,t.x01),R(t.y11,t.x11),!E),P.arc(0,0,I,R(t.cy+t.y11,t.cx+t.x11),R(n.cy+n.y11,n.cx+n.x11),!E),P.arc(n.cx,n.cy,y,R(n.y11,n.x11),R(n.y01,n.x01),!E))):(P.moveTo(c,f),P.arc(0,0,I,i,o,!E)):P.moveTo(c,f),Y<A&&Y<a?Y<v?(t=vs(d,k,h,p,A,-v,E),n=vs(c,f,g,m,A,-v,E),P.lineTo(t.cx+t.x01,t.cy+t.y01),v<u?P.arc(t.cx,t.cy,v,R(t.y01,t.x01),R(n.y01,n.x01),!E):(P.arc(t.cx,t.cy,v,R(t.y01,t.x01),R(t.y11,t.x11),!E),P.arc(0,0,A,R(t.cy+t.y11,t.cx+t.x11),R(n.cy+n.y11,n.cx+n.x11),E),P.arc(n.cx,n.cy,v,R(n.y11,n.x11),R(n.y01,n.x01),!E))):P.arc(0,0,A,s,r,E):P.lineTo(d,k)):P.moveTo(0,0),P.closePath(),e)return P=null,e+""||null}var S=ds,N=hs,j=_(0),O=null,L=ps,z=gs,F=ms,P=null;return t.centroid=function(){var e=(+S.apply(this,arguments)+ +N.apply(this,arguments))/2,t=(+L.apply(this,arguments)+ +z.apply(this,arguments))/2-Ng/2;return[kg(t)*e,Eg(t)*e]},t.innerRadius=function(e){return arguments.length?(S="function"==typeof e?e:_(+e),t):S},t.outerRadius=function(e){return arguments.length?(N="function"==typeof e?e:_(+e),t):N},t.cornerRadius=function(e){return arguments.length?(j="function"==typeof e?e:_(+e),t):j},t.padRadius=function(e){return arguments.length?(O=null==e?null:"function"==typeof e?e:_(+e),t):O},t.startAngle=function(e){return arguments.length?(L="function"==typeof e?e:_(+e),t):L},t.endAngle=function(e){return arguments.length?(z="function"==typeof e?e:_(+e),t):z},t.padAngle=function(e){return arguments.length?(F="function"==typeof e?e:_(+e),t):F},t.context=function(e){return arguments.length?(P=null==e?null:e,t):P},t},U.area=Zp,U.line=qp,U.pie=function(){function t(n){for(var e,t,i,o,r=n.length,s=0,a=new Array(r),l=new Array(r),u=+v.apply(this,arguments),c=Math.min(Og,Math.max(-Og,y.apply(this,arguments)-u)),f=Math.min(Math.abs(c)/r,D.apply(this,arguments)),d=f*(c<0?-1:1),h=0;h<r;++h)0<(o=l[a[h]=h]=+p(n[h],h,n))&&(s+=o);for(null!=g?a.sort(function(e,t){return g(l[e],l[t])}):null!=m&&a.sort(function(e,t){return m(n[e],n[t])}),h=0,t=s?(c-r*d)/s:0;h<r;++h,u=i)e=a[h],i=u+(0<(o=l[e])?o*t:0)+d,l[e]={data:n[e],index:h,value:o,startAngle:u,endAngle:i,padAngle:f};return l}var p=Jp,g=Kp,m=null,v=_(0),y=_(Og),D=_(0);return t.value=function(e){return arguments.length?(p="function"==typeof e?e:_(+e),t):p},t.sortValues=function(e){return arguments.length?(g=e,m=null,t):g},t.sort=function(e){return arguments.length?(m=e,g=null,t):m},t.startAngle=function(e){return arguments.length?(v="function"==typeof e?e:_(+e),t):v},t.endAngle=function(e){return arguments.length?(y="function"==typeof e?e:_(+e),t):y},t.padAngle=function(e){return arguments.length?(D="function"==typeof e?e:_(+e),t):D},t},U.areaRadial=$p,U.radialArea=$p,U.lineRadial=Xp,U.radialLine=Xp,U.pointRadial=eg,U.linkHorizontal=function(){return Is(ks)},U.linkVertical=function(){return Is(Ts)},U.linkRadial=function(){var e=Is(xs);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},U.symbol=function(){function t(){var e;if(o=o||(e=Ft()),n.apply(this,arguments).draw(o,+i.apply(this,arguments)),e)return o=null,e+""||null}var n=_(Pg),i=_(64),o=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:_(e),t):n},t.size=function(e){return arguments.length?(i="function"==typeof e?e:_(+e),t):i},t.context=function(e){return arguments.length?(o=null==e?null:e,t):o},t},U.symbols=$g,U.symbolCircle=Pg,U.symbolCross=Rg,U.symbolDiamond=Yg,U.symbolSquare=Vg,U.symbolStar=Hg,U.symbolTriangle=qg,U.symbolWye=Xg,U.curveBasisClosed=function(e){return new Ns(e)},U.curveBasisOpen=function(e){return new js(e)},U.curveBasis=function(e){return new Ss(e)},U.curveBundle=em,U.curveCardinalClosed=nm,U.curveCardinalOpen=im,U.curveCardinal=tm,U.curveCatmullRomClosed=rm,U.curveCatmullRomOpen=sm,U.curveCatmullRom=om,U.curveLinearClosed=function(e){return new Hs(e)},U.curveLinear=Lg,U.curveMonotoneX=function(e){return new qs(e)},U.curveMonotoneY=function(e){return new Zs(e)},U.curveNatural=function(e){return new Js(e)},U.curveStep=function(e){return new $s(e,.5)},U.curveStepAfter=function(e){return new $s(e,1)},U.curveStepBefore=function(e){return new $s(e,0)},U.stack=function(){function t(e){for(var t,n=f.apply(this,arguments),i=e.length,o=n.length,r=new Array(o),s=0;s<o;++s){for(var a,l=n[s],u=r[s]=new Array(i),c=0;c<i;++c)u[c]=a=[0,+p(e[c],l,c,e)],a.data=e[c];u.key=l}for(s=0,t=d(r);s<o;++s)r[t[s]].index=s;return h(r,t),r}var f=_([]),d=ig,h=ng,p=ea;return t.keys=function(e){return arguments.length?(f="function"==typeof e?e:_(Fg.call(e)),t):f},t.value=function(e){return arguments.length?(p="function"==typeof e?e:_(+e),t):p},t.order=function(e){return arguments.length?(d=null==e?ig:"function"==typeof e?e:_(Fg.call(e)),t):d},t.offset=function(e){return arguments.length?(h=null==e?ng:e,t):h},t},U.stackOffsetExpand=function(e,t){if(0<(i=e.length)){for(var n,i,o,r=0,s=e[0].length;r<s;++r){for(o=n=0;n<i;++n)o+=e[n][r][1]||0;if(o)for(n=0;n<i;++n)e[n][r][1]/=o}ng(e,t)}},U.stackOffsetDiverging=function(e,t){if(1<(a=e.length))for(var n,i,o,r,s,a,l=0,u=e[t[0]].length;l<u;++l)for(n=r=s=0;n<a;++n)0<=(o=(i=e[t[n]][l])[1]-i[0])?(i[0]=r,i[1]=r+=o):o<0?(i[1]=s,i[0]=s+=o):i[0]=r},U.stackOffsetNone=ng,U.stackOffsetSilhouette=function(e,t){if(0<(n=e.length)){for(var n,i=0,o=e[t[0]],r=o.length;i<r;++i){for(var s=0,a=0;s<n;++s)a+=e[s][i][1]||0;o[i][1]+=o[i][0]=-a/2}ng(e,t)}},U.stackOffsetWiggle=function(e,t){if(0<(o=e.length)&&0<(i=(n=e[t[0]]).length)){for(var n,i,o,r=0,s=1;s<i;++s){for(var a=0,l=0,u=0;a<o;++a){for(var c=e[t[a]],f=c[s][1]||0,d=(f-(c[s-1][1]||0))/2,h=0;h<a;++h){var p=e[t[h]];d+=(p[s][1]||0)-(p[s-1][1]||0)}l+=f,u+=d*f}n[s-1][1]+=n[s-1][0]=r,l&&(r-=u/l)}n[s-1][1]+=n[s-1][0]=r,ng(e,t)}},U.stackOrderAscending=og,U.stackOrderDescending=function(e){return og(e).reverse()},U.stackOrderInsideOut=function(e){for(var t,n=e.length,i=e.map(ta),o=ig(e).sort(function(e,t){return i[t]-i[e]}),r=0,s=0,a=[],l=[],u=0;u<n;++u)t=o[u],r<s?(r+=i[t],a.push(t)):(s+=i[t],l.push(t));return l.reverse().concat(a)},U.stackOrderNone=ig,U.stackOrderReverse=function(e){return ig(e).reverse()},U.timeInterval=e,U.timeMillisecond=Jh,U.timeMilliseconds=Bh,U.utcMillisecond=Jh,U.utcMilliseconds=Bh,U.timeSecond=Xh,U.timeSeconds=$h,U.utcSecond=Xh,U.utcSeconds=$h,U.timeMinute=ep,U.timeMinutes=tp,U.timeHour=np,U.timeHours=ip,U.timeDay=op,U.timeDays=rp,U.timeWeek=sp,U.timeWeeks=hp,U.timeSunday=sp,U.timeSundays=hp,U.timeMonday=ap,U.timeMondays=pp,U.timeTuesday=lp,U.timeTuesdays=gp,U.timeWednesday=up,U.timeWednesdays=mp,U.timeThursday=cp,U.timeThursdays=vp,U.timeFriday=fp,U.timeFridays=yp,U.timeSaturday=dp,U.timeSaturdays=Dp,U.timeMonth=_p,U.timeMonths=bp,U.timeYear=Cp,U.timeYears=Mp,U.utcMinute=wp,U.utcMinutes=Ap,U.utcHour=Ip,U.utcHours=kp,U.utcDay=Tp,U.utcDays=xp,U.utcWeek=Ep,U.utcWeeks=Fp,U.utcSunday=Ep,U.utcSundays=Fp,U.utcMonday=Sp,U.utcMondays=Pp,U.utcTuesday=Np,U.utcTuesdays=Rp,U.utcWednesday=jp,U.utcWednesdays=Up,U.utcThursday=Op,U.utcThursdays=Bp,U.utcFriday=Lp,U.utcFridays=Yp,U.utcSaturday=zp,U.utcSaturdays=Hp,U.utcMonth=Wp,U.utcMonths=Qp,U.utcYear=Vp,U.utcYears=ag,U.timeFormatDefaultLocale=ss,U.timeFormatLocale=hr,U.isoFormat=dg,U.isoParse=hg,U.now=ut,U.timer=dt,U.timerFlush=ht,U.timeout=Vu,U.interval=function(n,i,o){var r=new ft,s=i;return null==i?r.restart(n,i,o):(i=+i,o=null==o?ut():+o,r.restart(function e(t){t+=s,r.restart(e,s+=i,o),n(t)},i,o)),r},U.transition=Ct,U.active=function(e,t){var n,i,o=e.__transition;if(o)for(i in t=null==t?null:t+"",o)if((n=o[i]).state>Ku&&n.name===t)return new bt([[e]],yc,t,+i);return null},U.interrupt=iu,U.voronoi=function(){function t(i){return new wa(i.map(function(e,t){var n=[Math.round(o(e,t,i)/W)*W,Math.round(r(e,t,i)/W)*W];return n.index=t,n.data=e,n}),n)}var o=na,r=ia,n=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(e){return arguments.length?(o="function"==typeof e?e:rg(+e),t):o},t.y=function(e){return arguments.length?(r="function"==typeof e?e:rg(+e),t):r},t.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},t.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],t):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},t},U.zoom=function(){function r(e){e.property("__zoom",Sa).on("wheel.zoom",t).on("mousedown.zoom",n).on("dblclick.zoom",o).filter(ja).on("touchstart.zoom",a).on("touchmove.zoom",l).on("touchend.zoom touchcancel.zoom",c).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(e,t){return(t=Math.max(_,Math.min(b,t)))===e.k?e:new Ia(t,e.x,e.y)}function h(e,t,n){var i=t[0]-n[0]*e.k,t=t[1]-n[1]*e.k;return i===e.x&&t===e.y?e:new Ia(e.k,i,t)}function p(e,t){var n=e.invertX(t[0][0])-C,i=e.invertX(t[1][0])-M,o=e.invertY(t[0][1])-w,t=e.invertY(t[1][1])-A;return e.translate(n<i?(n+i)/2:Math.min(0,n)||Math.max(0,i),o<t?(o+t)/2:Math.min(0,o)||Math.max(0,t))}function u(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function i(e,n,l){e.on("start.zoom",function(){g(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){g(this,arguments).end()}).tween("zoom",function(){var e=arguments,i=g(this,e),t=y.apply(this,e),o=l||u(t),r=Math.max(t[1][0]-t[0][0],t[1][1]-t[0][1]),t=this.__zoom,s="function"==typeof n?n.apply(this,e):n,a=k(t.invert(o).concat(r/t.k),s.invert(o).concat(r/s.k));return function(e){var t,n;e=1===e?s:(t=a(e),new Ia(n=r/t[2],o[0]-t[0]*n,o[1]-t[1]*n)),i.zoom(null,e)}})}function g(e,t){for(var n,i=0,o=T.length;i<o;++i)if((n=T[i]).that===e)return n;return new s(e,t)}function s(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=y.apply(e,t)}function t(){if(v.apply(this,arguments)){var e=g(this,arguments),t=this.__zoom,n=Math.max(_,Math.min(b,t.k*Math.pow(2,D.apply(this,arguments)))),i=qa(this);if(e.wheel)e.mouse[0][0]===i[0]&&e.mouse[0][1]===i[1]||(e.mouse[1]=t.invert(e.mouse[0]=i)),clearTimeout(e.wheel);else{if(t.k===n)return;e.mouse=[i,t.invert(i)],iu(this),e.start()}lm(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},S),e.zoom("mouse",p(h(d(t,n),e.mouse[0],e.mouse[1]),e.extent))}}function n(){var n,e,t,i,o;!f&&v.apply(this,arguments)&&(n=g(this,arguments),e=B(U.event.view).on("mousemove.zoom",function(){var e,t;lm(),n.moved||(e=U.event.clientX-i,t=U.event.clientY-o,n.moved=N<e*e+t*t),n.zoom("mouse",p(h(n.that.__zoom,n.mouse[0]=qa(n.that),n.mouse[1]),n.extent))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),Ae(U.event.view,n.moved),lm(),n.end()},!0),t=qa(this),i=U.event.clientX,o=U.event.clientY,$a(U.event.view),Ta(),n.mouse=[t,this.__zoom.invert(t)],iu(this),n.start())}function o(){var e,t,n;v.apply(this,arguments)&&(n=this.__zoom,e=qa(this),t=n.invert(e),n=p(h(d(n,n.k*(U.event.shiftKey?.5:2)),e,t),y.apply(this,arguments)),lm(),0<I?B(this).transition().duration(I).call(i,n,e):B(this).call(r.transform,n))}function a(){if(v.apply(this,arguments)){var e,t,n,i,o=g(this,arguments),r=U.event.changedTouches,s=r.length;for(Ta(),t=0;t<s;++t)n=r[t],i=[i=Xa(this,r,n.identifier),this.__zoom.invert(i),n.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,e=!0);if(m&&(m=clearTimeout(m),!o.touch1))return o.end(),void((i=B(this).on("dblclick.zoom"))&&i.apply(this,arguments));e&&(m=setTimeout(function(){m=null},E),iu(this),o.start())}}function l(){var e,t=g(this,arguments),n=U.event.changedTouches,i=n.length;for(lm(),m=m&&clearTimeout(m),e=0;e<i;++e)c=n[e],f=Xa(this,n,c.identifier),t.touch0&&t.touch0[2]===c.identifier?t.touch0[0]=f:t.touch1&&t.touch1[2]===c.identifier&&(t.touch1[0]=f);if(c=t.that.__zoom,t.touch1)var o=t.touch0[0],r=t.touch0[1],s=t.touch1[0],a=t.touch1[1],l=(l=s[0]-o[0])*l+(l=s[1]-o[1])*l,u=(u=a[0]-r[0])*u+(u=a[1]-r[1])*u,c=d(c,Math.sqrt(l/u)),f=[(o[0]+s[0])/2,(o[1]+s[1])/2],l=[(r[0]+a[0])/2,(r[1]+a[1])/2];else{if(!t.touch0)return;f=t.touch0[0],l=t.touch0[1]}t.zoom("touch",p(h(c,f,l),t.extent))}function c(){var e,t,n=g(this,arguments),i=U.event.changedTouches,o=i.length;for(Ta(),f&&clearTimeout(f),f=setTimeout(function(){f=null},E),e=0;e<o;++e)t=i[e],n.touch0&&n.touch0[2]===t.identifier?delete n.touch0:n.touch1&&n.touch1[2]===t.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var m,f,v=xa,y=Ea,D=Na,_=0,b=1/0,C=-b,M=b,w=C,A=M,I=250,k=tu,T=[],x=G("start","zoom","end"),E=500,S=150,N=0;return r.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",Sa),e!==n?i(e,t):n.interrupt().each(function(){g(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},r.scaleBy=function(e,t){r.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)})},r.scaleTo=function(e,o){r.transform(e,function(){var e=y.apply(this,arguments),t=this.__zoom,n=u(e),i=t.invert(n);return p(h(d(t,"function"==typeof o?o.apply(this,arguments):o),n,i),e)})},r.translateBy=function(e,t,n){r.transform(e,function(){return p(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),y.apply(this,arguments))})},r.translateTo=function(e,i,o){r.transform(e,function(){var e=y.apply(this,arguments),t=this.__zoom,n=u(e);return p(mm.translate(n[0],n[1]).scale(t.k).translate("function"==typeof i?-i.apply(this,arguments):-i,"function"==typeof o?-o.apply(this,arguments):-o),e)})},s.prototype={start:function(){return 1==++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){ie(new Aa(r,e,this.that.__zoom),x.apply,x,[e,this.that,this.args])}},r.wheelDelta=function(e){return arguments.length?(D="function"==typeof e?e:am(+e),r):D},r.filter=function(e){return arguments.length?(v="function"==typeof e?e:am(!!e),r):v},r.extent=function(e){return arguments.length?(y="function"==typeof e?e:am([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),r):y},r.scaleExtent=function(e){return arguments.length?(_=+e[0],b=+e[1],r):[_,b]},r.translateExtent=function(e){return arguments.length?(C=+e[0][0],M=+e[1][0],w=+e[0][1],A=+e[1][1],r):[[C,w],[M,A]]},r.duration=function(e){return arguments.length?(I=+e,r):I},r.interpolate=function(e){return arguments.length?(k=e,r):k},r.on=function(){var e=x.on.apply(x,arguments);return e===x?r:e},r.clickDistance=function(e){return arguments.length?(N=(e=+e)*e,r):Math.sqrt(N)},r},U.zoomTransform=ka,U.zoomIdentity=mm,Object.defineProperty(U,"__esModule",{value:!0})});var KoreGraphAdapter=function(A){function u(e,t){var n,i,o,r=e.data,s=e.columnsInfo,a=e.xAxis,l=e.yAxis,u=e.colorRange,c=e.mainDiv,f=c.substr(1,c.length),d=e.label,e=e.requireLegend,h=(d3.select(c).append("svg").attr("width",t.outerWidth).attr("height",t.outerHeight),d3.select(c+" svg")),p=20,g=40,m=70,v=t.innerWidth,t=t.innerHeight,p=h.append("g").attr("transform","translate("+m+","+p+")"),y=(null!=e&&0!=e&&(A("#Legend_"+f).remove(),e=c,n=s,f=u,i=d3.scaleOrdinal().range(f),o=(o=e.substr(1,e.length)).replace(/ +/g,"").replace(/#/g,""),A(e).before("<div id='Legend_"+o+"' class='pmd-card-body' style='margin-top:0; margin-bottom:0;'></div>"),Object.keys(n).forEach(function(e){var t=i(e);A("#Legend_"+o).append("<span class='team-graph team1' style='display: inline-block; margin-right:10px;margin-left: 20px;'>        <span style='background:"+t+";width: 10px;height: 10px;display: inline-block;vertical-align: middle;'>&nbsp;</span>        <span title="+n[e].replace(/[ ]/g," ")+" style='padding-top: 0;font-family:Source Sans Pro, sans-serif;font-size: 13px;display: inline;'>"+(10<n[e].length?n[e].slice(0,7)+"...":n[e])+" </span>    </span>")})),d3.scaleBand().rangeRound([t,0]).paddingInner(.1)),D=d3.scaleBand().padding(.05),_=d3.scaleLinear().rangeRound([0,v]),b=d3.scaleOrdinal().range(u),C=Object.keys(s);y.domain(r.map(function(e){return e[l]})),D.domain(C).rangeRound([0,y.bandwidth()]),_.domain([0,d3.max(r,function(t){return d3.max(C,function(e){return t[e]})})]).nice(),maxTicks=10;p.append("g").selectAll("g").data(r).enter().append("g").attr("transform",function(e){return"translate(0,"+y(e[l])+")"}).selectAll("rect").data(function(t,n){return C.map(function(e){return{key:e,value:t[e],index:e+"_"+n+"_"+t[l],dispVal:t[e+"dispVal"]}})}).enter().append("rect").attr("y",function(e){return D(e.key)}).attr("width",function(e){return _(e.value)}).attr("data-index",function(e,t){return e.index}).attr("displayVal",function(e){return e.dispVal}).attr("height",D.bandwidth()).on("mouseover",function(){M.style("display",null)}).on("mouseout",function(){M.style("display","none")}).on("mousemove",function(e){var t,n;n="block"===A("#myPreviewModal").css("display")?(t=d3.event.pageX-document.querySelector(".chartContainerDiv").getBoundingClientRect().x+10,d3.event.pageY-document.querySelector(".chartContainerDiv").getBoundingClientRect().y+10):(t=d3.event.pageX-document.querySelector(c).getBoundingClientRect().x+10,d3.event.pageY-document.querySelector(c).getBoundingClientRect().y+10),e=(this.attributes.displayVal||e).value,d3.mouse(this)[0],d3.mouse(this)[1];M.attr("transform","translate("+t+","+n+")"),M.select("text").text(e)}).attr("fill",function(e){return b(e.key)});var f={},M=(f.svg=h,f.cssPrefix="horgroupBar0_",f.data=r,f.keys=C,f.height=t,f.width=v,f.label=d,f.yAxis=l,f.xAxis=a,w.addTooltips(f),h.append("g").attr("class","tooltipHBC").style("display","none"));M.append("rect").attr("width",60).attr("height",20).attr("fill","white").style("opacity",.5),M.append("text").attr("x",30).attr("dy","1.2em").style("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold"),p.append("g").attr("class","axis").attr("transform","translate(0,"+t+")").call(d3.axisBottom(_).ticks(maxTicks)).append("text").attr("x",v/2).attr("y",.7*g).attr("dx","0.32em").attr("fill","#000").attr("font-weight","bold").attr("text-anchor","start"),p.append("g").attr("class","axis").call(d3.axisLeft(y).ticks(null,"s")).append("text").attr("x",.4*t*-1).attr("y",.8*m*-1).attr("dy","0.71em").attr("fill","#000").attr("transform","rotate(-90)").attr("font-weight","bold"),p.selectAll(".axis text").attr("class","chart-disp-val"),p.selectAll(".axis line").attr("class","chart-axis-line"),p.selectAll(".axis .domain").classed("chart-axis-line",!0)}var n=function(e){var t=document.getElementById(e),n=0,i=0;return t?(n=(t=t.getBBox()).width,i=t.height):console.log("error: getDimensions() "+e+" not found."),{w:n,h:i}},w={addTooltips:function(i){var e=i.keys,t=i.svg.append("g").selectAll("g").data(i.data).enter().append("g").attr("class",function(e,t){return i.cssPrefix+"tooltips_"+t});tooltips=t.selectAll("g").data(function(t,n){return e.map(function(e){return{key:e,value:t[e],index:e+"_"+n+"_"+t[i.yAxis]}})}).enter().append("g").attr("class",i.cssPrefix+"tooltip").attr("id",function(e,t){return i.cssPrefix+"tooltip"+e.index}).style("opacity",0).append("rect").attr("rx",2).attr("ry",2).attr("x",-2).attr("opacity",.71).style("fill","#000000"),t.selectAll("g").data(function(t,n){return e.map(function(e){return{key:e,value:t[e],index:e+"_"+n+"_"+t[i.yAxis]}})}).append("text").attr("fill",function(e){return"#efefef"}).style("font-size",function(e){return 10}).style("font-family",function(e){return"arial"}).text(function(e,t){var n=i.label.xAxis+":{value}";return w.replacePlaceholders(i,n,t,{value:e.value})}),t.selectAll("g rect").attr("width",function(e,t){return n(i.cssPrefix+"tooltip"+e.index).w+8}).attr("height",function(e,t){return n(i.cssPrefix+"tooltip"+e.index).h+8}).attr("y",function(e,t){return-n(i.cssPrefix+"tooltip"+e.index).h/2+1})},showTooltip:function(e,t){var n=250;w.currentTooltip===t&&(n=1),w.currentTooltip=t,d3.select("#"+e.cssPrefix+"tooltip"+t).transition().duration(n).style("opacity",function(){return 1}),w.moveTooltip(e)},moveTooltip:function(e){d3.selectAll("#"+e.cssPrefix+"tooltip"+w.currentTooltip).attr("transform",function(e){var t=d3.mouse(this.parentNode);return"translate("+(t[0]+4+2)+","+(t[1]-8-2)+")"})},hideTooltip:function(n,e){d3.select("#"+n.cssPrefix+"tooltip"+e).style("opacity",function(){return 0}),d3.select("#"+n.cssPrefix+"tooltip"+w.currentTooltip).attr("transform",function(e,t){return"translate("+(n.width+1e3)+","+(n.height+1e3)+")"})},replacePlaceholders:function(e,t,n,i){return t.replace(/\{(\w+)\}/g,function(e){return i.hasOwnProperty(arguments[1])?i[arguments[1]]:e})}};return{drawD3Pie:function(e,t,n,i){for(var o=e,r=3,s=(legendCenterOffset=0,e.message?o=e.message[0].component.payload:(fromWidgets=!0,r=4,legendCenterOffset=-15),[]),a=0,l=0;l<o.elements.length;l++)s[l]={},s[l].label=o.elements[l].title,s[l].count=o.elements[l].value,s[l].dispVal=o.elements[l].displayValue,o.elements[l].hasOwnProperty("subTitle")&&(s[l].subTitle=o.elements[l].subTitle),a+=Number(s[l].count);for(var u=0,l=0;l<o.elements.length;l++)s[l].percentage=Math.round(s[l].count/a*100),l===o.elements.length-1&&(s[l].percentage=100-u),u+=s[l].percentage;var e=t.width,c=t.height,f=Math.min(e,c)/2-20,d=t.legendRectSize,h=t.legendSpacing,p=d3.scaleOrdinal(["#5bc8c4","#4a9af2","#8ecb60","#e7cc61","#eeaf4b","#ef7e63","#8e8eb7","#6483c3","#2249ab","#f352b7"]),t=d3.select(n).append("svg").attr("width",e-15).attr("height",c).append("g").attr("class","pieRegular").attr("transform","translate("+(e/r+3)+","+c/2+")"),g=d3.arc().innerRadius(0).outerRadius(f),m=d3.arc().outerRadius(1.05*f).innerRadius(.9*f),e=d3.pie().value(function(e){return e.count}).sort(null),v=d3.select(n).append("div").attr("class","legend-tooltip-pie-chart no-show").attr("transform",function(e){console.log(e)}).on("mouseleave",function(e){v.attr("class","legend-tooltip-pie-chart no-show"),A(".more-legend").removeClass("no-visible")}),r=(A(".listTemplateContainer").on("click",function(){A(".legend-tooltip-pie-chart").removeClass("only-show").addClass("no-show")}),(s.length-4)*(d+h+20)),c=v.append("svg").attr("width","150").attr("height",23+r),y=d3.select(n).append("div").attr("class","tooltip").style("display","none");y.append("div").attr("class","label"),y.append("div").attr("class","count"),y.append("div").attr("class","percent"),s.forEach(function(e){e.count=+e.count,e.enabled=!0});(r=t.selectAll("path").data(e(s)).enter().append("g").attr("class","arcRegular").append("path").attr("d",g).attr("fill",function(e){return p(e.data.label)}).each(function(e){this._current})).on("mouseover",function(e){d3.sum(s.map(function(e){return e.enabled?e.count:0}));"block"===A("#myPreviewModal").css("display")?e.data.dispVal?y.select("#myPreviewModal .count").html(e.data.dispVal):y.select("#myPreviewModal .count").html(e.value):e.data.dispVal?y.select(".count").html(e.data.dispVal):y.select(".count").html(e.value),y.style("display","block")}),r.on("mouseout",function(){y.style("display","none")}),r.on("mousemove",function(e){y.style("top",d3.event.layerY+10+"px").style("left",d3.event.layerX+10+"px")}),t.append("g").attr("class","labels"),t.append("g").attr("class","lines"),t.append("g").classed("labels",!0),t.append("g").classed("lines",!0),t.select(".lines").selectAll("polyline").data(e(s)).enter().append("polyline").attr("points",function(e){var t=m.centroid(e);return t[0]=.95*f*(_(e)<Math.PI?1:-1),[g.centroid(e),m.centroid(e),t]}),t.select(".labels").selectAll("text").data(e(s)).enter().append("text").attr("dy",".35em").attr("class","chart-disp-val").html(function(e){return e.data.percentage+"%"}).attr("transform",function(e){var t=m.centroid(e);return t[0]=.95*f*(_(e)<Math.PI?1:-1),"translate("+t+")"}).style("text-anchor",function(e){return _(e)<Math.PI?"start":"end"});var D=d3.select(n).append("div").attr("class","tooltip-legend no-show");function _(e){return e.startAngle+(e.endAngle-e.startAngle)/2}(r=c.selectAll(".legend"+window.PieChartCount).data(p.domain().slice(4)).enter().append("g").attr("class","legend"+window.PieChartCount).attr("transform",function(e,t){var n=d+h+25,i=n*p.domain().length/2,i=p.domain()<4?n*p.domain().length/2:2*n;return"translate(10,"+((t+6)*n-i-135)+")"})).append("rect").attr("width","7").attr("height","7").style("fill",p).style("stroke",p),r.append("text").attr("x",d+h+4).attr("y",d-h).attr("class","legend-title").text(function(e){return 15<e.length?e.slice(0,12)+"...":e}).on("mouseover",function(e){15<e.length&&(D.attr("class","only-show tooltip-legend"),D.html(e).style("left",d3.event.pageX-1090+"px").style("top",d3.event.pageY-164+"px"))}).on("mouseout",function(e){15<e.length&&D.attr("class","no-show tooltip-legend")}),r.append("text").attr("x",d+h+4).attr("y",d-h+16).attr("class","legend-value").attr("font-weight","bold").text(function(e){for(var t=0;t<o.elements.length&&s[t].label!=e;t++);return o.elements[t].hasOwnProperty("subTitle")?o.elements[t].subTitle:s[t].count}),(e=t.selectAll(".legend"+window.PieChartCount).data(p.domain().slice(0,4)).enter().append("g").attr("class","legend"+window.PieChartCount).attr("transform",function(e,t){for(var n,i=-60,t=0;t<s.length;t++){if(e==s[t].label)return n=Number(this.parentElement.getAttribute("transform").slice(10,this.parentElement.getAttribute("transform").indexOf(","))),"translate("+(n+=15)+","+i+")";s[t].hasOwnProperty("subTitle")&&""==s[t].subTitle?i+=18:i+=33}})).append("rect").attr("width","7").attr("height","7").style("fill",p).style("stroke",p),e.append("text").attr("x",d+h+4).attr("y",d-h).attr("class","legend-title").text(function(e){return 15<e.length?e.slice(0,12)+"...":e}).on("mouseover",function(e){15<e.length&&(D.attr("class","only-show tooltip-legend"),D.html(e).style("left",d3.event.pageX-1090+"px").style("top",d3.event.pageY-164+"px"))}).on("mouseout",function(e){15<e.length&&D.attr("class","no-show tooltip-legend")}),e.append("text").attr("x",d+h+4).attr("y",d-h+16).attr("class","legend-value").attr("font-weight","bold").text(function(e){for(var t=0;t<o.elements.length&&s[t].label!=e;t++);return o.elements[t].hasOwnProperty("subTitle")?o.elements[t].subTitle:s[t].count}),4<p.domain().length&&t.data(p.domain()).append("g").append("text").text("More...").attr("class","more-legend").attr("fill","#009dab").attr("font-weight","bold").attr("cursor","pointer").attr("transform",function(e){var t=d+h+25,t=(p.domain().length,7*t-2*t-115);try{var n=A(this).parent().siblings(".legend0")[0].getAttribute("transform"),i=n.slice(10,n.lastIndexOf(","))}catch(e){i=110}return"translate("+i+","+t+")"}).on("mouseover",function(e){var t=A(this).closest(".listViewTmplContentChild").offset().top,n=A(this).closest(".listViewTmplContentChild").offset().left,t=A(this).offset().top-t-87.5,n=A(this).offset().left-n-15;v.attr("class","legend-tooltip-pie-chart only-show").style("position","absolute").style("left",n).style("top",t),A(this).addClass("no-visible")})},drawD3PieDonut:function(e,t,n,i,o){var r=t.width,s=t.height,a=Math.min(r,s)/2-10,l=[],u=0,c=e,f=3;legendCenterOffset=0,e.message?c=e.message[0].component.payload:(fromWidgets=!0,f=4,legendCenterOffset=-15);for(var d=0;d<c.elements.length;d++)l[d]={},l[d].label=c.elements[d].title,l[d].count=Number(c.elements[d].value),l[d].dispVal=c.elements[d].displayValue,c.elements[d].hasOwnProperty("subTitle")&&(l[d].subTitle=c.elements[d].subTitle),u+=Number(c.elements[d].value);for(var h=0,d=0;d<c.elements.length;d++)l[d].percentage=Math.round(l[d].count/u*100),d===c.elements.length-1&&(l[d].percentage=100-h),h+=l[d].percentage;var p,g=t.legendRectSize,m=t.legendSpacing,v=d3.scaleOrdinal(["#5bc8c4","#4a9af2","#8ecb60","#e7cc61","#eeaf4b","#ef7e63","#8e8eb7","#6483c3","#2249ab","#f352b7"]),y=d3.arc().outerRadius(a-10).innerRadius(a-50),D=d3.arc().outerRadius(.9*a).innerRadius(.9*a),e=d3.pie().sort(null).value(function(e){return e.count}),_=d3.select(n).append("div").attr("class","legend-tooltip-pie-chart no-show").on("mouseleave",function(e){_.attr("class","legend-tooltip-pie-chart no-show"),A(".more-legend").removeClass("no-visible")}),t=(l.length-4)*(g+m+20),t=_.append("svg").attr("width","150").attr("height",23+t),r=(A(".listTemplateContainer").on("click",function(){A(".legend-tooltip-pie-chart").removeClass("only-show").addClass("no-show")}),d3.select(n).append("svg").attr("width",r+5).attr("height",s).append("g").attr("transform","translate("+(r/f+13)+","+s/2+")")),b=((f=r.selectAll(".arc").data(e(l)).enter().append("g").attr("class","arc")).append("path").attr("d",y).style("fill",function(e){return v(e.data.label)}),d3.select(n).append("div").attr("class","tooltipDonut").style("display","none"));function C(e){return e.startAngle+(e.endAngle-e.startAngle)/2}b.append("div").attr("class","label"),b.append("div").attr("class","countDonut"),b.append("div").attr("class","percent"),l.forEach(function(e){e.count=+e.count,e.enabled=!0}),r.append("g").attr("class","labels"),r.append("g").attr("class","lines"),r.append("g").classed("labels",!0),r.append("g").classed("lines",!0),r.select(".lines").selectAll("polyline").data(e(l)).enter().append("polyline").attr("points",function(e){var t=D.centroid(e);return t[0]=.95*a*(C(e)<Math.PI?1:-1),[y.centroid(e),D.centroid(e),t]}).style("display",function(e){return 0==e.data.percentage?"none":"block"}),r.select(".labels").selectAll("text").data(e(l)).enter().append("text").attr("dy",".35em").attr("class","chart-disp-val").html(function(e){return e.data.percentage+"%"}).attr("transform",function(e){var t=D.centroid(e);return t[0]=.95*a*(C(e)<Math.PI?1:-1),t[0]=t[0]+10,"translate("+t+")"}).style("text-anchor",function(e){return C(e)<Math.PI?"start":"end"}).style("display",function(e){return 0==e.data.percentage?"none":"block"}),f.on("mouseover",function(e){d3.sum(l.map(function(e){return e.enabled?e.count:0}));"block"===A("#myPreviewModal").css("display")?e.data.dispVal?b.select("#myPreviewModal .countDonut").html(e.data.dispVal):b.select("#myPreviewModal .countDonut").html(e.value):e.data.dispVal?b.select(".countDonut").html(e.data.dispVal):b.select(".countDonut").html(e.value),b.style("display","block")}),f.on("mouseout",function(){b.style("display","none")}),f.on("mousemove",function(e){b.style("top",d3.event.layerY+10+"px").style("left",d3.event.layerX+10+"px")}),"donut_legend"!==o&&"donut"!==o||(p=d3.select(n).append("div").attr("class","tooltip-legend no-show"),(s=t.selectAll(".legend"+window.PieChartCount).data(v.domain().slice(4)).enter().append("g").attr("class","legend"+window.PieChartCount).attr("transform",function(e,t){var n=g+m+25,i=n*v.domain().length/2,i=v.domain()<5?n*v.domain().length/2:2*n;return"translate(10,"+((t+6)*n-i-135)+")"})).append("rect").attr("width","7").attr("height","7").style("fill",v).style("stroke",v),s.append("text").attr("x",g+m+4).attr("y",g-m).attr("class","legend-title").text(function(e){return 15<e.length?e.slice(0,12)+"...":e}).on("mouseover",function(e){11<e.length&&(p.attr("class","only-show tooltip-legend"),p.html(e).style("left",d3.event.pageX-1090+"px").style("top",d3.event.pageY-164+"px"))}).on("mouseout",function(e){15<e.length&&p.attr("class","no-show tooltip-legend")}),s.append("text").attr("x",g+m+4).attr("y",g-m+16).attr("class","legend-value").attr("font-weight","bold").text(function(e){for(var t=0;t<c.elements.length&&l[t].label!=e;t++);return c.elements[t].hasOwnProperty("subTitle")?c.elements[t].subTitle:c.elements[t].value}),(e=r.selectAll(".legend"+window.PieChartCount).data(v.domain().slice(0,4)).enter().append("g").attr("class","legend"+window.PieChartCount).attr("transform",function(e,t){for(var n,i=-60,t=0;t<l.length;t++){if(e==l[t].label)return n=Number(this.parentElement.getAttribute("transform").slice(10,this.parentElement.getAttribute("transform").indexOf(","))),"translate("+(n+=15)+","+i+")";l[t].hasOwnProperty("subTitle")&&""==l[t].subTitle?i+=18:i+=33}})).append("rect").attr("width","7").attr("height","7").style("fill",v).style("stroke",v),e.append("text").attr("x",g+m+4).attr("y",g-m).attr("class","legend-title").text(function(e){return 15<e.length?e.slice(0,12)+"...":e}).on("mouseover",function(e){15<e.length&&(p.attr("class","only-show tooltip-legend"),p.html(e).style("left",d3.event.pageX-1090+"px").style("top",d3.event.pageY-164+"px"))}).on("mouseout",function(e){15<e.length&&p.attr("class","no-show tooltip-legend")}),e.append("text").attr("x",g+m+4).attr("y",g-m+16).attr("class","legend-value").attr("font-weight","bold").text(function(e){for(var t=0;t<c.elements.length&&l[t].label!=e;t++);return c.elements[t].hasOwnProperty("subTitle")?c.elements[t].subTitle:l[t].count}),4<v.domain().length&&r.data(v.domain()).append("g").append("text").text("More...").attr("class","more-legend").attr("fill","#009dab").attr("font-weight","bold").attr("cursor","pointer").attr("transform",function(e){var t=g+m+25,t=(v.domain().length,7*t-2*t-115);try{var n=A(this).parent().siblings(".legend0")[0].getAttribute("transform"),i=n.slice(10,n.lastIndexOf(","))}catch(e){i=110}return"translate("+i+","+t+")"}).on("mouseover",function(e){var t=A(this).closest(".listViewTmplContentChild").offset().top,n=A(this).closest(".listViewTmplContentChild").offset().left,t=A(this).offset().top-t-87.5,n=A(this).offset().left-n-15;_.attr("class","legend-tooltip-pie-chart only-show").style("position","absolute").style("left",n).style("top",t),A(this).addClass("no-visible")}))},drawD3barChart:function(e,t,n,i){var o=d3.select(n).append("svg").attr("width",t.outerWidth).attr("height",t.outerHeight),r=20,s=35,a=t.innerWidth,l=t.innerHeight,t=o.append("g").attr("transform","translate("+s+","+r+")"),u=e,c=d3.scaleBand().rangeRound([0,a]).paddingInner(.1),f=d3.scaleBand().padding(.05),d=d3.scaleLinear().rangeRound([l,0]),h=d3.scaleOrdinal().range(["#5bc8c4","#4a9af2","#8ecb60","#e7cc61","#eeaf4b","#ef7e63","#8e8eb7","#6483c3","#2249ab","#f352b7"]),p=(e.message?u=e.message[0].component.payload:(fromWidgets=!0,widthDivision=4,legendCenterOffset=-15),[]),g=[];g.push("xAxis");for(var m=0;m<u.elements.length;m++)g.push(u.elements[m].title);for(m=0;m<u.X_axis.length;m++)p[m]={},p[m][g[0]]=u.X_axis[m];for(m=0;m<u.elements.length;m++)for(var v=0;v<u.elements[m].values.length;v++)p[v][g[m+1]]=u.elements[m].values[v],u.elements[m].displayValues&&(p[v][g[m+1]+"dispVal"]=u.elements[m].displayValues[v]);var y=g.slice(1),D=(c.domain(p.map(function(e){return e.xAxis})),f.domain(y).rangeRound([0,c.bandwidth()]),d.domain([0,d3.max(p,function(t){return d3.max(y,function(e){return t[e]})})]).nice(),t.append("g").selectAll("g").data(p).enter().append("g").attr("transform",function(e){return"translate("+c(e.xAxis)+",0)"}).selectAll("rect").data(function(t){return y.map(function(e){return{key:e,value:t[e],dispVal:t[e+"dispVal"]}})}).enter().append("rect").on("mouseover",function(){_.style("display",null)}).on("mouseout",function(){_.style("display","none")}).on("mousemove",function(e){var t=1.25*this.parentNode.transform.baseVal[0].matrix.e,n=d3.mouse(this)[1]-5;e=e.dispVal||e.value,_.attr("transform","translate("+t+","+n+")"),_.select("text").text(e)}).attr("x",function(e){return f(e.key)}).attr("y",function(e){return d(e.value)}).attr("width",f.bandwidth()).attr("height",function(e){return l-d(e.value)}).attr("fill",function(e){return h(e.key)}),t.append("g").attr("class","axis").attr("transform","translate(0,"+l+")").call(d3.axisBottom(c)),t.selectAll("text").attr("transform","rotate(-65) translate(-30, 0)"),t.append("g").attr("class","axis").call(d3.axisLeft(d).ticks(null,"s")).append("text").attr("x",2).attr("y",d(d.ticks().pop())+.5).attr("dy","0.12em").attr("fill","#000").attr("font-weight","bold").attr("text-anchor","start"),t.selectAll(".axis text").attr("class","chart-disp-val"),t.selectAll(".axis line").attr("class","chart-axis-line"),t.selectAll(".axis .domain").classed("chart-axis-line",!0),d3.select(n).append("div").attr("class","tooltip-legend no-show")),_=((s=t.append("g").attr("font-family","sans-serif").attr("font-size",8).attr("text-anchor","end").selectAll("g").data(y.slice().reverse()).enter().append("g").attr("transform",function(e,t){return"translate(60,"+20*t+")"})).append("rect").attr("x",a-19).attr("width",19).attr("height",19).attr("fill",h),s.append("text").attr("class","chart-disp-val").attr("x",a-24).attr("y",9.5).attr("dy","0.32em").text(function(e){return 10<e.length?e.slice(0,7)+"...":e}).on("mouseover",function(e){D.attr("class","only-show tooltip-legend"),D.html(e).style("left",d3.event.pageX-1042+"px").style("top",d3.event.pageY-178+"px")}).on("mouseout",function(e){D.attr("class","no-show tooltip-legend")}),o.append("g").attr("class","tooltipBC").style("display","none"));_.append("rect").attr("width",60).attr("height",20).attr("fill","white").style("opacity",.5),_.append("text").attr("x",30).attr("dy","1.2em").style("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold")},drawD3barStackedChart:function(e,t,n,i){var o=d3.select(n).append("svg").attr("width",t.outerWidth).attr("height",t.outerHeight),r=t.innerWidth,t=t.innerHeight,s=o.append("g").attr("transform","translate(70,20)"),a=e,l=(legendCenterOffset=0,e.message?a=e.message[0].component.payload:(fromWidgets=!0,legendCenterOffset=-15),d3.scaleBand().rangeRound([0,t]).paddingInner(.05).align(.1)),u=d3.scaleLinear().rangeRound([0,r]),c=d3.scaleOrdinal().range(["#5bc8c4","#4a9af2","#8ecb60","#e7cc61","#eeaf4b","#ef7e63","#8e8eb7","#6483c3","#2249ab","#f352b7"]),f=[],d=[];d.push("xAxis");for(var h=0;h<a.elements.length;h++)d.push(a.elements[h].title);for(h=0;h<a.X_axis.length;h++)f[h]={},f[h].dispVal=[],f[h][d[0]]=a.X_axis[h];for(h=0;h<a.elements.length;h++)for(var p=0;p<a.elements[h].values.length;p++)f[p][d[h+1]]=a.elements[h].values[p],a.elements[h].displayValues&&(f[p].dispVal[h]=a.elements[h].displayValues[p]);for(e=d.slice(1),h=0;h<f.length;h++){var g=0;for(key in f[h])"xAxis"!==key&&"dispVal"!==key&&(g+=f[h][key]);f[h].total=g}l.domain(f.map(function(e){return e.xAxis})),u.domain([0,d3.max(f,function(e){return e.total})]).nice(),c.domain(e);var m=[],v=(s.append("g").selectAll("g").data(d3.stack().keys(e)(f)).enter().append("g").attr("fill",function(e){return c(e.key)}).selectAll("rect").data(function(e,t){m[t]=[];for(var n=0;n<e.length;n++)m[t][n]={x:e[n][0],y:e[n][1],val:e[n].data.dispVal[t]};return e}).enter().append("rect").attr("y",function(e){return l(e.data.xAxis)}).attr("x",function(e){return u(e[0])}).attr("width",function(e){return u(e[1])-u(e[0])}).attr("height",.5*l.bandwidth()).attr("transform","translate(0,"+.25*l.bandwidth()+")").attr("dispVal",function(e){for(var t=0;t<m.length;t++)for(var n=0;n<m[t].length;n++)if(m[t][n].x===e[0]&&m[t][n].y===e[1])return m[t][n].val}).on("mouseover",function(){y.style("display",null)}).on("mouseout",function(){y.style("display","none")}).on("mousemove",function(e){var t=d3.mouse(this)[0]-5,n=d3.mouse(this)[1]-5;e=this.attributes.dispVal?this.attributes.dispVal.value:e[1]-e[0],y.attr("transform","translate("+t+","+n+")"),y.select("text").text(e)}),s.append("g").attr("class","axis").attr("transform","translate(0,"+t+")").call(d3.axisBottom(u).ticks(null,"s")).append("text").attr("y",40).attr("x",u(u.ticks().pop())+.5).attr("dy","0.32em").attr("fill","#000").attr("font-weight","bold").attr("text-anchor","start").attr("transform","translate("+-r+",-10)"),s.append("g").attr("class","axis").attr("transform","translate(0,0)").call(d3.axisLeft(l)),s.selectAll(".axis text").attr("class","chart-disp-val"),s.selectAll(".axis line").attr("class","chart-axis-line"),s.selectAll(".axis .domain").classed("chart-axis-line",!0),d3.select(n).append("div").attr("class","tooltip-legend no-show")),y=((t=s.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","end").selectAll("g").data(e.slice().reverse()).enter().append("g").attr("transform",function(e,t){return"translate(80,"+(150+20*t)+")"})).append("rect").attr("x",r-19).attr("width",19).attr("height",19).attr("fill",c),t.append("text").attr("x",r-24).attr("y",9.5).attr("dy","0.32em").attr("class","chart-disp-val").text(function(e){return 10<e.length?e.slice(0,7)+"...":e}).on("mouseover",function(e){v.attr("class","only-show tooltip-legend"),v.html(e).style("left",d3.event.pageX-1042+"px").style("top",d3.event.pageY-178+"px")}).on("mouseout",function(e){v.attr("class","no-show tooltip-legend")}),o.append("g").attr("class","tooltipHStacked").style("display","none"));y.append("rect").attr("width",60).attr("height",20).attr("fill","white").style("opacity",.5),y.append("text").attr("x",30).attr("dy","1.2em").style("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold")},drawD3barVerticalStackedChart:function(e,t,n,i){var o=d3.select(n).append("svg").attr("width",t.outerWidth).attr("height",t.outerHeight),r=t.innerWidth,t=t.innerHeight,s=o.append("g").attr("transform","translate(20,20)"),a=e,l=(legendCenterOffset=0,e.message?a=e.message[0].component.payload:(fromWidgets=!0,legendCenterOffset=-15),d3.scaleBand().rangeRound([0,r]).paddingInner(.05).align(.1)),u=d3.scaleLinear().rangeRound([t,0]),c=d3.scaleOrdinal().range(["#5bc8c4","#4a9af2","#8ecb60","#e7cc61","#eeaf4b","#ef7e63","#8e8eb7","#6483c3","#2249ab","#f352b7"]),f=[],d=[];d.push("xAxis");for(var h=0;h<a.elements.length;h++)d.push(a.elements[h].title);for(h=0;h<a.X_axis.length;h++)f[h]={},f[h].dispVal=[],f[h][d[0]]=a.X_axis[h];for(h=0;h<a.elements.length;h++)for(var p=0;p<a.elements[h].values.length;p++)f[p][d[h+1]]=a.elements[h].values[p],a.elements[h].displayValues&&(f[p].dispVal[h]=a.elements[h].displayValues[p]);for(e=d.slice(1),h=0;h<f.length;h++){var g=0;for(key in f[h])"xAxis"!==key&&"dispVal"!==key&&(g+=f[h][key]);f[h].total=g}l.domain(f.map(function(e){return e.xAxis})),u.domain([0,d3.max(f,function(e){return e.total})]).nice(),c.domain(e),coordsVal=[],s.append("g").selectAll("g").data(d3.stack().keys(e)(f)).enter().append("g").attr("fill",function(e){return c(e.key)}).selectAll("rect").data(function(e,t){coordsVal[t]=[];for(var n=0;n<e.length;n++)coordsVal[t][n]={x:e[n][0],y:e[n][1],val:e[n].data.dispVal[t]};return e}).enter().append("rect").attr("x",function(e){return l(e.data.xAxis)}).attr("y",function(e){return u(e[1])}).attr("height",function(e){return u(e[0])-u(e[1])}).attr("width",.5*l.bandwidth()).attr("dispVal",function(e){for(var t=0;t<coordsVal.length;t++)for(var n=0;n<coordsVal[t].length;n++)if(coordsVal[t][n].x===e[0]&&coordsVal[t][n].y===e[1])return coordsVal[t][n].val}).attr("transform","translate("+.25*l.bandwidth()+",0)").on("mouseover",function(){v.style("display",null)}).on("mouseout",function(){v.style("display","none")}).on("mousemove",function(e){var t=d3.mouse(this)[0]-5,n=d3.mouse(this)[1]-5;e=this.attributes.dispVal?this.attributes.dispVal.value:e[1]-e[0],v.attr("transform","translate("+t+","+n+")"),v.select("text").text(e)}),s.append("g").attr("class","axis").attr("transform","translate(0,"+t+")").call(d3.axisBottom(l)),s.selectAll("text").attr("class","chart-disp-val").attr("transform","rotate(-65) translate(-30, 0)"),s.append("g").attr("class","axis").call(d3.axisLeft(u).ticks(null,"s")).append("text").attr("x",2).attr("y",u(u.ticks().pop())-10).attr("dy","0.32em").attr("fill","#000").attr("font-weight","bold").attr("text-anchor","start"),s.selectAll("text").attr("class","chart-disp-val"),s.selectAll(".axis .domain").classed("chart-axis-line",!0),s.selectAll(".axis line").classed("chart-axis-line",!0);var m=d3.select(n).append("div").attr("class","tooltip-legend no-show"),v=((t=s.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","end").selectAll("g").data(e.slice().reverse()).enter().append("g").attr("transform",function(e,t){return"translate(48,"+20*t+")"})).append("rect").attr("x",r-19).attr("width",19).attr("height",19).attr("fill",c),t.append("text").attr("x",r-24).attr("y",9.5).attr("dy","0.32em").attr("class","chart-disp-val").text(function(e){return 10<e.length?e.slice(0,7)+"...":e}).on("mouseover",function(e){m.attr("class","only-show tooltip-legend"),m.html(e).style("left",d3.event.pageX-1042+"px").style("top",d3.event.pageY-178+"px")}).on("mouseout",function(e){m.attr("class","no-show tooltip-legend")}),o.append("g").attr("class","tooltipVSB").style("display","none"));v.append("rect").attr("width",60).attr("height",20).attr("fill","white").style("opacity",.5),v.append("text").attr("x",30).attr("dy","1.2em").style("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold")},drawD3barHorizontalbarChart:function(e,t,n,i){window.addEventListener("resize",function(e){A("#chart").width(.9*window.innerWidth),A("#chart").height(window.innerHeight)});var o=[],r=e;legendCenterOffset=0,e.message?r=e.message[0].component.payload:(fromWidgets=!0,legendCenterOffset=-15);for(var s=0;s<r.X_axis.length;s++){o[s]={},o[s].date=r.X_axis[s];for(var a=0;a<r.elements.length;a++)o[s][r.elements[a].title]=r.elements[a].values[s],r.elements[a].displayValues&&(o[s][r.elements[a].title+"dispVal"]=r.elements[a].displayValues[s])}for(var l={},a=0;a<r.elements.length;a++)l[r.elements[a].title]=r.elements[a].title;A(n).empty(),u({mainDiv:n,colorRange:["#5bc8c4","#4a9af2","#8ecb60","#e7cc61","#eeaf4b","#ef7e63","#8e8eb7","#6483c3","#2249ab","#f352b7"],data:o,columnsInfo:l,xAxis:"value",yAxis:"date",label:{xAxis:"Value",yAxis:"Dates"},requireLegend:!0},t)},drawD3lineChartV2:function(e,n,t,i){var o=35,r=30,s=n.innerWidth,a=n.innerHeight,l=["#5bc8c4","#4a9af2","#8ecb60","#e7cc61","#eeaf4b","#ef7e63","#8e8eb7","#6483c3","#2249ab","#f352b7"],u=d3.scaleOrdinal().range(["#5bc8c4","#4a9af2","#8ecb60","#e7cc61","#eeaf4b","#ef7e63","#8e8eb7","#6483c3","#2249ab","#f352b7"]),c=e,f=(legendCenterOffset=0,e.message?c=e.message[0].component.payload:(fromWidgets=!0,legendCenterOffset=-15),c.X_axis),d=c.elements,h=d3.scaleLinear().domain([0,f.length-1]).range([0,s]),p=d3.scaleLinear().domain([0,60]).range([a,0]),e=d3.line().x(function(e){return h(e.ind)}).y(function(e){return p(e.value)}),g=d3.select(t).append("svg").attr("width",n.outerWidth).attr("height",n.outerHeight),r=g.append("g").attr("transform","translate("+r+","+o+")"),o=d3.axisBottom(h).tickFormat(function(e){return f[e]}),m=d3.axisLeft(p).tickFormat(d3.format(".2s")),v=(r.append("g").attr("class","axis").call(m),r.append("g").attr("transform","translate(0,"+a+")").call(o).attr("class","axis xAxisR"),r.selectAll(".xAxisR text").attr("transform","rotate(-65) translate(-30, 0)"),[]),y=[],D=[],_={};v.push("xAxis");for(var b=0;b<c.elements.length;b++)v.push(c.elements[b].title);for(b=0;b<c.elements.length;b++){y[b]={},y[b].valueSet=[],y[b].name=c.elements[b].title,y[b].currentVal=c.elements[b].values[c.elements[b].values.length-1];for(var C=0;C<c.elements[b].values.length;C++)D[C]=D[C]||{},D[C].x_Axis=c.X_axis[C],D[C][v[b+1]]=c.elements[b].values[C],y[b].valueSet[C]={},y[b].valueSet[C].value=c.elements[b].values[C],c.elements[b].displayValues&&(y[b].valueSet[C].dispVal=c.elements[b].displayValues[C],_[c.elements[b].title]=c.elements[b].displayValues[C].replace(/[0-9]/g,"")),y[b].valueSet[C].x_Axis=c.X_axis[C],y[b].valueSet[C].ind=C}var m=v.slice(1),a=v.slice(1).map(function(t){return{id:t,values:D.map(function(e){return{xAxis:e.xAxis,temperature:e[t]}})}}),o=y,e=(r.selectAll().data(o).enter().append("path").attr("fill","none").attr("stroke",function(e){return u(e.name)}).attr("stroke-width",2).datum(function(e){return e.valueSet}).attr("d",e).attr("class","lineC"),r.selectAll().data(o).enter().append("text").html(function(e){}).attr("fill",function(e){return e.color}).attr("alignment-baseline","middle").attr("x",s).attr("dx",".5em").attr("y",function(e){return p(e.currentVal)}),g.append("g").attr("class","mouse-over-effects")),M=document.getElementsByClassName("lineC"),w=((o=e.selectAll(".mouse-per-line").data(a).enter().append("g").attr("class","mouse-per-line")).append("circle").attr("r",7).style("stroke",function(e,t){return l[t]}).style("fill","none").style("stroke-width","3px").style("opacity","0").attr("transform","translate(30,35)"),o.append("text").attr("transform",function(e,t){return 0==t?"translate(40,40)":1==t?"translate(20,10)":"translate(0,40)"}),e.append("svg:rect").attr("width",n.innerWidth+5).attr("height",n.innerHeight).attr("transform","translate(30,35)").attr("fill","none").attr("pointer-events","all").on("mouseout",function(){d3.selectAll(".mouse-per-line circle").style("opacity","0"),d3.selectAll(".mouse-per-line text").style("opacity","0")}).on("mouseover",function(){"block"===A("#myPreviewModal").css("display")?A(".lineChartChildDiv .mouse-per-line").hide():A(".lineChartChildDiv .mouse-per-line").show(),d3.selectAll(".mouse-per-line circle").style("opacity","0.5"),d3.selectAll(".mouse-per-line text").style("opacity","1")}).on("mousemove",function(){var a=d3.mouse(this);d3.selectAll(".mouse-per-line").attr("transform",function(e,t){for(var n,i=h.invert(a[0]),o=d3.bisector(function(e){return e.date}).right,r=(idx=o(e.values,i),0),s=M[t].getTotalLength()+2;n=Math.floor((r+s)/2),pos=M[t].getPointAtLength(n),n!==s&&n!==r||pos.x===a[0];)if(pos.x>a[0])s=n;else{if(!(pos.x<a[0]))break;r=n}return xtempLC=h,d3.select(this).select("text").text(function(e,t){for(var n,i=[],o=0;o<d.length;o++)if(d[o].title===e.id)for(var r=0;r<e.values.length;r++)i[r]=e.values[r].temperature;return void 0!==_[this.__data__.id]?(n=p.invert(pos.y).toFixed(2),-1!==i.indexOf(Math.round(n))&&i.indexOf(Math.round(n))===Math.round(xtempLC.invert(pos.x))?p.invert(pos.y).toFixed(2)+"\n"+f[Math.round(xtempLC.invert(pos.x))]:p.invert(pos.y).toFixed(2)+_[this.__data__.id]):(n=p.invert(pos.y).toFixed(2),-1!==i.indexOf(Math.round(n))&&i.indexOf(Math.round(n))===Math.round(xtempLC.invert(pos.x))?p.invert(pos.y).toFixed(2)+"\n"+f[Math.round(xtempLC.invert(pos.x))]:p.invert(pos.y).toFixed(2))}),"translate("+a[0]+","+pos.y+")"})}),r.selectAll(".axis text").attr("class","chart-disp-val"),r.selectAll(".axis line").attr("class","chart-axis-line"),r.selectAll(".axis .domain").classed("chart-axis-line",!0),d3.select(t).append("div").attr("class","tooltip-legend no-show"));(a=g.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","end").selectAll("g").data(m.slice().reverse()).enter().append("g").attr("transform",function(e,t){return 230===n.innerWidth?"translate(100,"+(250+20*t)+")":"translate(100,"+(230+20*t)+")"})).append("rect").attr("x",s-19).attr("width",19).attr("height",19).attr("fill",u),a.append("text").attr("x",s-24).attr("y",9.5).attr("dy","0.32em").attr("class","chart-disp-val").text(function(e){return 10<e.length?e.slice(0,7)+"...":e}).on("mouseover",function(e){w.attr("class","only-show tooltip-legend"),w.html(e).style("left",d3.event.pageX-1042+"px").style("top",d3.event.pageY-178+"px")}).on("mouseout",function(e){w.attr("class","no-show tooltip-legend")})}}}($),bind=_.bind;function koreAnonymousFn(e){console.info("anonymous user login");var n,t,i=localStorage.getItem("korecom")||(console.info("generating UUID"),n=(new Date).getTime(),window.performance&&"function"==typeof window.performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)}));localStorage.setItem("korecom",i),e.clientId?((t={}).issuer=e.clientId,t.subject=i,e.assertion=t,this.options=e,this.claims=e.assertion,this.WebClient=new this.clients.KoreWebClient({},this.options),this.WebClient.claims=this.claims,this.WebClient.anonymouslogin.login({assertion:e.assertion,botInfo:this.options.botInfo},bind(this.onLogIn,this))):console.log("clientId should be there for anonymous user")}requireKr=function i(o,r,s){function a(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return a(t||e)},t,t.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({"/KoreBot.js":[function(e,t,n){var o=e("./index.js"),r=e("events"),s=e("inherits"),a=e(15),l=e("lodash").bind?e("lodash"):_,u=l.bind,c=l.isFunction,f=o.CLIENT_EVENTS.RTM,d=o.RTM_EVENTS,h=o.CLIENT_EVENTS.WEB,p=e("./jstz.js"),g=l.noop,m=("undefined"!=typeof window&&(window.kore=window.kore||{},window.kore.botsdk=window.kore.botsdk||{},window.kore.botsdk.logger=window.kore.botsdk.logger||e("debug"),window.messageHistoryLimit=10),e("debug")("botsdk:KoreBot"));function v(){r.call(this),this.WebClient=null,this.RtmClient=null,this.options={},this.accessToken=null,this.initialized=!1,this.clients=o,this.latestId=null,this.oldestId=null,this.EventEmitter=r,this.lodash=l,this.bind=u,this.isFunction=c,this.RTM_EVENTS=d,this.RTM_CLIENT_EVENTS=f,this.jstz=p,this.noop=g,this.debug=m,this.userLocation=D}var y,D={city:"",country:"",latitude:0,longitude:0,street:""},b=!1;s(v,r),v.prototype.emit=function(){arguments&&"history"===arguments[0]&&this.historySyncInProgress?(this.historySyncInProgress=!1,arguments[2]="historysync",this.cbBotChatHistory(arguments)):!window._chatHistoryLoaded&&arguments&&"history"===arguments[0]?(b=!0,this.cbBotChatHistory(arguments)):b&&arguments&&"history"===arguments[0]&&setTimeout(function(){$(".chatInputBox").focus(),$(".disableFooter").removeClass("disableFooter")}),this.EventEmitter.prototype.emit.apply(this,arguments)},v.prototype.fetchUserLocation=function(){var n;""===D.country&&(console.log("Fetching user location"),n=this.options,navigator.geolocation.getCurrentPosition(function(e){var o,t;n.googleMapsAPIKey?(t=e.coords.latitude,e=e.coords.longitude,D.latitude=t,D.longitude=e,o=new XMLHttpRequest,t="https://maps.googleapis.com/maps/api/geocode/json?latlng="+t+","+e+"&sensor=true&key="+n.googleMapsAPIKey,o.open("GET",t,!0),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=JSON.parse(o.responseText),t=("undefined"!=typeof Storage&&(0==e.results.length?e=JSON.parse(localStorage.getItem("locationData")):localStorage.setItem("locationData",JSON.stringify(e))),[]);for(e.results&&e.results.length&&e.results[0].address_components&&(t=e.results[0].address_components),i=0;i<t.length;i++){var n=t[i].types;"locality,political"==n?D.city=t[i].long_name:"country,political"==n?D.country=t[i].long_name:"political,sublocality,sublocality_level_2"==n&&(D.street=t[i].long_name)}}},o.send()):console.warn("please provide google maps API key")}))},v.prototype.sendMessage=function(e,t){m("sending message to bot"),this.initialized?(e.resourceid=e.resourceid||"/bot.message",e.botInfo=this.options.botInfo||{},e.client=this.options.client||"sdk",e.meta={timezone:p.jstz.determine().name(),locale:window.navigator.userLanguage||window.navigator.language},0!==D.latitude&&0!==D.longitude&&(e.meta.location=D),this.RtmClient.sendMessage(e,t)):t&&t(new Error("Bot is Initializing...Please try again"))},v.prototype.sendMessageViaWebhook=function(e,n,i){var t=this.WebClient,o=this;e.opts={authorization:"bearer "+this.options.webhookConfig.token},t.makeAPICall(this.options.webhookConfig.webhookURL,e,function(e,t){e?i(t):(t.pollId&&o.startPollForWebhookResponse(t.pollId,n),n(o.convertWebhookResposeToMessages(t)))})},v.prototype.getBotMetaData=function(n,i){var e=this.WebClient,o=this,t={};t.opts={authorization:"bearer "+this.options.webhookConfig.token,type:"GET"},e.makeAPICall("botmeta/"+o.options.botInfo.taskBotId,t,function(e,t){e?i(t):(o.options.botInfo.icon=t.icon,n(t))})},v.prototype.convertWebhookResposeToMessages=function(e){var i,t=e.text,o=[],r=this.options.botInfo.icon;function s(t){try{t=JSON.parse(t)}catch(e){return t}return t}return(t="v2"===e._v?e.data:t)instanceof Array?(console.log("it is array"),t.forEach(function(e,t){var t=(new Date).getTime()+t,n=s(e.val||e);i={type:"bot_response",messageId:e.messageId||t,icon:r,createdOn:e.createdOn,message:[{type:"text",cInfo:{body:e.val||e,attachments:""},component:{}}]},n.payload?(i.message[0].component.payload=n.payload,i.message[0].component.type=n.type):n.text?(i.message[0].component.payload={text:n.text},i.message[0].component.type="template"):(i.message[0].component.payload={text:n},i.message[0].component.type="text"),i.message[0].component&&i.message[0].component.payload&&i.message[0].component.payload.text&&(i.message[0].cInfo.body=i.message[0].component.payload.text),i.message[0].component&&i.message[0].component.payload&&(i.message[0].component.payload.videoUrl||i.message[0].component.payload.audioUrl)&&(i.message[0].cInfo.body=i.message[0].component.payload.text||""),o.push(i)})):(console.log("its Object"),e=(new Date).getTime(),i={type:"bot_response",messageId:entry.messageId||e,createdOn:entry.createdOn,icon:r,message:[{type:"text",cInfo:{body:s(t),attachments:""},component:s(t)}]},o.push(i)),o},v.prototype.startPollForWebhookResponse=function(e,n){var i=this,t=i.options.koreAPIUrl,t=(t=t.substring(0,t.length-5))+"/chatbot/v2/webhook/"+i.options.webhookConfig.streamId+"/poll/"+e,e=this.WebClient,o={};o.opts={authorization:"bearer "+this.options.webhookConfig.token,type:"GET"},e.makeAPICall(t,o,function(e,t){e||(t.pollId&&setTimeout(function(){i.startPollForWebhookResponse(t.pollId,n)},1e3),t.data&&n(i.convertWebhookResposeToMessages(t)))})},v.prototype.onMessage=function(e){m("on message from bot/self"),"bot"===e.from&&"bot_response"===e.type&&(this.latestId=e.messageId||this.latestId,this.oldestId=this.oldestId||e.messageId),this.emit(d.MESSAGE,e)},v.prototype.close=function(){m("request to close ws connection"),this.RtmClient&&this.RtmClient._close()},v.prototype.destroy=function(){this.RtmClient&&this.RtmClient._close(),b=!1,this.removeAllListeners()},v.prototype.onForwardHistory=function(e,t){m("on forward history");var n={};if(n.moreAvailable=t.moreAvailable,n.messages=[],n.forward=!0,n.afterMessageId=this.latestId,t.messages&&0<t.messages.length)for(var i=0;i<t.messages.length;i++){var o={},r=(o.messageId=t.messages[i]._id,this.oldestId=this.oldestId||t.messages[i]._id,this.latestId=t.messages[i]._id||this.latestId,"incoming"===t.messages[i].type?(o.from="self",o.type="user_message"):(o.from="bot",o.type="bot_response"),0);if(t.messages[i].components&&0<t.messages[i].components.length)for(o.message=[],r=0;r<t.messages[i].components.length;r++){var s={};s.type=t.messages[i].components[r].cT,"text"===s.type&&(s.cInfo={},s.cInfo.body=t.messages[i].components[r].data&&t.messages[i].components[r].data.text),o.message[r]=s}o.createdOn=t.messages[i].createdOn,n.messages[i]=o}this.emit("history",n)},v.prototype.onBackWardHistory=function(e,t){m("on backword history");var n={};if(n.moreAvailable=t.moreAvailable,n.messages=[],n.backward=!0,n.beforeMessageId=this.oldestId,t.messages&&0<t.messages.length)for(var i=0;i<t.messages.length;i++){var o={},r=(o.messageId=t.messages[i]._id,this.oldestId=t.messages[i]._id||this.oldestId,this.latestId=this.latestId||t.messages[i]._id,"incoming"===t.messages[i].type?(o.from="self",o.type="user_message"):(o.from="bot",o.type="bot_response",o.icon=t.icon),0);if(t.messages[i].components&&0<t.messages[i].components.length)for(o.message=[],r=0;r<t.messages[i].components.length;r++){var s={};s.type=t.messages[i].components[r].cT,"text"===s.type&&(s.cInfo={},s.cInfo.body=t.messages[i].components[r].data&&t.messages[i].components[r].data.text),o.message[r]=s}o.createdOn=t.messages[i].createdOn,n.messages[i]=o}this.emit("history",n)},v.prototype.getHistory=function(e,t){m("get history"),e=e||{},"undefined"!=typeof window&&(e.limit=e.limit||window.messageHistoryLimit||10);var n={};n.forward=e.forward,n.limit=e.limit||10,n.forward?this.latestId&&(n.msgId=this.latestId):this.oldestId&&(n.msgId=this.oldestId),n.botInfo=this.options.botInfo,n.authorization="bearer "+this.WebClient.user.accessToken,t&&t.webhookConfig&&t.webhookConfig.enable&&(n.authorization="bearer "+this.options.webhookConfig.token),e.forHistorySync&&(this.historySyncInProgress=!0,delete n.msgId),n.forward?this.WebClient.history.history(n,u(this.onForwardHistory,this),t):this.WebClient.history.history(n,u(this.onBackWardHistory,this),t)},v.prototype.sync=function(e){},v.prototype.onOpenWSConnection=function(e){m("opened WS Connection"),this.initialized=!0,this.options.loadHistory&&!b&&this.getHistory({}),this.emit(f.RTM_CONNECTION_OPENED,{})},v.prototype.onLogIn=function(e,t){var n;m("sign-in/anonymous user onLogin"),e?(this.cbErrorToClient&&(t&&t.errors&&t.errors[0]&&t.errors[0].msg?this.cbErrorToClient(t.errors[0].msg):this.cbErrorToClient(e.message)),console.error(e&&e.stack)):(this.accessToken=t.authorization.accessToken,this.options.accessToken=this.accessToken,this.WebClient.user.accessToken=this.accessToken,this.userInfo=t,this.options&&this.options.jwtgrantSuccessCB&&this.options.jwtgrantSuccessCB(t),this.cbBotDetails(t,this.options.botInfo),this.RtmClient=new o.KoreRtmClient({},this.options),this.emit("rtm_client_initialized"),this.RtmClient.start({botInfo:this.options.botInfo}),this.RtmClient.on(d.MESSAGE,u(this.onMessage,this)),this.RtmClient.on(f.RTM_CONNECTION_OPENED,u(this.onOpenWSConnection,this)),n=this,Object.keys(f).forEach(function(t){n.RtmClient.on(f[t],function(e){n.emit("rtm:"+f[t],e)})}))},v.prototype.logIn=function(e,t){e?(m("error in assertionFn %s",e),console.error("error in assertionFn",e&&e.stack)):(m("signed-in user login"),this.options=t,this.claims=t.assertion,this.WebClient=new o.KoreWebClient({},this.options),this.WebClient.claims=this.claims,this.cbErrorToClient=t.handleError||g,this.cbBotDetails=t.botDetails||g,this.cbBotChatHistory=t.chatHistory||g,this.options.webhookConfig&&this.options.webhookConfig.enable?(this.options.webhookConfig.token=this.options.assertion,this.emit(h.WEB_HOOK_READY),this.options.loadHistory&&!b?this.getHistory({},t):this.emit(h.WEB_HOOK_RECONNECTED)):this.WebClient.login.login({assertion:t.assertion,botInfo:this.options.botInfo},u(this.onLogIn,this)))},v.prototype.init=function(e,t){100<(t=t||10)&&(t=100),"undefined"!=typeof window&&(window.messageHistoryLimit=t||10),this.options=e=e||{},this.oldestId=null,this.RtmClient=null,e.test?(m("test is true"),c(e.koreAnonymousFn)?e.koreAnonymousFn.call(this,e):(m("koreAnonymousFn is not a function"),console.error("koreAnonymousFn is not a function"))):(m("test is false"),c(e.assertionFn)?e.assertionFn(e,u(this.logIn,this)):(m("assertion is not a function"),console.error("assertion is not a function"))),this.reWriteWebhookConfig(e)},v.prototype.reWriteWebhookConfig=function(e){var t,n,i,o;e&&e.webhookConfig&&e.webhookConfig.enable&&(t=e.botInfo.taskBotId,n="ivr",-1<(i=e.webhookConfig.webhookURL).indexOf(o="hookInstance/")&&(n=i.substring(i.indexOf(o)+o.length,i.length)),e.webhookConfig.streamId=t,e.webhookConfig.channelType=n)},t.exports.instance=function(){return b=!1,y||((y=new v).KoreBot=v,y.KoreRTMClient=o.KoreRtmClient,Object.keys(a).forEach(function(e){y[e]=a[e]}),y)},t.exports.singletoninstance=function(){return y}},{"./index.js":1,"./jstz.js":2,debug:21,events:30,inherits:23,lodash:24}],1:[function(e,t,n){var i=e("./lib/clients/events");t.exports={KoreWebClient:e("./lib/clients/web/client"),KoreRtmClient:e("./lib/clients/rtm/client"),CLIENT_EVENTS:{WEB:i.CLIENT_EVENTS.WEB,RTM:i.CLIENT_EVENTS.RTM},RTM_EVENTS:i.RTM_EVENTS,RTM_MESSAGE_SUBTYPES:i.RTM_MESSAGE_SUBTYPES}},{"./lib/clients/events":5,"./lib/clients/rtm/client":9,"./lib/clients/web/client":18}],2:[function(e,t,n){var i,s;i=this,(s=function(){"use strict";var i="s",t=function(e){e=-e.getTimezoneOffset();return null!==e?e:0},n=function(e,t,n){var i=new Date;return void 0!==e&&i.setFullYear(e),i.setDate(n),i.setMonth(t),i},o=function(e){return t(n(e,0,2))},r=function(e){return t(n(e,5,2))};return{determine:function(){e=o(),t=r();var e,t,n=(n=o()-r())<0?e+",1":0<n?t+",1,"+i:e+",0";return new s.TimeZone(s.olson.timezones[n])},date_is_dst:function(e){return(7<e.getMonth()?r:o)(e.getFullYear())-t(e)!=0},dst_start_for:function(e){var t=new Date(2010,6,15,1,0,0,0);return{"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Kamchatka":t,"Europe/Minsk":t,"Australia/Perth":new Date(2008,10,1,1,0,0,0)}[e]}}}()).TimeZone=function(e){"use strict";var o={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Beirut","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Asia/Gaza"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},r=e;return void 0!==o[r]&&function(){var e,t=o[r],n=t.length,i=0;for(t[0];i<n;i+=1)if(e=t[i],s.date_is_dst(s.dst_start_for(e)))return r=e}(),{name:function(){return r}}},s.olson={},s.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"Etc/GMT+2","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},void 0!==n?n.jstz=s:i.jstz=s},{}],3:[function(e,t,n){var i=e("events"),o=e("async"),r=e("lodash").bind?e("lodash"):_,s=r.bind,r=e("inherits"),c=e("retry"),a=e("url-join"),f=e("./events/client").WEB,l=e("./helpers"),u=e("./transports/request").requestTransport;function d(e,t){i.call(this),this._token=e,this.koreAPIUrl=t.koreAPIUrl||"https://app.kore.com/api/",this.reWriteSocketURL=t.reWriteSocketURL,this.transport=t.transport||u,this.userAgent,this._requestQueue=o.priorityQueue(s(this._callTransport,this),t.maxRequestConcurrency),this._createFacets()}r(d,i),d.prototype.emit=function(){d.super_.prototype.emit.apply(this,arguments)},d.prototype._createFacets=function(){},d.prototype._callTransport=function(e,o){function r(e,t,n,i){if(e){if(u.retry(e))return;a(u.mainError(),null)}200!==n?429===n?(l._requestQueue.pause(),e=parseInt(t["Retry-After"],10),setTimeout(function(){l.transport(s,r),l._requestQueue.resume()},1e3*e),l.emit(f.RATE_LIMITED,e)):(t=new Error("Unable to process request, received bad "+n+" error"),a(t,i)):a(null,i),o()}var s=e.args,a=e.cb,l=this,u=c.operation(this.retryConfig);u.attempt(function(){l.transport(s,r)})},d.prototype.makeAPICall=function(e,t,n){n=l.getAPICallArgs(this._token,t,n),e={url:/^((http|https):\/\/)/.test(e)?e:a(this.koreAPIUrl,e),data:n.data,headers:{"User-Agent":this.userAgent,"content-type":"application/json"}};t&&t.opts&&t.opts.authorization&&(e.headers.Authorization=t.opts.authorization,delete e.data.authorization),this._requestQueue.push({args:e,cb:n.cb})},t.exports=d},{"./events/client":4,"./helpers":8,"./transports/request":10,async:19,events:30,inherits:23,lodash:24,retry:26,"url-join":29}],4:[function(e,t,n){t.exports.WEB={RATE_LIMITED:"rate_limited",WEB_HOOK_READY:"webhook_ready",WEB_HOOK_RECONNECTED:"webhook_reconnected"},t.exports.RTM={CONNECTING:"connecting",AUTHENTICATED:"authenticated",WS_OPENING:"ws_opening",WS_OPENED:"ws_opened",RTM_CONNECTION_OPENED:"open",DISCONNECT:"disconnect",UNABLE_TO_RTM_START:"unable_to_rtm_start",WS_CLOSE:"ws_close",WS_ERROR:"ws_error",ATTEMPTING_RECONNECT:"attempting_reconnect",RAW_MESSAGE:"raw_message"}},{}],5:[function(e,t,n){t.exports={CLIENT_EVENTS:{WEB:e("./client").WEB,RTM:e("./client").RTM},RTM_EVENTS:e("./rtm").EVENTS,RTM_MESSAGE_SUBTYPES:e("./rtm").MESSAGE_SUBTYPES}},{"./client":4,"./rtm":6}],6:[function(e,t,n){t.exports.EVENTS={HELLO:"hello",MESSAGE:"message"},t.exports.MESSAGE_SUBTYPES={BOT_MESSAGE:"bot_message",ME_MESSAGE:"me_message"}},{}],7:[function(e,t,n){var i=e("./rtm").EVENTS;t.exports.makeMessageEventWithSubtype=function(e,t){return[i.MESSAGE,e].join(t||"::")}},{"./rtm":6}],8:[function(e,t,n){function r(e,t){var n=i({},e&&e.opts||{});return l(e||{},function(e,t){o(e)||null===e||"opts"===t||("attachments"!==t||a(e)?n[t]=e:n[t]=JSON.stringify(e))}),t&&(n.token=t),n}var e=e("lodash").bind?e("lodash"):_,i=e.assign,s=e.isFunction,o=e.isUndefined,a=e.isString,l=e.forEach;t.exports.getData=r,t.exports.getAPICallArgs=function(e,t,n){var i,o;return 1===arguments.length?(o=noop,i=r({},e)):2===arguments.length?i=s(t)?(o=t,r({},e)):(o=noop,r(t,e)):3===arguments.length&&(o=n||noop,i=r(t,e)),{cb:o,data:i}}},{lodash:24}],9:[function(e,t,n){var i=e("lodash").bind?e("lodash"):_,o=i.bind,r=i.cloneDeep,s=i.contains,a=e("inherits"),l=i.isUndefined,u=e("debug")("botsdk:KoreRTMClient"),c=e("../events/rtm").EVENTS,f=["pong",c.HELLO],d=["not_authed","invalid_auth","account_inactive","token_expired"],h=(e("../events/client").RTM,e("../client")),p=e("../web/apis").RtmApi,g=e("../events/utils").makeMessageEventWithSubtype,m=e("../transports/ws"),v=e(4);function y(e,t){t=t||{},t.maxRequestConcurrency=1,h.call(this,e,t),this._socketFn=t.socketFn||m,this.ws=void 0,this.MAX_RECONNECTION_ATTEMPTS=t.maxReconnectionAttempts||10,this.RECONNECTION_BACKOFF=t.reconnectionBackoff||3e3,this.MAX_PONG_INTERVAL=t.maxPongInterval||1e4,this.WS_PING_INTERVAL=t.wsPingInterval||5e3,this.autoReconnect=!1!==t.autoReconnect,this.connected=!1,this.authenticated=!1,this.activeUserId=void 0,this._pendingMessages={},this._connAttempts=0,this._connecting=!1,this._reconnecting=t.maintainContext||!1,t.forceReconnecting&&(this._reconnecting=!0,t.forceReconnecting=!1),e=location.href;(e&&0<=e.indexOf("External_Page_1.html")||0<=e.indexOf("External_Page_2.html")||0<=e.indexOf("index.html"))&&(this._reconnecting=!0,t.forceReconnecting=!1,console.log("location.href======1>",e)),console.log("location.href======outside>",e),t.hasOwnProperty("_reconnecting")&&t._reconnecting&&(this._reconnecting=t._reconnecting,t._reconnecting=!1),this.user={},this.user.accessToken=t.accessToken,this.botInfo=t.botInfo||{},this.CLIENT_EVENTS=v.RTM,this.debug=u}a(y,h),y.prototype._createFacets=function(){y.super_.prototype._createFacets.call(this),this._rtm=new p(this)},y.prototype.start=function(e){this._connecting||(this.emit(v.CONNECTING),this._connecting=!0,(e=e||{botInfo:this.botInfo}).authorization="bearer "+this.user.accessToken,this._rtm.start(e,o(this._onStart,this)))},y.prototype.nextMessageId=function(){return this._messageId=this._messageId||1,this._messageId++},y.prototype._onStart=function(e,t){var n=!!this._reconnecting;this._connecting=!1,this._reconnecting=!1,t&&t.errors&&("TOKEN_EXPIRED"===t.errors[0].code||401===t.errors[0].code||"token expired"===t.errors[0].msg)&&(KoreSDK.dependencies.jQuery(".reload-btn").trigger("click",{isReconnect:!0}),t.error="token_expired"),e||!t.url?(u("error or no url in response %s",e||"no url"),this.emit(v.UNABLE_TO_RTM_START,e||t.error),t&&s(d,t.error)?this.disconnect("unrecoverable failure connecting to the RTM API",t.error):(this.authenticated=!1,this.autoReconnect&&this.reconnect())):(n&&(t.url=t.url+"&isReconnect=true"),this.authenticated=!0,this.emit(v.AUTHENTICATED,t),this.connect(t.url))},y.prototype._close=function(){this.autoReconnect=!1,this._safeDisconnect()},y.prototype._safeDisconnect=function(){this.ws&&this.ws.close(),this.authenticated=!1,this.connected=!1},y.prototype.reWriteURL=function(e){var t;return this.reWriteSocketURL&&((t=document.createElement("a")).href=e,this.reWriteSocketURL.protocol&&(t.protocol=this.reWriteSocketURL.protocol),this.reWriteSocketURL.hostname&&(t.hostname=this.reWriteSocketURL.hostname),this.reWriteSocketURL.port&&(t.port=this.reWriteSocketURL.port),e=t.href),e},y.prototype.connect=function(e){u("connecting"),this.emit(v.WS_OPENING,{}),e=this.reWriteURL(e),this.ws=this._socketFn(e),this.ws.onopen=o(this.handleWsOpen,this),this.ws.onmessage=o(this.handleWsMessage,this),this.ws.onerror=o(this.handleWsError,this),this.ws.onclose=o(this.handleWsClose,this),this.ws.onping=o(this.handleWsPing,this)},y.prototype.disconnect=function(e,t){u("disconnecting"),this.emit(v.DISCONNECT,e,t),this.autoReconnect=!1,this._safeDisconnect()},y.prototype.reconnect=function(){if(u("reconnecting"),console.log("in reconnect"),!this._reconnecting){if(this._reconnecting=!0,this.emit(v.ATTEMPTING_RECONNECT),this._safeDisconnect(),this._connAttempts++,this._connAttempts>this.MAX_RECONNECTION_ATTEMPTS)throw new Error("unable to connect to kore.ai RTM API, failed after max reconnection attempts");setTimeout(o(this.start,this),this._connAttempts*this.RECONNECTION_BACKOFF)}},y.prototype.handleWsOpen=function(){u("connected"),this.connected=!0,this.emit("open",{data:{}}),this._connAttempts=0},y.prototype.handleWsMessage=function(e){var t;this.emit("message",e);try{t=JSON.parse(e)}catch(e){return}s(f,t.type)?this._handleWsMessageInternal(t.type,t):this._handleWsMessageViaEventHandler(t.type,t)},y.prototype._handleWsMessageInternal=function(e,t){e===c.HELLO&&this._handleHello()},y.prototype._handleWsMessageViaEventHandler=function(e,t){var n;if(e===c.MESSAGE&&(n=t.reply_to)){if(!this._pendingMessages[n])return;delete this._pendingMessages[n]}this.emit(e,t),e!==c.MESSAGE||l(t.subtype)||this.emit(g(t.subtype),t)},y.prototype.handleWsError=function(e){u("web socket error::%s",e),this.emit(v.WS_ERROR,e)},y.prototype.handleWsClose=function(e,t){this.connected=!1,this.emit(v.WS_CLOSE,e,t),this.autoReconnect?this._connecting||this.reconnect():(u("websocket closed with auto-reconnect false on the RTM client"),this.disconnect("websocket closed with auto-reconnect false on the RTM client"))},y.prototype.handleWsPing=function(){this.ws.pong&&this.ws.pong()},y.prototype._handleHello=function(){this.connected=!0,this.emit(v.RTM_CONNECTION_OPENED)},y.prototype.sendMessage=function(e,t){this.send(e,t)},y.prototype.send=function(e,t){var n,e=r(e);this.connected&&!this._reconnecting?(e.id=e.clientMessageId||this.nextMessageId(),n=JSON.stringify(e),this._pendingMessages[e.id]=e,this.ws.send(n,void 0,function(e){l(e),l(t)||t(e)})):(u(e="ws not connected or reconnecting, unable to send message"),l(t)||t(new Error(e)))},t.exports=y},{"../client":3,"../events/client":4,"../events/rtm":6,"../events/utils":7,"../transports/ws":11,"../web/apis":15,debug:21,inherits:23,lodash:24}],10:[function(e,t,n){function o(e,t,n,i){t?e(t,n&&n.headers||{},n&&n.statusCode||null,i):e(t,n.headers,n.statusCode,i)}var i=e("lodash").bind?e("lodash"):_,r=i.has,s=i.partial,a=e("browser-request");t.exports.requestTransport=function(e,t){n={url:(i=e).url,headers:i.headers},r(i.data,"file")?n.formData=i.data:n.json=i.data;var n,i=n;e.data&&e.data.type&&"GET"===e.data.type?a.get(i,s(o,t)):a.post(i,s(o,t))}},{"browser-request":20,lodash:24}],11:[function(e,t,n){t.exports=function(e,t){return new WebSocket(e)}},{}],12:[function(e,t,n){t.exports=function(){}},{}],13:[function(e,t,n){var i=e("./BaseApi");function o(e){this.name="anonymouslogin",this.client=e,this.BaseApi=i}e("inherits")(o,i),o.prototype.login=function(e,t){return this.client.makeAPICall("/oAuth/token/jwtgrant/anonymous",{opts:e=e||{}},t)},t.exports=o},{"./BaseApi":12,inherits:23}],14:[function(e,t,n){var i=e("./BaseApi");function o(e){this.name="history",this.client=e,this.BaseApi=i}e("inherits")(o,i),o.prototype.history=function(e,t,n){var i={opts:e=e||{},type:"GET"},o="/botmessages/rtm",n=(n&&n.webhookConfig&&n.webhookConfig.enable&&(o="/chathistory/"+n.webhookConfig.streamId+"/"+n.webhookConfig.channelType),!1),r="?";return e.botInfo&&e.botInfo.taskBotId&&(!1===n?(o+=r+"botId="+e.botInfo.taskBotId,r="&",n=!0):o+=r+"botId="+e.botInfo.taskBotId,delete e.botInfo),e.offset&&(!1===n?(o+=r+"offset="+e.offset,r="&",n=!0):o+=r+"offset="+e.offset,delete e.offset),e.limit&&(!1===n?(o+=r+"limit="+e.limit,r="&",n=!0):o+=r+"limit="+e.limit,delete e.limit),e.forward&&(!1===n?(o+=r+"forward="+e.forward,r="&",n=!0):o+=r+"forward="+e.forward,delete e.forward),e.msgId&&(!1===n?(o+=r+"msgId="+e.msgId,r="&",n=!0):o+=r+"msgId="+e.msgId,delete e.msgId),this.client.makeAPICall(o,i,t)},t.exports=o},{"./BaseApi":12,inherits:23}],15:[function(e,t,n){t.exports={RtmApi:e("./rtm.js"),LogInApi:e("./login.js"),AnonymousLogin:e("./anonymouslogin.js"),HistoryApi:e("./history.js")}},{"./anonymouslogin.js":13,"./history.js":14,"./login.js":16,"./rtm.js":17}],16:[function(e,t,n){var i=e("./BaseApi");function o(e){this.name="login",this.client=e,this.BaseApi=i}e("inherits")(o,i),o.prototype.login=function(e,t){return this.client.makeAPICall("/oAuth/token/jwtgrant",{opts:e=e||{}},t)},t.exports=o},{"./BaseApi":12,inherits:23}],17:[function(e,t,n){var i=e("./BaseApi");function o(e){this.name="rtm",this.client=e,this.BaseApi=i}e("inherits")(o,i),o.prototype.start=function(e,t){return this.client.makeAPICall("/rtm/start",{opts:e},t)},t.exports=o},{"./BaseApi":12,inherits:23}],18:[function(e,t,n){var i=e("lodash").bind?e("lodash"):_,o=i.bind,r=i.forEach,i=e("inherits"),s=e("../client"),a=e("./apis/index");function l(e,t){var n=t||{};s.call(this,e,n),this.claims=t.claims,this.retryConfig=n.retryConfig||{retries:5,factor:3.9},this.user={}}i(l,s),l.prototype._createFacets=function(){var t;l.super_.prototype._createFacets.call(this),o(this.makeAPICall,this),r(a,function(e){this[(t=new e(this)).name]=t},this)},t.exports=l},{"../client":3,"./apis/index":15,inherits:23,lodash:24}],19:[function(e,U,t){!function(P,R){!function(){var e,m={};function v(){}function o(e){return e}function t(e){return!!e}function n(e){return!e}var i="object"==typeof self&&self.self===self&&self||"object"==typeof R&&R.global===R&&R||this;function c(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function y(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}null!=i&&(e=i.async),m.noConflict=function(){return i.async=e,m};var z=Object.prototype.toString,D=Array.isArray||function(e){return"[object Array]"===z.call(e)};function s(e){return D(e)||"number"==typeof e.length&&0<=e.length&&e.length%1==0}function _(e,t){for(var n=-1,i=e.length;++n<i;)t(e[n],n,e)}function a(e,t){for(var n=-1,i=e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}function r(e){return a(Array(e),function(e,t){return t})}function b(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var C=Object.keys||function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n};function f(e){var t,n,i=-1;return s(e)?(t=e.length,function(){return++i<t?i:null}):(n=C(e),t=n.length,function(){return++i<t?n[i]:null})}function M(i,o){return o=null==o?i.length-1:+o,function(){for(var e=Math.max(arguments.length-o,0),t=Array(e),n=0;n<e;n++)t[n]=arguments[n+o];switch(o){case 0:return i.call(this,t);case 1:return i.call(this,arguments[0],t)}}}function l(i){return function(e,t,n){return i(e,n)}}var u="function"==typeof setImmediate&&setImmediate,d=u?function(e){u(e)}:function(e){setTimeout(e,0)};function h(u){return function(n,i,o){o=y(o||v);var r=f(n=n||[]);if(u<=0)return o(null);var s=!1,a=0,l=!1;!function t(){if(s&&a<=0)return o(null);for(;a<u&&!l;){var e=r();if(null===e)return s=!0,void(a<=0&&o(null));a+=1,i(n[e],e,c(function(e){--a,e?(o(e),l=!0):t()}))}}()}}function p(i){return function(e,t,n){return i(m.eachOf,e,t,n)}}function g(o){return function(e,t,n,i){return o(h(t),e,n,i)}}function w(i){return function(e,t,n){return i(m.eachOfSeries,e,t,n)}}function A(e,t,o,n){n=y(n||v);var r=s(t=t||[])?[]:{};e(t,function(e,n,i){o(e,function(e,t){r[n]=t,i(e)})},function(e){n(e,r)})}function I(e,t,o,n){var r=[];e(t,function(t,n,i){o(t,function(e){e&&r.push({index:n,value:t}),i()})},function(){n(a(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function k(e,t,n,i){I(e,t,function(e,t){n(e,function(e){t(!e)})},i)}function T(s,a,l){return function(e,t,i,o){function n(){o&&o(l(!1,void 0))}function r(t,e,n){if(!o)return n();i(t,function(e){o&&a(e)&&(o(l(!0,t)),o=i=!1),n()})}3<arguments.length?s(e,t,r,n):(o=i,i=t,s(e,r,n))}}function x(e,t){return t}function E(e,t,n){n=n||v;var o=s(t)?[]:{};e(t,function(e,n,i){e(M(function(e,t){t.length<=1&&(t=t[0]),o[n]=t,i(e)}))},function(e){n(e,o)})}function S(e,t,i,n){var o=[];e(t,function(e,t,n){i(e,function(e,t){o=o.concat(t||[]),n(e)})},function(e){n(e,o)})}function N(n,e,t){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");function i(t,e,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(t.started=!0,0===(e=D(e)?e:[e]).length&&t.idle())return m.setImmediate(function(){t.drain()});_(e,function(e){e={data:e,callback:i||v};n?t.tasks.unshift(e):t.tasks.push(e),t.tasks.length===t.concurrency&&t.saturated()}),m.setImmediate(t.process)}var o=0,r=[],s={tasks:[],concurrency:e,payload:t,saturated:v,empty:v,drain:v,started:!1,paused:!1,push:function(e,t){i(s,e,!1,t)},kill:function(){s.drain=v,s.tasks=[]},unshift:function(e,t){i(s,e,!0,t)},process:function(){for(;!s.paused&&o<s.concurrency&&s.tasks.length;){var e=s.payload?s.tasks.splice(0,s.payload):s.tasks.splice(0,s.tasks.length),t=a(e,function(e){return e.data}),e=(0===s.tasks.length&&s.empty(),o+=1,r.push(e[0]),c(function(t,n){return function(){--o;var i=!1,e=arguments;_(n,function(n){_(r,function(e,t){e!==n||i||(r.splice(t,1),i=!0)}),n.callback.apply(n,e)}),t.tasks.length+o===0&&t.drain(),t.process()}}(s,e)));n(t,e)}},length:function(){return s.tasks.length},running:function(){return o},workersList:function(){return r},idle:function(){return s.tasks.length+o===0},pause:function(){s.paused=!0},resume:function(){if(!1!==s.paused){s.paused=!1;for(var e=Math.min(s.concurrency,s.tasks.length),t=1;t<=e;t++)m.setImmediate(s.process)}}};return s}function j(n){return M(function(e,t){e.apply(null,t.concat([M(function(e,t){"object"==typeof console&&(e?console.error&&console.error(e):console[n]&&_(t,function(e){console[n](e)}))})]))})}function O(i){return function(e,t,n){i(r(e),t,n)}}function F(r){return M(function(t,e){var n=M(function(i){var o=this,e=i.pop();return r(t,function(e,t,n){e.apply(o,i.concat([n]))},e)});return e.length?n.apply(this,e):n})}function L(i){return M(function(e){var t=e.pop(),n=(e.push(function(){var e=arguments;n?m.setImmediate(function(){t.apply(null,e)}):t.apply(null,e)}),!0);i.apply(this,e),n=!1})}"object"==typeof P&&"function"==typeof P.nextTick?m.nextTick=P.nextTick:m.nextTick=d,m.setImmediate=u?d:m.nextTick,m.forEach=m.each=function(e,t,n){return m.eachOf(e,l(t),n)},m.forEachSeries=m.eachSeries=function(e,t,n){return m.eachOfSeries(e,l(t),n)},m.forEachLimit=m.eachLimit=function(e,t,n,i){return h(t)(e,l(n),i)},m.forEachOf=m.eachOf=function(e,t,n){n=y(n||v);for(var i,o=f(e=e||[]),r=0;null!=(i=o());)r+=1,t(e[i],i,c(s));function s(e){r--,e?n(e):null===i&&r<=0&&n(null)}0===r&&n(null)},m.forEachOfSeries=m.eachOfSeries=function(e,i,o){o=y(o||v);var r=f(e=e||[]),s=r();!function t(){var n=!0;if(null===s)return o(null);i(e[s],s,c(function(e){if(e)o(e);else{if(null===(s=r()))return o(null);n?m.setImmediate(t):t()}})),n=!1}()},m.forEachOfLimit=m.eachOfLimit=function(e,t,n,i){h(t)(e,n,i)},m.map=p(A),m.mapSeries=w(A),m.mapLimit=g(A),m.inject=m.foldl=m.reduce=function(e,i,o,t){m.eachOfSeries(e,function(e,t,n){o(i,e,function(e,t){i=t,n(e)})},function(e){t(e,i)})},m.foldr=m.reduceRight=function(e,t,n,i){e=a(e,o).reverse();m.reduce(e,t,n,i)},m.transform=function(e,i,o,t){3===arguments.length&&(t=o,o=i,i=D(e)?[]:{}),m.eachOf(e,function(e,t,n){o(i,e,t,n)},function(e){t(e,i)})},m.select=m.filter=p(I),m.selectLimit=m.filterLimit=g(I),m.selectSeries=m.filterSeries=w(I),m.reject=p(k),m.rejectLimit=g(k),m.rejectSeries=w(k),m.any=m.some=T(m.eachOf,t,o),m.someLimit=T(m.eachOfLimit,t,o),m.all=m.every=T(m.eachOf,n,n),m.everyLimit=T(m.eachOfLimit,n,n),m.detect=T(m.eachOf,o,x),m.detectSeries=T(m.eachOfSeries,o,x),m.detectLimit=T(m.eachOfLimit,o,x),m.sortBy=function(e,t,n){function i(e,t){e=e.criteria,t=t.criteria;return e<t?-1:t<e?1:0}m.map(e,function(n,i){t(n,function(e,t){e?i(e):i(null,{value:n,criteria:t})})},function(e,t){if(e)return n(e);n(null,a(t.sort(i),function(e){return e.value}))})},m.auto=function(a,l,u){"function"==typeof arguments[1]&&(u=l,l=null),u=y(u||v);var e=C(a),t=e.length;if(!t)return u(null);l=l||t;var c={},f=0,d=!1,n=[];function h(e){n.unshift(e)}function p(e){e=b(n,e);0<=e&&n.splice(e,1)}function g(){t--,_(n.slice(0),function(e){e()})}h(function(){t||u(null,c)}),_(e,function(r){if(!d){for(var e,t=D(a[r])?a[r]:[a[r]],n=M(function(e,t){var n,i,o;f--,t.length<=1&&(t=t[0]),e?(n={},o=function(e,t){n[t]=e},_(C(i=c),function(e){o(i[e],e)}),n[r]=t,d=!0,u(e,n)):(c[r]=t,m.setImmediate(g))}),s=t.slice(0,t.length-1),i=s.length;i--;){if(!(e=a[s[i]]))throw new Error("Has nonexistent dependency in "+s.join(", "));if(D(e)&&0<=b(e,r))throw new Error("Has cyclic dependencies")}o()?(f++,t[t.length-1](n,c)):h(function e(){o()&&(f++,p(e),t[t.length-1](n,c))})}function o(){return f<l&&(i=function(e,t){return e&&c.hasOwnProperty(t)},o=!0,_(s,function(e,t,n){o=i(o,e,t,n)}),o)&&!c.hasOwnProperty(r);var i,o}})},m.retry=function(e,t,n){var i=[],o={times:5,interval:0};var r=arguments.length;if(r<1||3<r)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");if(r<=2&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e){var r=o,s=e;if("number"==typeof s)r.times=parseInt(s,10)||5;else{if("object"!=typeof s)throw new Error("Unsupported argument type for 'times': "+typeof s);r.times=parseInt(s.times,10)||5,r.interval=parseInt(s.interval,10)||0}}function a(n,t){for(;o.times;){var e=!--o.times;i.push(function(e,i){return function(n){e(function(e,t){n(!e||i,{err:e,result:t})},t)}}(o.task,e)),!e&&0<o.interval&&i.push(function(t){return function(e){setTimeout(function(){e(null)},t)}}(o.interval))}m.series(i,function(e,t){t=t[t.length-1],(n||o.callback)(t.err,t.result)})}return o.callback=n,o.task=t,o.callback?a():a},m.waterfall=function(e,o){return o=y(o||v),D(e)?e.length?void function n(i){return M(function(e,t){e?o.apply(null,[e].concat(t)):((e=i.next())?t.push(n(e)):t.push(o),L(i).apply(null,t))})}(m.iterator(e))():o():(e=new Error("First argument to waterfall must be an array of functions"),o(e))},m.parallel=function(e,t){E(m.eachOf,e,t)},m.parallelLimit=function(e,t,n){E(h(t),e,n)},m.series=function(e,t){E(m.eachOfSeries,e,t)},m.iterator=function(i){return function e(t){function n(){return i.length&&i[t].apply(null,arguments),n.next()}return n.next=function(){return t<i.length-1?e(t+1):null},n}(0)},m.apply=M(function(t,n){return M(function(e){return t.apply(null,n.concat(e))})}),m.concat=p(S),m.concatSeries=w(S),m.whilst=function(n,i,o){var r;o=o||v,n()?(r=M(function(e,t){e?o(e):n.apply(this,t)?i(r):o.apply(null,[null].concat(t))}),i(r)):o(null)},m.doWhilst=function(e,t,n){var i=0;return m.whilst(function(){return++i<=1||t.apply(this,arguments)},e,n)},m.until=function(e,t,n){return m.whilst(function(){return!e.apply(this,arguments)},t,n)},m.doUntil=function(e,t,n){return m.doWhilst(e,function(){return!t.apply(this,arguments)},n)},m.during=function(n,i,o){o=o||v;var r=M(function(e,t){e?o(e):(t.push(s),n.apply(this,t))}),s=function(e,t){e?o(e):t?i(r):o(null)};n(s)},m.doDuring=function(e,t,n){var i=0;m.during(function(e){i++<1?e(null,!0):t.apply(this,arguments)},e,n)},m.queue=function(n,e){return N(function(e,t){n(e[0],t)},e,1)},m.priorityQueue=function(e,t){function o(e,t){return e.priority-t.priority}function i(t,e,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(t.started=!0,0===(e=D(e)?e:[e]).length)return m.setImmediate(function(){t.drain()});_(e,function(e){e={data:e,priority:n,callback:"function"==typeof i?i:v};t.tasks.splice(function(e,t,n){for(var i=-1,o=e.length-1;i<o;){var r=i+(o-i+1>>>1);0<=n(t,e[r])?i=r:o=r-1}return i}(t.tasks,e,o)+1,0,e),t.tasks.length===t.concurrency&&t.saturated(),m.setImmediate(t.process)})}var r=m.queue(e,t);return r.push=function(e,t,n){i(r,e,t,n)},delete r.unshift,r},m.cargo=function(e,t){return N(e,1,t)},m.log=j("log"),m.dir=j("dir"),m.memoize=function(n,i){var r={},s={},a=Object.prototype.hasOwnProperty,e=(i=i||o,M(function(e){var t=e.pop(),o=i.apply(null,e);a.call(r,o)?m.setImmediate(function(){t.apply(null,r[o])}):a.call(s,o)?s[o].push(t):(s[o]=[t],n.apply(null,e.concat([M(function(e){r[o]=e;var t=s[o];delete s[o];for(var n=0,i=t.length;n<i;n++)t[n].apply(null,e)})])))}));return e.memo=r,e.unmemoized=n,e},m.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},m.times=O(m.map),m.timesSeries=O(m.mapSeries),m.timesLimit=function(e,t,n,i){return m.mapLimit(r(e),t,n,i)},m.seq=function(){var t=arguments;return M(function(e){var i=this,n=e[e.length-1];"function"==typeof n?e.pop():n=v,m.reduce(t,e,function(e,t,n){t.apply(i,e.concat([M(function(e,t){n(e,t)})]))},function(e,t){n.apply(i,[e].concat(t))})})},m.compose=function(){return m.seq.apply(null,Array.prototype.reverse.call(arguments))},m.applyEach=F(m.eachOf),m.applyEachSeries=F(m.eachOfSeries),m.forever=function(e,t){var n=c(t||v),i=L(e);!function e(t){if(t)return n(t);i(e)}()},m.ensureAsync=L,m.constant=M(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),m.wrapSync=m.asyncify=function(o){return M(function(e){var t,n,i=e.pop();try{t=o.apply(this,e)}catch(e){return i(e)}("function"==(n=typeof(e=t))||"object"==n&&e)&&"function"==typeof t.then?t.then(function(e){i(null,e)}).catch(function(e){i(e.message?e:new Error(e))}):i(null,t)})},"object"==typeof U&&U.exports?U.exports=m:"function"==typeof define&&define.amd?define([],function(){return m}):i.async=m}()}.call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:31}],20:[function(e,t,n){var i,o;i=this,o=function(){var m=XMLHttpRequest;if(!m)throw new Error("missing XMLHttpRequest");v.log={trace:D,debug:D,info:D,warn:D,error:D};function v(e,t){if("function"!=typeof t)throw new Error("Bad callback given: "+t);if(!e)throw new Error("No options given");var n=e.onResponse;if((e="string"==typeof e?{uri:e}:JSON.parse(JSON.stringify(e))).onResponse=n,e.verbose&&(v.log=function(){var e,t,n={},i=["trace","debug","info","warn","error"];for(t=0;t<i.length;t++)n[e=i[t]]=D,"undefined"!=typeof console&&console&&console[e]&&(n[e]=function(n,i){return function(e,t){"object"==typeof t&&(e+=" "+JSON.stringify(t));return n[i].call(n,e)}}(console,e));return n}()),e.url&&(e.uri=e.url,delete e.url),!e.uri&&""!==e.uri)throw new Error("options.uri is a required argument");if("string"!=typeof e.uri)throw new Error("options.uri must be a string");for(var i=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],o=0;o<i.length;o++)if(e[i[o]])throw new Error("options."+i[o]+" is not supported");if(e.callback=t,e.method=e.method||"GET",e.headers=e.headers||{},e.body=e.body||null,e.timeout=e.timeout||v.DEFAULT_TIMEOUT,e.headers.host)throw new Error("Options.headers.host is not supported");e.json&&(e.headers.accept=e.headers.accept||"application/json","GET"!==e.method&&(e.headers["content-type"]="application/json"),"boolean"!=typeof e.json?e.body=JSON.stringify(e.json):"string"!=typeof e.body&&(e.body=JSON.stringify(e.body)));function r(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}e.qs&&(n="string"==typeof e.qs?e.qs:r(e.qs),-1!==e.uri.indexOf("?")?e.uri=e.uri+"&"+n:e.uri=e.uri+"?"+n);if(e.form){if("string"==typeof e.form)throw"form name unsupported";if("POST"===e.method){var s=(e.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(e.headers["content-type"]=s){case"application/x-www-form-urlencoded":e.body=r(e.form).replace(/%20/g,"+");break;case"multipart/form-data":var a=function(e){var t,n={},i=(n.boundry="-------------------------------"+Math.floor(1e9*Math.random()),[]);for(t in e)e.hasOwnProperty(t)&&i.push("--"+n.boundry+'\nContent-Disposition: form-data; name="'+t+'"\n\n'+e[t]+"\n");return i.push("--"+n.boundry+"--"),n.body=i.join(""),n.length=n.body.length,n.type="multipart/form-data; boundary="+n.boundry,n}(e.form);e.body=a.body,e.headers["content-type"]=a.type;break;default:throw new Error("unsupported encoding:"+s)}}}e.onResponse=e.onResponse||D,!0===e.onResponse&&(e.onResponse=t,e.callback=D),!e.headers.authorization&&e.auth&&(e.headers.authorization="Basic "+function(e){var t,n,i,o,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,a=0,l="",u=[];if(!e)return e;for(;o=e.charCodeAt(s++),t=e.charCodeAt(s++),n=e.charCodeAt(s++),t=(o=o<<16|t<<8|n)>>18&63,n=o>>12&63,i=o>>6&63,o=63&o,u[a++]=r.charAt(t)+r.charAt(n)+r.charAt(i)+r.charAt(o),s<e.length;);switch(l=u.join(""),e.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l}(e.auth.username+":"+e.auth.password));var l=e,u=new m,c=!1,f=function(e){var t=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{n=location.href}catch(e){(n=document.createElement("a")).href="",n=n.href}var n=t.exec(n.toLowerCase())||[],t=t.exec(e.toLowerCase());return!(!t||t[1]==n[1]&&t[2]==n[2]&&(t[3]||("http:"===t[1]?80:443))==(n[3]||("http:"===n[1]?80:443)))}(l.uri),n="withCredentials"in u;if(y+=1,u.seq_id=y,u.id=y+": "+l.method+" "+l.uri,u._id=u.id,f&&!n)return(n=new Error("Browser does not support cross-origin request: "+l.uri)).cors="unsupported",l.callback(n,u);u.timeoutTimer=setTimeout(function(){c=!0;var e=new Error("ETIMEDOUT");return e.code="ETIMEDOUT",e.duration=l.timeout,v.log.error("Timeout",{id:u._id,milliseconds:l.timeout}),l.callback(e,u)},l.timeout);var d,h={response:!1,loading:!1,end:!1};for(d in u.onreadystatechange=function(e){if(c)return v.log.debug("Ignoring timed out state change",{state:u.readyState,id:u.id});v.log.debug("State change",{state:u.readyState,id:u.id,timed_out:c}),u.readyState===m.OPENED?v.log.debug("Request started",{id:u.id}):u.readyState===m.HEADERS_RECEIVED?p():u.readyState===m.LOADING?(p(),g()):u.readyState===m.DONE&&(p(),g(),function(){if(!h.end){if(h.end=!0,v.log.debug("Request done",{id:u.id}),u.body=u.responseText,l.json)try{u.body=JSON.parse(u.responseText)}catch(e){return l.callback(e,u)}l.callback(null,u,u.body)}}())},u.open(l.method,l.uri,!0),l.headers)u.setRequestHeader(d,l.headers[d]);return f&&(u.withCredentials=!!l.withCredentials),u.send(l.body),u;function p(){if(!h.response){var e;if(h.response=!0,v.log.debug("Got response",{id:u.id,status:u.status}),clearTimeout(u.timeoutTimer),u.statusCode=u.status,f&&0==u.statusCode)return(e=new Error("CORS request rejected: "+l.uri)).cors="rejected",h.loading=!0,h.end=!0,l.callback(e,u);l.onResponse(null,u)}}function g(){h.loading||(h.loading=!0,v.log.debug("Response body loading",{id:u.id}))}}var y=0;v.withCredentials=!1,v.DEFAULT_TIMEOUT=12e4,v.defaults=function(o,e){function t(i){return function(e,t){for(var n in e="string"==typeof e?{uri:e}:JSON.parse(JSON.stringify(e)),o)void 0===e[n]&&(e[n]=o[n]);return i(e,t)}}var n=t(v);return n.get=t(v.get),n.post=t(v.post),n.put=t(v.put),n.head=t(v.head),n};function D(){}return["get","put","post","head"].forEach(function(e){var n=e.toUpperCase();v[e.toLowerCase()]=function(e){"string"==typeof e?e={method:n,uri:e}:(e=JSON.parse(JSON.stringify(e))).method=n;var t=[e].concat(Array.prototype.slice.apply(arguments,[1]));return v.apply(this,t)}}),v.couch=function(e,o){return(e="string"==typeof e?{uri:e}:e).json=!0,e.body&&(e.json=e.body),delete e.body,o=o||D,v(e,function(e,t,n){if(e)return o(e,t,n);if((t.statusCode<200||299<t.statusCode)&&n.error){for(var i in e=new Error("CouchDB error: "+(n.error.reason||n.error.error)),n)e[i]=n[i];return o(e,t,n)}return o(e,t,n)})},v},"function"==typeof define&&define.amd||"object"==typeof n?t.exports=o():i.returnExports=o()},{}],21:[function(e,t,o){function n(){var e;try{e=o.storage.debug}catch(e){}return e}(o=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},o.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+o.humanize(this.diff),!t)return e;var t="color: "+this.color,n=(e=[e[0],t,"color: inherit"].concat(Array.prototype.slice.call(e,1)),0),i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))}),e.splice(i,0,t),e},o.save=function(e){try{null==e?o.storage.removeItem("debug"):o.storage.debug=e}catch(e){}},o.load=n,o.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},o.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),o.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],o.formatters.j=function(e){return JSON.stringify(e)},o.enable(n())},{"./debug":22}],22:[function(e,t,s){(s=t.exports=function(e){function t(){}function n(){var i=n,e=+new Date,t=e-(a||e),o=(i.diff=t,i.prev=a,i.curr=e,a=e,null==i.useColors&&(i.useColors=s.useColors()),null==i.color&&i.useColors&&(i.color=s.colors[l++%s.colors.length]),Array.prototype.slice.call(arguments)),r=(o[0]=s.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o)),0);o[0]=o[0].replace(/%([a-z%])/g,function(e,t){if("%%"===e)return e;r++;var n,t=s.formatters[t];return"function"==typeof t&&(n=o[r],e=t.call(i,n),o.splice(r,1),r--),e}),"function"==typeof s.formatArgs&&(o=s.formatArgs.apply(i,o)),(n.log||s.log||console.log.bind(console)).apply(i,o)}t.enabled=!1,n.enabled=!0;var i=s.enabled(e)?n:t;return i.namespace=e,i}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},s.disable=function(){s.enable("")},s.enable=function(e){s.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,i=0;i<n;i++)t[i]&&("-"===(e=t[i].replace(/\*/g,".*?"))[0]?s.skips.push(new RegExp("^"+e.substr(1)+"$")):s.names.push(new RegExp("^"+e+"$")))},s.enabled=function(e){var t,n;for(t=0,n=s.skips.length;t<n;t++)if(s.skips[t].test(e))return!1;for(t=0,n=s.names.length;t<n;t++)if(s.names[t].test(e))return!0;return!1},s.humanize=e("ms"),s.names=[],s.skips=[],s.formatters={};var a,l=0},{ms:25}],23:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],24:[function(e,h,p){!function(d){!function(){var co,Yo="3.10.1",fo=1,ho=2,Ho=4,po=8,Wo=16,go=32,mo=64,vo=128,yo=256,Qo=30,Vo="...",Go=150,qo=16,Do=200,Zo=1,Ko=2,_o="Expected a function",bo="__lodash_placeholder__",Co="[object Arguments]",Mo="[object Array]",wo="[object Boolean]",Ao="[object Date]",Io="[object Error]",ko="[object Function]",e="[object Map]",To="[object Number]",xo="[object Object]",Eo="[object RegExp]",t="[object Set]",So="[object String]",n="[object WeakMap]",No="[object ArrayBuffer]",Jo="[object Float32Array]",Xo="[object Float64Array]",$o="[object Int8Array]",er="[object Int16Array]",tr="[object Int32Array]",nr="[object Uint8Array]",ir="[object Uint8ClampedArray]",or="[object Uint16Array]",rr="[object Uint32Array]",sr=/\b__p \+= '';/g,ar=/\b(__p \+=) '' \+/g,lr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ur=/&(?:amp|lt|gt|quot|#39|#96);/g,cr=/[&<>"'`]/g,fr=RegExp(ur.source),dr=RegExp(cr.source),hr=/<%-([\s\S]+?)%>/g,pr=/<%([\s\S]+?)%>/g,gr=/<%=([\s\S]+?)%>/g,mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,vr=/^\w*$/,yr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Dr=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,_r=RegExp(Dr.source),br=/[\u0300-\u036f\ufe20-\ufe23]/g,Cr=/\\(\\)?/g,Mr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wr=/\w*$/,Ar=/^0[xX]/,Ir=/^\[object .+?Constructor\]$/,kr=/^\d+$/,Tr=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,jo=/($^)/,xr=/['\n\r\u2028\u2029\\]/g,Er=(o="[A-Z\\xc0-\\xd6\\xd8-\\xde]",i="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(o+"+(?="+o+i+")|"+o+"?"+i+"|"+o+"+|[0-9]+","g")),Sr=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Nr=-1,Oo={},Lo=(Oo[Jo]=Oo[Xo]=Oo[$o]=Oo[er]=Oo[tr]=Oo[nr]=Oo[ir]=Oo[or]=Oo[rr]=!0,Oo[Co]=Oo[Mo]=Oo[No]=Oo[wo]=Oo[Ao]=Oo[Io]=Oo[ko]=Oo[e]=Oo[To]=Oo[xo]=Oo[Eo]=Oo[t]=Oo[So]=Oo[n]=!1,{}),r=(Lo[Co]=Lo[Mo]=Lo[No]=Lo[wo]=Lo[Ao]=Lo[Jo]=Lo[Xo]=Lo[$o]=Lo[er]=Lo[tr]=Lo[To]=Lo[xo]=Lo[Eo]=Lo[So]=Lo[nr]=Lo[ir]=Lo[or]=Lo[rr]=!0,Lo[Io]=Lo[ko]=Lo[e]=Lo[t]=Lo[n]=!1,{"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"}),s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},a={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},i={function:!0,object:!0},l={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},u={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},o=i[typeof p]&&p&&!p.nodeType&&p,e=i[typeof h]&&h&&!h.nodeType&&h,t=o&&e&&"object"==typeof d&&d&&d.Object&&d,n=i[typeof self]&&self&&self.Object&&self,i=i[typeof window]&&window&&window.Object&&window,c=e&&e.exports===o&&o,zo=t||i!==(this&&this.window)&&i||n||this;function jr(e,t){if(e!==t){var n=null===e,i=e===co,o=e==e,r=null===t,s=t===co,a=t==t;if(t<e&&!r||!o||n&&!s&&a||i&&a)return 1;if(e<t&&!n||!a||r&&!i&&o||s&&o)return-1}return 0}function Or(e,t,n){for(var i=e.length,o=n?i:-1;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Fo(e,t,n){if(t!=t)return Hr(e,n);for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}function Lr(e){return"function"==typeof e||!1}function Po(e){return null==e?"":e+""}function zr(e,t){for(var n=-1,i=e.length;++n<i&&-1<t.indexOf(e.charAt(n)););return n}function Fr(e,t){for(var n=e.length;n--&&-1<t.indexOf(e.charAt(n)););return n}function Pr(e,t){return jr(e.criteria,t.criteria)||e.index-t.index}function Rr(e){return r[e]}function Ur(e){return s[e]}function Br(e,t,n){return t?e=l[e]:n&&(e=u[e]),"\\"+e}function Yr(e){return"\\"+u[e]}function Hr(e,t,n){for(var i=e.length,o=t+(n?0:-1);n?o--:++o<i;){var r=e[o];if(r!=r)return o}return-1}function Ro(e){return!!e&&"object"==typeof e}function f(e){return e<=160&&9<=e&&e<=13||32==e||160==e||5760==e||6158==e||8192<=e&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Uo(e,t){for(var n=-1,i=e.length,o=-1,r=[];++n<i;)e[n]===t&&(e[n]=bo,r[++o]=n);return r}function Wr(e){for(var t=-1,n=e.length;++t<n&&f(e.charCodeAt(t)););return t}function Qr(e){for(var t=e.length;t--&&f(e.charCodeAt(t)););return t}function Vr(e){return a[e]}var Bo=function o(e){var w=(e=e?Bo.defaults(zo.Object(),e,Bo.pick(zo,Sr)):zo).Array,F=e.Date,P=e.Error,R=e.Function,t=e.Math,n=e.Number,m=e.Object,U=e.RegExp,B=e.String,D=e.TypeError,Y=w.prototype,i=m.prototype,H=B.prototype,W=R.prototype.toString,v=i.hasOwnProperty,Q=0,y=i.toString,V=zo._,G=U("^"+W.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=e.ArrayBuffer,Z=e.clearTimeout,K=e.parseFloat,J=t.pow,X=i.propertyIsEnumerable,$=qt(e,"Set"),ee=e.setTimeout,te=Y.splice,ne=e.Uint8Array,i=qt(e,"WeakMap"),ie=t.ceil,oe=qt(m,"create"),h=t.floor,re=qt(w,"isArray"),se=e.isFinite,ae=qt(m,"keys"),A=t.max,I=t.min,le=qt(F,"now"),ue=e.parseInt,ce=t.random,e=n.NEGATIVE_INFINITY,fe=n.POSITIVE_INFINITY,de=4294967295,he=de-1,pe=de>>>1,ge=9007199254740991,me=i&&new i,ve={};function d(e){if(Ro(e)&&!j(e)&&!(e instanceof g)){if(e instanceof p)return e;if(v.call(e,"__chain__")&&v.call(e,"__wrapped__"))return an(e)}return new p(e)}function ye(){}function p(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}d.support={};function g(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fe,this.__views__=[]}function De(){this.__data__={}}function _e(e){var t=e?e.length:0;for(this.data={hash:oe(null),set:new $};t--;)this.push(e[t])}function be(e,t){return e=e.data,("string"==typeof t||O(t)?e.set.has(t):e.hash[t])?0:-1}function k(e,t){var n=-1,i=e.length;for(t=t||w(i);++n<i;)t[n]=e[n];return t}function b(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}function Ce(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Me(e,t){for(var n=-1,i=e.length,o=-1,r=[];++n<i;){var s=e[n];t(s,n,e)&&(r[++o]=s)}return r}function we(e,t){for(var n=-1,i=e.length,o=w(i);++n<i;)o[n]=t(e[n],n,e);return o}function Ae(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}function Ie(e,t,n,i){var o=-1,r=e.length;for(i&&r&&(n=e[++o]);++o<r;)n=t(n,e[o],o,e);return n}function ke(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function Te(e,t,n,i){return e!==co&&v.call(i,n)?e:t}function xe(e,t,n){for(var i=-1,o=L(t),r=o.length;++i<r;){var s=o[i],a=e[s],l=n(a,t[s],s,e,t);(l==l?l===a:a!=a)&&(a!==co||s in e)||(e[s]=l)}return e}function Ee(e,t){return null==t?e:Ne(t,L(t),e)}function Se(e,t){for(var n=-1,i=null==e,o=!i&&C(e),r=o?e.length:0,s=t.length,a=w(s);++n<s;){var l=t[n];a[n]=o?T(l,r)?e[l]:co:i?co:e[l]}return a}function Ne(e,t,n){n=n||{};for(var i=-1,o=t.length;++i<o;){var r=t[i];n[r]=e[r]}return n}function je(e,t,n){var i=typeof e;return"function"==i?t===co?e:u(e,t,n):null==e?Xi:"object"==i?Je(e):t===co?oo(e):Xe(e,t)}function Oe(n,i,o,e,t,r,s){var a;if((a=o?t?o(n,e,t):o(n):a)!==co)return a;if(!O(n))return n;if(e=j(n)){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&v.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(n),!i)return k(n,a)}else{var l=y.call(n),u=l==ko;if(l!=xo&&l!=Co&&(!u||t)){if(Lo[l]){var c=n,f=i,d=c.constructor;switch(l){case No:return dt(c);case wo:case Ao:return new d(+c);case Jo:case Xo:case $o:case er:case tr:case nr:case ir:case or:case rr:var h=c.buffer;return new d(f?dt(h):h,c.byteOffset,c.length);case To:case So:return new d(c);case Eo:var p=new d(c.source,wr.exec(c));p.lastIndex=c.lastIndex}return p}return t?n:{}}if(a=function(e){return new(e="function"==typeof(e=e.constructor)&&e instanceof e?e:m)}(u?{}:n),!i)return Ee(a,n)}s=s||[];for(var g=(r=r||[]).length;g--;)if(r[g]==n)return s[g];return r.push(n),s.push(a),(e?b:_)(n,function(e,t){a[t]=Oe(e,i,o,t,n,r,s)}),a}d.templateSettings={escape:hr,evaluate:pr,interpolate:gr,variable:"",imports:{_:d}};var Le=function(e){var t;return O(e)&&(ze.prototype=e,t=new ze,ze.prototype=co),t||{}};function ze(){}function Fe(e,t,n){if("function"!=typeof e)throw new D(_o);return ee(function(){e.apply(co,n)},t)}function Pe(e,t){var n=e?e.length:0,i=[];if(!n)return i;var o=-1,r=Qt(),s=r==Fo,a=s&&t.length>=Do?Dt(t):null,l=t.length;a&&(r=be,s=!1,t=a);e:for(;++o<n;){var u=e[o];if(s&&u==u){for(var c=l;c--;)if(t[c]===u)continue e;i.push(u)}else r(t,u,0)<0&&i.push(u)}return i}var c=vt(_),n=vt(Qe,!0);function Re(e,i){var o=!0;return c(e,function(e,t,n){return o=!!i(e,t,n)}),o}function Ue(e,i){var o=[];return c(e,function(e,t,n){i(e,t,n)&&o.push(e)}),o}function Be(e,i,t,o){var r;return t(e,function(e,t,n){if(i(e,t,n))return r=o?t:e,!1}),r}function a(e,t,n,i){i=i||[];for(var o=-1,r=e.length;++o<r;){var s=e[o];Ro(s)&&C(s)&&(n||j(s)||N(s))?t?a(s,t,n,i):Ae(i,s):n||(i[i.length]=s)}return i}var Ye=yt(),He=yt(!0);function We(e,t){Ye(e,t,z)}function _(e,t){return Ye(e,t,L)}function Qe(e,t){return He(e,t,L)}function Ve(e,t){for(var n=-1,i=t.length,o=-1,r=[];++n<i;){var s=t[n];pi(e[s])&&(r[++o]=s)}return r}function Ge(e,t,n){if(null!=e){for(var i=0,o=((t=n!==co&&n in E(e)?[n]:t).length);null!=e&&i<o;)e=e[t[i++]];return i&&i==o?e:co}}function qe(e,t,n,i,o,r){if(e===t)return!0;if(null==e||null==t||!O(e)&&!Ro(t))return e!=e&&t!=t;var s=e,a=t,l=(e=qe,t=n,n=i,o),u=r,i=j(s),o=j(a),r=Mo,c=Mo,o=(i||((r=y.call(s))==Co?r=xo:r!=xo&&(i=_i(s))),o||((c=y.call(a))==Co?c=xo:c!=xo&&(o=_i(a))),r==xo),f=c==xo;if(!(c=r==c)||i||o){if(!n&&(r=o&&v.call(s,"__wrapped__"),o=f&&v.call(a,"__wrapped__"),r||o))return e(r?s.value():s,o?a.value():a,t,n,l,u);if(!c)return!1;u=u||[];for(var d=(l=l||[]).length;d--;)if(l[d]==s)return u[d]==a;return l.push(s),u.push(a),f=(i?Bt:Yt)(s,a,e,t,n,l,u),l.pop(),u.pop(),f}var h=s,p=a;switch(r){case wo:case Ao:return+h==+p;case Io:return h.name==p.name&&h.message==p.message;case To:return h!=+h?p!=+p:h==+p;case Eo:case So:return h==p+""}return!1}function Ze(e,t,n){var i=t.length,o=i,r=!n;if(null==e)return!o;for(e=E(e);i--;){var s=t[i];if(r&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var a=(s=t[i])[0],l=e[a],u=s[1];if(r&&s[2]){if(l===co&&!(a in e))return!1}else if(!((a=n?n(l,u,a):co)===co?qe(u,l,n,!0):a))return!1}return!0}function Ke(e,i){var o=-1,r=C(e)?w(e.length):[];return c(e,function(e,t,n){r[++o]=i(e,t,n)}),r}function Je(e){var t,n,i=Gt(e);return 1==i.length&&i[0][2]?(t=i[0][0],n=i[0][1],function(e){return null!=e&&e[t]===n&&(n!==co||t in E(e))}):function(e){return Ze(e,i)}}function Xe(n,i){var o=j(n),r=Kt(n)&&Xt(i),s=n+"";return n=S(n),function(e){if(null==e)return!1;var t=s;if(e=E(e),(o||!r)&&!(t in e)){if(null==(e=1==n.length?e:Ge(e,l(n,0,-1))))return!1;t=gn(n),e=E(e)}return e[t]===i?i!==co||t in e:qe(i,e[t],co,!0)}}function $e(t){return function(e){return null==e?co:e[t]}}function et(e,t){for(var n=e?t.length:0;n--;){var i,o=t[n];o!=i&&T(o)&&te.call(e,i=o,1)}}function tt(e,t){return e+h(ce()*(t-e+1))}var nt=me?function(e,t){return me.set(e,t),e}:Xi;function l(e,t,n){for(var i=-1,o=e.length,r=((n=n===co||o<n?o:+n||0)<0&&(n+=o),o=n<(t=(t=null!=t&&+t||0)<0?o<-t?0:o+t:t)?0:n-t>>>0,t>>>=0,w(o));++i<o;)r[i]=e[i+t];return r}function it(e,i){var o;return c(e,function(e,t,n){return!(o=i(e,t,n))}),!!o}function ot(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function rt(e,n,c){var t=f(),i=-1;return n=we(n,function(e){return t(e)}),ot(Ke(e,function(t){return{criteria:we(n,function(e){return e(t)}),index:++i,value:t}}),function(e,t){for(var n=c,i=-1,o=e.criteria,r=t.criteria,s=o.length,a=n.length;++i<s;){var l=jr(o[i],r[i]);if(l){if(a<=i)return l;var u=n[i];return l*("asc"===u||!0===u?1:-1)}}return e.index-t.index})}function st(e,t){var n=-1,i=Qt(),o=e.length,r=i==Fo,s=r&&Do<=o,a=s?Dt():null,l=[];a?(i=be,r=!1):(s=!1,a=t?[]:l);e:for(;++n<o;){var u=e[n],c=t?t(u,n,e):u;if(r&&u==u){for(var f=a.length;f--;)if(a[f]===c)continue e;t&&a.push(c),l.push(u)}else i(a,c,0)<0&&((t||s)&&a.push(c),l.push(u))}return l}function at(e,t){for(var n=-1,i=t.length,o=w(i);++n<i;)o[n]=e[t[n]];return o}function lt(e,t,n,i){for(var o=e.length,r=i?o:-1;(i?r--:++r<o)&&t(e[r],r,e););return n?l(e,i?0:r,i?r+1:o):l(e,i?r+1:0,i?o:r)}function ut(e,t){(r=e)instanceof g&&(r=r.value());for(var n=-1,i=t.length;++n<i;)var o=t[n],r=o.func.apply(o.thisArg,Ae([r],o.args));return r}function ct(e,t,n){var i=0,o=e?e.length:i;if("number"==typeof t&&t==t&&o<=pe){for(;i<o;){var r=i+o>>>1,s=e[r];(n?s<=t:s<t)&&null!==s?i=1+r:o=r}return o}return ft(e,t,Xi,n)}function ft(e,t,n,i){t=n(t);for(var o=0,r=e?e.length:0,s=t!=t,a=null===t,l=t===co;o<r;){var u=h((o+r)/2),c=n(e[u]),f=c!==co,d=c==c;(d=s?d||i:a?d&&f&&(i||null!=c):l?d&&(i||f):null!=c&&(i?c<=t:c<t))?o=u+1:r=u}return I(r,he)}function u(r,s,e){if("function"!=typeof r)return Xi;if(s===co)return r;switch(e){case 1:return function(e){return r.call(s,e)};case 3:return function(e,t,n){return r.call(s,e,t,n)};case 4:return function(e,t,n,i){return r.call(s,e,t,n,i)};case 5:return function(e,t,n,i,o){return r.call(s,e,t,n,i,o)}}return function(){return r.apply(s,arguments)}}function dt(e){var t=new q(e.byteLength);return new ne(t).set(new ne(e)),t}function ht(e,t,n){for(var i=n.length,o=-1,r=A(e.length-i,0),s=-1,a=t.length,l=w(a+r);++s<a;)l[s]=t[s];for(;++o<i;)l[n[o]]=e[o];for(;r--;)l[s++]=e[o++];return l}function pt(e,t,n){for(var i=-1,o=n.length,r=-1,s=A(e.length-o,0),a=-1,l=t.length,u=w(s+l);++r<s;)u[r]=e[r];for(var c=r;++a<l;)u[c+a]=t[a];for(;++i<o;)u[c+n[i]]=e[r++];return u}function gt(a,l){return function(e,i,t){var o=l?l():{};if(i=f(i,t,3),j(e))for(var n=-1,r=e.length;++n<r;){var s=e[n];a(o,s,i(s,n,e),e)}else c(e,function(e,t,n){a(o,e,i(e,t,n),n)});return o}}function mt(l){return s(function(e,t){var n=-1,i=null==e?0:t.length,o=2<i?t[i-2]:co,r=2<i?t[2]:co,s=1<i?t[i-1]:co;for("function"==typeof o?(o=u(o,s,5),i-=2):i-=(o="function"==typeof s?s:co)?1:0,r&&M(t[0],t[1],r)&&(o=i<3?co:o,i=1);++n<i;){var a=t[n];a&&l(e,a,o)}return e})}function vt(r,s){return function(e,t){var n=e?Vt(e):0;if(!x(n))return r(e,t);for(var i=s?n:-1,o=E(e);(s?i--:++i<n)&&!1!==t(o[i],i,o););return e}}function yt(l){return function(e,t,n){for(var i=E(e),o=n(e),r=o.length,s=l?r:-1;l?s--:++s<r;){var a=o[s];if(!1===t(i[a],a,i))break}return e}}function Dt(e){return oe&&$?new _e(e):null}function _t(r){return function(e){for(var t=-1,n=Zi(Bi(e)),i=n.length,o="";++t<i;)o=r(o,n[t],t);return o}}function bt(i){return function(){var e=arguments;switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3]);case 5:return new i(e[0],e[1],e[2],e[3],e[4]);case 6:return new i(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Le(i.prototype),n=i.apply(t,e);return O(n)?n:t}}function Ct(o){return function e(t,n,i){return i&&M(t,n,i)&&(n=co),(i=r(t,o,co,co,co,co,co,n)).placeholder=e.placeholder,i}}function Mt(n,i){return s(function(e){var t=e[0];return null==t?t:(e.push(i),n.apply(co,e))})}function wt(l,u){return function(e,t,n){return 1!=(t=f(t=n&&M(e,t,n)?co:t,n,3)).length||(n=function(e,t,n,i){for(var o=-1,r=e.length,s=i,a=s;++o<r;){var l=e[o],u=+t(l);n(u,s)&&(s=u,a=l)}return a}(e=j(e)?e:sn(e),t,l,u),e.length&&n===u)?(i=t,o=l,a=s=r=u,c(e,function(e,t,n){t=+i(e,t,n),(o(t,s)||t===r&&t===a)&&(s=t,a=e)}),a):n;var i,o,r,s,a}}function At(i,o){return function(e,t,n){return t=f(t,n,3),j(e)?-1<(n=Or(e,t,o))?e[n]:co:Be(e,t,i)}}function It(i){return function(e,t,n){return e&&e.length?Or(e,t=f(t,n,3),i):-1}}function kt(i){return function(e,t,n){return Be(e,t=f(t,n,3),i,!0)}}function Tt(l){return function(){for(var o=arguments.length,e=l?o:-1,t=0,r=w(o);l?e--:++e<o;){var n=r[t++]=arguments[e];if("function"!=typeof n)throw new D(_o);!a&&p.prototype.thru&&"wrapper"==Wt(n)&&(a=new p([],!0))}for(e=a?-1:o;++e<o;)var i=Wt(n=r[e]),s="wrapper"==i?Ht(n):co,a=s&&Jt(s[0])&&s[1]==(vo|po|go|yo)&&!s[4].length&&1==s[9]?a[Wt(s[0])].apply(a,s[3]):1==n.length&&Jt(n)?a[i]():a.thru(n);return function(){var e=arguments,t=e[0];if(a&&1==e.length&&j(t)&&t.length>=Do)return a.plant(t).value();for(var n=0,i=o?r[n].apply(this,e):t;++n<o;)i=r[n].call(this,i);return i}}}function xt(i,o){return function(e,t,n){return"function"==typeof t&&n===co&&j(e)?i(e,t):o(e,u(t,n,3))}}function Et(i){return function(e,t,n){return"function"==typeof t&&n===co||(t=u(t,n,3)),i(e,t,z)}}function St(i){return function(e,t,n){return"function"==typeof t&&n===co||(t=u(t,n,3)),i(e,t)}}function Nt(r){return function(e,i,t){var o={};return i=f(i,t,3),_(e,function(e,t,n){n=i(e,t,n),o[t=r?n:t]=e=r?e:n}),o}}function jt(i){return function(e,t,n){return e=Po(e),(i?e:"")+Ft(e,t,n)+(i?"":e)}}function Ot(i){var o=s(function(e,t){var n=Uo(t,o.placeholder);return r(e,i,co,t,n)});return o}function Lt(u,c){return function(e,t,n,i){var o,r,s,a,l=arguments.length<3;return"function"==typeof t&&i===co&&j(e)?u(e,t,n,l):(o=e,r=f(t,i,4),s=n,a=l,c(o,function(e,t,n){s=a?(a=!1,e):r(s,e,t,n)}),s)}}function zt(a,l,u,c,f,d,h,p,g,m){var v=l&vo,y=l&fo,D=l&ho,_=l&po,b=l&Ho,C=l&Wo,M=D?co:bt(a);return function e(){for(var t=arguments.length,n=t,i=w(t);n--;)i[n]=arguments[n];if(c&&(i=ht(i,c,f)),d&&(i=pt(i,d,h)),_||C){var o,r=e.placeholder,s=Uo(i,r);if((t-=s.length)<m)return o=p?k(p):co,t=A(m-t,0),l=(l|(_?go:mo))&~(_?mo:go),b||(l&=~(fo|ho)),s=[a,l,u,_?i:co,_?s:co,_?co:i,_?co:s,o,g,t],o=zt.apply(co,s),Jt(a)&&on(o,s),o.placeholder=r,o}return t=y?u:this,s=D?t[a]:a,p&&(i=function(e,t){for(var n=e.length,i=I(t.length,n),o=k(e);i--;){var r=t[i];e[i]=T(r,n)?o[r]:co}return e}(i,p)),v&&g<i.length&&(i.length=g),(s=this&&this!==zo&&this instanceof e?M||bt(a):s).apply(t,i)}}function Ft(e,t,n){return e=e.length,(t=+t)<=e||!se(t)?"":Qi(n=null==n?" ":n+"",ie((t-=e)/n.length)).slice(0,t)}function Pt(s,e,a,l){var u=e&fo,c=bt(s);return function e(){for(var t=-1,n=arguments.length,i=-1,o=l.length,r=w(o+n);++i<o;)r[i]=l[i];for(;n--;)r[i++]=arguments[++t];return(this&&this!==zo&&this instanceof e?c:s).apply(u?a:this,r)}}function Rt(e){var n=t[e];return function(e,t){return(t=t!==co&&+t||0)?(t=J(10,t),n(e*t)/t):n(e)}}function Ut(r){return function(e,t,n,i){var o=f(n);return null==n&&o===je?ct(e,t,r):ft(e,t,o(n,i,1),r)}}function r(e,t,n,i,o,r,s,a){var l=t&ho;if(!l&&"function"!=typeof e)throw new D(_o);var u,c,f,d=i?i.length:0,h=(d||(t&=~(go|mo),i=o=co),d-=o?o.length:0,t&mo&&(p=i,m=o,i=o=co),l?co:Ht(e)),n=[e,t,n,i,o,p,m,r,s,a];{var p,g,m,r,s,v,y;h&&(p=h,m=(o=n)[1],r=p[1],v=(s=m|r)<vo,y=r==vo&&m==po||r==vo&&m==yo&&o[7].length<=p[8]||r==(vo|yo)&&m==po,(v||y)&&(r&fo&&(o[2]=p[2],s|=m&fo?0:Ho),(v=p[3])&&(g=o[3],o[3]=g?ht(g,v,p[4]):k(v),o[4]=g?Uo(o[3],bo):k(p[4])),(v=p[5])&&(g=o[5],o[5]=g?pt(g,v,p[6]):k(v),o[6]=g?Uo(o[5],bo):k(p[6])),(v=p[7])&&(o[7]=k(v)),r&vo&&(o[8]=null==o[8]?p[8]:I(o[8],p[8])),null==o[9]&&(o[9]=p[9]),o[0]=p[0],o[1]=s),t=n[1],a=n[9])}return n[9]=null==a?l?0:e.length:A(a-d,0)||0,i=t==fo?(u=n[0],c=n[2],f=bt(u),function e(){return(this&&this!==zo&&this instanceof e?f:u).apply(c,arguments)}):(t!=go&&t!=(fo|go)||n[4].length?zt:Pt).apply(co,n),(h?nt:on)(i,n)}function Bt(e,t,n,i,o,r,s){var a=-1,l=e.length,u=t.length;if(l!=u&&!(o&&l<u))return!1;for(;++a<l;){var c=e[a],f=t[a],d=i?i(o?f:c,o?c:f,a):co;if(d!==co){if(d)continue;return!1}if(o){if(!ke(t,function(e){return c===e||n(c,e,i,o,r,s)}))return!1}else if(c!==f&&!n(c,f,i,o,r,s))return!1}return!0}function Yt(e,t,n,i,o,r,s){var a=L(e),l=a.length;if(l!=L(t).length&&!o)return!1;for(var u=l;u--;){var c=a[u];if(!(o?c in t:v.call(t,c)))return!1}for(var f=o;++u<l;){var d=e[c=a[u]],h=t[c],p=i?i(o?h:d,o?d:h,c):co;if(!(p===co?n(d,h,i,o,r,s):p))return!1;f=f||"constructor"==c}if(!f){var g=e.constructor,m=t.constructor;if(g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0}function f(e,t,n){var i=(i=d.callback||Ji)===Ji?je:i;return n?i(e,t,n):i}var Ht=me?function(e){return me.get(e)}:io;function Wt(e){for(var t=e.name,n=ve[t],i=n?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==e)return o.name}return t}function Qt(e,t,n){var i=(i=d.indexOf||hn)===hn?Fo:i;return e?i(e,t,n):i}var Vt=$e("length");function Gt(e){for(var t=Fi(e),n=t.length;n--;)t[n][2]=Xt(t[n][1]);return t}function qt(e,t){return e=null==e?co:e[t],gi(e)?e:co}function Zt(e,t,n){return null==e||Kt(t,e)||(e=1==(t=S(t)).length?e:Ge(e,l(t,0,-1)),t=gn(t)),null==(t=null==e?e:e[t])?co:t.apply(e,n)}function C(e){return null!=e&&x(Vt(e))}function T(e,t){return e="number"==typeof e||kr.test(e)?+e:-1,t=null==t?ge:t,-1<e&&e%1==0&&e<t}function M(e,t,n){if(!O(n))return!1;var i=typeof t;return!!("number"==i?C(n)&&T(t,n.length):"string"==i&&t in n)&&(i=n[t],e==e?e===i:i!=i)}function Kt(e,t){var n=typeof e;return!!("string"==n&&vr.test(e)||"number"==n)||!j(e)&&(!mr.test(e)||null!=t&&e in E(t))}function Jt(e){var t=Wt(e);return t in g.prototype&&(e===(t=d[t])||!!(t=Ht(t))&&e===t[0])}function x(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=ge}function Xt(e){return e==e&&!O(e)}function $t(e,t){e=E(e);for(var n=-1,i=t.length,o={};++n<i;){var r=t[n];r in e&&(o[r]=e[r])}return o}function en(e,i){var o={};return We(e,function(e,t,n){i(e,t,n)&&(o[t]=e)}),o}nn=tn=0;var tn,nn,on=function(e,t){var n=Zn(),i=qo-(n-nn);if(nn=n,0<i){if(++tn>=Go)return e}else tn=0;return nt(e,t)};function rn(e){for(var t=z(e),n=t.length,i=n&&e.length,o=!!i&&x(i)&&(j(e)||N(e)),r=-1,s=[];++r<n;){var a=t[r];(o&&T(a,i)||v.call(e,a))&&s.push(a)}return s}function sn(e){return null==e?[]:C(e)?O(e)?e:m(e):Ri(e)}function E(e){return O(e)?e:m(e)}function S(e){if(j(e))return e;var o=[];return Po(e).replace(yr,function(e,t,n,i){o.push(n?i.replace(Cr,"$1"):t||e)}),o}function an(e){return e instanceof g?e.clone():new p(e.__wrapped__,e.__chain__,k(e.__actions__))}i=s(function(e,t){return Ro(e)&&C(e)?Pe(e,a(t,!1,!0)):[]});function ln(e,t,n){return e&&e.length?l(e,(t=(n?M(e,t,n):null==t)?1:t)<0?0:t):[]}function un(e,t,n){var i=e?e.length:0;return i?l(e,0,(t=i-(+((n?M(e,t,n):null==t)?1:t)||0))<0?0:t):[]}var cn=It(),fn=It(!0);function dn(e){return e?e[0]:co}function hn(e,t,n){var i,o=e?e.length:0;if(!o)return-1;if("number"==typeof n)n=n<0?A(o+n,0):n;else if(n)return(i=ct(e,t))<o&&(t==t?t===e[i]:e[i]!=e[i])?i:-1;return Fo(e,t,n||0)}var pn=s(function(e){for(var t=e.length,n=t,i=w(void 0),o=Qt(),r=o==Fo,s=[];n--;){var a=e[n]=C(a=e[n])?a:[];i[n]=r&&120<=a.length?Dt(n&&a):null}var l=e[0],u=-1,c=l?l.length:0,f=i[0];e:for(;++u<c;)if(a=l[u],(f?be(f,a):o(s,a,0))<0){for(n=t;--n;){var d=i[n];if((d?be(d,a):o(e[n],a,0))<0)continue e}f&&f.push(a),s.push(a)}return s});function gn(e){var t=e?e.length:0;return t?e[t-1]:co}var mn=s(function(e,t){var n=Se(e,t=a(t));return et(e,t.sort(jr)),n});function vn(e){return ln(e,1)}var yn=Ut(),Dn=Ut(!0);var _n=s(function(e){return st(a(e,!1,!0))});function bn(e,t,n,i){if(!e||!e.length)return[];null!=t&&"boolean"!=typeof t&&(n=M(e,t,i=n)?co:t,t=!1);var o=f();return null==n&&o===je||(n=o(n,i,3)),(t&&Qt()==Fo?function(e,t){for(var n,i=-1,o=e.length,r=-1,s=[];++i<o;){var a=e[i],l=t?t(a,i,e):a;i&&n===l||(n=l,s[++r]=a)}return s}:st)(e,n)}function Cn(e){if(!e||!e.length)return[];for(var t=-1,n=0,i=(e=Me(e,function(e){return C(e)&&(n=A(e.length,n),1)}),w(n));++t<n;)i[t]=we(e,$e(t));return i}function Mn(e,t,n){return e&&e.length?(e=Cn(e),null==t?e:(t=u(t,n,4),we(e,function(e){return Ie(e,t,co,!0)}))):[]}var wn=s(function(e,t){return C(e)?Pe(e,t):[]});var An=s(Cn);function In(e,t){var n=-1,i=e?e.length:0,o={};for(!i||t||j(e[0])||(t=[]);++n<i;){var r=e[n];t?o[r]=t[n]:r&&(o[r[0]]=r[1])}return o}var kn=s(function(e){var t=e.length,n=2<t?e[t-2]:co,i=1<t?e[t-1]:co;return 2<t&&"function"==typeof n?t-=2:(n=1<t&&"function"==typeof i?(--t,i):co,i=co),e.length=t,Mn(e,n,i)});function Tn(e){return(e=d(e)).__chain__=!0,e}function xn(e,t,n){return t.call(n,e)}var En=s(function(l){return l=a(l),this.thru(function(e){for(var t=j(e)?e:[E(e)],n=l,i=-1,o=t.length,r=-1,s=n.length,a=w(o+s);++i<o;)a[i]=t[i];for(;++r<s;)a[i++]=n[r];return a})});var Sn=s(function(e,t){return Se(e,a(t))}),Nn=gt(function(e,t,n){v.call(e,n)?++e[n]:e[n]=1});function jn(e,t,n){return(j(e)?Ce:Re)(e,t="function"==typeof(t=n&&M(e,t,n)?co:t)&&n===co?t:f(t,n,3))}function On(e,t,n){return(j(e)?Me:Ue)(e,t=f(t,n,3))}var Ln=At(c),zn=At(n,!0);var Fn=xt(b,c),Pn=xt(function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e},n),Rn=gt(function(e,t,n){v.call(e,n)?e[n].push(t):e[n]=[t]});function Un(e,t,n,i){var o=e?Vt(e):0;return x(o)||(o=(e=Ri(e)).length),n="number"!=typeof n||i&&M(t,n,i)?0:n<0?A(o+n,0):n||0,"string"==typeof e||!j(e)&&Di(e)?n<=o&&-1<e.indexOf(t,n):!!o&&-1<Qt(e,t,n)}var Bn=gt(function(e,t,n){e[n]=t}),Yn=s(function(e,n,i){var o=-1,r="function"==typeof n,s=Kt(n),a=C(e)?w(e.length):[];return c(e,function(e){var t=r?n:s&&null!=e?e[n]:co;a[++o]=t?t.apply(e,i):Zt(e,n,i)}),a});function Hn(e,t,n){return(j(e)?we:Ke)(e,t=f(t,n,3))}var Wn=gt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Qn=Lt(Ie,c),n=Lt(function(e,t,n,i){var o=e.length;for(i&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n},n);function Vn(e,t,n){if(n?M(e,t,n):null==t)return 0<(i=(e=sn(e)).length)?e[tt(0,i-1)]:co;var i,o=-1,r=Ci(e),s=(i=r.length)-1;for(t=I(!(t<0)&&+t||0,i);++o<t;){var a=tt(o,s),l=r[a];r[a]=r[o],r[o]=l}return r.length=t,r}function Gn(e,t,n){return(j(e)?ke:it)(e,t="function"==typeof(t=n&&M(e,t,n)?co:t)&&n===co?t:f(t,n,3))}var qn=s(function(e,t){if(null==e)return[];var n=t[2];return n&&M(t[0],t[1],n)&&(t.length=1),rt(e,a(t),[])});var Zn=le||function(){return(new F).getTime()};function Kn(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new D(_o);var i=e;e=t,t=i}return function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=co),n}}var Jn=s(function(e,t,n){var i,o=fo;return n.length&&(i=Uo(n,Jn.placeholder),o|=go),r(e,o,t,n,i)}),le=s(function(e,t){for(var n=-1,i=(t=t.length?a(t):ji(e)).length;++n<i;){var o=t[n];e[o]=r(e[o],fo,e)}return e}),Xn=s(function(e,t,n){var i,o=fo|ho;return n.length&&(i=Uo(n,Xn.placeholder),o|=go),r(t,o,e,n,i)}),$n=Ct(po),ei=Ct(Wo);function ti(i,o,e){var r,s,a,l,u,c,f,d,h=0,p=!1,g=!0;if("function"!=typeof i)throw new D(_o);function t(e,t){t&&Z(t),s=c=f=co,e&&(h=Zn(),a=i.apply(u,r),c||s||(r=u=co))}function m(){var e=o-(Zn()-l);e<=0||o<e?t(f,s):c=ee(m,e)}function v(){t(g,c)}function n(){var e,t,n;return r=arguments,l=Zn(),u=this,f=g&&(c||!d),!1===p?e=d&&!c:(n=(t=p-(l-(h=s||d?h:l)))<=0||p<t)?(s=s&&Z(s),h=l,a=i.apply(u,r)):s=s||ee(v,t),n&&c?c=Z(c):c||o===p||(c=ee(m,o)),e&&(n=!0,a=i.apply(u,r)),!n||c||s||(r=u=co),a}return o=!(o<0)&&+o||0,!0===e?g=!(d=!0):O(e)&&(d=!!e.leading,p="maxWait"in e&&A(+e.maxWait||0,o),g="trailing"in e?!!e.trailing:g),n.cancel=function(){c&&Z(c),s&&Z(s),h=0,s=c=f=co},n}var ni=s(function(e,t){return Fe(e,1,t)}),ii=s(Fe),oi=Tt(),ri=Tt(!0);function si(i,o){if("function"!=typeof i||o&&"function"!=typeof o)throw new D(_o);function r(){var e=arguments,t=o?o.apply(this,e):e[0],n=r.cache;return n.has(t)?n.get(t):(e=i.apply(this,e),r.cache=n.set(t,e),e)}return r.cache=new si.Cache,r}var ai=s(function(n,i){if(i=a(i),"function"!=typeof n||!Ce(i,Lr))throw new D(_o);var o=i.length;return s(function(e){for(var t=I(e.length,o);t--;)e[t]=i[t](e[t]);return n.apply(this,e)})});var li=Ot(go),ui=Ot(mo),ci=s(function(e,t){return r(e,yo,co,co,co,a(t))});function s(r,s){if("function"!=typeof r)throw new D(_o);return s=A(s===co?r.length-1:+s||0,0),function(){for(var e=arguments,t=-1,n=A(e.length-s,0),i=w(n);++t<n;)i[t]=e[s+t];switch(s){case 0:return r.call(this,i);case 1:return r.call(this,e[0],i);case 2:return r.call(this,e[0],e[1],i)}for(var o=w(s+1),t=-1;++t<s;)o[t]=e[t];return o[s]=i,r.apply(this,o)}}function fi(e,t){return t<e}function N(e){return Ro(e)&&C(e)&&v.call(e,"callee")&&!X.call(e,"callee")}var j=re||function(e){return Ro(e)&&x(e.length)&&y.call(e)==Mo};function di(e,t,n,i){return(i=(n="function"==typeof n?u(n,i,3):co)?n(e,t):co)===co?qe(e,t,n):!!i}function hi(e){return Ro(e)&&"string"==typeof e.message&&y.call(e)==Io}function pi(e){return O(e)&&y.call(e)==ko}function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function gi(e){return null!=e&&(pi(e)?G.test(W.call(e)):Ro(e)&&Ir.test(e))}function mi(e){return"number"==typeof e||Ro(e)&&y.call(e)==To}function vi(e){var t,n;return!(!Ro(e)||y.call(e)!=xo||N(e)||!(v.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))&&(We(e,function(e,t){n=t}),n===co||v.call(e,n))}function yi(e){return O(e)&&y.call(e)==Eo}function Di(e){return"string"==typeof e||Ro(e)&&y.call(e)==So}function _i(e){return Ro(e)&&x(e.length)&&!!Oo[y.call(e)]}function bi(e,t){return e<t}function Ci(e){var t=e?Vt(e):0;return x(t)?t?k(e):[]:Ri(e)}function Mi(e){return Ne(e,z(e))}var wi=mt(function h(p,g,m,v,y){if(!O(p))return p;var D=C(g)&&(j(g)||_i(g)),_=D?co:L(g);return b(_||g,function(e,t){if(Ro(e=_?g[t=e]:e)){for(var n=p,i=g,o=t,r=h,s=m,a=v=v||[],l=y=y||[],u=a.length,c=i[o];u--;)if(a[u]==c)return void(n[o]=l[u]);var f=n[o],d=(i=s?s(f,c,o,n,i):co)===co;d&&(C(i=c)&&(j(c)||_i(c))?i=j(f)?f:C(f)?k(f):[]:vi(c)||N(c)?i=N(f)?Mi(f):vi(f)?f:{}:d=!1),a.push(c),l.push(i),d?n[o]=r(i,c,s,a,l):(i==i?i!==f:f==f)&&(n[o]=i)}else d=p[t],r=m?m(d,e,t,p,g):co,(r=(s=r===co)?e:r)===co&&(!D||t in p)||!s&&(r==r?r===d:d!=d)||(p[t]=r)}),p}),re=mt(function(e,t,n){n?xe(e,t,n):Ee(e,t)});var Ai=Mt(re,function(e,t){return e===co?t:e}),Ii=Mt(wi,function e(t,n){return t===co?n:wi(t,n,e)}),ki=kt(_),Ti=kt(Qe),xi=Et(Ye),Ei=Et(He),Si=St(_),Ni=St(Qe);function ji(e){return Ve(e,z(e))}var L=ae?function(e){var t=null==e?co:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&C(e)?rn(e):O(e)?ae(e):[]}:rn;function z(e){if(null==e)return[];for(var t,n=(n=(e=O(e)?e:m(e)).length)&&x(n)&&(j(e)||N(e))&&n||0,i=e.constructor,o=-1,r="function"==typeof i&&i.prototype===e,s=w(n),a=0<n;++o<n;)s[o]=o+"";for(t in e)a&&T(t,n)||"constructor"==t&&(r||!v.call(e,t))||s.push(t);return s}var Oi=Nt(!0),Li=Nt(),zi=s(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=we(a(t),B),$t(e,Pe(z(e),t));var i=u(t[0],t[1],3);return en(e,function(e,t,n){return!i(e,t,n)})});function Fi(e){e=E(e);for(var t=-1,n=L(e),i=n.length,o=w(i);++t<i;){var r=n[t];o[t]=[r,e[r]]}return o}var Pi=s(function(e,t){return null==e?{}:"function"==typeof t[0]?en(e,u(t[0],t[1],3)):$t(e,a(t))});function Ri(e){return at(e,L(e))}var Ui=_t(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)});function Bi(e){return(e=Po(e))&&e.replace(Tr,Rr).replace(br,"")}var Yi=_t(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});var Hi=jt(),Wi=jt(!0);function Qi(e,t){var n="";if(e=Po(e),(t=+t)<1||!e||!se(t))return n;for(;t%2&&(n+=e),e+=e,t=h(t/2););return n}var Vi=_t(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Gi=_t(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});function qi(e,t,n){var i=e;return(e=Po(e))?(n?M(i,t,n):null==t)?e.slice(Wr(e),Qr(e)+1):e.slice(zr(e,t+=""),Fr(e,t)+1):e}function Zi(e,t,n){return n&&M(e,t,n)&&(t=co),(e=Po(e)).match(t||Er)||[]}var Ki=s(function(e,t){try{return e.apply(co,t)}catch(e){return hi(e)?e:new P(e)}});function Ji(e,t,n){return n&&M(e,t,n)&&(t=co),Ro(e)?$i(e):je(e,t)}function Xi(e){return e}function $i(e){return Je(Oe(e,!0))}var eo=s(function(t,n){return function(e){return Zt(e,t,n)}}),to=s(function(t,n){return function(e){return Zt(t,e,n)}});function no(i,e,t){null!=t||((r=(o=(n=O(e))?L(e):co)&&o.length?Ve(e,o):co)?r.length:n)||(r=!1,t=e,e=i,i=this),r=r||Ve(e,L(e));var n,o,r,s=!0,a=-1,l=pi(i),u=r.length;!1===t?s=!1:O(t)&&"chain"in t&&(s=t.chain);for(;++a<u;){var c=r[a],f=e[c];i[c]=f,l&&(i.prototype[c]=function(n){return function(){var e,t=this.__chain__;return s||t?(((e=i(this.__wrapped__)).__actions__=k(this.__actions__)).push({func:n,args:arguments,thisArg:i}),e.__chain__=t,e):n.apply(i,Ae([this.value()],arguments))}}(f))}return i}function io(){}function oo(e){return Kt(e)?$e(e):(n=(t=e)+"",t=S(e),function(e){return Ge(e,t,n)});var t,n}var ro,so=Rt("ceil"),ao=Rt("floor"),e=wt(fi,e),lo=wt(bi,fe),uo=Rt("round");return d.prototype=ye.prototype,(p.prototype=Le(ye.prototype)).constructor=p,(g.prototype=Le(ye.prototype)).constructor=g,De.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},De.prototype.get=function(e){return"__proto__"==e?co:this.__data__[e]},De.prototype.has=function(e){return"__proto__"!=e&&v.call(this.__data__,e)},De.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},_e.prototype.push=function(e){var t=this.data;"string"==typeof e||O(e)?t.set.add(e):t.hash[e]=!0},si.Cache=De,d.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new D(_o);var n=e;e=t,t=n}return e=se(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},d.ary=function(e,t,n){return n&&M(e,t,n)&&(t=co),t=e&&null==t?e.length:A(+t||0,0),r(e,vo,co,co,co,co,t)},d.assign=re,d.at=Sn,d.before=Kn,d.bind=Jn,d.bindAll=le,d.bindKey=Xn,d.callback=Ji,d.chain=Tn,d.chunk=function(e,t,n){t=(n?M(e,t,n):null==t)?1:A(h(t)||1,1);for(var i=0,o=e?e.length:0,r=-1,s=w(ie(o/t));i<o;)s[++r]=l(e,i,i+=t);return s},d.compact=function(e){for(var t=-1,n=e?e.length:0,i=-1,o=[];++t<n;){var r=e[t];r&&(o[++i]=r)}return o},d.constant=function(e){return function(){return e}},d.countBy=Nn,d.create=function(e,t,n){var i=Le(e);return(t=n&&M(e,t,n)?co:t)?Ee(i,t):i},d.curry=$n,d.curryRight=ei,d.debounce=ti,d.defaults=Ai,d.defaultsDeep=Ii,d.defer=ni,d.delay=ii,d.difference=i,d.drop=ln,d.dropRight=un,d.dropRightWhile=function(e,t,n){return e&&e.length?lt(e,f(t,n,3),!0,!0):[]},d.dropWhile=function(e,t,n){return e&&e.length?lt(e,f(t,n,3),!0):[]},d.fill=function(e,t,n,i){if(!(a=e?e.length:0))return[];n&&"number"!=typeof n&&M(e,t,n)&&(n=0,i=a);var o=e,r=t,s=n,a=i,l=o.length;for((a=a===co||l<a?l:+a||0)<0&&(a+=l),l=a<(s=(s=null!=s&&+s||0)<0?l<-s?0:l+s:s)?0:a>>>0,s>>>=0;s<l;)o[s++]=r;return o},d.filter=On,d.flatten=function(e,t,n){var i=e?e.length:0;return n&&M(e,t,n)&&(t=!1),i?a(e,t):[]},d.flattenDeep=function(e){return e&&e.length?a(e,!0):[]},d.flow=oi,d.flowRight=ri,d.forEach=Fn,d.forEachRight=Pn,d.forIn=xi,d.forInRight=Ei,d.forOwn=Si,d.forOwnRight=Ni,d.functions=ji,d.groupBy=Rn,d.indexBy=Bn,d.initial=function(e){return un(e,1)},d.intersection=pn,d.invert=function(e,t,n){n&&M(e,t,n)&&(t=co);for(var i=-1,o=L(e),r=o.length,s={};++i<r;){var a=o[i],l=e[a];t?v.call(s,l)?s[l].push(a):s[l]=[a]:s[l]=a}return s},d.invoke=Yn,d.keys=L,d.keysIn=z,d.map=Hn,d.mapKeys=Oi,d.mapValues=Li,d.matches=$i,d.matchesProperty=function(e,t){return Xe(e,Oe(t,!0))},d.memoize=si,d.merge=wi,d.method=eo,d.methodOf=to,d.mixin=no,d.modArgs=ai,d.negate=function(e){if("function"!=typeof e)throw new D(_o);return function(){return!e.apply(this,arguments)}},d.omit=zi,d.once=function(e){return Kn(2,e)},d.pairs=Fi,d.partial=li,d.partialRight=ui,d.partition=Wn,d.pick=Pi,d.pluck=function(e,t){return Hn(e,oo(t))},d.property=oo,d.propertyOf=function(t){return function(e){return Ge(t,S(e),e+"")}},d.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,i=Qt(),o=e.length;++n<o;)for(var r=0,s=e[n];-1<(r=i(t,s,r));)te.call(t,r,1);return t},d.pullAt=mn,d.range=function(e,t,n){n&&M(e,t,n)&&(t=n=co),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,o=A(ie((t-e)/((n=null==n?1:+n||0)||1)),0),r=w(o);++i<o;)r[i]=e,e+=n;return r},d.rearg=ci,d.reject=function(e,i,t){var n=j(e)?Me:Ue;return i=f(i,t,3),n(e,function(e,t,n){return!i(e,t,n)})},d.remove=function(e,t,n){var i=[];if(!e||!e.length)return i;var o=-1,r=[],s=e.length;for(t=f(t,n,3);++o<s;){var a=e[o];t(a,o,e)&&(i.push(a),r.push(o))}return et(e,r),i},d.rest=vn,d.restParam=s,d.set=function(e,t,n){if(null==e)return e;for(var i=t+"",o=-1,r=(t=null!=e[i]||Kt(t,e)?[i]:S(t)).length,s=r-1,a=e;null!=a&&++o<r;){var l=t[o];O(a)&&(o==s?a[l]=n:null==a[l]&&(a[l]=T(t[o+1])?[]:{})),a=a[l]}return e},d.shuffle=function(e){return Vn(e,fe)},d.slice=function(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&M(e,t,n)&&(t=0,n=i),l(e,t,n)):[]},d.sortBy=function(e,i,t){if(null==e)return[];t&&M(e,i,t)&&(i=co);var o=-1;return i=f(i,t,3),ot(Ke(e,function(e,t,n){return{criteria:i(e,t,n),index:++o,value:e}}),Pr)},d.sortByAll=qn,d.sortByOrder=function(e,t,n,i){return null==e?[]:(i&&M(t,n,i)&&(n=co),rt(e,t=j(t)?t:null==t?[]:[t],n=j(n)?n:null==n?[]:[n]))},d.spread=function(t){if("function"!=typeof t)throw new D(_o);return function(e){return t.apply(this,e)}},d.take=function(e,t,n){return e&&e.length?l(e,0,(t=(n?M(e,t,n):null==t)?1:t)<0?0:t):[]},d.takeRight=function(e,t,n){var i=e?e.length:0;return i?l(e,(t=i-(+((n?M(e,t,n):null==t)?1:t)||0))<0?0:t):[]},d.takeRightWhile=function(e,t,n){return e&&e.length?lt(e,f(t,n,3),!1,!0):[]},d.takeWhile=function(e,t,n){return e&&e.length?lt(e,f(t,n,3)):[]},d.tap=function(e,t,n){return t.call(n,e),e},d.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new D(_o);return!1===n?i=!1:O(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ti(e,t,{leading:i,maxWait:+t,trailing:o})},d.thru=xn,d.times=function(e,t,n){if((e=h(e))<1||!se(e))return[];var i=-1,o=w(I(e,de));for(t=u(t,n,1);++i<e;)i<de?o[i]=t(i):t(i);return o},d.toArray=Ci,d.toPlainObject=Mi,d.transform=function(e,i,o,t){var n=j(e)||_i(e);return i=f(i,t,4),null==o&&(o=n||O(e)?(t=e.constructor,n?j(e)?new t:[]:Le(pi(t)?t.prototype:co)):{}),(n?b:_)(e,function(e,t,n){return i(o,e,t,n)}),o},d.union=_n,d.uniq=bn,d.unzip=Cn,d.unzipWith=Mn,d.values=Ri,d.valuesIn=function(e){return at(e,z(e))},d.where=function(e,t){return On(e,Je(t))},d.without=wn,d.wrap=function(e,t){return r(t=null==t?Xi:t,go,co,[e],[])},d.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n,i=arguments[e];C(i)&&(n=n?Ae(Pe(n,i),Pe(i,n)):i)}return n?st(n):[]},d.zip=An,d.zipObject=In,d.zipWith=kn,d.backflow=ri,d.collect=Hn,d.compose=ri,d.each=Fn,d.eachRight=Pn,d.extend=re,d.iteratee=Ji,d.methods=ji,d.object=In,d.select=On,d.tail=vn,d.unique=bn,no(d,d),d.add=function(e,t){return(+e||0)+(+t||0)},d.attempt=Ki,d.camelCase=Ui,d.capitalize=function(e){return(e=Po(e))&&e.charAt(0).toUpperCase()+e.slice(1)},d.ceil=so,d.clone=function(e,t,n,i){return t&&"boolean"!=typeof t&&M(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),"function"==typeof n?Oe(e,t,u(n,i,1)):Oe(e,t)},d.cloneDeep=function(e,t,n){return"function"==typeof t?Oe(e,!0,u(t,n,1)):Oe(e,!0)},d.deburr=Bi,d.endsWith=function(e,t,n){t+="";var i=(e=Po(e)).length;return n=n===co?i:I(!(n<0)&&+n||0,i),0<=(n-=t.length)&&e.indexOf(t,n)==n},d.escape=function(e){return(e=Po(e))&&dr.test(e)?e.replace(cr,Ur):e},d.escapeRegExp=function(e){return(e=Po(e))&&_r.test(e)?e.replace(Dr,Br):e||"(?:)"},d.every=jn,d.find=Ln,d.findIndex=cn,d.findKey=ki,d.findLast=zn,d.findLastIndex=fn,d.findLastKey=Ti,d.findWhere=function(e,t){return Ln(e,Je(t))},d.first=dn,d.floor=ao,d.get=function(e,t,n){return(e=null==e?co:Ge(e,S(t),t+""))===co?n:e},d.gt=fi,d.gte=function(e,t){return t<=e},d.has=function(e,t){if(null==e)return!1;var n=v.call(e,t);if(!n&&!Kt(t)){if(null==(e=1==(t=S(t)).length?e:Ge(e,l(t,0,-1))))return!1;t=gn(t),n=v.call(e,t)}return n||x(e.length)&&T(t,e.length)&&(j(e)||N(e))},d.identity=Xi,d.includes=Un,d.indexOf=hn,d.inRange=function(e,t,n){return t=+t||0,n===co?(n=t,t=0):n=+n||0,e>=I(t,n)&&e<A(t,n)},d.isArguments=N,d.isArray=j,d.isBoolean=function(e){return!0===e||!1===e||Ro(e)&&y.call(e)==wo},d.isDate=function(e){return Ro(e)&&y.call(e)==Ao},d.isElement=function(e){return!!e&&1===e.nodeType&&Ro(e)&&!vi(e)},d.isEmpty=function(e){return null==e||(C(e)&&(j(e)||Di(e)||N(e)||Ro(e)&&pi(e.splice))?!e.length:!L(e).length)},d.isEqual=di,d.isError=hi,d.isFinite=function(e){return"number"==typeof e&&se(e)},d.isFunction=pi,d.isMatch=function(e,t,n,i){return n="function"==typeof n?u(n,i,3):co,Ze(e,Gt(t),n)},d.isNaN=function(e){return mi(e)&&e!=+e},d.isNative=gi,d.isNull=function(e){return null===e},d.isNumber=mi,d.isObject=O,d.isPlainObject=vi,d.isRegExp=yi,d.isString=Di,d.isTypedArray=_i,d.isUndefined=function(e){return e===co},d.kebabCase=Yi,d.last=gn,d.lastIndexOf=function(e,t,n){var i=e?e.length:0;if(!i)return-1;var o=i;if("number"==typeof n)o=(n<0?A(i+n,0):I(n||0,i-1))+1;else if(n)return i=e[o=ct(e,t,!0)-1],(t==t?t===i:i!=i)?o:-1;if(t!=t)return Hr(e,o,!0);for(;o--;)if(e[o]===t)return o;return-1},d.lt=bi,d.lte=function(e,t){return e<=t},d.max=e,d.min=lo,d.noConflict=function(){return zo._=V,this},d.noop=io,d.now=Zn,d.pad=function(e,t,n){var i=(e=Po(e)).length;return(t=+t)<=i||!se(t)?e:(i=h(t=(t-i)/2),(n=Ft("",ie(t),n)).slice(0,i)+e+n)},d.padLeft=Hi,d.padRight=Wi,d.parseInt=function(e,t,n){return t=(n?M(e,t,n):null==t)?0:t&&+t,e=qi(e),ue(e,t||(Ar.test(e)?16:10))},d.random=function(e,t,n){var i=null==e,o=null==(t=n&&M(e,t,n)?n=co:t);return null==n&&(o&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,o=!0)),e=+e||0,(o=i&&o?!(t=1):o)?(t=e,e=0):t=+t||0,n||e%1||t%1?(i=ce(),I(e+i*(t-e+K("1e-"+((i+"").length-1))),t)):tt(e,t)},d.reduce=Qn,d.reduceRight=n,d.repeat=Qi,d.result=function(e,t,n){var i=null==e?co:e[t];return pi(i=i===co&&(i=null==e||Kt(t,e)?i:null==(e=1==(t=S(t)).length?e:Ge(e,l(t,0,-1)))?co:e[gn(t)])===co?n:i)?i.call(e):i},d.round=uo,d.runInContext=o,d.size=function(e){var t=e?Vt(e):0;return x(t)?t:L(e).length},d.snakeCase=Vi,d.some=Gn,d.sortedIndex=yn,d.sortedLastIndex=Dn,d.startCase=Gi,d.startsWith=function(e,t,n){return e=Po(e),n=null==n?0:I(!(n<0)&&+n||0,e.length),e.lastIndexOf(t,n)==n},d.sum=function(e,t,n){if(1!=(t=f(t=n&&M(e,t,n)?co:t,n,3)).length)return i=t,o=0,c(e,function(e,t,n){o+=+i(e,t,n)||0}),o;for(var i,o,r=j(e)?e:sn(e),s=t,a=r.length,l=0;a--;)l+=+s(r[a])||0;return l},d.template=function(s,e,t){var a,l,n=d.templateSettings,t=(t&&M(s,e,t)&&(e=t=co),s=Po(s),e=xe(Ee({},t||e),n,Te),xe(Ee({},e.imports),n.imports,Te)),i=L(t),o=at(t,i),u=0,n=e.interpolate||jo,c="__p += '",t=U((e.escape||jo).source+"|"+n.source+"|"+(n===gr?Mr:jo).source+"|"+(e.evaluate||jo).source+"|$","g"),r="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Nr+"]")+"\n";if(s.replace(t,function(e,t,n,i,o,r){return n=n||i,c+=s.slice(u,r).replace(xr,Yr),t&&(a=!0,c+="' +\n__e("+t+") +\n'"),o&&(l=!0,c+="';\n"+o+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=r+e.length,e}),c+="';\n",(n=e.variable)||(c="with (obj) {\n"+c+"\n}\n"),c=(l?c.replace(sr,""):c).replace(ar,"$1").replace(lr,"$1;"),c="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}",(t=Ki(function(){return R(i,r+"return "+c).apply(co,o)})).source=c,hi(t))throw t;return t},d.trim=qi,d.trimLeft=function(e,t,n){var i=e;return(e=Po(e))?(n?M(i,t,n):null==t)?e.slice(Wr(e)):e.slice(zr(e,t+"")):e},d.trimRight=function(e,t,n){var i=e;return(e=Po(e))?(n?M(i,t,n):null==t)?e.slice(0,Qr(e)+1):e.slice(0,Fr(e,t+"")+1):e},d.trunc=function(e,t,n){n&&M(e,t,n)&&(t=co);var i,n=Qo,o=Vo;if(null!=t&&(O(t)?(i="separator"in t?t.separator:i,n="length"in t?+t.length||0:n,o="omission"in t?Po(t.omission):o):n=+t||0),n>=(e=Po(e)).length)return e;if((t=n-o.length)<1)return o;if(n=e.slice(0,t),null==i)return n+o;if(yi(i)){if(e.slice(t).search(i)){var r,s,a=e.slice(0,t);for((i=i.global?i:U(i.source,(wr.exec(i)||"")+"g")).lastIndex=0;r=i.exec(a);)s=r.index;n=n.slice(0,null==s?t:s)}}else e.indexOf(i,t)!=t&&-1<(e=n.lastIndexOf(i))&&(n=n.slice(0,e));return n+o},d.unescape=function(e){return(e=Po(e))&&fr.test(e)?e.replace(ur,Vr):e},d.uniqueId=function(e){var t=++Q;return Po(e)+t},d.words=Zi,d.all=jn,d.any=Gn,d.contains=Un,d.eq=di,d.detect=Ln,d.foldl=Qn,d.foldr=n,d.head=dn,d.include=Un,d.inject=Qn,no(d,(ro={},_(d,function(e,t){d.prototype[t]||(ro[t]=e)}),ro),!1),d.sample=Vn,d.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Vn(e,t)}):Vn(this.value())},d.VERSION=Yo,b(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),b(["drop","take"],function(i,o){g.prototype[i]=function(e){var t=this.__filtered__;if(t&&!o)return new g(this);e=null==e?1:A(h(e)||0,0);var n=this.clone();return t?n.__takeCount__=I(n.__takeCount__,e):n.__views__.push({size:e,type:i+(n.__dir__<0?"Right":"")}),n},g.prototype[i+"Right"]=function(e){return this.reverse()[i](e).reverse()}}),b(["filter","map","takeWhile"],function(e,t){var i=t+1,o=i!=Ko;g.prototype[e]=function(e,t){var n=this.clone();return n.__iteratees__.push({iteratee:f(e,t,1),type:i}),n.__filtered__=n.__filtered__||o,n}}),b(["first","last"],function(e,t){var n="take"+(t?"Right":"");g.prototype[e]=function(){return this[n](1).value()[0]}}),b(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");g.prototype[e]=function(){return this.__filtered__?new g(this):this[n](1)}}),b(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?Je:oo;g.prototype[e]=function(e){return this[n](i(e))}}),g.prototype.compact=function(){return this.filter(Xi)},g.prototype.reject=function(t,e){return t=f(t,e,1),this.filter(function(e){return!t(e)})},g.prototype.slice=function(e,t){e=null!=e&&+e||0;var n=this;return n.__filtered__&&(0<e||t<0)?new g(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==co?(t=+t||0)<0?n.dropRight(-t):n.take(t-e):n)},g.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},g.prototype.toArray=function(){return this.take(fe)},_(g.prototype,function(l,e){var u=/^(?:filter|map|reject)|While$/.test(e),c=/^(?:first|last)$/.test(e),f=d[c?"take"+("last"==e?"Right":""):e];f&&(d.prototype[e]=function(){function e(e){return c&&n?f(e,1)[0]:f.apply(co,Ae([e],t))}var t=c?[1]:arguments,n=this.__chain__,i=this.__wrapped__,o=!!this.__actions__.length,r=i instanceof g,s=t[0],a=r||j(i),s=(a&&u&&"function"==typeof s&&1!=s.length&&(r=a=!1),{func:xn,args:[e],thisArg:co}),r=r&&!o;return c&&!n?r?((i=i.clone()).__actions__.push(s),l.call(i)):f.call(co,this.value())[0]:!c&&a?(i=r?i:new g(this),(o=l.apply(i,t)).__actions__.push(s),new p(o,n)):this.thru(e)})}),b(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?H:Y)[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(e);d.prototype[e]=function(){var t=arguments;return o&&!this.__chain__?n.apply(this.value(),t):this[i](function(e){return n.apply(e,t)})}}),_(g.prototype,function(e,t){var n,i=d[t];i&&(n=i.name,(ve[n]||(ve[n]=[])).push({name:t,func:i}))}),ve[zt(co,ho).name]=[{name:"wrapper",func:co}],g.prototype.clone=function(){var e=new g(this.__wrapped__);return e.__actions__=k(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=k(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=k(this.__views__),e},g.prototype.reverse=function(){var e;return this.__filtered__?((e=new g(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},g.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=j(e),i=t<0,o=n?e.length:0,r=function(e,t,n){for(var i=-1,o=n.length;++i<o;){var r=n[i],s=r.size;switch(r.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=I(t,e+s);break;case"takeRight":e=A(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=r.start,a=(r=r.end)-s,l=i?r:s-1,u=this.__iteratees__,c=u.length,f=0,d=I(a,this.__takeCount__);if(!n||o<Do||o==a&&d==a)return ut(i&&n?e.reverse():e,this.__actions__);var h=[];e:for(;a--&&f<d;){for(var p=-1,g=e[l+=t];++p<c;){var m=(v=u[p]).iteratee,v=v.type,m=m(g);if(v==Ko)g=m;else if(!m){if(v==Zo)continue e;break e}}h[f++]=g}return h},d.prototype.chain=function(){return Tn(this)},d.prototype.commit=function(){return new p(this.value(),this.__chain__)},d.prototype.concat=En,d.prototype.plant=function(e){for(var t,n=this;n instanceof ye;)var i=an(n),o=(t?o.__wrapped__=i:t=i,i),n=n.__wrapped__;return o.__wrapped__=e,t},d.prototype.reverse=function(){function e(e){return t&&t.__dir__<0?e:e.reverse()}var t,n=this.__wrapped__;return n instanceof g?(t=n,(t=(t=this.__actions__.length?new g(this):t).reverse()).__actions__.push({func:xn,args:[e],thisArg:co}),new p(t,this.__chain__)):this.thru(e)},d.prototype.toString=function(){return this.value()+""},d.prototype.run=d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=function(){return ut(this.__wrapped__,this.__actions__)},d.prototype.collect=d.prototype.map,d.prototype.head=d.prototype.first,d.prototype.select=d.prototype.filter,d.prototype.tail=d.prototype.rest,d}();("function"!=typeof define||"object"!=typeof define.amd||!define.amd)&&o&&e?c?(e.exports=Bo)._=Bo:o._=Bo:zo._=Bo}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t,n){function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){if(t=t||{},"string"==typeof e){var n=e;if(!(1e4<(n=""+n).length)){n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(n){var i=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i}}}}else return t.long?o(n=e,864e5,"day")||o(n,36e5,"hour")||o(n,6e4,"minute")||o(n,1e3,"second")||n+" ms":864e5<=(t=e)?Math.round(t/864e5)+"d":36e5<=t?Math.round(t/36e5)+"h":6e4<=t?Math.round(t/6e4)+"m":1e3<=t?Math.round(t/1e3)+"s":t+"ms"}},{}],26:[function(e,t,n){t.exports=e("./lib/retry")},{"./lib/retry":27}],27:[function(e,t,a){var n=e("./retry_operation");a.operation=function(e){var t=!1,e=(e&&!0===e.forever&&(t=!0),a.timeouts(e));return new n(e,t)},a.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t,n={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(t in e)n[t]=e[t];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],o=0;o<n.retries;o++)i.push(this.createTimeout(o,n));return i.sort(function(e,t){return e-t}),i},a.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,n=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return Math.min(n,t.maxTimeout)},a.wrap=function(i,o,e){if(o instanceof Array&&(e=o,o=null),!e)for(var t in e=[],i)"function"==typeof i[t]&&e.push(t);for(var n=0;n<e.length;n++){var r=e[n],s=i[r];i[r]=function(){var t=a.operation(o),e=Array.prototype.slice.call(arguments),n=e.pop();e.push(function(e){t.retry(e)||(e&&(arguments[0]=t.mainError()),n.apply(this,arguments))}),t.attempt(function(){s.apply(i,e)})},i[r].options=o}}},{"./retry_operation":28}],28:[function(e,t,n){function i(e,t){this._timeouts=e,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,t&&(this._cachedTimeouts=this._timeouts.slice(0))}(t.exports=i).prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);e=this._timeouts.shift();if(void 0===e){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),e=this._timeouts.shift()}var t=this;return setTimeout(function(){t._attempts++,t._operationTimeoutCb&&(t._timeout=setTimeout(function(){t._operationTimeoutCb(t._attempts)},t._operationTimeout)),t._fn(t._attempts)},e),!0},i.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._fn(this._attempts)},i.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},i.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},i.prototype.start=i.prototype.try,i.prototype.errors=function(){return this._errors},i.prototype.attempts=function(){return this._attempts},i.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,i=0;i<this._errors.length;i++){var o=this._errors[i],r=o.message,s=(e[r]||0)+1;n<=(e[r]=s)&&(t=o,n=s)}return t}},{}],29:[function(e,t,n){t.exports=function(){return[].slice.call(arguments,0).join("/").replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}},{}],30:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function l(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}((t.exports=i).EventEmitter=i).prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,o,r,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||l(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(u(n=this._events[e]))return!1;if(a(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(l(n))for(o=Array.prototype.slice.call(arguments,1),i=(s=n.slice()).length,r=0;r<i;r++)s[r].apply(this,o);return!0},i.prototype.on=i.prototype.addListener=function(e,t){if(a(t))return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?l(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,l(this._events[e])&&!this._events[e].warned&&(t=u(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&0<t&&this._events[e].length>t&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this;throw TypeError("listener must be a function")},i.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var n,i,o,r;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,i=-1,n===t||a(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(l(n)){for(r=o;0<r--;)if(n[r]===t||n[r].listener&&n[r].listener===t){i=r;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){e=this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[];return e},i.prototype.listenerCount=function(e){if(this._events){e=this._events[e];if(a(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],31:[function(e,t,n){var i,t=t.exports={},o=[],r=!1,s=-1;function a(){r=!1,i.length?o=i.concat(o):s=-1,o.length&&l()}function l(){if(!r){for(var e=setTimeout(a),t=(r=!0,o.length);t;){for(i=o,o=[];++s<t;)i&&i[s].run();s=-1,t=o.length}i=null,r=!1,clearTimeout(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new u(e,t)),1!==o.length||r||setTimeout(l,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=c,t.addListener=c,t.once=c,t.off=c,t.removeListener=c,t.removeAllListeners=c,t.emit=c,t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}]},{},[]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.PerfectScrollbar=t()}(this,function(){"use strict";function h(e){return getComputedStyle(e)}function l(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i+="px"),e.style[n]=i}}function u(e){var t=document.createElement("div");return t.className=e,t}var n="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function a(e,t){if(n)return n.call(e,t);throw new Error("No element matching method supported")}function s(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function c(e,t){return Array.prototype.filter.call(e.children,function(e){return a(e,t)})}var v={main:"ps",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},i={x:null,y:null};function y(e,t){var e=e.element.classList,n=v.state.scrolling(t);e.contains(n)?clearTimeout(i[t]):e.add(n)}function D(e,t){i[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(v.state.scrolling(t))},e.settings.scrollingThreshold)}function o(e){this.element=e,this.handlers={}}function f(){this.eventElements=[]}var e={isEmpty:{configurable:!0}};o.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},o.prototype.unbind=function(t,n){var i=this;this.handlers[t]=this.handlers[t].filter(function(e){return!(!n||e===n)||(i.element.removeEventListener(t,e,!1),!1)})},o.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},e.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(o.prototype,e);function d(e){var t;return"function"==typeof window.CustomEvent?new CustomEvent(e):((t=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,void 0),t)}f.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new o(t),this.eventElements.push(e)),e},f.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},f.prototype.unbind=function(e,t,n){e=this.eventElement(e);e.unbind(t,n),e.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(e),1)},f.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},f.prototype.once=function(e,t,n){var i=this.eventElement(e),o=function(e){i.unbind(t,o),n(e)};i.bind(t,o)};function t(e,t,n,i,o){var r;if(void 0===i&&(i=!0),void 0===o&&(o=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}var t=e,e=n,n=i,i=o,s=(o=r)[0],a=o[1],l=o[2],u=o[3],c=o[4],o=o[5],f=(void 0===n&&(n=!0),void 0===i&&(i=!1),t.element);t.reach[u]=null,f[l]<1&&(t.reach[u]="start"),f[l]>t[s]-t[a]-1&&(t.reach[u]="end"),e&&(f.dispatchEvent(d("ps-scroll-"+u)),e<0?f.dispatchEvent(d("ps-scroll-"+c)):0<e&&f.dispatchEvent(d("ps-scroll-"+o)),n&&(y(l=t,s=u),D(l,s))),t.reach[u]&&(e||i)&&f.dispatchEvent(d("ps-"+u+"-reach-"+t.reach[u]))}function p(e){return parseInt(e,10)||0}var g={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},_=function(e){var t=e.element,n=Math.floor(t.scrollTop),n=(e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(c(t,v.element.rail("x")).forEach(s),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(c(t,v.element.rail("y")).forEach(s),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=m(e,p(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=p((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=m(e,p(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=p(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),t),i=e,o={width:i.railXWidth},r=Math.floor(n.scrollTop);i.isRtl?o.left=i.negativeScrollAdjustment+n.scrollLeft+i.containerWidth-i.contentWidth:o.left=n.scrollLeft,i.isScrollbarXUsingBottom?o.bottom=i.scrollbarXBottom-r:o.top=i.scrollbarXTop+r,l(i.scrollbarXRail,o),o={top:r,height:i.railYHeight},i.isScrollbarYUsingRight?i.isRtl?o.right=i.contentWidth-(i.negativeScrollAdjustment+n.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth:o.right=i.scrollbarYRight-n.scrollLeft:i.isRtl?o.left=i.negativeScrollAdjustment+n.scrollLeft+2*i.containerWidth-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:o.left=i.scrollbarYLeft+n.scrollLeft,l(i.scrollbarYRail,o),l(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),l(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth}),e.scrollbarXActive?t.classList.add(v.state.active("x")):(t.classList.remove(v.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=0),e.scrollbarYActive?t.classList.add(v.state.active("y")):(t.classList.remove(v.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)};function m(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),t=e.settings.maxScrollbarLength?Math.min(t,e.settings.maxScrollbarLength):t}function r(t,e){var n,i,o,r=e[0],s=e[1],a=e[2],l=e[3],u=e[4],c=e[5],f=e[6],d=e[7],h=e[8],p=t.element;function g(e){p[f]=n+o*(e[a]-i),y(t,d),_(t),e.stopPropagation(),e.preventDefault()}function m(){D(t,d),t[h].classList.remove(v.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",g)}t.event.bind(t[u],"mousedown",function(e){n=p[f],i=e[a],o=(t[s]-t[r])/(t[l]-t[c]),t.event.bind(t.ownerDocument,"mousemove",g),t.event.once(t.ownerDocument,"mouseup",m),t[h].classList.add(v.state.clicking),e.stopPropagation(),e.preventDefault()})}function b(e,t){var n,i=this;if(void 0===t&&(t={}),!(e="string"==typeof e?document.querySelector(e):e)||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(n in(this.element=e).classList.add(v.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)i.settings[n]=t[n];function o(){return e.classList.add(v.state.focus)}function r(){return e.classList.remove(v.state.focus)}this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null,this.isRtl="rtl"===h(e).direction,this.isNegativeScroll=(s=e.scrollLeft,e.scrollLeft=-1,a=e.scrollLeft<0,e.scrollLeft=s,a),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new f,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=u(v.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=u(v.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",o),this.event.bind(this.scrollbarX,"blur",r),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var s=h(this.scrollbarXRail),a=(this.scrollbarXBottom=parseInt(s.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=p(s.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=p(s.borderLeftWidth)+p(s.borderRightWidth),l(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=p(s.marginLeft)+p(s.marginRight),l(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=u(v.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=u(v.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",o),this.event.bind(this.scrollbarY,"blur",r),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null,h(this.scrollbarYRail));this.scrollbarYRight=parseInt(a.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=p(a.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?p((s=h(s=this.scrollbarY)).width)+p(s.paddingLeft)+p(s.paddingRight)+p(s.borderLeftWidth)+p(s.borderRightWidth):null,this.railBorderYWidth=p(a.borderTopWidth)+p(a.borderBottomWidth),l(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=p(a.marginTop)+p(a.marginBottom),l(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(e){return C[e](i)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(e){return i.onScroll(e)}),_(this)}var C={"click-rail":function(n){n.event.bind(n.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),n.event.bind(n.scrollbarYRail,"mousedown",function(e){var t=e.pageY-window.pageYOffset-n.scrollbarYRail.getBoundingClientRect().top>n.scrollbarYTop?1:-1;n.element.scrollTop+=t*n.containerHeight,_(n),e.stopPropagation()}),n.event.bind(n.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),n.event.bind(n.scrollbarXRail,"mousedown",function(e){var t=e.pageX-window.pageXOffset-n.scrollbarXRail.getBoundingClientRect().left>n.scrollbarXLeft?1:-1;n.element.scrollLeft+=t*n.containerWidth,_(n),e.stopPropagation()})},"drag-thumb":function(e){r(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),r(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(r){var s=r.element;r.event.bind(r.ownerDocument,"keydown",function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(a(s,":hover")||a(r.scrollbarX,":focus")||a(r.scrollbarY,":focus"))){var t,n=document.activeElement||r.ownerDocument.activeElement;if(n){if("IFRAME"===n.tagName)n=n.contentDocument.activeElement;else for(;n.shadowRoot;)n=n.shadowRoot.activeElement;if(a(t=n,"input,[contenteditable]")||a(t,"select,[contenteditable]")||a(t,"textarea,[contenteditable]")||a(t,"button,[contenteditable]"))return}var i=0,o=0;switch(e.which){case 37:i=e.metaKey?-r.contentWidth:e.altKey?-r.containerWidth:-30;break;case 38:o=e.metaKey?r.contentHeight:e.altKey?r.containerHeight:30;break;case 39:i=e.metaKey?r.contentWidth:e.altKey?r.containerWidth:30;break;case 40:o=e.metaKey?-r.contentHeight:e.altKey?-r.containerHeight:-30;break;case 32:o=e.shiftKey?r.containerHeight:-r.containerHeight;break;case 33:o=r.containerHeight;break;case 34:o=-r.containerHeight;break;case 36:o=r.contentHeight;break;case 35:o=-r.contentHeight;break;default:return}r.settings.suppressScrollX&&0!==i||r.settings.suppressScrollY&&0!==o||(s.scrollTop-=o,s.scrollLeft+=i,_(r),function(e,t){var n=Math.floor(s.scrollTop);if(0===e){if(!r.scrollbarYActive)return;if(0===n&&0<t||n>=r.contentHeight-r.containerHeight&&t<0)return!r.settings.wheelPropagation}if(n=s.scrollLeft,0===t){if(!r.scrollbarXActive)return;if(0===n&&e<0||n>=r.contentWidth-r.containerWidth&&0<e)return!r.settings.wheelPropagation}return 1}(i,o)&&e.preventDefault())}})},wheel:function(l){var u=l.element;function e(e){s=(r=e).deltaX,a=-1*r.deltaY,void 0!==s&&void 0!==a||(s=-1*r.wheelDeltaX/6,a=r.wheelDeltaY/6),r.deltaMode&&1===r.deltaMode&&(s*=10,a*=10),s!=s&&a!=a&&(s=0,a=r.wheelDelta);var t,n,i,o,r=r.shiftKey?[-a,-s]:[s,a],s=r[0],a=r[1];!function(e,t,n){if(!g.isWebKit&&u.querySelector("select:focus"))return 1;if(u.contains(e))for(var i=e;i&&i!==u;){if(i.classList.contains(v.element.consuming))return 1;var o=h(i);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){o=i.scrollHeight-i.clientHeight;if(0<o&&!(0===i.scrollTop&&0<n||i.scrollTop===o&&n<0))return 1;o=i.scrollWidth-i.clientWidth;if(0<o&&!(0===i.scrollLeft&&t<0||i.scrollLeft===o&&0<t))return 1}i=i.parentNode}}(e.target,s,a)&&(r=!1,l.settings.useBothWheelAxes?l.scrollbarYActive&&!l.scrollbarXActive?(a?u.scrollTop-=a*l.settings.wheelSpeed:u.scrollTop+=s*l.settings.wheelSpeed,r=!0):l.scrollbarXActive&&!l.scrollbarYActive&&(s?u.scrollLeft+=s*l.settings.wheelSpeed:u.scrollLeft-=a*l.settings.wheelSpeed,r=!0):(u.scrollTop-=a*l.settings.wheelSpeed,u.scrollLeft+=s*l.settings.wheelSpeed),_(l),(r=r||(s=s,a=a,t=Math.floor(u.scrollTop),n=0===u.scrollTop,t=t+u.offsetHeight===u.scrollHeight,i=0===u.scrollLeft,o=u.scrollLeft+u.offsetWidth===u.scrollWidth,!(a=Math.abs(a)>Math.abs(s)?n||t:i||o)||!l.settings.wheelPropagation))&&!e.ctrlKey&&(e.stopPropagation(),e.preventDefault()))}void 0!==window.onwheel?l.event.bind(u,"wheel",e):void 0!==window.onmousewheel&&l.event.bind(u,"mousewheel",e)},touch:function(s){var a,r,l,u,t;function c(e,t){a.scrollTop-=t,a.scrollLeft-=e,_(s)}function f(e){return e.targetTouches?e.targetTouches[0]:e}function d(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(e.targetTouches&&1===e.targetTouches.length||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function e(e){d(e)&&(e=f(e),r.pageX=e.pageX,r.pageY=e.pageY,l=(new Date).getTime(),null!==t&&clearInterval(t))}function n(e){var t,n,i,o;d(e)&&(t=(i={pageX:(i=f(e)).pageX,pageY:i.pageY}).pageX-r.pageX,n=i.pageY-r.pageY,function(e,t,n){if(a.contains(e))for(var i=e;i&&i!==a;){if(i.classList.contains(v.element.consuming))return 1;var o=h(i);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){o=i.scrollHeight-i.clientHeight;if(0<o&&!(0===i.scrollTop&&0<n||i.scrollTop===o&&n<0))return 1;o=i.scrollLeft-i.clientWidth;if(0<o&&!(0===i.scrollLeft&&t<0||i.scrollLeft===o&&0<t))return 1}i=i.parentNode}}(e.target,t,n)||(c(t,n),r=i,0<(o=(i=(new Date).getTime())-l)&&(u.x=t/o,u.y=n/o,l=i),function(e,t){var n=Math.floor(a.scrollTop),i=a.scrollLeft,o=Math.abs(e),r=Math.abs(t);if(o<r){if(t<0&&n===s.contentHeight-s.containerHeight||0<t&&0===n)return 0===window.scrollY&&0<t&&g.isChrome}else if(r<o&&(e<0&&i===s.contentWidth-s.containerWidth||0<e&&0===i))return 1;return 1}(t,n)&&e.preventDefault()))}function i(){s.settings.swipeEasing&&(clearInterval(t),t=setInterval(function(){s.isInitialized||!u.x&&!u.y||Math.abs(u.x)<.01&&Math.abs(u.y)<.01?clearInterval(t):(c(30*u.x,30*u.y),u.x*=.8,u.y*=.8)},10))}(g.supportsTouch||g.supportsIePointer)&&(a=s.element,r={},l=0,u={},t=null,g.supportsTouch?(s.event.bind(a,"touchstart",e),s.event.bind(a,"touchmove",n),s.event.bind(a,"touchend",i)):g.supportsIePointer&&(window.PointerEvent?(s.event.bind(a,"pointerdown",e),s.event.bind(a,"pointermove",n),s.event.bind(a,"pointerup",i)):window.MSPointerEvent&&(s.event.bind(a,"MSPointerDown",e),s.event.bind(a,"MSPointerMove",n),s.event.bind(a,"MSPointerUp",i))))}};return b.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,l(this.scrollbarXRail,{display:"block"}),l(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=p(h(this.scrollbarXRail).marginLeft)+p(h(this.scrollbarXRail).marginRight),this.railYMarginHeight=p(h(this.scrollbarYRail).marginTop)+p(h(this.scrollbarYRail).marginBottom),l(this.scrollbarXRail,{display:"none"}),l(this.scrollbarYRail,{display:"none"}),_(this),t(this,"top",0,!1,!0),t(this,"left",0,!1,!0),l(this.scrollbarXRail,{display:""}),l(this.scrollbarYRail,{display:""}))},b.prototype.onScroll=function(e){this.isAlive&&(_(this),t(this,"top",this.element.scrollTop-this.lastScrollTop),t(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},b.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),s(this.scrollbarX),s(this.scrollbarY),s(this.scrollbarXRail),s(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},b.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")},b}),function(a){a.emojioneList={":kiss_ww:":["1f469-200d-2764-fe0f-200d-1f48b-200d-1f469","1f469-2764-1f48b-1f469"],":couplekiss_ww:":["1f469-200d-2764-fe0f-200d-1f48b-200d-1f469","1f469-2764-1f48b-1f469"],":kiss_mm:":["1f468-200d-2764-fe0f-200d-1f48b-200d-1f468","1f468-2764-1f48b-1f468"],":couplekiss_mm:":["1f468-200d-2764-fe0f-200d-1f48b-200d-1f468","1f468-2764-1f48b-1f468"],":family_mmbb:":["1f468-200d-1f468-200d-1f466-200d-1f466","1f468-1f468-1f466-1f466"],":family_mmgb:":["1f468-200d-1f468-200d-1f467-200d-1f466","1f468-1f468-1f467-1f466"],":family_mmgg:":["1f468-200d-1f468-200d-1f467-200d-1f467","1f468-1f468-1f467-1f467"],":family_mwbb:":["1f468-200d-1f469-200d-1f466-200d-1f466","1f468-1f469-1f466-1f466"],":family_mwgb:":["1f468-200d-1f469-200d-1f467-200d-1f466","1f468-1f469-1f467-1f466"],":family_mwgg:":["1f468-200d-1f469-200d-1f467-200d-1f467","1f468-1f469-1f467-1f467"],":family_wwbb:":["1f469-200d-1f469-200d-1f466-200d-1f466","1f469-1f469-1f466-1f466"],":family_wwgb:":["1f469-200d-1f469-200d-1f467-200d-1f466","1f469-1f469-1f467-1f466"],":family_wwgg:":["1f469-200d-1f469-200d-1f467-200d-1f467","1f469-1f469-1f467-1f467"],":couple_ww:":["1f469-200d-2764-fe0f-200d-1f469","1f469-2764-1f469"],":couple_with_heart_ww:":["1f469-200d-2764-fe0f-200d-1f469","1f469-2764-1f469"],":couple_mm:":["1f468-200d-2764-fe0f-200d-1f468","1f468-2764-1f468"],":couple_with_heart_mm:":["1f468-200d-2764-fe0f-200d-1f468","1f468-2764-1f468"],":family_mmb:":["1f468-200d-1f468-200d-1f466","1f468-1f468-1f466"],":family_mmg:":["1f468-200d-1f468-200d-1f467","1f468-1f468-1f467"],":family_mwg:":["1f468-200d-1f469-200d-1f467","1f468-1f469-1f467"],":family_wwb:":["1f469-200d-1f469-200d-1f466","1f469-1f469-1f466"],":family_wwg:":["1f469-200d-1f469-200d-1f467","1f469-1f469-1f467"],":eye_in_speech_bubble:":["1f441-200d-1f5e8","1f441-1f5e8"],":hash:":["0023-fe0f-20e3","0023-20e3"],":zero:":["0030-fe0f-20e3","0030-20e3"],":one:":["0031-fe0f-20e3","0031-20e3"],":two:":["0032-fe0f-20e3","0032-20e3"],":three:":["0033-fe0f-20e3","0033-20e3"],":four:":["0034-fe0f-20e3","0034-20e3"],":five:":["0035-fe0f-20e3","0035-20e3"],":six:":["0036-fe0f-20e3","0036-20e3"],":seven:":["0037-fe0f-20e3","0037-20e3"],":eight:":["0038-fe0f-20e3","0038-20e3"],":nine:":["0039-fe0f-20e3","0039-20e3"],":asterisk:":["002a-fe0f-20e3","002a-20e3"],":keycap_asterisk:":["002a-fe0f-20e3","002a-20e3"],":metal_tone5:":["1f918-1f3ff"],":sign_of_the_horns_tone5:":["1f918-1f3ff"],":metal_tone4:":["1f918-1f3fe"],":sign_of_the_horns_tone4:":["1f918-1f3fe"],":metal_tone3:":["1f918-1f3fd"],":sign_of_the_horns_tone3:":["1f918-1f3fd"],":metal_tone2:":["1f918-1f3fc"],":sign_of_the_horns_tone2:":["1f918-1f3fc"],":metal_tone1:":["1f918-1f3fb"],":sign_of_the_horns_tone1:":["1f918-1f3fb"],":bath_tone5:":["1f6c0-1f3ff"],":bath_tone4:":["1f6c0-1f3fe"],":bath_tone3:":["1f6c0-1f3fd"],":bath_tone2:":["1f6c0-1f3fc"],":bath_tone1:":["1f6c0-1f3fb"],":walking_tone5:":["1f6b6-1f3ff"],":walking_tone4:":["1f6b6-1f3fe"],":walking_tone3:":["1f6b6-1f3fd"],":walking_tone2:":["1f6b6-1f3fc"],":walking_tone1:":["1f6b6-1f3fb"],":mountain_bicyclist_tone5:":["1f6b5-1f3ff"],":mountain_bicyclist_tone4:":["1f6b5-1f3fe"],":mountain_bicyclist_tone3:":["1f6b5-1f3fd"],":mountain_bicyclist_tone2:":["1f6b5-1f3fc"],":mountain_bicyclist_tone1:":["1f6b5-1f3fb"],":bicyclist_tone5:":["1f6b4-1f3ff"],":bicyclist_tone4:":["1f6b4-1f3fe"],":bicyclist_tone3:":["1f6b4-1f3fd"],":bicyclist_tone2:":["1f6b4-1f3fc"],":bicyclist_tone1:":["1f6b4-1f3fb"],":rowboat_tone5:":["1f6a3-1f3ff"],":rowboat_tone4:":["1f6a3-1f3fe"],":rowboat_tone3:":["1f6a3-1f3fd"],":rowboat_tone2:":["1f6a3-1f3fc"],":rowboat_tone1:":["1f6a3-1f3fb"],":pray_tone5:":["1f64f-1f3ff"],":pray_tone4:":["1f64f-1f3fe"],":pray_tone3:":["1f64f-1f3fd"],":pray_tone2:":["1f64f-1f3fc"],":pray_tone1:":["1f64f-1f3fb"],":person_with_pouting_face_tone5:":["1f64e-1f3ff"],":person_with_pouting_face_tone4:":["1f64e-1f3fe"],":person_with_pouting_face_tone3:":["1f64e-1f3fd"],":person_with_pouting_face_tone2:":["1f64e-1f3fc"],":person_with_pouting_face_tone1:":["1f64e-1f3fb"],":person_frowning_tone5:":["1f64d-1f3ff"],":person_frowning_tone4:":["1f64d-1f3fe"],":person_frowning_tone3:":["1f64d-1f3fd"],":person_frowning_tone2:":["1f64d-1f3fc"],":person_frowning_tone1:":["1f64d-1f3fb"],":raised_hands_tone5:":["1f64c-1f3ff"],":raised_hands_tone4:":["1f64c-1f3fe"],":raised_hands_tone3:":["1f64c-1f3fd"],":raised_hands_tone2:":["1f64c-1f3fc"],":raised_hands_tone1:":["1f64c-1f3fb"],":raising_hand_tone5:":["1f64b-1f3ff"],":raising_hand_tone4:":["1f64b-1f3fe"],":raising_hand_tone3:":["1f64b-1f3fd"],":raising_hand_tone2:":["1f64b-1f3fc"],":raising_hand_tone1:":["1f64b-1f3fb"],":bow_tone5:":["1f647-1f3ff"],":bow_tone4:":["1f647-1f3fe"],":bow_tone3:":["1f647-1f3fd"],":bow_tone2:":["1f647-1f3fc"],":bow_tone1:":["1f647-1f3fb"],":ok_woman_tone5:":["1f646-1f3ff"],":ok_woman_tone4:":["1f646-1f3fe"],":ok_woman_tone3:":["1f646-1f3fd"],":ok_woman_tone2:":["1f646-1f3fc"],":ok_woman_tone1:":["1f646-1f3fb"],":no_good_tone5:":["1f645-1f3ff"],":no_good_tone4:":["1f645-1f3fe"],":no_good_tone3:":["1f645-1f3fd"],":no_good_tone2:":["1f645-1f3fc"],":no_good_tone1:":["1f645-1f3fb"],":vulcan_tone5:":["1f596-1f3ff"],":raised_hand_with_part_between_middle_and_ring_fingers_tone5:":["1f596-1f3ff"],":vulcan_tone4:":["1f596-1f3fe"],":raised_hand_with_part_between_middle_and_ring_fingers_tone4:":["1f596-1f3fe"],":vulcan_tone3:":["1f596-1f3fd"],":raised_hand_with_part_between_middle_and_ring_fingers_tone3:":["1f596-1f3fd"],":vulcan_tone2:":["1f596-1f3fc"],":raised_hand_with_part_between_middle_and_ring_fingers_tone2:":["1f596-1f3fc"],":vulcan_tone1:":["1f596-1f3fb"],":raised_hand_with_part_between_middle_and_ring_fingers_tone1:":["1f596-1f3fb"],":middle_finger_tone5:":["1f595-1f3ff"],":reversed_hand_with_middle_finger_extended_tone5:":["1f595-1f3ff"],":middle_finger_tone4:":["1f595-1f3fe"],":reversed_hand_with_middle_finger_extended_tone4:":["1f595-1f3fe"],":middle_finger_tone3:":["1f595-1f3fd"],":reversed_hand_with_middle_finger_extended_tone3:":["1f595-1f3fd"],":middle_finger_tone2:":["1f595-1f3fc"],":reversed_hand_with_middle_finger_extended_tone2:":["1f595-1f3fc"],":middle_finger_tone1:":["1f595-1f3fb"],":reversed_hand_with_middle_finger_extended_tone1:":["1f595-1f3fb"],":hand_splayed_tone5:":["1f590-1f3ff"],":raised_hand_with_fingers_splayed_tone5:":["1f590-1f3ff"],":hand_splayed_tone4:":["1f590-1f3fe"],":raised_hand_with_fingers_splayed_tone4:":["1f590-1f3fe"],":hand_splayed_tone3:":["1f590-1f3fd"],":raised_hand_with_fingers_splayed_tone3:":["1f590-1f3fd"],":hand_splayed_tone2:":["1f590-1f3fc"],":raised_hand_with_fingers_splayed_tone2:":["1f590-1f3fc"],":hand_splayed_tone1:":["1f590-1f3fb"],":raised_hand_with_fingers_splayed_tone1:":["1f590-1f3fb"],":spy_tone5:":["1f575-1f3ff"],":sleuth_or_spy_tone5:":["1f575-1f3ff"],":spy_tone4:":["1f575-1f3fe"],":sleuth_or_spy_tone4:":["1f575-1f3fe"],":spy_tone3:":["1f575-1f3fd"],":sleuth_or_spy_tone3:":["1f575-1f3fd"],":spy_tone2:":["1f575-1f3fc"],":sleuth_or_spy_tone2:":["1f575-1f3fc"],":spy_tone1:":["1f575-1f3fb"],":sleuth_or_spy_tone1:":["1f575-1f3fb"],":muscle_tone5:":["1f4aa-1f3ff"],":muscle_tone4:":["1f4aa-1f3fe"],":muscle_tone3:":["1f4aa-1f3fd"],":muscle_tone2:":["1f4aa-1f3fc"],":muscle_tone1:":["1f4aa-1f3fb"],":haircut_tone5:":["1f487-1f3ff"],":haircut_tone4:":["1f487-1f3fe"],":haircut_tone3:":["1f487-1f3fd"],":haircut_tone2:":["1f487-1f3fc"],":haircut_tone1:":["1f487-1f3fb"],":massage_tone5:":["1f486-1f3ff"],":massage_tone4:":["1f486-1f3fe"],":massage_tone3:":["1f486-1f3fd"],":massage_tone2:":["1f486-1f3fc"],":massage_tone1:":["1f486-1f3fb"],":nail_care_tone5:":["1f485-1f3ff"],":nail_care_tone4:":["1f485-1f3fe"],":nail_care_tone3:":["1f485-1f3fd"],":nail_care_tone2:":["1f485-1f3fc"],":nail_care_tone1:":["1f485-1f3fb"],":dancer_tone5:":["1f483-1f3ff"],":dancer_tone4:":["1f483-1f3fe"],":dancer_tone3:":["1f483-1f3fd"],":dancer_tone2:":["1f483-1f3fc"],":dancer_tone1:":["1f483-1f3fb"],":guardsman_tone5:":["1f482-1f3ff"],":guardsman_tone4:":["1f482-1f3fe"],":guardsman_tone3:":["1f482-1f3fd"],":guardsman_tone2:":["1f482-1f3fc"],":guardsman_tone1:":["1f482-1f3fb"],":information_desk_person_tone5:":["1f481-1f3ff"],":information_desk_person_tone4:":["1f481-1f3fe"],":information_desk_person_tone3:":["1f481-1f3fd"],":information_desk_person_tone2:":["1f481-1f3fc"],":information_desk_person_tone1:":["1f481-1f3fb"],":angel_tone5:":["1f47c-1f3ff"],":angel_tone4:":["1f47c-1f3fe"],":angel_tone3:":["1f47c-1f3fd"],":angel_tone2:":["1f47c-1f3fc"],":angel_tone1:":["1f47c-1f3fb"],":princess_tone5:":["1f478-1f3ff"],":princess_tone4:":["1f478-1f3fe"],":princess_tone3:":["1f478-1f3fd"],":princess_tone2:":["1f478-1f3fc"],":princess_tone1:":["1f478-1f3fb"],":construction_worker_tone5:":["1f477-1f3ff"],":construction_worker_tone4:":["1f477-1f3fe"],":construction_worker_tone3:":["1f477-1f3fd"],":construction_worker_tone2:":["1f477-1f3fc"],":construction_worker_tone1:":["1f477-1f3fb"],":baby_tone5:":["1f476-1f3ff"],":baby_tone4:":["1f476-1f3fe"],":baby_tone3:":["1f476-1f3fd"],":baby_tone2:":["1f476-1f3fc"],":baby_tone1:":["1f476-1f3fb"],":older_woman_tone5:":["1f475-1f3ff"],":grandma_tone5:":["1f475-1f3ff"],":older_woman_tone4:":["1f475-1f3fe"],":grandma_tone4:":["1f475-1f3fe"],":older_woman_tone3:":["1f475-1f3fd"],":grandma_tone3:":["1f475-1f3fd"],":older_woman_tone2:":["1f475-1f3fc"],":grandma_tone2:":["1f475-1f3fc"],":older_woman_tone1:":["1f475-1f3fb"],":grandma_tone1:":["1f475-1f3fb"],":older_man_tone5:":["1f474-1f3ff"],":older_man_tone4:":["1f474-1f3fe"],":older_man_tone3:":["1f474-1f3fd"],":older_man_tone2:":["1f474-1f3fc"],":older_man_tone1:":["1f474-1f3fb"],":man_with_turban_tone5:":["1f473-1f3ff"],":man_with_turban_tone4:":["1f473-1f3fe"],":man_with_turban_tone3:":["1f473-1f3fd"],":man_with_turban_tone2:":["1f473-1f3fc"],":man_with_turban_tone1:":["1f473-1f3fb"],":man_with_gua_pi_mao_tone5:":["1f472-1f3ff"],":man_with_gua_pi_mao_tone4:":["1f472-1f3fe"],":man_with_gua_pi_mao_tone3:":["1f472-1f3fd"],":man_with_gua_pi_mao_tone2:":["1f472-1f3fc"],":man_with_gua_pi_mao_tone1:":["1f472-1f3fb"],":person_with_blond_hair_tone5:":["1f471-1f3ff"],":person_with_blond_hair_tone4:":["1f471-1f3fe"],":person_with_blond_hair_tone3:":["1f471-1f3fd"],":person_with_blond_hair_tone2:":["1f471-1f3fc"],":person_with_blond_hair_tone1:":["1f471-1f3fb"],":bride_with_veil_tone5:":["1f470-1f3ff"],":bride_with_veil_tone4:":["1f470-1f3fe"],":bride_with_veil_tone3:":["1f470-1f3fd"],":bride_with_veil_tone2:":["1f470-1f3fc"],":bride_with_veil_tone1:":["1f470-1f3fb"],":cop_tone5:":["1f46e-1f3ff"],":cop_tone4:":["1f46e-1f3fe"],":cop_tone3:":["1f46e-1f3fd"],":cop_tone2:":["1f46e-1f3fc"],":cop_tone1:":["1f46e-1f3fb"],":woman_tone5:":["1f469-1f3ff"],":woman_tone4:":["1f469-1f3fe"],":woman_tone3:":["1f469-1f3fd"],":woman_tone2:":["1f469-1f3fc"],":woman_tone1:":["1f469-1f3fb"],":man_tone5:":["1f468-1f3ff"],":man_tone4:":["1f468-1f3fe"],":man_tone3:":["1f468-1f3fd"],":man_tone2:":["1f468-1f3fc"],":man_tone1:":["1f468-1f3fb"],":girl_tone5:":["1f467-1f3ff"],":girl_tone4:":["1f467-1f3fe"],":girl_tone3:":["1f467-1f3fd"],":girl_tone2:":["1f467-1f3fc"],":girl_tone1:":["1f467-1f3fb"],":boy_tone5:":["1f466-1f3ff"],":boy_tone4:":["1f466-1f3fe"],":boy_tone3:":["1f466-1f3fd"],":boy_tone2:":["1f466-1f3fc"],":boy_tone1:":["1f466-1f3fb"],":open_hands_tone5:":["1f450-1f3ff"],":open_hands_tone4:":["1f450-1f3fe"],":open_hands_tone3:":["1f450-1f3fd"],":open_hands_tone2:":["1f450-1f3fc"],":open_hands_tone1:":["1f450-1f3fb"],":clap_tone5:":["1f44f-1f3ff"],":clap_tone4:":["1f44f-1f3fe"],":clap_tone3:":["1f44f-1f3fd"],":clap_tone2:":["1f44f-1f3fc"],":clap_tone1:":["1f44f-1f3fb"],":thumbsdown_tone5:":["1f44e-1f3ff"],":-1_tone5:":["1f44e-1f3ff"],":thumbsdown_tone4:":["1f44e-1f3fe"],":-1_tone4:":["1f44e-1f3fe"],":thumbsdown_tone3:":["1f44e-1f3fd"],":-1_tone3:":["1f44e-1f3fd"],":thumbsdown_tone2:":["1f44e-1f3fc"],":-1_tone2:":["1f44e-1f3fc"],":thumbsdown_tone1:":["1f44e-1f3fb"],":-1_tone1:":["1f44e-1f3fb"],":thumbsup_tone5:":["1f44d-1f3ff"],":+1_tone5:":["1f44d-1f3ff"],":thumbsup_tone4:":["1f44d-1f3fe"],":+1_tone4:":["1f44d-1f3fe"],":thumbsup_tone3:":["1f44d-1f3fd"],":+1_tone3:":["1f44d-1f3fd"],":thumbsup_tone2:":["1f44d-1f3fc"],":+1_tone2:":["1f44d-1f3fc"],":thumbsup_tone1:":["1f44d-1f3fb"],":+1_tone1:":["1f44d-1f3fb"],":ok_hand_tone5:":["1f44c-1f3ff"],":ok_hand_tone4:":["1f44c-1f3fe"],":ok_hand_tone3:":["1f44c-1f3fd"],":ok_hand_tone2:":["1f44c-1f3fc"],":ok_hand_tone1:":["1f44c-1f3fb"],":wave_tone5:":["1f44b-1f3ff"],":wave_tone4:":["1f44b-1f3fe"],":wave_tone3:":["1f44b-1f3fd"],":wave_tone2:":["1f44b-1f3fc"],":wave_tone1:":["1f44b-1f3fb"],":punch_tone5:":["1f44a-1f3ff"],":punch_tone4:":["1f44a-1f3fe"],":punch_tone3:":["1f44a-1f3fd"],":punch_tone2:":["1f44a-1f3fc"],":punch_tone1:":["1f44a-1f3fb"],":point_right_tone5:":["1f449-1f3ff"],":point_right_tone4:":["1f449-1f3fe"],":point_right_tone3:":["1f449-1f3fd"],":point_right_tone2:":["1f449-1f3fc"],":point_right_tone1:":["1f449-1f3fb"],":point_left_tone5:":["1f448-1f3ff"],":point_left_tone4:":["1f448-1f3fe"],":point_left_tone3:":["1f448-1f3fd"],":point_left_tone2:":["1f448-1f3fc"],":point_left_tone1:":["1f448-1f3fb"],":point_down_tone5:":["1f447-1f3ff"],":point_down_tone4:":["1f447-1f3fe"],":point_down_tone3:":["1f447-1f3fd"],":point_down_tone2:":["1f447-1f3fc"],":point_down_tone1:":["1f447-1f3fb"],":point_up_2_tone5:":["1f446-1f3ff"],":point_up_2_tone4:":["1f446-1f3fe"],":point_up_2_tone3:":["1f446-1f3fd"],":point_up_2_tone2:":["1f446-1f3fc"],":point_up_2_tone1:":["1f446-1f3fb"],":nose_tone5:":["1f443-1f3ff"],":nose_tone4:":["1f443-1f3fe"],":nose_tone3:":["1f443-1f3fd"],":nose_tone2:":["1f443-1f3fc"],":nose_tone1:":["1f443-1f3fb"],":ear_tone5:":["1f442-1f3ff"],":ear_tone4:":["1f442-1f3fe"],":ear_tone3:":["1f442-1f3fd"],":ear_tone2:":["1f442-1f3fc"],":ear_tone1:":["1f442-1f3fb"],":lifter_tone5:":["1f3cb-1f3ff"],":weight_lifter_tone5:":["1f3cb-1f3ff"],":lifter_tone4:":["1f3cb-1f3fe"],":weight_lifter_tone4:":["1f3cb-1f3fe"],":lifter_tone3:":["1f3cb-1f3fd"],":weight_lifter_tone3:":["1f3cb-1f3fd"],":lifter_tone2:":["1f3cb-1f3fc"],":weight_lifter_tone2:":["1f3cb-1f3fc"],":lifter_tone1:":["1f3cb-1f3fb"],":weight_lifter_tone1:":["1f3cb-1f3fb"],":swimmer_tone5:":["1f3ca-1f3ff"],":swimmer_tone4:":["1f3ca-1f3fe"],":swimmer_tone3:":["1f3ca-1f3fd"],":swimmer_tone2:":["1f3ca-1f3fc"],":swimmer_tone1:":["1f3ca-1f3fb"],":horse_racing_tone5:":["1f3c7-1f3ff"],":horse_racing_tone4:":["1f3c7-1f3fe"],":horse_racing_tone3:":["1f3c7-1f3fd"],":horse_racing_tone2:":["1f3c7-1f3fc"],":horse_racing_tone1:":["1f3c7-1f3fb"],":surfer_tone5:":["1f3c4-1f3ff"],":surfer_tone4:":["1f3c4-1f3fe"],":surfer_tone3:":["1f3c4-1f3fd"],":surfer_tone2:":["1f3c4-1f3fc"],":surfer_tone1:":["1f3c4-1f3fb"],":runner_tone5:":["1f3c3-1f3ff"],":runner_tone4:":["1f3c3-1f3fe"],":runner_tone3:":["1f3c3-1f3fd"],":runner_tone2:":["1f3c3-1f3fc"],":runner_tone1:":["1f3c3-1f3fb"],":santa_tone5:":["1f385-1f3ff"],":santa_tone4:":["1f385-1f3fe"],":santa_tone3:":["1f385-1f3fd"],":santa_tone2:":["1f385-1f3fc"],":santa_tone1:":["1f385-1f3fb"],":flag_zw:":["1f1ff-1f1fc"],":zw:":["1f1ff-1f1fc"],":flag_zm:":["1f1ff-1f1f2"],":zm:":["1f1ff-1f1f2"],":flag_za:":["1f1ff-1f1e6"],":za:":["1f1ff-1f1e6"],":flag_yt:":["1f1fe-1f1f9"],":yt:":["1f1fe-1f1f9"],":flag_ye:":["1f1fe-1f1ea"],":ye:":["1f1fe-1f1ea"],":flag_xk:":["1f1fd-1f1f0"],":xk:":["1f1fd-1f1f0"],":flag_ws:":["1f1fc-1f1f8"],":ws:":["1f1fc-1f1f8"],":flag_wf:":["1f1fc-1f1eb"],":wf:":["1f1fc-1f1eb"],":flag_vu:":["1f1fb-1f1fa"],":vu:":["1f1fb-1f1fa"],":flag_vn:":["1f1fb-1f1f3"],":vn:":["1f1fb-1f1f3"],":flag_vi:":["1f1fb-1f1ee"],":vi:":["1f1fb-1f1ee"],":flag_vg:":["1f1fb-1f1ec"],":vg:":["1f1fb-1f1ec"],":flag_ve:":["1f1fb-1f1ea"],":ve:":["1f1fb-1f1ea"],":flag_vc:":["1f1fb-1f1e8"],":vc:":["1f1fb-1f1e8"],":flag_va:":["1f1fb-1f1e6"],":va:":["1f1fb-1f1e6"],":flag_uz:":["1f1fa-1f1ff"],":uz:":["1f1fa-1f1ff"],":flag_uy:":["1f1fa-1f1fe"],":uy:":["1f1fa-1f1fe"],":flag_us:":["1f1fa-1f1f8"],":us:":["1f1fa-1f1f8"],":flag_um:":["1f1fa-1f1f2"],":um:":["1f1fa-1f1f2"],":flag_ug:":["1f1fa-1f1ec"],":ug:":["1f1fa-1f1ec"],":flag_ua:":["1f1fa-1f1e6"],":ua:":["1f1fa-1f1e6"],":flag_tz:":["1f1f9-1f1ff"],":tz:":["1f1f9-1f1ff"],":flag_tw:":["1f1f9-1f1fc"],":tw:":["1f1f9-1f1fc"],":flag_tv:":["1f1f9-1f1fb"],":tuvalu:":["1f1f9-1f1fb"],":flag_tt:":["1f1f9-1f1f9"],":tt:":["1f1f9-1f1f9"],":flag_tr:":["1f1f9-1f1f7"],":tr:":["1f1f9-1f1f7"],":flag_to:":["1f1f9-1f1f4"],":to:":["1f1f9-1f1f4"],":flag_tn:":["1f1f9-1f1f3"],":tn:":["1f1f9-1f1f3"],":flag_tm:":["1f1f9-1f1f2"],":turkmenistan:":["1f1f9-1f1f2"],":flag_tl:":["1f1f9-1f1f1"],":tl:":["1f1f9-1f1f1"],":flag_tk:":["1f1f9-1f1f0"],":tk:":["1f1f9-1f1f0"],":flag_tj:":["1f1f9-1f1ef"],":tj:":["1f1f9-1f1ef"],":flag_th:":["1f1f9-1f1ed"],":th:":["1f1f9-1f1ed"],":flag_tg:":["1f1f9-1f1ec"],":tg:":["1f1f9-1f1ec"],":flag_tf:":["1f1f9-1f1eb"],":tf:":["1f1f9-1f1eb"],":flag_td:":["1f1f9-1f1e9"],":td:":["1f1f9-1f1e9"],":flag_tc:":["1f1f9-1f1e8"],":tc:":["1f1f9-1f1e8"],":flag_ta:":["1f1f9-1f1e6"],":ta:":["1f1f9-1f1e6"],":flag_sz:":["1f1f8-1f1ff"],":sz:":["1f1f8-1f1ff"],":flag_sy:":["1f1f8-1f1fe"],":sy:":["1f1f8-1f1fe"],":flag_sx:":["1f1f8-1f1fd"],":sx:":["1f1f8-1f1fd"],":flag_sv:":["1f1f8-1f1fb"],":sv:":["1f1f8-1f1fb"],":flag_st:":["1f1f8-1f1f9"],":st:":["1f1f8-1f1f9"],":flag_ss:":["1f1f8-1f1f8"],":ss:":["1f1f8-1f1f8"],":flag_sr:":["1f1f8-1f1f7"],":sr:":["1f1f8-1f1f7"],":flag_so:":["1f1f8-1f1f4"],":so:":["1f1f8-1f1f4"],":flag_sn:":["1f1f8-1f1f3"],":sn:":["1f1f8-1f1f3"],":flag_sm:":["1f1f8-1f1f2"],":sm:":["1f1f8-1f1f2"],":flag_sl:":["1f1f8-1f1f1"],":sl:":["1f1f8-1f1f1"],":flag_sk:":["1f1f8-1f1f0"],":sk:":["1f1f8-1f1f0"],":flag_sj:":["1f1f8-1f1ef"],":sj:":["1f1f8-1f1ef"],":flag_si:":["1f1f8-1f1ee"],":si:":["1f1f8-1f1ee"],":flag_sh:":["1f1f8-1f1ed"],":sh:":["1f1f8-1f1ed"],":flag_sg:":["1f1f8-1f1ec"],":sg:":["1f1f8-1f1ec"],":flag_se:":["1f1f8-1f1ea"],":se:":["1f1f8-1f1ea"],":flag_sd:":["1f1f8-1f1e9"],":sd:":["1f1f8-1f1e9"],":flag_sc:":["1f1f8-1f1e8"],":sc:":["1f1f8-1f1e8"],":flag_sb:":["1f1f8-1f1e7"],":sb:":["1f1f8-1f1e7"],":flag_sa:":["1f1f8-1f1e6"],":saudiarabia:":["1f1f8-1f1e6"],":saudi:":["1f1f8-1f1e6"],":flag_rw:":["1f1f7-1f1fc"],":rw:":["1f1f7-1f1fc"],":flag_ru:":["1f1f7-1f1fa"],":ru:":["1f1f7-1f1fa"],":flag_rs:":["1f1f7-1f1f8"],":rs:":["1f1f7-1f1f8"],":flag_ro:":["1f1f7-1f1f4"],":ro:":["1f1f7-1f1f4"],":flag_re:":["1f1f7-1f1ea"],":re:":["1f1f7-1f1ea"],":flag_qa:":["1f1f6-1f1e6"],":qa:":["1f1f6-1f1e6"],":flag_py:":["1f1f5-1f1fe"],":py:":["1f1f5-1f1fe"],":flag_pw:":["1f1f5-1f1fc"],":pw:":["1f1f5-1f1fc"],":flag_pt:":["1f1f5-1f1f9"],":pt:":["1f1f5-1f1f9"],":flag_ps:":["1f1f5-1f1f8"],":ps:":["1f1f5-1f1f8"],":flag_pr:":["1f1f5-1f1f7"],":pr:":["1f1f5-1f1f7"],":flag_pn:":["1f1f5-1f1f3"],":pn:":["1f1f5-1f1f3"],":flag_pm:":["1f1f5-1f1f2"],":pm:":["1f1f5-1f1f2"],":flag_pl:":["1f1f5-1f1f1"],":pl:":["1f1f5-1f1f1"],":flag_pk:":["1f1f5-1f1f0"],":pk:":["1f1f5-1f1f0"],":flag_ph:":["1f1f5-1f1ed"],":ph:":["1f1f5-1f1ed"],":flag_pg:":["1f1f5-1f1ec"],":pg:":["1f1f5-1f1ec"],":flag_pf:":["1f1f5-1f1eb"],":pf:":["1f1f5-1f1eb"],":flag_pe:":["1f1f5-1f1ea"],":pe:":["1f1f5-1f1ea"],":flag_pa:":["1f1f5-1f1e6"],":pa:":["1f1f5-1f1e6"],":flag_om:":["1f1f4-1f1f2"],":om:":["1f1f4-1f1f2"],":flag_nz:":["1f1f3-1f1ff"],":nz:":["1f1f3-1f1ff"],":flag_nu:":["1f1f3-1f1fa"],":nu:":["1f1f3-1f1fa"],":flag_nr:":["1f1f3-1f1f7"],":nr:":["1f1f3-1f1f7"],":flag_np:":["1f1f3-1f1f5"],":np:":["1f1f3-1f1f5"],":flag_no:":["1f1f3-1f1f4"],":no:":["1f1f3-1f1f4"],":flag_nl:":["1f1f3-1f1f1"],":nl:":["1f1f3-1f1f1"],":flag_ni:":["1f1f3-1f1ee"],":ni:":["1f1f3-1f1ee"],":flag_ng:":["1f1f3-1f1ec"],":nigeria:":["1f1f3-1f1ec"],":flag_nf:":["1f1f3-1f1eb"],":nf:":["1f1f3-1f1eb"],":flag_ne:":["1f1f3-1f1ea"],":ne:":["1f1f3-1f1ea"],":flag_nc:":["1f1f3-1f1e8"],":nc:":["1f1f3-1f1e8"],":flag_na:":["1f1f3-1f1e6"],":na:":["1f1f3-1f1e6"],":flag_mz:":["1f1f2-1f1ff"],":mz:":["1f1f2-1f1ff"],":flag_my:":["1f1f2-1f1fe"],":my:":["1f1f2-1f1fe"],":flag_mx:":["1f1f2-1f1fd"],":mx:":["1f1f2-1f1fd"],":flag_mw:":["1f1f2-1f1fc"],":mw:":["1f1f2-1f1fc"],":flag_mv:":["1f1f2-1f1fb"],":mv:":["1f1f2-1f1fb"],":flag_mu:":["1f1f2-1f1fa"],":mu:":["1f1f2-1f1fa"],":flag_mt:":["1f1f2-1f1f9"],":mt:":["1f1f2-1f1f9"],":flag_ms:":["1f1f2-1f1f8"],":ms:":["1f1f2-1f1f8"],":flag_mr:":["1f1f2-1f1f7"],":mr:":["1f1f2-1f1f7"],":flag_mq:":["1f1f2-1f1f6"],":mq:":["1f1f2-1f1f6"],":flag_mp:":["1f1f2-1f1f5"],":mp:":["1f1f2-1f1f5"],":flag_mo:":["1f1f2-1f1f4"],":mo:":["1f1f2-1f1f4"],":flag_mn:":["1f1f2-1f1f3"],":mn:":["1f1f2-1f1f3"],":flag_mm:":["1f1f2-1f1f2"],":mm:":["1f1f2-1f1f2"],":flag_ml:":["1f1f2-1f1f1"],":ml:":["1f1f2-1f1f1"],":flag_mk:":["1f1f2-1f1f0"],":mk:":["1f1f2-1f1f0"],":flag_mh:":["1f1f2-1f1ed"],":mh:":["1f1f2-1f1ed"],":flag_mg:":["1f1f2-1f1ec"],":mg:":["1f1f2-1f1ec"],":flag_mf:":["1f1f2-1f1eb"],":mf:":["1f1f2-1f1eb"],":flag_me:":["1f1f2-1f1ea"],":me:":["1f1f2-1f1ea"],":flag_md:":["1f1f2-1f1e9"],":md:":["1f1f2-1f1e9"],":flag_mc:":["1f1f2-1f1e8"],":mc:":["1f1f2-1f1e8"],":flag_ma:":["1f1f2-1f1e6"],":ma:":["1f1f2-1f1e6"],":flag_ly:":["1f1f1-1f1fe"],":ly:":["1f1f1-1f1fe"],":flag_lv:":["1f1f1-1f1fb"],":lv:":["1f1f1-1f1fb"],":flag_lu:":["1f1f1-1f1fa"],":lu:":["1f1f1-1f1fa"],":flag_lt:":["1f1f1-1f1f9"],":lt:":["1f1f1-1f1f9"],":flag_ls:":["1f1f1-1f1f8"],":ls:":["1f1f1-1f1f8"],":flag_lr:":["1f1f1-1f1f7"],":lr:":["1f1f1-1f1f7"],":flag_lk:":["1f1f1-1f1f0"],":lk:":["1f1f1-1f1f0"],":flag_li:":["1f1f1-1f1ee"],":li:":["1f1f1-1f1ee"],":flag_lc:":["1f1f1-1f1e8"],":lc:":["1f1f1-1f1e8"],":flag_lb:":["1f1f1-1f1e7"],":lb:":["1f1f1-1f1e7"],":flag_la:":["1f1f1-1f1e6"],":la:":["1f1f1-1f1e6"],":flag_kz:":["1f1f0-1f1ff"],":kz:":["1f1f0-1f1ff"],":flag_ky:":["1f1f0-1f1fe"],":ky:":["1f1f0-1f1fe"],":flag_kw:":["1f1f0-1f1fc"],":kw:":["1f1f0-1f1fc"],":flag_kr:":["1f1f0-1f1f7"],":kr:":["1f1f0-1f1f7"],":flag_kp:":["1f1f0-1f1f5"],":kp:":["1f1f0-1f1f5"],":flag_kn:":["1f1f0-1f1f3"],":kn:":["1f1f0-1f1f3"],":flag_km:":["1f1f0-1f1f2"],":km:":["1f1f0-1f1f2"],":flag_ki:":["1f1f0-1f1ee"],":ki:":["1f1f0-1f1ee"],":flag_kh:":["1f1f0-1f1ed"],":kh:":["1f1f0-1f1ed"],":flag_kg:":["1f1f0-1f1ec"],":kg:":["1f1f0-1f1ec"],":flag_ke:":["1f1f0-1f1ea"],":ke:":["1f1f0-1f1ea"],":flag_jp:":["1f1ef-1f1f5"],":jp:":["1f1ef-1f1f5"],":flag_jo:":["1f1ef-1f1f4"],":jo:":["1f1ef-1f1f4"],":flag_jm:":["1f1ef-1f1f2"],":jm:":["1f1ef-1f1f2"],":flag_je:":["1f1ef-1f1ea"],":je:":["1f1ef-1f1ea"],":flag_it:":["1f1ee-1f1f9"],":it:":["1f1ee-1f1f9"],":flag_is:":["1f1ee-1f1f8"],":is:":["1f1ee-1f1f8"],":flag_ir:":["1f1ee-1f1f7"],":ir:":["1f1ee-1f1f7"],":flag_iq:":["1f1ee-1f1f6"],":iq:":["1f1ee-1f1f6"],":flag_io:":["1f1ee-1f1f4"],":io:":["1f1ee-1f1f4"],":flag_in:":["1f1ee-1f1f3"],":in:":["1f1ee-1f1f3"],":flag_im:":["1f1ee-1f1f2"],":im:":["1f1ee-1f1f2"],":flag_il:":["1f1ee-1f1f1"],":il:":["1f1ee-1f1f1"],":flag_ie:":["1f1ee-1f1ea"],":ie:":["1f1ee-1f1ea"],":flag_id:":["1f1ee-1f1e9"],":indonesia:":["1f1ee-1f1e9"],":flag_ic:":["1f1ee-1f1e8"],":ic:":["1f1ee-1f1e8"],":flag_hu:":["1f1ed-1f1fa"],":hu:":["1f1ed-1f1fa"],":flag_ht:":["1f1ed-1f1f9"],":ht:":["1f1ed-1f1f9"],":flag_hr:":["1f1ed-1f1f7"],":hr:":["1f1ed-1f1f7"],":flag_hn:":["1f1ed-1f1f3"],":hn:":["1f1ed-1f1f3"],":flag_hm:":["1f1ed-1f1f2"],":hm:":["1f1ed-1f1f2"],":flag_hk:":["1f1ed-1f1f0"],":hk:":["1f1ed-1f1f0"],":flag_gy:":["1f1ec-1f1fe"],":gy:":["1f1ec-1f1fe"],":flag_gw:":["1f1ec-1f1fc"],":gw:":["1f1ec-1f1fc"],":flag_gu:":["1f1ec-1f1fa"],":gu:":["1f1ec-1f1fa"],":flag_gt:":["1f1ec-1f1f9"],":gt:":["1f1ec-1f1f9"],":flag_gs:":["1f1ec-1f1f8"],":gs:":["1f1ec-1f1f8"],":flag_gr:":["1f1ec-1f1f7"],":gr:":["1f1ec-1f1f7"],":flag_gq:":["1f1ec-1f1f6"],":gq:":["1f1ec-1f1f6"],":flag_gp:":["1f1ec-1f1f5"],":gp:":["1f1ec-1f1f5"],":flag_gn:":["1f1ec-1f1f3"],":gn:":["1f1ec-1f1f3"],":flag_gm:":["1f1ec-1f1f2"],":gm:":["1f1ec-1f1f2"],":flag_gl:":["1f1ec-1f1f1"],":gl:":["1f1ec-1f1f1"],":flag_gi:":["1f1ec-1f1ee"],":gi:":["1f1ec-1f1ee"],":flag_gh:":["1f1ec-1f1ed"],":gh:":["1f1ec-1f1ed"],":flag_gg:":["1f1ec-1f1ec"],":gg:":["1f1ec-1f1ec"],":flag_gf:":["1f1ec-1f1eb"],":gf:":["1f1ec-1f1eb"],":flag_ge:":["1f1ec-1f1ea"],":ge:":["1f1ec-1f1ea"],":flag_gd:":["1f1ec-1f1e9"],":gd:":["1f1ec-1f1e9"],":flag_gb:":["1f1ec-1f1e7"],":gb:":["1f1ec-1f1e7"],":flag_ga:":["1f1ec-1f1e6"],":ga:":["1f1ec-1f1e6"],":flag_fr:":["1f1eb-1f1f7"],":fr:":["1f1eb-1f1f7"],":flag_fo:":["1f1eb-1f1f4"],":fo:":["1f1eb-1f1f4"],":flag_fm:":["1f1eb-1f1f2"],":fm:":["1f1eb-1f1f2"],":flag_fk:":["1f1eb-1f1f0"],":fk:":["1f1eb-1f1f0"],":flag_fj:":["1f1eb-1f1ef"],":fj:":["1f1eb-1f1ef"],":flag_fi:":["1f1eb-1f1ee"],":fi:":["1f1eb-1f1ee"],":flag_eu:":["1f1ea-1f1fa"],":eu:":["1f1ea-1f1fa"],":flag_et:":["1f1ea-1f1f9"],":et:":["1f1ea-1f1f9"],":flag_es:":["1f1ea-1f1f8"],":es:":["1f1ea-1f1f8"],":flag_er:":["1f1ea-1f1f7"],":er:":["1f1ea-1f1f7"],":flag_eh:":["1f1ea-1f1ed"],":eh:":["1f1ea-1f1ed"],":flag_eg:":["1f1ea-1f1ec"],":eg:":["1f1ea-1f1ec"],":flag_ee:":["1f1ea-1f1ea"],":ee:":["1f1ea-1f1ea"],":flag_ec:":["1f1ea-1f1e8"],":ec:":["1f1ea-1f1e8"],":flag_ea:":["1f1ea-1f1e6"],":ea:":["1f1ea-1f1e6"],":flag_dz:":["1f1e9-1f1ff"],":dz:":["1f1e9-1f1ff"],":flag_do:":["1f1e9-1f1f4"],":do:":["1f1e9-1f1f4"],":flag_dm:":["1f1e9-1f1f2"],":dm:":["1f1e9-1f1f2"],":flag_dk:":["1f1e9-1f1f0"],":dk:":["1f1e9-1f1f0"],":flag_dj:":["1f1e9-1f1ef"],":dj:":["1f1e9-1f1ef"],":flag_dg:":["1f1e9-1f1ec"],":dg:":["1f1e9-1f1ec"],":flag_de:":["1f1e9-1f1ea"],":de:":["1f1e9-1f1ea"],":flag_cz:":["1f1e8-1f1ff"],":cz:":["1f1e8-1f1ff"],":flag_cy:":["1f1e8-1f1fe"],":cy:":["1f1e8-1f1fe"],":flag_cx:":["1f1e8-1f1fd"],":cx:":["1f1e8-1f1fd"],":flag_cw:":["1f1e8-1f1fc"],":cw:":["1f1e8-1f1fc"],":flag_cv:":["1f1e8-1f1fb"],":cv:":["1f1e8-1f1fb"],":flag_cu:":["1f1e8-1f1fa"],":cu:":["1f1e8-1f1fa"],":flag_cr:":["1f1e8-1f1f7"],":cr:":["1f1e8-1f1f7"],":flag_cp:":["1f1e8-1f1f5"],":cp:":["1f1e8-1f1f5"],":flag_co:":["1f1e8-1f1f4"],":co:":["1f1e8-1f1f4"],":flag_cn:":["1f1e8-1f1f3"],":cn:":["1f1e8-1f1f3"],":flag_cm:":["1f1e8-1f1f2"],":cm:":["1f1e8-1f1f2"],":flag_cl:":["1f1e8-1f1f1"],":chile:":["1f1e8-1f1f1"],":flag_ck:":["1f1e8-1f1f0"],":ck:":["1f1e8-1f1f0"],":flag_ci:":["1f1e8-1f1ee"],":ci:":["1f1e8-1f1ee"],":flag_ch:":["1f1e8-1f1ed"],":ch:":["1f1e8-1f1ed"],":flag_cg:":["1f1e8-1f1ec"],":cg:":["1f1e8-1f1ec"],":flag_cf:":["1f1e8-1f1eb"],":cf:":["1f1e8-1f1eb"],":flag_cd:":["1f1e8-1f1e9"],":congo:":["1f1e8-1f1e9"],":flag_cc:":["1f1e8-1f1e8"],":cc:":["1f1e8-1f1e8"],":flag_ca:":["1f1e8-1f1e6"],":ca:":["1f1e8-1f1e6"],":flag_bz:":["1f1e7-1f1ff"],":bz:":["1f1e7-1f1ff"],":flag_by:":["1f1e7-1f1fe"],":by:":["1f1e7-1f1fe"],":flag_bw:":["1f1e7-1f1fc"],":bw:":["1f1e7-1f1fc"],":flag_bv:":["1f1e7-1f1fb"],":bv:":["1f1e7-1f1fb"],":flag_bt:":["1f1e7-1f1f9"],":bt:":["1f1e7-1f1f9"],":flag_bs:":["1f1e7-1f1f8"],":bs:":["1f1e7-1f1f8"],":flag_br:":["1f1e7-1f1f7"],":br:":["1f1e7-1f1f7"],":flag_bq:":["1f1e7-1f1f6"],":bq:":["1f1e7-1f1f6"],":flag_bo:":["1f1e7-1f1f4"],":bo:":["1f1e7-1f1f4"],":flag_bn:":["1f1e7-1f1f3"],":bn:":["1f1e7-1f1f3"],":flag_bm:":["1f1e7-1f1f2"],":bm:":["1f1e7-1f1f2"],":flag_bl:":["1f1e7-1f1f1"],":bl:":["1f1e7-1f1f1"],":flag_bj:":["1f1e7-1f1ef"],":bj:":["1f1e7-1f1ef"],":flag_bi:":["1f1e7-1f1ee"],":bi:":["1f1e7-1f1ee"],":flag_bh:":["1f1e7-1f1ed"],":bh:":["1f1e7-1f1ed"],":flag_bg:":["1f1e7-1f1ec"],":bg:":["1f1e7-1f1ec"],":flag_bf:":["1f1e7-1f1eb"],":bf:":["1f1e7-1f1eb"],":flag_be:":["1f1e7-1f1ea"],":be:":["1f1e7-1f1ea"],":flag_bd:":["1f1e7-1f1e9"],":bd:":["1f1e7-1f1e9"],":flag_bb:":["1f1e7-1f1e7"],":bb:":["1f1e7-1f1e7"],":flag_ba:":["1f1e7-1f1e6"],":ba:":["1f1e7-1f1e6"],":flag_az:":["1f1e6-1f1ff"],":az:":["1f1e6-1f1ff"],":flag_ax:":["1f1e6-1f1fd"],":ax:":["1f1e6-1f1fd"],":flag_aw:":["1f1e6-1f1fc"],":aw:":["1f1e6-1f1fc"],":flag_au:":["1f1e6-1f1fa"],":au:":["1f1e6-1f1fa"],":flag_at:":["1f1e6-1f1f9"],":at:":["1f1e6-1f1f9"],":flag_as:":["1f1e6-1f1f8"],":as:":["1f1e6-1f1f8"],":flag_ar:":["1f1e6-1f1f7"],":ar:":["1f1e6-1f1f7"],":flag_aq:":["1f1e6-1f1f6"],":aq:":["1f1e6-1f1f6"],":flag_ao:":["1f1e6-1f1f4"],":ao:":["1f1e6-1f1f4"],":flag_am:":["1f1e6-1f1f2"],":am:":["1f1e6-1f1f2"],":flag_al:":["1f1e6-1f1f1"],":al:":["1f1e6-1f1f1"],":flag_ai:":["1f1e6-1f1ee"],":ai:":["1f1e6-1f1ee"],":flag_ag:":["1f1e6-1f1ec"],":ag:":["1f1e6-1f1ec"],":flag_af:":["1f1e6-1f1eb"],":af:":["1f1e6-1f1eb"],":flag_ae:":["1f1e6-1f1ea"],":ae:":["1f1e6-1f1ea"],":flag_ad:":["1f1e6-1f1e9"],":ad:":["1f1e6-1f1e9"],":flag_ac:":["1f1e6-1f1e8"],":ac:":["1f1e6-1f1e8"],":mahjong:":["1f004-fe0f","1f004"],":parking:":["1f17f-fe0f","1f17f"],":sa:":["1f202-fe0f","1f202"],":u7121:":["1f21a-fe0f","1f21a"],":u6307:":["1f22f-fe0f","1f22f"],":u6708:":["1f237-fe0f","1f237"],":film_frames:":["1f39e-fe0f","1f39e"],":tickets:":["1f39f-fe0f","1f39f"],":admission_tickets:":["1f39f-fe0f","1f39f"],":lifter:":["1f3cb-fe0f","1f3cb"],":weight_lifter:":["1f3cb-fe0f","1f3cb"],":golfer:":["1f3cc-fe0f","1f3cc"],":motorcycle:":["1f3cd-fe0f","1f3cd"],":racing_motorcycle:":["1f3cd-fe0f","1f3cd"],":race_car:":["1f3ce-fe0f","1f3ce"],":racing_car:":["1f3ce-fe0f","1f3ce"],":military_medal:":["1f396-fe0f","1f396"],":reminder_ribbon:":["1f397-fe0f","1f397"],":hot_pepper:":["1f336-fe0f","1f336"],":cloud_rain:":["1f327-fe0f","1f327"],":cloud_with_rain:":["1f327-fe0f","1f327"],":cloud_snow:":["1f328-fe0f","1f328"],":cloud_with_snow:":["1f328-fe0f","1f328"],":cloud_lightning:":["1f329-fe0f","1f329"],":cloud_with_lightning:":["1f329-fe0f","1f329"],":cloud_tornado:":["1f32a-fe0f","1f32a"],":cloud_with_tornado:":["1f32a-fe0f","1f32a"],":fog:":["1f32b-fe0f","1f32b"],":wind_blowing_face:":["1f32c-fe0f","1f32c"],":chipmunk:":["1f43f-fe0f","1f43f"],":spider:":["1f577-fe0f","1f577"],":spider_web:":["1f578-fe0f","1f578"],":thermometer:":["1f321-fe0f","1f321"],":microphone2:":["1f399-fe0f","1f399"],":studio_microphone:":["1f399-fe0f","1f399"],":level_slider:":["1f39a-fe0f","1f39a"],":control_knobs:":["1f39b-fe0f","1f39b"],":flag_white:":["1f3f3-fe0f","1f3f3"],":waving_white_flag:":["1f3f3-fe0f","1f3f3"],":rosette:":["1f3f5-fe0f","1f3f5"],":label:":["1f3f7-fe0f","1f3f7"],":projector:":["1f4fd-fe0f","1f4fd"],":film_projector:":["1f4fd-fe0f","1f4fd"],":om_symbol:":["1f549-fe0f","1f549"],":dove:":["1f54a-fe0f","1f54a"],":dove_of_peace:":["1f54a-fe0f","1f54a"],":candle:":["1f56f-fe0f","1f56f"],":clock:":["1f570-fe0f","1f570"],":mantlepiece_clock:":["1f570-fe0f","1f570"],":hole:":["1f573-fe0f","1f573"],":dark_sunglasses:":["1f576-fe0f","1f576"],":joystick:":["1f579-fe0f","1f579"],":paperclips:":["1f587-fe0f","1f587"],":linked_paperclips:":["1f587-fe0f","1f587"],":pen_ballpoint:":["1f58a-fe0f","1f58a"],":lower_left_ballpoint_pen:":["1f58a-fe0f","1f58a"],":pen_fountain:":["1f58b-fe0f","1f58b"],":lower_left_fountain_pen:":["1f58b-fe0f","1f58b"],":paintbrush:":["1f58c-fe0f","1f58c"],":lower_left_paintbrush:":["1f58c-fe0f","1f58c"],":crayon:":["1f58d-fe0f","1f58d"],":lower_left_crayon:":["1f58d-fe0f","1f58d"],":desktop:":["1f5a5-fe0f","1f5a5"],":desktop_computer:":["1f5a5-fe0f","1f5a5"],":printer:":["1f5a8-fe0f","1f5a8"],":trackball:":["1f5b2-fe0f","1f5b2"],":frame_photo:":["1f5bc-fe0f","1f5bc"],":frame_with_picture:":["1f5bc-fe0f","1f5bc"],":dividers:":["1f5c2-fe0f","1f5c2"],":card_index_dividers:":["1f5c2-fe0f","1f5c2"],":card_box:":["1f5c3-fe0f","1f5c3"],":card_file_box:":["1f5c3-fe0f","1f5c3"],":file_cabinet:":["1f5c4-fe0f","1f5c4"],":wastebasket:":["1f5d1-fe0f","1f5d1"],":notepad_spiral:":["1f5d2-fe0f","1f5d2"],":spiral_note_pad:":["1f5d2-fe0f","1f5d2"],":calendar_spiral:":["1f5d3-fe0f","1f5d3"],":spiral_calendar_pad:":["1f5d3-fe0f","1f5d3"],":compression:":["1f5dc-fe0f","1f5dc"],":key2:":["1f5dd-fe0f","1f5dd"],":old_key:":["1f5dd-fe0f","1f5dd"],":newspaper2:":["1f5de-fe0f","1f5de"],":rolled_up_newspaper:":["1f5de-fe0f","1f5de"],":dagger:":["1f5e1-fe0f","1f5e1"],":dagger_knife:":["1f5e1-fe0f","1f5e1"],":speaking_head:":["1f5e3-fe0f","1f5e3"],":speaking_head_in_silhouette:":["1f5e3-fe0f","1f5e3"],":anger_right:":["1f5ef-fe0f","1f5ef"],":right_anger_bubble:":["1f5ef-fe0f","1f5ef"],":ballot_box:":["1f5f3-fe0f","1f5f3"],":ballot_box_with_ballot:":["1f5f3-fe0f","1f5f3"],":map:":["1f5fa-fe0f","1f5fa"],":world_map:":["1f5fa-fe0f","1f5fa"],":tools:":["1f6e0-fe0f","1f6e0"],":hammer_and_wrench:":["1f6e0-fe0f","1f6e0"],":shield:":["1f6e1-fe0f","1f6e1"],":oil:":["1f6e2-fe0f","1f6e2"],":oil_drum:":["1f6e2-fe0f","1f6e2"],":satellite_orbital:":["1f6f0-fe0f","1f6f0"],":fork_knife_plate:":["1f37d-fe0f","1f37d"],":fork_and_knife_with_plate:":["1f37d-fe0f","1f37d"],":eye:":["1f441-fe0f","1f441"],":levitate:":["1f574-fe0f","1f574"],":man_in_business_suit_levitating:":["1f574-fe0f","1f574"],":spy:":["1f575-fe0f","1f575"],":sleuth_or_spy:":["1f575-fe0f","1f575"],":hand_splayed:":["1f590-fe0f","1f590"],":raised_hand_with_fingers_splayed:":["1f590-fe0f","1f590"],":mountain_snow:":["1f3d4-fe0f","1f3d4"],":snow_capped_mountain:":["1f3d4-fe0f","1f3d4"],":camping:":["1f3d5-fe0f","1f3d5"],":beach:":["1f3d6-fe0f","1f3d6"],":beach_with_umbrella:":["1f3d6-fe0f","1f3d6"],":construction_site:":["1f3d7-fe0f","1f3d7"],":building_construction:":["1f3d7-fe0f","1f3d7"],":homes:":["1f3d8-fe0f","1f3d8"],":house_buildings:":["1f3d8-fe0f","1f3d8"],":cityscape:":["1f3d9-fe0f","1f3d9"],":house_abandoned:":["1f3da-fe0f","1f3da"],":derelict_house_building:":["1f3da-fe0f","1f3da"],":classical_building:":["1f3db-fe0f","1f3db"],":desert:":["1f3dc-fe0f","1f3dc"],":island:":["1f3dd-fe0f","1f3dd"],":desert_island:":["1f3dd-fe0f","1f3dd"],":park:":["1f3de-fe0f","1f3de"],":national_park:":["1f3de-fe0f","1f3de"],":stadium:":["1f3df-fe0f","1f3df"],":couch:":["1f6cb-fe0f","1f6cb"],":couch_and_lamp:":["1f6cb-fe0f","1f6cb"],":shopping_bags:":["1f6cd-fe0f","1f6cd"],":bellhop:":["1f6ce-fe0f","1f6ce"],":bellhop_bell:":["1f6ce-fe0f","1f6ce"],":bed:":["1f6cf-fe0f","1f6cf"],":motorway:":["1f6e3-fe0f","1f6e3"],":railway_track:":["1f6e4-fe0f","1f6e4"],":railroad_track:":["1f6e4-fe0f","1f6e4"],":motorboat:":["1f6e5-fe0f","1f6e5"],":airplane_small:":["1f6e9-fe0f","1f6e9"],":small_airplane:":["1f6e9-fe0f","1f6e9"],":cruise_ship:":["1f6f3-fe0f","1f6f3"],":passenger_ship:":["1f6f3-fe0f","1f6f3"],":white_sun_small_cloud:":["1f324-fe0f","1f324"],":white_sun_with_small_cloud:":["1f324-fe0f","1f324"],":white_sun_cloud:":["1f325-fe0f","1f325"],":white_sun_behind_cloud:":["1f325-fe0f","1f325"],":white_sun_rain_cloud:":["1f326-fe0f","1f326"],":white_sun_behind_cloud_with_rain:":["1f326-fe0f","1f326"],":mouse_three_button:":["1f5b1-fe0f","1f5b1"],":three_button_mouse:":["1f5b1-fe0f","1f5b1"],":point_up_tone1:":["261d-1f3fb"],":point_up_tone2:":["261d-1f3fc"],":point_up_tone3:":["261d-1f3fd"],":point_up_tone4:":["261d-1f3fe"],":point_up_tone5:":["261d-1f3ff"],":v_tone1:":["270c-1f3fb"],":v_tone2:":["270c-1f3fc"],":v_tone3:":["270c-1f3fd"],":v_tone4:":["270c-1f3fe"],":v_tone5:":["270c-1f3ff"],":fist_tone1:":["270a-1f3fb"],":fist_tone2:":["270a-1f3fc"],":fist_tone3:":["270a-1f3fd"],":fist_tone4:":["270a-1f3fe"],":fist_tone5:":["270a-1f3ff"],":raised_hand_tone1:":["270b-1f3fb"],":raised_hand_tone2:":["270b-1f3fc"],":raised_hand_tone3:":["270b-1f3fd"],":raised_hand_tone4:":["270b-1f3fe"],":raised_hand_tone5:":["270b-1f3ff"],":writing_hand_tone1:":["270d-1f3fb"],":writing_hand_tone2:":["270d-1f3fc"],":writing_hand_tone3:":["270d-1f3fd"],":writing_hand_tone4:":["270d-1f3fe"],":writing_hand_tone5:":["270d-1f3ff"],":basketball_player_tone1:":["26f9-1f3fb"],":person_with_ball_tone1:":["26f9-1f3fb"],":basketball_player_tone2:":["26f9-1f3fc"],":person_with_ball_tone2:":["26f9-1f3fc"],":basketball_player_tone3:":["26f9-1f3fd"],":person_with_ball_tone3:":["26f9-1f3fd"],":basketball_player_tone4:":["26f9-1f3fe"],":person_with_ball_tone4:":["26f9-1f3fe"],":basketball_player_tone5:":["26f9-1f3ff"],":person_with_ball_tone5:":["26f9-1f3ff"],":copyright:":["00a9-fe0f","00a9"],":registered:":["00ae-fe0f","00ae"],":bangbang:":["203c-fe0f","203c"],":interrobang:":["2049-fe0f","2049"],":tm:":["2122-fe0f","2122"],":left_right_arrow:":["2194-fe0f","2194"],":arrow_up_down:":["2195-fe0f","2195"],":arrow_upper_left:":["2196-fe0f","2196"],":arrow_upper_right:":["2197-fe0f","2197"],":arrow_lower_right:":["2198-fe0f","2198"],":arrow_lower_left:":["2199-fe0f","2199"],":leftwards_arrow_with_hook:":["21a9-fe0f","21a9"],":arrow_right_hook:":["21aa-fe0f","21aa"],":watch:":["231a-fe0f","231a"],":hourglass:":["231b-fe0f","231b"],":m:":["24c2-fe0f","24c2"],":black_small_square:":["25aa-fe0f","25aa"],":white_small_square:":["25ab-fe0f","25ab"],":arrow_forward:":["25b6-fe0f","25b6"],":arrow_backward:":["25c0-fe0f","25c0"],":white_medium_square:":["25fb-fe0f","25fb"],":black_medium_square:":["25fc-fe0f","25fc"],":white_medium_small_square:":["25fd-fe0f","25fd"],":black_medium_small_square:":["25fe-fe0f","25fe"],":sunny:":["2600-fe0f","2600"],":cloud:":["2601-fe0f","2601"],":telephone:":["260e-fe0f","260e"],":ballot_box_with_check:":["2611-fe0f","2611"],":umbrella:":["2614-fe0f","2614"],":coffee:":["2615-fe0f","2615"],":point_up:":["261d-fe0f","261d"],":relaxed:":["263a-fe0f","263a"],":aries:":["2648-fe0f","2648"],":taurus:":["2649-fe0f","2649"],":gemini:":["264a-fe0f","264a"],":cancer:":["264b-fe0f","264b"],":leo:":["264c-fe0f","264c"],":virgo:":["264d-fe0f","264d"],":libra:":["264e-fe0f","264e"],":scorpius:":["264f-fe0f","264f"],":sagittarius:":["2650-fe0f","2650"],":capricorn:":["2651-fe0f","2651"],":aquarius:":["2652-fe0f","2652"],":pisces:":["2653-fe0f","2653"],":spades:":["2660-fe0f","2660"],":clubs:":["2663-fe0f","2663"],":hearts:":["2665-fe0f","2665"],":diamonds:":["2666-fe0f","2666"],":hotsprings:":["2668-fe0f","2668"],":recycle:":["267b-fe0f","267b"],":wheelchair:":["267f-fe0f","267f"],":anchor:":["2693-fe0f","2693"],":warning:":["26a0-fe0f","26a0"],":zap:":["26a1-fe0f","26a1"],":white_circle:":["26aa-fe0f","26aa"],":black_circle:":["26ab-fe0f","26ab"],":soccer:":["26bd-fe0f","26bd"],":baseball:":["26be-fe0f","26be"],":snowman:":["26c4-fe0f","26c4"],":partly_sunny:":["26c5-fe0f","26c5"],":no_entry:":["26d4-fe0f","26d4"],":church:":["26ea-fe0f","26ea"],":fountain:":["26f2-fe0f","26f2"],":golf:":["26f3-fe0f","26f3"],":sailboat:":["26f5-fe0f","26f5"],":tent:":["26fa-fe0f","26fa"],":fuelpump:":["26fd-fe0f","26fd"],":scissors:":["2702-fe0f","2702"],":airplane:":["2708-fe0f","2708"],":envelope:":["2709-fe0f","2709"],":v:":["270c-fe0f","270c"],":pencil2:":["270f-fe0f","270f"],":black_nib:":["2712-fe0f","2712"],":heavy_check_mark:":["2714-fe0f","2714"],":heavy_multiplication_x:":["2716-fe0f","2716"],":eight_spoked_asterisk:":["2733-fe0f","2733"],":eight_pointed_black_star:":["2734-fe0f","2734"],":snowflake:":["2744-fe0f","2744"],":sparkle:":["2747-fe0f","2747"],":exclamation:":["2757-fe0f","2757"],":heart:":["2764-fe0f","2764"],":arrow_right:":["27a1-fe0f","27a1"],":arrow_heading_up:":["2934-fe0f","2934"],":arrow_heading_down:":["2935-fe0f","2935"],":arrow_left:":["2b05-fe0f","2b05"],":arrow_up:":["2b06-fe0f","2b06"],":arrow_down:":["2b07-fe0f","2b07"],":black_large_square:":["2b1b-fe0f","2b1b"],":white_large_square:":["2b1c-fe0f","2b1c"],":star:":["2b50-fe0f","2b50"],":o:":["2b55-fe0f","2b55"],":wavy_dash:":["3030-fe0f","3030"],":part_alternation_mark:":["303d-fe0f","303d"],":congratulations:":["3297-fe0f","3297"],":secret:":["3299-fe0f","3299"],":cross:":["271d-fe0f","271d"],":latin_cross:":["271d-fe0f","271d"],":keyboard:":["2328-fe0f","2328"],":writing_hand:":["270d-fe0f","270d"],":track_next:":["23ed-fe0f","23ed"],":next_track:":["23ed-fe0f","23ed"],":track_previous:":["23ee-fe0f","23ee"],":previous_track:":["23ee-fe0f","23ee"],":play_pause:":["23ef-fe0f","23ef"],":stopwatch:":["23f1-fe0f","23f1"],":timer:":["23f2-fe0f","23f2"],":timer_clock:":["23f2-fe0f","23f2"],":pause_button:":["23f8-fe0f","23f8"],":double_vertical_bar:":["23f8-fe0f","23f8"],":stop_button:":["23f9-fe0f","23f9"],":record_button:":["23fa-fe0f","23fa"],":umbrella2:":["2602-fe0f","2602"],":snowman2:":["2603-fe0f","2603"],":comet:":["2604-fe0f","2604"],":shamrock:":["2618-fe0f","2618"],":skull_crossbones:":["2620-fe0f","2620"],":skull_and_crossbones:":["2620-fe0f","2620"],":radioactive:":["2622-fe0f","2622"],":radioactive_sign:":["2622-fe0f","2622"],":biohazard:":["2623-fe0f","2623"],":biohazard_sign:":["2623-fe0f","2623"],":orthodox_cross:":["2626-fe0f","2626"],":star_and_crescent:":["262a-fe0f","262a"],":peace:":["262e-fe0f","262e"],":peace_symbol:":["262e-fe0f","262e"],":yin_yang:":["262f-fe0f","262f"],":wheel_of_dharma:":["2638-fe0f","2638"],":frowning2:":["2639-fe0f","2639"],":white_frowning_face:":["2639-fe0f","2639"],":hammer_pick:":["2692-fe0f","2692"],":hammer_and_pick:":["2692-fe0f","2692"],":crossed_swords:":["2694-fe0f","2694"],":scales:":["2696-fe0f","2696"],":alembic:":["2697-fe0f","2697"],":gear:":["2699-fe0f","2699"],":atom:":["269b-fe0f","269b"],":atom_symbol:":["269b-fe0f","269b"],":fleur-de-lis:":["269c-fe0f","269c"],":coffin:":["26b0-fe0f","26b0"],":urn:":["26b1-fe0f","26b1"],":funeral_urn:":["26b1-fe0f","26b1"],":thunder_cloud_rain:":["26c8-fe0f","26c8"],":thunder_cloud_and_rain:":["26c8-fe0f","26c8"],":pick:":["26cf-fe0f","26cf"],":helmet_with_cross:":["26d1-fe0f","26d1"],":helmet_with_white_cross:":["26d1-fe0f","26d1"],":chains:":["26d3-fe0f","26d3"],":shinto_shrine:":["26e9-fe0f","26e9"],":mountain:":["26f0-fe0f","26f0"],":beach_umbrella:":["26f1-fe0f","26f1"],":umbrella_on_ground:":["26f1-fe0f","26f1"],":ferry:":["26f4-fe0f","26f4"],":skier:":["26f7-fe0f","26f7"],":ice_skate:":["26f8-fe0f","26f8"],":basketball_player:":["26f9-fe0f","26f9"],":person_with_ball:":["26f9-fe0f","26f9"],":star_of_david:":["2721-fe0f","2721"],":heart_exclamation:":["2763-fe0f","2763"],":heavy_heart_exclamation_mark_ornament:":["2763-fe0f","2763"],":black_joker:":["1f0cf"],":a:":["1f170"],":b:":["1f171"],":o2:":["1f17e"],":ab:":["1f18e"],":cl:":["1f191"],":cool:":["1f192"],":free:":["1f193"],":id:":["1f194"],":new:":["1f195"],":ng:":["1f196"],":ok:":["1f197"],":sos:":["1f198"],":up:":["1f199"],":vs:":["1f19a"],":koko:":["1f201"],":u7981:":["1f232"],":u7a7a:":["1f233"],":u5408:":["1f234"],":u6e80:":["1f235"],":u6709:":["1f236"],":u7533:":["1f238"],":u5272:":["1f239"],":u55b6:":["1f23a"],":ideograph_advantage:":["1f250"],":accept:":["1f251"],":cyclone:":["1f300"],":foggy:":["1f301"],":closed_umbrella:":["1f302"],":night_with_stars:":["1f303"],":sunrise_over_mountains:":["1f304"],":sunrise:":["1f305"],":city_dusk:":["1f306"],":city_sunset:":["1f307"],":city_sunrise:":["1f307"],":rainbow:":["1f308"],":bridge_at_night:":["1f309"],":ocean:":["1f30a"],":volcano:":["1f30b"],":milky_way:":["1f30c"],":earth_asia:":["1f30f"],":new_moon:":["1f311"],":first_quarter_moon:":["1f313"],":waxing_gibbous_moon:":["1f314"],":full_moon:":["1f315"],":crescent_moon:":["1f319"],":first_quarter_moon_with_face:":["1f31b"],":star2:":["1f31f"],":stars:":["1f320"],":chestnut:":["1f330"],":seedling:":["1f331"],":palm_tree:":["1f334"],":cactus:":["1f335"],":tulip:":["1f337"],":cherry_blossom:":["1f338"],":rose:":["1f339"],":hibiscus:":["1f33a"],":sunflower:":["1f33b"],":blossom:":["1f33c"],":corn:":["1f33d"],":ear_of_rice:":["1f33e"],":herb:":["1f33f"],":four_leaf_clover:":["1f340"],":maple_leaf:":["1f341"],":fallen_leaf:":["1f342"],":leaves:":["1f343"],":mushroom:":["1f344"],":tomato:":["1f345"],":eggplant:":["1f346"],":grapes:":["1f347"],":melon:":["1f348"],":watermelon:":["1f349"],":tangerine:":["1f34a"],":banana:":["1f34c"],":pineapple:":["1f34d"],":apple:":["1f34e"],":green_apple:":["1f34f"],":peach:":["1f351"],":cherries:":["1f352"],":strawberry:":["1f353"],":hamburger:":["1f354"],":pizza:":["1f355"],":meat_on_bone:":["1f356"],":poultry_leg:":["1f357"],":rice_cracker:":["1f358"],":rice_ball:":["1f359"],":rice:":["1f35a"],":curry:":["1f35b"],":ramen:":["1f35c"],":spaghetti:":["1f35d"],":bread:":["1f35e"],":fries:":["1f35f"],":sweet_potato:":["1f360"],":dango:":["1f361"],":oden:":["1f362"],":sushi:":["1f363"],":fried_shrimp:":["1f364"],":fish_cake:":["1f365"],":icecream:":["1f366"],":shaved_ice:":["1f367"],":ice_cream:":["1f368"],":doughnut:":["1f369"],":cookie:":["1f36a"],":chocolate_bar:":["1f36b"],":candy:":["1f36c"],":lollipop:":["1f36d"],":custard:":["1f36e"],":honey_pot:":["1f36f"],":cake:":["1f370"],":bento:":["1f371"],":stew:":["1f372"],":egg:":["1f373"],":fork_and_knife:":["1f374"],":tea:":["1f375"],":sake:":["1f376"],":wine_glass:":["1f377"],":cocktail:":["1f378"],":tropical_drink:":["1f379"],":beer:":["1f37a"],":beers:":["1f37b"],":ribbon:":["1f380"],":gift:":["1f381"],":birthday:":["1f382"],":jack_o_lantern:":["1f383"],":christmas_tree:":["1f384"],":santa:":["1f385"],":fireworks:":["1f386"],":sparkler:":["1f387"],":balloon:":["1f388"],":tada:":["1f389"],":confetti_ball:":["1f38a"],":tanabata_tree:":["1f38b"],":crossed_flags:":["1f38c"],":bamboo:":["1f38d"],":dolls:":["1f38e"],":flags:":["1f38f"],":wind_chime:":["1f390"],":rice_scene:":["1f391"],":school_satchel:":["1f392"],":mortar_board:":["1f393"],":carousel_horse:":["1f3a0"],":ferris_wheel:":["1f3a1"],":roller_coaster:":["1f3a2"],":fishing_pole_and_fish:":["1f3a3"],":microphone:":["1f3a4"],":movie_camera:":["1f3a5"],":cinema:":["1f3a6"],":headphones:":["1f3a7"],":art:":["1f3a8"],":tophat:":["1f3a9"],":circus_tent:":["1f3aa"],":ticket:":["1f3ab"],":clapper:":["1f3ac"],":performing_arts:":["1f3ad"],":video_game:":["1f3ae"],":dart:":["1f3af"],":slot_machine:":["1f3b0"],":8ball:":["1f3b1"],":game_die:":["1f3b2"],":bowling:":["1f3b3"],":flower_playing_cards:":["1f3b4"],":musical_note:":["1f3b5"],":notes:":["1f3b6"],":saxophone:":["1f3b7"],":guitar:":["1f3b8"],":musical_keyboard:":["1f3b9"],":trumpet:":["1f3ba"],":violin:":["1f3bb"],":musical_score:":["1f3bc"],":running_shirt_with_sash:":["1f3bd"],":tennis:":["1f3be"],":ski:":["1f3bf"],":basketball:":["1f3c0"],":checkered_flag:":["1f3c1"],":snowboarder:":["1f3c2"],":runner:":["1f3c3"],":surfer:":["1f3c4"],":trophy:":["1f3c6"],":football:":["1f3c8"],":swimmer:":["1f3ca"],":house:":["1f3e0"],":house_with_garden:":["1f3e1"],":office:":["1f3e2"],":post_office:":["1f3e3"],":hospital:":["1f3e5"],":bank:":["1f3e6"],":atm:":["1f3e7"],":hotel:":["1f3e8"],":love_hotel:":["1f3e9"],":convenience_store:":["1f3ea"],":school:":["1f3eb"],":department_store:":["1f3ec"],":factory:":["1f3ed"],":izakaya_lantern:":["1f3ee"],":japanese_castle:":["1f3ef"],":european_castle:":["1f3f0"],":snail:":["1f40c"],":snake:":["1f40d"],":racehorse:":["1f40e"],":sheep:":["1f411"],":monkey:":["1f412"],":chicken:":["1f414"],":boar:":["1f417"],":elephant:":["1f418"],":octopus:":["1f419"],":shell:":["1f41a"],":bug:":["1f41b"],":ant:":["1f41c"],":bee:":["1f41d"],":beetle:":["1f41e"],":fish:":["1f41f"],":tropical_fish:":["1f420"],":blowfish:":["1f421"],":turtle:":["1f422"],":hatching_chick:":["1f423"],":baby_chick:":["1f424"],":hatched_chick:":["1f425"],":bird:":["1f426"],":penguin:":["1f427"],":koala:":["1f428"],":poodle:":["1f429"],":camel:":["1f42b"],":dolphin:":["1f42c"],":mouse:":["1f42d"],":cow:":["1f42e"],":tiger:":["1f42f"],":rabbit:":["1f430"],":cat:":["1f431"],":dragon_face:":["1f432"],":whale:":["1f433"],":horse:":["1f434"],":monkey_face:":["1f435"],":dog:":["1f436"],":pig:":["1f437"],":frog:":["1f438"],":hamster:":["1f439"],":wolf:":["1f43a"],":bear:":["1f43b"],":panda_face:":["1f43c"],":pig_nose:":["1f43d"],":feet:":["1f43e"],":paw_prints:":["1f43e"],":eyes:":["1f440"],":ear:":["1f442"],":nose:":["1f443"],":lips:":["1f444"],":tongue:":["1f445"],":point_up_2:":["1f446"],":point_down:":["1f447"],":point_left:":["1f448"],":point_right:":["1f449"],":punch:":["1f44a"],":wave:":["1f44b"],":ok_hand:":["1f44c"],":thumbsup:":["1f44d"],":+1:":["1f44d"],":thumbsdown:":["1f44e"],":-1:":["1f44e"],":clap:":["1f44f"],":open_hands:":["1f450"],":crown:":["1f451"],":womans_hat:":["1f452"],":eyeglasses:":["1f453"],":necktie:":["1f454"],":shirt:":["1f455"],":jeans:":["1f456"],":dress:":["1f457"],":kimono:":["1f458"],":bikini:":["1f459"],":womans_clothes:":["1f45a"],":purse:":["1f45b"],":handbag:":["1f45c"],":pouch:":["1f45d"],":mans_shoe:":["1f45e"],":athletic_shoe:":["1f45f"],":high_heel:":["1f460"],":sandal:":["1f461"],":boot:":["1f462"],":footprints:":["1f463"],":bust_in_silhouette:":["1f464"],":boy:":["1f466"],":girl:":["1f467"],":man:":["1f468"],":woman:":["1f469"],":family:":["1f46a"],":couple:":["1f46b"],":cop:":["1f46e"],":dancers:":["1f46f"],":bride_with_veil:":["1f470"],":person_with_blond_hair:":["1f471"],":man_with_gua_pi_mao:":["1f472"],":man_with_turban:":["1f473"],":older_man:":["1f474"],":older_woman:":["1f475"],":grandma:":["1f475"],":baby:":["1f476"],":construction_worker:":["1f477"],":princess:":["1f478"],":japanese_ogre:":["1f479"],":japanese_goblin:":["1f47a"],":ghost:":["1f47b"],":angel:":["1f47c"],":alien:":["1f47d"],":space_invader:":["1f47e"],":imp:":["1f47f"],":skull:":["1f480"],":skeleton:":["1f480"],":card_index:":["1f4c7"],":information_desk_person:":["1f481"],":guardsman:":["1f482"],":dancer:":["1f483"],":lipstick:":["1f484"],":nail_care:":["1f485"],":ledger:":["1f4d2"],":massage:":["1f486"],":notebook:":["1f4d3"],":haircut:":["1f487"],":notebook_with_decorative_cover:":["1f4d4"],":barber:":["1f488"],":closed_book:":["1f4d5"],":syringe:":["1f489"],":book:":["1f4d6"],":pill:":["1f48a"],":green_book:":["1f4d7"],":kiss:":["1f48b"],":blue_book:":["1f4d8"],":love_letter:":["1f48c"],":orange_book:":["1f4d9"],":ring:":["1f48d"],":books:":["1f4da"],":gem:":["1f48e"],":name_badge:":["1f4db"],":couplekiss:":["1f48f"],":scroll:":["1f4dc"],":bouquet:":["1f490"],":pencil:":["1f4dd"],":couple_with_heart:":["1f491"],":telephone_receiver:":["1f4de"],":wedding:":["1f492"],":pager:":["1f4df"],":fax:":["1f4e0"],":heartbeat:":["1f493"],":satellite:":["1f4e1"],":loudspeaker:":["1f4e2"],":broken_heart:":["1f494"],":mega:":["1f4e3"],":outbox_tray:":["1f4e4"],":two_hearts:":["1f495"],":inbox_tray:":["1f4e5"],":package:":["1f4e6"],":sparkling_heart:":["1f496"],":e-mail:":["1f4e7"],":email:":["1f4e7"],":incoming_envelope:":["1f4e8"],":heartpulse:":["1f497"],":envelope_with_arrow:":["1f4e9"],":mailbox_closed:":["1f4ea"],":cupid:":["1f498"],":mailbox:":["1f4eb"],":postbox:":["1f4ee"],":blue_heart:":["1f499"],":newspaper:":["1f4f0"],":iphone:":["1f4f1"],":green_heart:":["1f49a"],":calling:":["1f4f2"],":vibration_mode:":["1f4f3"],":yellow_heart:":["1f49b"],":mobile_phone_off:":["1f4f4"],":signal_strength:":["1f4f6"],":purple_heart:":["1f49c"],":camera:":["1f4f7"],":video_camera:":["1f4f9"],":gift_heart:":["1f49d"],":tv:":["1f4fa"],":radio:":["1f4fb"],":revolving_hearts:":["1f49e"],":vhs:":["1f4fc"],":arrows_clockwise:":["1f503"],":heart_decoration:":["1f49f"],":loud_sound:":["1f50a"],":battery:":["1f50b"],":diamond_shape_with_a_dot_inside:":["1f4a0"],":electric_plug:":["1f50c"],":mag:":["1f50d"],":bulb:":["1f4a1"],":mag_right:":["1f50e"],":lock_with_ink_pen:":["1f50f"],":anger:":["1f4a2"],":closed_lock_with_key:":["1f510"],":key:":["1f511"],":bomb:":["1f4a3"],":lock:":["1f512"],":unlock:":["1f513"],":zzz:":["1f4a4"],":bell:":["1f514"],":bookmark:":["1f516"],":boom:":["1f4a5"],":link:":["1f517"],":radio_button:":["1f518"],":sweat_drops:":["1f4a6"],":back:":["1f519"],":end:":["1f51a"],":droplet:":["1f4a7"],":on:":["1f51b"],":soon:":["1f51c"],":dash:":["1f4a8"],":top:":["1f51d"],":underage:":["1f51e"],":poop:":["1f4a9"],":shit:":["1f4a9"],":hankey:":["1f4a9"],":poo:":["1f4a9"],":ten:":["1f51f"],":muscle:":["1f4aa"],":capital_abcd:":["1f520"],":abcd:":["1f521"],":dizzy:":["1f4ab"],":1234:":["1f522"],":symbols:":["1f523"],":speech_balloon:":["1f4ac"],":abc:":["1f524"],":fire:":["1f525"],":flame:":["1f525"],":white_flower:":["1f4ae"],":flashlight:":["1f526"],":wrench:":["1f527"],":100:":["1f4af"],":hammer:":["1f528"],":nut_and_bolt:":["1f529"],":moneybag:":["1f4b0"],":knife:":["1f52a"],":gun:":["1f52b"],":currency_exchange:":["1f4b1"],":crystal_ball:":["1f52e"],":heavy_dollar_sign:":["1f4b2"],":six_pointed_star:":["1f52f"],":credit_card:":["1f4b3"],":beginner:":["1f530"],":trident:":["1f531"],":yen:":["1f4b4"],":black_square_button:":["1f532"],":white_square_button:":["1f533"],":dollar:":["1f4b5"],":red_circle:":["1f534"],":large_blue_circle:":["1f535"],":money_with_wings:":["1f4b8"],":large_orange_diamond:":["1f536"],":large_blue_diamond:":["1f537"],":chart:":["1f4b9"],":small_orange_diamond:":["1f538"],":small_blue_diamond:":["1f539"],":seat:":["1f4ba"],":small_red_triangle:":["1f53a"],":small_red_triangle_down:":["1f53b"],":computer:":["1f4bb"],":arrow_up_small:":["1f53c"],":briefcase:":["1f4bc"],":arrow_down_small:":["1f53d"],":clock1:":["1f550"],":minidisc:":["1f4bd"],":clock2:":["1f551"],":floppy_disk:":["1f4be"],":clock3:":["1f552"],":cd:":["1f4bf"],":clock4:":["1f553"],":dvd:":["1f4c0"],":clock5:":["1f554"],":clock6:":["1f555"],":file_folder:":["1f4c1"],":clock7:":["1f556"],":clock8:":["1f557"],":open_file_folder:":["1f4c2"],":clock9:":["1f558"],":clock10:":["1f559"],":page_with_curl:":["1f4c3"],":clock11:":["1f55a"],":clock12:":["1f55b"],":page_facing_up:":["1f4c4"],":mount_fuji:":["1f5fb"],":tokyo_tower:":["1f5fc"],":date:":["1f4c5"],":statue_of_liberty:":["1f5fd"],":japan:":["1f5fe"],":calendar:":["1f4c6"],":moyai:":["1f5ff"],":grin:":["1f601"],":joy:":["1f602"],":smiley:":["1f603"],":chart_with_upwards_trend:":["1f4c8"],":smile:":["1f604"],":sweat_smile:":["1f605"],":chart_with_downwards_trend:":["1f4c9"],":laughing:":["1f606"],":satisfied:":["1f606"],":wink:":["1f609"],":bar_chart:":["1f4ca"],":blush:":["1f60a"],":yum:":["1f60b"],":clipboard:":["1f4cb"],":relieved:":["1f60c"],":heart_eyes:":["1f60d"],":pushpin:":["1f4cc"],":smirk:":["1f60f"],":unamused:":["1f612"],":round_pushpin:":["1f4cd"],":sweat:":["1f613"],":pensive:":["1f614"],":paperclip:":["1f4ce"],":confounded:":["1f616"],":kissing_heart:":["1f618"],":straight_ruler:":["1f4cf"],":kissing_closed_eyes:":["1f61a"],":stuck_out_tongue_winking_eye:":["1f61c"],":triangular_ruler:":["1f4d0"],":stuck_out_tongue_closed_eyes:":["1f61d"],":disappointed:":["1f61e"],":bookmark_tabs:":["1f4d1"],":angry:":["1f620"],":rage:":["1f621"],":cry:":["1f622"],":persevere:":["1f623"],":triumph:":["1f624"],":disappointed_relieved:":["1f625"],":fearful:":["1f628"],":weary:":["1f629"],":sleepy:":["1f62a"],":tired_face:":["1f62b"],":sob:":["1f62d"],":cold_sweat:":["1f630"],":scream:":["1f631"],":astonished:":["1f632"],":flushed:":["1f633"],":dizzy_face:":["1f635"],":mask:":["1f637"],":smile_cat:":["1f638"],":joy_cat:":["1f639"],":smiley_cat:":["1f63a"],":heart_eyes_cat:":["1f63b"],":smirk_cat:":["1f63c"],":kissing_cat:":["1f63d"],":pouting_cat:":["1f63e"],":crying_cat_face:":["1f63f"],":scream_cat:":["1f640"],":no_good:":["1f645"],":ok_woman:":["1f646"],":bow:":["1f647"],":see_no_evil:":["1f648"],":hear_no_evil:":["1f649"],":speak_no_evil:":["1f64a"],":raising_hand:":["1f64b"],":raised_hands:":["1f64c"],":person_frowning:":["1f64d"],":person_with_pouting_face:":["1f64e"],":pray:":["1f64f"],":rocket:":["1f680"],":railway_car:":["1f683"],":bullettrain_side:":["1f684"],":bullettrain_front:":["1f685"],":metro:":["1f687"],":station:":["1f689"],":bus:":["1f68c"],":busstop:":["1f68f"],":ambulance:":["1f691"],":fire_engine:":["1f692"],":police_car:":["1f693"],":taxi:":["1f695"],":red_car:":["1f697"],":blue_car:":["1f699"],":truck:":["1f69a"],":ship:":["1f6a2"],":speedboat:":["1f6a4"],":traffic_light:":["1f6a5"],":construction:":["1f6a7"],":rotating_light:":["1f6a8"],":triangular_flag_on_post:":["1f6a9"],":door:":["1f6aa"],":no_entry_sign:":["1f6ab"],":smoking:":["1f6ac"],":no_smoking:":["1f6ad"],":bike:":["1f6b2"],":walking:":["1f6b6"],":mens:":["1f6b9"],":womens:":["1f6ba"],":restroom:":["1f6bb"],":baby_symbol:":["1f6bc"],":toilet:":["1f6bd"],":wc:":["1f6be"],":bath:":["1f6c0"],":metal:":["1f918"],":sign_of_the_horns:":["1f918"],":grinning:":["1f600"],":innocent:":["1f607"],":smiling_imp:":["1f608"],":sunglasses:":["1f60e"],":neutral_face:":["1f610"],":expressionless:":["1f611"],":confused:":["1f615"],":kissing:":["1f617"],":kissing_smiling_eyes:":["1f619"],":stuck_out_tongue:":["1f61b"],":worried:":["1f61f"],":frowning:":["1f626"],":anguished:":["1f627"],":grimacing:":["1f62c"],":open_mouth:":["1f62e"],":hushed:":["1f62f"],":sleeping:":["1f634"],":no_mouth:":["1f636"],":helicopter:":["1f681"],":steam_locomotive:":["1f682"],":train2:":["1f686"],":light_rail:":["1f688"],":tram:":["1f68a"],":oncoming_bus:":["1f68d"],":trolleybus:":["1f68e"],":minibus:":["1f690"],":oncoming_police_car:":["1f694"],":oncoming_taxi:":["1f696"],":oncoming_automobile:":["1f698"],":articulated_lorry:":["1f69b"],":tractor:":["1f69c"],":monorail:":["1f69d"],":mountain_railway:":["1f69e"],":suspension_railway:":["1f69f"],":mountain_cableway:":["1f6a0"],":aerial_tramway:":["1f6a1"],":rowboat:":["1f6a3"],":vertical_traffic_light:":["1f6a6"],":put_litter_in_its_place:":["1f6ae"],":do_not_litter:":["1f6af"],":potable_water:":["1f6b0"],":non-potable_water:":["1f6b1"],":no_bicycles:":["1f6b3"],":bicyclist:":["1f6b4"],":mountain_bicyclist:":["1f6b5"],":no_pedestrians:":["1f6b7"],":children_crossing:":["1f6b8"],":shower:":["1f6bf"],":bathtub:":["1f6c1"],":passport_control:":["1f6c2"],":customs:":["1f6c3"],":baggage_claim:":["1f6c4"],":left_luggage:":["1f6c5"],":earth_africa:":["1f30d"],":earth_americas:":["1f30e"],":globe_with_meridians:":["1f310"],":waxing_crescent_moon:":["1f312"],":waning_gibbous_moon:":["1f316"],":last_quarter_moon:":["1f317"],":waning_crescent_moon:":["1f318"],":new_moon_with_face:":["1f31a"],":last_quarter_moon_with_face:":["1f31c"],":full_moon_with_face:":["1f31d"],":sun_with_face:":["1f31e"],":evergreen_tree:":["1f332"],":deciduous_tree:":["1f333"],":lemon:":["1f34b"],":pear:":["1f350"],":baby_bottle:":["1f37c"],":horse_racing:":["1f3c7"],":rugby_football:":["1f3c9"],":european_post_office:":["1f3e4"],":rat:":["1f400"],":mouse2:":["1f401"],":ox:":["1f402"],":water_buffalo:":["1f403"],":cow2:":["1f404"],":tiger2:":["1f405"],":leopard:":["1f406"],":rabbit2:":["1f407"],":cat2:":["1f408"],":dragon:":["1f409"],":crocodile:":["1f40a"],":whale2:":["1f40b"],":ram:":["1f40f"],":goat:":["1f410"],":rooster:":["1f413"],":dog2:":["1f415"],":pig2:":["1f416"],":dromedary_camel:":["1f42a"],":busts_in_silhouette:":["1f465"],":two_men_holding_hands:":["1f46c"],":two_women_holding_hands:":["1f46d"],":thought_balloon:":["1f4ad"],":euro:":["1f4b6"],":pound:":["1f4b7"],":mailbox_with_mail:":["1f4ec"],":mailbox_with_no_mail:":["1f4ed"],":postal_horn:":["1f4ef"],":no_mobile_phones:":["1f4f5"],":twisted_rightwards_arrows:":["1f500"],":repeat:":["1f501"],":repeat_one:":["1f502"],":arrows_counterclockwise:":["1f504"],":low_brightness:":["1f505"],":high_brightness:":["1f506"],":mute:":["1f507"],":sound:":["1f509"],":no_bell:":["1f515"],":microscope:":["1f52c"],":telescope:":["1f52d"],":clock130:":["1f55c"],":clock230:":["1f55d"],":clock330:":["1f55e"],":clock430:":["1f55f"],":clock530:":["1f560"],":clock630:":["1f561"],":clock730:":["1f562"],":clock830:":["1f563"],":clock930:":["1f564"],":clock1030:":["1f565"],":clock1130:":["1f566"],":clock1230:":["1f567"],":speaker:":["1f508"],":train:":["1f68b"],":medal:":["1f3c5"],":sports_medal:":["1f3c5"],":flag_black:":["1f3f4"],":waving_black_flag:":["1f3f4"],":camera_with_flash:":["1f4f8"],":sleeping_accommodation:":["1f6cc"],":middle_finger:":["1f595"],":reversed_hand_with_middle_finger_extended:":["1f595"],":vulcan:":["1f596"],":raised_hand_with_part_between_middle_and_ring_fingers:":["1f596"],":slight_frown:":["1f641"],":slightly_frowning_face:":["1f641"],":slight_smile:":["1f642"],":slightly_smiling_face:":["1f642"],":airplane_departure:":["1f6eb"],":airplane_arriving:":["1f6ec"],":tone1:":["1f3fb"],":tone2:":["1f3fc"],":tone3:":["1f3fd"],":tone4:":["1f3fe"],":tone5:":["1f3ff"],":upside_down:":["1f643"],":upside_down_face:":["1f643"],":money_mouth:":["1f911"],":money_mouth_face:":["1f911"],":nerd:":["1f913"],":nerd_face:":["1f913"],":hugging:":["1f917"],":hugging_face:":["1f917"],":rolling_eyes:":["1f644"],":face_with_rolling_eyes:":["1f644"],":thinking:":["1f914"],":thinking_face:":["1f914"],":zipper_mouth:":["1f910"],":zipper_mouth_face:":["1f910"],":thermometer_face:":["1f912"],":face_with_thermometer:":["1f912"],":head_bandage:":["1f915"],":face_with_head_bandage:":["1f915"],":robot:":["1f916"],":robot_face:":["1f916"],":lion_face:":["1f981"],":lion:":["1f981"],":unicorn:":["1f984"],":unicorn_face:":["1f984"],":scorpion:":["1f982"],":crab:":["1f980"],":turkey:":["1f983"],":cheese:":["1f9c0"],":cheese_wedge:":["1f9c0"],":hotdog:":["1f32d"],":hot_dog:":["1f32d"],":taco:":["1f32e"],":burrito:":["1f32f"],":popcorn:":["1f37f"],":champagne:":["1f37e"],":bottle_with_popping_cork:":["1f37e"],":bow_and_arrow:":["1f3f9"],":archery:":["1f3f9"],":amphora:":["1f3fa"],":place_of_worship:":["1f6d0"],":worship_symbol:":["1f6d0"],":kaaba:":["1f54b"],":mosque:":["1f54c"],":synagogue:":["1f54d"],":menorah:":["1f54e"],":prayer_beads:":["1f4ff"],":cricket:":["1f3cf"],":cricket_bat_ball:":["1f3cf"],":volleyball:":["1f3d0"],":field_hockey:":["1f3d1"],":hockey:":["1f3d2"],":ping_pong:":["1f3d3"],":table_tennis:":["1f3d3"],":badminton:":["1f3f8"],":fast_forward:":["23e9"],":rewind:":["23ea"],":arrow_double_up:":["23eb"],":arrow_double_down:":["23ec"],":alarm_clock:":["23f0"],":hourglass_flowing_sand:":["23f3"],":ophiuchus:":["26ce"],":white_check_mark:":["2705"],":fist:":["270a"],":raised_hand:":["270b"],":sparkles:":["2728"],":x:":["274c"],":negative_squared_cross_mark:":["274e"],":question:":["2753"],":grey_question:":["2754"],":grey_exclamation:":["2755"],":heavy_plus_sign:":["2795"],":heavy_minus_sign:":["2796"],":heavy_division_sign:":["2797"],":curly_loop:":["27b0"],":loop:":["27bf"]};var e,t=[];for(e in a.emojioneList)a.emojioneList.hasOwnProperty(e)&&t.push(e.replace(/[+]/g,"\\$&"));a.shortnames=t.join("|"),a.asciiList={"<3":"2764","</3":"1f494",":')":"1f602",":'-)":"1f602",":D":"1f603",":-D":"1f603","=D":"1f603",":)":"1f642",":-)":"1f642","=]":"1f642","=)":"1f642",":]":"1f642","':)":"1f605","':-)":"1f605","'=)":"1f605","':D":"1f605","':-D":"1f605","'=D":"1f605",">:)":"1f606",">;)":"1f606",">:-)":"1f606",">=)":"1f606",";)":"1f609",";-)":"1f609","*-)":"1f609","*)":"1f609",";-]":"1f609",";]":"1f609",";D":"1f609",";^)":"1f609","':(":"1f613","':-(":"1f613","'=(":"1f613",":*":"1f618",":-*":"1f618","=*":"1f618",":^*":"1f618",">:P":"1f61c","X-P":"1f61c","x-p":"1f61c",">:[":"1f61e",":-(":"1f61e",":(":"1f61e",":-[":"1f61e",":[":"1f61e","=(":"1f61e",">:(":"1f620",">:-(":"1f620",":@":"1f620",":'(":"1f622",":'-(":"1f622",";(":"1f622",";-(":"1f622",">.<":"1f623","D:":"1f628",":$":"1f633","=$":"1f633","#-)":"1f635","#)":"1f635","%-)":"1f635","%)":"1f635","X)":"1f635","X-)":"1f635","*\\0/*":"1f646","\\0/":"1f646","*\\O/*":"1f646","\\O/":"1f646","O:-)":"1f607","0:-3":"1f607","0:3":"1f607","0:-)":"1f607","0:)":"1f607","0;^)":"1f607","O:)":"1f607","O;-)":"1f607","O=)":"1f607","0;-)":"1f607","O:-3":"1f607","O:3":"1f607","B-)":"1f60e","B)":"1f60e","8)":"1f60e","8-)":"1f60e","B-D":"1f60e","8-D":"1f60e","-_-":"1f611","-__-":"1f611","-___-":"1f611",">:\\":"1f615",">:/":"1f615",":-/":"1f615",":-.":"1f615",":/":"1f615",":\\":"1f615","=/":"1f615","=\\":"1f615",":L":"1f615","=L":"1f615",":P":"1f61b",":-P":"1f61b","=P":"1f61b",":-p":"1f61b",":p":"1f61b","=p":"1f61b",":-?":"1f61b",":?":"1f61b",":-b":"1f61b",":b":"1f61b","d:":"1f61b",":-O":"1f62e",":O":"1f62e",":-o":"1f62e",":o":"1f62e",O_O:"1f62e",">:O":"1f62e",":-X":"1f636",":X":"1f636",":-#":"1f636",":#":"1f636","=X":"1f636","=x":"1f636",":x":"1f636",":-x":"1f636","=#":"1f636"},a.asciiRegexp="(\\<3|&lt;3|\\<\\/3|&lt;\\/3|\\:'\\)|\\:'\\-\\)|\\:D|\\:\\-D|\\=D|\\:\\)|\\:\\-\\)|\\=\\]|\\=\\)|\\:\\]|'\\:\\)|'\\:\\-\\)|'\\=\\)|'\\:D|'\\:\\-D|'\\=D|\\>\\:\\)|&gt;\\:\\)|\\>;\\)|&gt;;\\)|\\>\\:\\-\\)|&gt;\\:\\-\\)|\\>\\=\\)|&gt;\\=\\)|;\\)|;\\-\\)|\\*\\-\\)|\\*\\)|;\\-\\]|;\\]|;D|;\\^\\)|'\\:\\(|'\\:\\-\\(|'\\=\\(|\\:\\*|\\:\\-\\*|\\=\\*|\\:\\^\\*|\\>\\:P|&gt;\\:P|X\\-P|x\\-p|\\>\\:\\[|&gt;\\:\\[|\\:\\-\\(|\\:\\(|\\:\\-\\[|\\:\\[|\\=\\(|\\>\\:\\(|&gt;\\:\\(|\\>\\:\\-\\(|&gt;\\:\\-\\(|\\:@|\\:'\\(|\\:'\\-\\(|;\\(|;\\-\\(|\\>\\.\\<|&gt;\\.&lt;|D\\:|\\:\\$|\\=\\$|#\\-\\)|#\\)|%\\-\\)|%\\)|X\\)|X\\-\\)|\\*\\\\0\\/\\*|\\\\0\\/|\\*\\\\O\\/\\*|\\\\O\\/|O\\:\\-\\)|0\\:\\-3|0\\:3|0\\:\\-\\)|0\\:\\)|0;\\^\\)|O\\:\\-\\)|O\\:\\)|O;\\-\\)|O\\=\\)|0;\\-\\)|O\\:\\-3|O\\:3|B\\-\\)|B\\)|8\\)|8\\-\\)|B\\-D|8\\-D|\\-_\\-|\\-__\\-|\\-___\\-|\\>\\:\\\\|&gt;\\:\\\\|\\>\\:\\/|&gt;\\:\\/|\\:\\-\\/|\\:\\-\\.|\\:\\/|\\:\\\\|\\=\\/|\\=\\\\|\\:L|\\=L|\\:P|\\:\\-P|\\=P|\\:\\-p|\\:p|\\=p|\\:\\-?|\\:\\-&THORN;|\\:?|\\:&THORN;|\\:?|\\:&thorn;|\\:\\-?|\\:\\-&thorn;|\\:\\-b|\\:b|d\\:|\\:\\-O|\\:O|\\:\\-o|\\:o|O_O|\\>\\:O|&gt;\\:O|\\:\\-X|\\:X|\\:\\-#|\\:#|\\=X|\\=x|\\:x|\\:\\-x|\\=#)",a.unicodeRegexp="(\\uD83D\\uDC69\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC69|\\uD83D\\uDC68\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67|\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66|\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC68\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC68|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC67|\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC69|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC66|\\uD83D\\uDC41\\u200D\\uD83D\\uDDE8|\\uD83C\\uDDE6\\uD83C\\uDDE9|\\uD83C\\uDDE6\\uD83C\\uDDEA|\\uD83C\\uDDE6\\uD83C\\uDDEB|\\uD83C\\uDDE6\\uD83C\\uDDEC|\\uD83C\\uDDE6\\uD83C\\uDDEE|\\uD83C\\uDDE6\\uD83C\\uDDF1|\\uD83C\\uDDE6\\uD83C\\uDDF2|\\uD83C\\uDDE6\\uD83C\\uDDF4|\\uD83C\\uDDE6\\uD83C\\uDDF6|\\uD83C\\uDDE6\\uD83C\\uDDF7|\\uD83C\\uDDE6\\uD83C\\uDDF8|\\uD83E\\uDD18\\uD83C\\uDFFF|\\uD83E\\uDD18\\uD83C\\uDFFE|\\uD83E\\uDD18\\uD83C\\uDFFD|\\uD83E\\uDD18\\uD83C\\uDFFC|\\uD83E\\uDD18\\uD83C\\uDFFB|\\uD83D\\uDEC0\\uD83C\\uDFFF|\\uD83D\\uDEC0\\uD83C\\uDFFE|\\uD83D\\uDEC0\\uD83C\\uDFFD|\\uD83D\\uDEC0\\uD83C\\uDFFC|\\uD83D\\uDEC0\\uD83C\\uDFFB|\\uD83D\\uDEB6\\uD83C\\uDFFF|\\uD83D\\uDEB6\\uD83C\\uDFFE|\\uD83D\\uDEB6\\uD83C\\uDFFD|\\uD83D\\uDEB6\\uD83C\\uDFFC|\\uD83D\\uDEB6\\uD83C\\uDFFB|\\uD83D\\uDEB5\\uD83C\\uDFFF|\\uD83D\\uDEB5\\uD83C\\uDFFE|\\uD83D\\uDEB5\\uD83C\\uDFFD|\\uD83D\\uDEB5\\uD83C\\uDFFC|\\uD83D\\uDEB5\\uD83C\\uDFFB|\\uD83D\\uDEB4\\uD83C\\uDFFF|\\uD83D\\uDEB4\\uD83C\\uDFFE|\\uD83D\\uDEB4\\uD83C\\uDFFD|\\uD83D\\uDEB4\\uD83C\\uDFFC|\\uD83D\\uDEB4\\uD83C\\uDFFB|\\uD83D\\uDEA3\\uD83C\\uDFFF|\\uD83D\\uDEA3\\uD83C\\uDFFE|\\uD83D\\uDEA3\\uD83C\\uDFFD|\\uD83D\\uDEA3\\uD83C\\uDFFC|\\uD83D\\uDEA3\\uD83C\\uDFFB|\\uD83D\\uDE4F\\uD83C\\uDFFF|\\uD83D\\uDE4F\\uD83C\\uDFFE|\\uD83D\\uDE4F\\uD83C\\uDFFD|\\uD83D\\uDE4F\\uD83C\\uDFFC|\\uD83D\\uDE4F\\uD83C\\uDFFB|\\uD83D\\uDE4E\\uD83C\\uDFFF|\\uD83D\\uDE4E\\uD83C\\uDFFE|\\uD83D\\uDE4E\\uD83C\\uDFFD|\\uD83D\\uDE4E\\uD83C\\uDFFC|\\uD83D\\uDE4E\\uD83C\\uDFFB|\\uD83D\\uDE4D\\uD83C\\uDFFF|\\uD83D\\uDE4D\\uD83C\\uDFFE|\\uD83D\\uDE4D\\uD83C\\uDFFD|\\uD83D\\uDE4D\\uD83C\\uDFFC|\\uD83D\\uDE4D\\uD83C\\uDFFB|\\uD83D\\uDE4C\\uD83C\\uDFFF|\\uD83D\\uDE4C\\uD83C\\uDFFE|\\uD83D\\uDE4C\\uD83C\\uDFFD|\\uD83D\\uDE4C\\uD83C\\uDFFC|\\uD83D\\uDE4C\\uD83C\\uDFFB|\\uD83D\\uDE4B\\uD83C\\uDFFF|\\uD83D\\uDE4B\\uD83C\\uDFFE|\\uD83D\\uDE4B\\uD83C\\uDFFD|\\uD83D\\uDE4B\\uD83C\\uDFFC|\\uD83D\\uDE4B\\uD83C\\uDFFB|\\uD83D\\uDE47\\uD83C\\uDFFF|\\uD83D\\uDE47\\uD83C\\uDFFE|\\uD83D\\uDE47\\uD83C\\uDFFD|\\uD83D\\uDE47\\uD83C\\uDFFC|\\uD83D\\uDE47\\uD83C\\uDFFB|\\uD83D\\uDE46\\uD83C\\uDFFF|\\uD83D\\uDE46\\uD83C\\uDFFE|\\uD83D\\uDE46\\uD83C\\uDFFD|\\uD83D\\uDE46\\uD83C\\uDFFC|\\uD83D\\uDE46\\uD83C\\uDFFB|\\uD83D\\uDE45\\uD83C\\uDFFF|\\uD83D\\uDE45\\uD83C\\uDFFE|\\uD83D\\uDE45\\uD83C\\uDFFD|\\uD83D\\uDE45\\uD83C\\uDFFC|\\uD83D\\uDE45\\uD83C\\uDFFB|\\uD83D\\uDD96\\uD83C\\uDFFF|\\uD83D\\uDD96\\uD83C\\uDFFE|\\uD83D\\uDD96\\uD83C\\uDFFD|\\uD83D\\uDD96\\uD83C\\uDFFC|\\uD83D\\uDD96\\uD83C\\uDFFB|\\uD83D\\uDD95\\uD83C\\uDFFF|\\uD83D\\uDD95\\uD83C\\uDFFE|\\uD83D\\uDD95\\uD83C\\uDFFD|\\uD83D\\uDD95\\uD83C\\uDFFC|\\uD83D\\uDD95\\uD83C\\uDFFB|\\uD83D\\uDD90\\uD83C\\uDFFF|\\uD83D\\uDD90\\uD83C\\uDFFE|\\uD83D\\uDD90\\uD83C\\uDFFD|\\uD83D\\uDD90\\uD83C\\uDFFC|\\uD83D\\uDD90\\uD83C\\uDFFB|\\uD83D\\uDD75\\uD83C\\uDFFF|\\uD83D\\uDD75\\uD83C\\uDFFE|\\uD83D\\uDD75\\uD83C\\uDFFD|\\uD83D\\uDD75\\uD83C\\uDFFC|\\uD83D\\uDD75\\uD83C\\uDFFB|\\uD83D\\uDCAA\\uD83C\\uDFFF|\\uD83D\\uDCAA\\uD83C\\uDFFE|\\uD83D\\uDCAA\\uD83C\\uDFFD|\\uD83D\\uDCAA\\uD83C\\uDFFC|\\uD83D\\uDCAA\\uD83C\\uDFFB|\\uD83D\\uDC87\\uD83C\\uDFFF|\\uD83D\\uDC87\\uD83C\\uDFFE|\\uD83D\\uDC87\\uD83C\\uDFFD|\\uD83D\\uDC87\\uD83C\\uDFFC|\\uD83D\\uDC87\\uD83C\\uDFFB|\\uD83D\\uDC86\\uD83C\\uDFFF|\\uD83D\\uDC86\\uD83C\\uDFFE|\\uD83D\\uDC86\\uD83C\\uDFFD|\\uD83D\\uDC86\\uD83C\\uDFFC|\\uD83D\\uDC86\\uD83C\\uDFFB|\\uD83D\\uDC85\\uD83C\\uDFFF|\\uD83D\\uDC85\\uD83C\\uDFFE|\\uD83D\\uDC85\\uD83C\\uDFFD|\\uD83D\\uDC85\\uD83C\\uDFFC|\\uD83D\\uDC85\\uD83C\\uDFFB|\\uD83D\\uDC83\\uD83C\\uDFFF|\\uD83D\\uDC83\\uD83C\\uDFFE|\\uD83D\\uDC83\\uD83C\\uDFFD|\\uD83D\\uDC83\\uD83C\\uDFFC|\\uD83D\\uDC83\\uD83C\\uDFFB|\\uD83D\\uDC82\\uD83C\\uDFFF|\\uD83D\\uDC82\\uD83C\\uDFFE|\\uD83D\\uDC82\\uD83C\\uDFFD|\\uD83D\\uDC82\\uD83C\\uDFFC|\\uD83D\\uDC82\\uD83C\\uDFFB|\\uD83D\\uDC81\\uD83C\\uDFFF|\\uD83D\\uDC81\\uD83C\\uDFFE|\\uD83D\\uDC81\\uD83C\\uDFFD|\\uD83D\\uDC81\\uD83C\\uDFFC|\\uD83D\\uDC81\\uD83C\\uDFFB|\\uD83D\\uDC7C\\uD83C\\uDFFF|\\uD83D\\uDC7C\\uD83C\\uDFFE|\\uD83D\\uDC7C\\uD83C\\uDFFD|\\uD83D\\uDC7C\\uD83C\\uDFFC|\\uD83D\\uDC7C\\uD83C\\uDFFB|\\uD83D\\uDC78\\uD83C\\uDFFF|\\uD83D\\uDC78\\uD83C\\uDFFE|\\uD83D\\uDC78\\uD83C\\uDFFD|\\uD83D\\uDC78\\uD83C\\uDFFC|\\uD83D\\uDC78\\uD83C\\uDFFB|\\uD83D\\uDC77\\uD83C\\uDFFF|\\uD83D\\uDC77\\uD83C\\uDFFE|\\uD83D\\uDC77\\uD83C\\uDFFD|\\uD83D\\uDC77\\uD83C\\uDFFC|\\uD83D\\uDC77\\uD83C\\uDFFB|\\uD83D\\uDC76\\uD83C\\uDFFF|\\uD83D\\uDC76\\uD83C\\uDFFE|\\uD83D\\uDC76\\uD83C\\uDFFD|\\uD83D\\uDC76\\uD83C\\uDFFC|\\uD83D\\uDC76\\uD83C\\uDFFB|\\uD83D\\uDC75\\uD83C\\uDFFF|\\uD83D\\uDC75\\uD83C\\uDFFE|\\uD83D\\uDC75\\uD83C\\uDFFD|\\uD83D\\uDC75\\uD83C\\uDFFC|\\uD83D\\uDC75\\uD83C\\uDFFB|\\uD83D\\uDC74\\uD83C\\uDFFF|\\uD83D\\uDC74\\uD83C\\uDFFE|\\uD83D\\uDC74\\uD83C\\uDFFD|\\uD83D\\uDC74\\uD83C\\uDFFC|\\uD83D\\uDC74\\uD83C\\uDFFB|\\uD83D\\uDC73\\uD83C\\uDFFF|\\uD83D\\uDC73\\uD83C\\uDFFE|\\uD83D\\uDC73\\uD83C\\uDFFD|\\uD83D\\uDC73\\uD83C\\uDFFC|\\uD83D\\uDC73\\uD83C\\uDFFB|\\uD83D\\uDC72\\uD83C\\uDFFF|\\uD83D\\uDC72\\uD83C\\uDFFE|\\uD83D\\uDC72\\uD83C\\uDFFD|\\uD83D\\uDC72\\uD83C\\uDFFC|\\uD83D\\uDC72\\uD83C\\uDFFB|\\uD83D\\uDC71\\uD83C\\uDFFF|\\uD83D\\uDC71\\uD83C\\uDFFE|\\uD83D\\uDC71\\uD83C\\uDFFD|\\uD83D\\uDC71\\uD83C\\uDFFC|\\uD83D\\uDC71\\uD83C\\uDFFB|\\uD83D\\uDC70\\uD83C\\uDFFF|\\uD83D\\uDC70\\uD83C\\uDFFE|\\uD83D\\uDC70\\uD83C\\uDFFD|\\uD83D\\uDC70\\uD83C\\uDFFC|\\uD83D\\uDC70\\uD83C\\uDFFB|\\uD83D\\uDC6E\\uD83C\\uDFFF|\\uD83D\\uDC6E\\uD83C\\uDFFE|\\uD83D\\uDC6E\\uD83C\\uDFFD|\\uD83D\\uDC6E\\uD83C\\uDFFC|\\uD83D\\uDC6E\\uD83C\\uDFFB|\\uD83D\\uDC69\\uD83C\\uDFFF|\\uD83D\\uDC69\\uD83C\\uDFFE|\\uD83D\\uDC69\\uD83C\\uDFFD|\\uD83D\\uDC69\\uD83C\\uDFFC|\\uD83D\\uDC69\\uD83C\\uDFFB|\\uD83D\\uDC68\\uD83C\\uDFFF|\\uD83D\\uDC68\\uD83C\\uDFFE|\\uD83D\\uDC68\\uD83C\\uDFFD|\\uD83D\\uDC68\\uD83C\\uDFFC|\\uD83D\\uDC68\\uD83C\\uDFFB|\\uD83D\\uDC67\\uD83C\\uDFFF|\\uD83D\\uDC67\\uD83C\\uDFFE|\\uD83D\\uDC67\\uD83C\\uDFFD|\\uD83D\\uDC67\\uD83C\\uDFFC|\\uD83D\\uDC67\\uD83C\\uDFFB|\\uD83D\\uDC66\\uD83C\\uDFFF|\\uD83D\\uDC66\\uD83C\\uDFFE|\\uD83D\\uDC66\\uD83C\\uDFFD|\\uD83D\\uDC66\\uD83C\\uDFFC|\\uD83D\\uDC66\\uD83C\\uDFFB|\\uD83D\\uDC50\\uD83C\\uDFFF|\\uD83D\\uDC50\\uD83C\\uDFFE|\\uD83D\\uDC50\\uD83C\\uDFFD|\\uD83D\\uDC50\\uD83C\\uDFFC|\\uD83D\\uDC50\\uD83C\\uDFFB|\\uD83D\\uDC4F\\uD83C\\uDFFF|\\uD83D\\uDC4F\\uD83C\\uDFFE|\\uD83D\\uDC4F\\uD83C\\uDFFD|\\uD83D\\uDC4F\\uD83C\\uDFFC|\\uD83D\\uDC4F\\uD83C\\uDFFB|\\uD83D\\uDC4E\\uD83C\\uDFFF|\\uD83D\\uDC4E\\uD83C\\uDFFE|\\uD83D\\uDC4E\\uD83C\\uDFFD|\\uD83D\\uDC4E\\uD83C\\uDFFC|\\uD83D\\uDC4E\\uD83C\\uDFFB|\\uD83D\\uDC4D\\uD83C\\uDFFF|\\uD83D\\uDC4D\\uD83C\\uDFFE|\\uD83D\\uDC4D\\uD83C\\uDFFD|\\uD83D\\uDC4D\\uD83C\\uDFFC|\\uD83D\\uDC4D\\uD83C\\uDFFB|\\uD83D\\uDC4C\\uD83C\\uDFFF|\\uD83D\\uDC4C\\uD83C\\uDFFE|\\uD83D\\uDC4C\\uD83C\\uDFFD|\\uD83D\\uDC4C\\uD83C\\uDFFC|\\uD83D\\uDC4C\\uD83C\\uDFFB|\\uD83D\\uDC4B\\uD83C\\uDFFF|\\uD83D\\uDC4B\\uD83C\\uDFFE|\\uD83D\\uDC4B\\uD83C\\uDFFD|\\uD83D\\uDC4B\\uD83C\\uDFFC|\\uD83D\\uDC4B\\uD83C\\uDFFB|\\uD83D\\uDC4A\\uD83C\\uDFFF|\\uD83D\\uDC4A\\uD83C\\uDFFE|\\uD83D\\uDC4A\\uD83C\\uDFFD|\\uD83D\\uDC4A\\uD83C\\uDFFC|\\uD83D\\uDC4A\\uD83C\\uDFFB|\\uD83D\\uDC49\\uD83C\\uDFFF|\\uD83D\\uDC49\\uD83C\\uDFFE|\\uD83D\\uDC49\\uD83C\\uDFFD|\\uD83D\\uDC49\\uD83C\\uDFFC|\\uD83D\\uDC49\\uD83C\\uDFFB|\\uD83D\\uDC48\\uD83C\\uDFFF|\\uD83D\\uDC48\\uD83C\\uDFFE|\\uD83D\\uDC48\\uD83C\\uDFFD|\\uD83D\\uDC48\\uD83C\\uDFFC|\\uD83D\\uDC48\\uD83C\\uDFFB|\\uD83D\\uDC47\\uD83C\\uDFFF|\\uD83D\\uDC47\\uD83C\\uDFFE|\\uD83D\\uDC47\\uD83C\\uDFFD|\\uD83D\\uDC47\\uD83C\\uDFFC|\\uD83D\\uDC47\\uD83C\\uDFFB|\\uD83D\\uDC46\\uD83C\\uDFFF|\\uD83D\\uDC46\\uD83C\\uDFFE|\\uD83D\\uDC46\\uD83C\\uDFFD|\\uD83D\\uDC46\\uD83C\\uDFFC|\\uD83D\\uDC46\\uD83C\\uDFFB|\\uD83D\\uDC43\\uD83C\\uDFFF|\\uD83D\\uDC43\\uD83C\\uDFFE|\\uD83D\\uDC43\\uD83C\\uDFFD|\\uD83D\\uDC43\\uD83C\\uDFFC|\\uD83D\\uDC43\\uD83C\\uDFFB|\\uD83D\\uDC42\\uD83C\\uDFFF|\\uD83D\\uDC42\\uD83C\\uDFFE|\\uD83D\\uDC42\\uD83C\\uDFFD|\\uD83D\\uDC42\\uD83C\\uDFFC|\\uD83D\\uDC42\\uD83C\\uDFFB|\\uD83C\\uDFCB\\uD83C\\uDFFF|\\uD83C\\uDFCB\\uD83C\\uDFFE|\\uD83C\\uDFCB\\uD83C\\uDFFD|\\uD83C\\uDFCB\\uD83C\\uDFFC|\\uD83C\\uDFCB\\uD83C\\uDFFB|\\uD83C\\uDFCA\\uD83C\\uDFFF|\\uD83C\\uDFCA\\uD83C\\uDFFE|\\uD83C\\uDFCA\\uD83C\\uDFFD|\\uD83C\\uDFCA\\uD83C\\uDFFC|\\uD83C\\uDFCA\\uD83C\\uDFFB|\\uD83C\\uDFC7\\uD83C\\uDFFF|\\uD83C\\uDFC7\\uD83C\\uDFFE|\\uD83C\\uDFC7\\uD83C\\uDFFD|\\uD83C\\uDFC7\\uD83C\\uDFFC|\\uD83C\\uDFC7\\uD83C\\uDFFB|\\uD83C\\uDFC4\\uD83C\\uDFFF|\\uD83C\\uDFC4\\uD83C\\uDFFE|\\uD83C\\uDFC4\\uD83C\\uDFFD|\\uD83C\\uDFC4\\uD83C\\uDFFC|\\uD83C\\uDFC4\\uD83C\\uDFFB|\\uD83C\\uDFC3\\uD83C\\uDFFF|\\uD83C\\uDFC3\\uD83C\\uDFFE|\\uD83C\\uDFC3\\uD83C\\uDFFD|\\uD83C\\uDFC3\\uD83C\\uDFFC|\\uD83C\\uDFC3\\uD83C\\uDFFB|\\uD83C\\uDF85\\uD83C\\uDFFF|\\uD83C\\uDF85\\uD83C\\uDFFE|\\uD83C\\uDF85\\uD83C\\uDFFD|\\uD83C\\uDF85\\uD83C\\uDFFC|\\uD83C\\uDF85\\uD83C\\uDFFB|\\uD83C\\uDDFF\\uD83C\\uDDFC|\\uD83C\\uDDFF\\uD83C\\uDDF2|\\uD83C\\uDDFF\\uD83C\\uDDE6|\\uD83C\\uDDFE\\uD83C\\uDDF9|\\uD83C\\uDDFE\\uD83C\\uDDEA|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDFC\\uD83C\\uDDF8|\\uD83C\\uDDFC\\uD83C\\uDDEB|\\uD83C\\uDDFB\\uD83C\\uDDFA|\\uD83C\\uDDFB\\uD83C\\uDDF3|\\uD83C\\uDDFB\\uD83C\\uDDEE|\\uD83C\\uDDFB\\uD83C\\uDDEC|\\uD83C\\uDDFB\\uD83C\\uDDEA|\\uD83C\\uDDFB\\uD83C\\uDDE8|\\uD83C\\uDDFB\\uD83C\\uDDE6|\\uD83C\\uDDFA\\uD83C\\uDDFF|\\uD83C\\uDDFA\\uD83C\\uDDFE|\\uD83C\\uDDFA\\uD83C\\uDDF8|\\uD83C\\uDDFA\\uD83C\\uDDF2|\\uD83C\\uDDFA\\uD83C\\uDDEC|\\uD83C\\uDDFA\\uD83C\\uDDE6|\\uD83C\\uDDF9\\uD83C\\uDDFF|\\uD83C\\uDDF9\\uD83C\\uDDFC|\\uD83C\\uDDF9\\uD83C\\uDDFB|\\uD83C\\uDDF9\\uD83C\\uDDF9|\\uD83C\\uDDF9\\uD83C\\uDDF7|\\uD83C\\uDDF9\\uD83C\\uDDF4|\\uD83C\\uDDF9\\uD83C\\uDDF3|\\uD83C\\uDDF9\\uD83C\\uDDF2|\\uD83C\\uDDF9\\uD83C\\uDDF1|\\uD83C\\uDDF9\\uD83C\\uDDF0|\\uD83C\\uDDF9\\uD83C\\uDDEF|\\uD83C\\uDDF9\\uD83C\\uDDED|\\uD83C\\uDDF9\\uD83C\\uDDEC|\\uD83C\\uDDF9\\uD83C\\uDDEB|\\uD83C\\uDDE6\\uD83C\\uDDE8|\\uD83C\\uDDF9\\uD83C\\uDDE8|\\uD83C\\uDDF9\\uD83C\\uDDE6|\\uD83C\\uDDF8\\uD83C\\uDDFF|\\uD83C\\uDDF8\\uD83C\\uDDFE|\\uD83C\\uDDF8\\uD83C\\uDDFD|\\uD83C\\uDDF8\\uD83C\\uDDFB|\\uD83C\\uDDF8\\uD83C\\uDDF9|\\uD83C\\uDDF8\\uD83C\\uDDF8|\\uD83C\\uDDF8\\uD83C\\uDDF7|\\uD83C\\uDDF8\\uD83C\\uDDF4|\\uD83C\\uDDF8\\uD83C\\uDDF3|\\uD83C\\uDDF8\\uD83C\\uDDF2|\\uD83C\\uDDF8\\uD83C\\uDDF1|\\uD83C\\uDDF8\\uD83C\\uDDF0|\\uD83C\\uDDF8\\uD83C\\uDDEF|\\uD83C\\uDDF8\\uD83C\\uDDEE|\\uD83C\\uDDF8\\uD83C\\uDDED|\\uD83C\\uDDF8\\uD83C\\uDDEC|\\uD83C\\uDDF8\\uD83C\\uDDEA|\\uD83C\\uDDF8\\uD83C\\uDDE9|\\uD83C\\uDDF8\\uD83C\\uDDE8|\\uD83C\\uDDF8\\uD83C\\uDDE7|\\uD83C\\uDDF8\\uD83C\\uDDE6|\\uD83C\\uDDF7\\uD83C\\uDDFC|\\uD83C\\uDDF7\\uD83C\\uDDFA|\\uD83C\\uDDF7\\uD83C\\uDDF8|\\uD83C\\uDDF7\\uD83C\\uDDF4|\\uD83C\\uDDF7\\uD83C\\uDDEA|\\uD83C\\uDDF6\\uD83C\\uDDE6|\\uD83C\\uDDF5\\uD83C\\uDDFE|\\uD83C\\uDDF5\\uD83C\\uDDFC|\\uD83C\\uDDF5\\uD83C\\uDDF9|\\uD83C\\uDDF5\\uD83C\\uDDF8|\\uD83C\\uDDF5\\uD83C\\uDDF7|\\uD83C\\uDDF5\\uD83C\\uDDF3|\\uD83C\\uDDF5\\uD83C\\uDDF2|\\uD83C\\uDDF5\\uD83C\\uDDF1|\\uD83C\\uDDF5\\uD83C\\uDDF0|\\uD83C\\uDDF5\\uD83C\\uDDED|\\uD83C\\uDDF5\\uD83C\\uDDEC|\\uD83C\\uDDF5\\uD83C\\uDDEB|\\uD83C\\uDDF5\\uD83C\\uDDEA|\\uD83C\\uDDF5\\uD83C\\uDDE6|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83C\\uDDF3\\uD83C\\uDDFF|\\uD83C\\uDDF3\\uD83C\\uDDFA|\\uD83C\\uDDF3\\uD83C\\uDDF7|\\uD83C\\uDDF3\\uD83C\\uDDF5|\\uD83C\\uDDF3\\uD83C\\uDDF4|\\uD83C\\uDDF3\\uD83C\\uDDF1|\\uD83C\\uDDF3\\uD83C\\uDDEE|\\uD83C\\uDDF3\\uD83C\\uDDEC|\\uD83C\\uDDF3\\uD83C\\uDDEB|\\uD83C\\uDDF3\\uD83C\\uDDEA|\\uD83C\\uDDF3\\uD83C\\uDDE8|\\uD83C\\uDDF3\\uD83C\\uDDE6|\\uD83C\\uDDF2\\uD83C\\uDDFF|\\uD83C\\uDDF2\\uD83C\\uDDFE|\\uD83C\\uDDF2\\uD83C\\uDDFD|\\uD83C\\uDDF2\\uD83C\\uDDFC|\\uD83C\\uDDF2\\uD83C\\uDDFB|\\uD83C\\uDDF2\\uD83C\\uDDFA|\\uD83C\\uDDF2\\uD83C\\uDDF9|\\uD83C\\uDDF2\\uD83C\\uDDF8|\\uD83C\\uDDF2\\uD83C\\uDDF7|\\uD83C\\uDDF2\\uD83C\\uDDF6|\\uD83C\\uDDF2\\uD83C\\uDDF5|\\uD83C\\uDDF2\\uD83C\\uDDF4|\\uD83C\\uDDF2\\uD83C\\uDDF3|\\uD83C\\uDDF2\\uD83C\\uDDF2|\\uD83C\\uDDF2\\uD83C\\uDDF1|\\uD83C\\uDDF2\\uD83C\\uDDF0|\\uD83C\\uDDF2\\uD83C\\uDDED|\\uD83C\\uDDF2\\uD83C\\uDDEC|\\uD83C\\uDDF2\\uD83C\\uDDEB|\\uD83C\\uDDF2\\uD83C\\uDDEA|\\uD83C\\uDDF2\\uD83C\\uDDE9|\\uD83C\\uDDF2\\uD83C\\uDDE8|\\uD83C\\uDDF2\\uD83C\\uDDE6|\\uD83C\\uDDF1\\uD83C\\uDDFE|\\uD83C\\uDDF1\\uD83C\\uDDFB|\\uD83C\\uDDF1\\uD83C\\uDDFA|\\uD83C\\uDDF1\\uD83C\\uDDF9|\\uD83C\\uDDF1\\uD83C\\uDDF8|\\uD83C\\uDDF1\\uD83C\\uDDF7|\\uD83C\\uDDF1\\uD83C\\uDDF0|\\uD83C\\uDDF1\\uD83C\\uDDEE|\\uD83C\\uDDF1\\uD83C\\uDDE8|\\uD83C\\uDDF1\\uD83C\\uDDE7|\\uD83C\\uDDF1\\uD83C\\uDDE6|\\uD83C\\uDDF0\\uD83C\\uDDFF|\\uD83C\\uDDF0\\uD83C\\uDDFE|\\uD83C\\uDDF0\\uD83C\\uDDFC|\\uD83C\\uDDF0\\uD83C\\uDDF7|\\uD83C\\uDDF0\\uD83C\\uDDF5|\\uD83C\\uDDF0\\uD83C\\uDDF3|\\uD83C\\uDDF0\\uD83C\\uDDF2|\\uD83C\\uDDF0\\uD83C\\uDDEE|\\uD83C\\uDDF0\\uD83C\\uDDED|\\uD83C\\uDDF0\\uD83C\\uDDEC|\\uD83C\\uDDF0\\uD83C\\uDDEA|\\uD83C\\uDDEF\\uD83C\\uDDF5|\\uD83C\\uDDEF\\uD83C\\uDDF4|\\uD83C\\uDDEF\\uD83C\\uDDF2|\\uD83C\\uDDEF\\uD83C\\uDDEA|\\uD83C\\uDDEE\\uD83C\\uDDF9|\\uD83C\\uDDEE\\uD83C\\uDDF8|\\uD83C\\uDDEE\\uD83C\\uDDF7|\\uD83C\\uDDEE\\uD83C\\uDDF6|\\uD83C\\uDDEE\\uD83C\\uDDF4|\\uD83C\\uDDEE\\uD83C\\uDDF3|\\uD83C\\uDDEE\\uD83C\\uDDF2|\\uD83C\\uDDEE\\uD83C\\uDDF1|\\uD83C\\uDDEE\\uD83C\\uDDEA|\\uD83C\\uDDEE\\uD83C\\uDDE9|\\uD83C\\uDDEE\\uD83C\\uDDE8|\\uD83C\\uDDED\\uD83C\\uDDFA|\\uD83C\\uDDED\\uD83C\\uDDF9|\\uD83C\\uDDED\\uD83C\\uDDF7|\\uD83C\\uDDED\\uD83C\\uDDF3|\\uD83C\\uDDED\\uD83C\\uDDF2|\\uD83C\\uDDED\\uD83C\\uDDF0|\\uD83C\\uDDEC\\uD83C\\uDDFE|\\uD83C\\uDDEC\\uD83C\\uDDFC|\\uD83C\\uDDEC\\uD83C\\uDDFA|\\uD83C\\uDDEC\\uD83C\\uDDF9|\\uD83C\\uDDEC\\uD83C\\uDDF8|\\uD83C\\uDDEC\\uD83C\\uDDF7|\\uD83C\\uDDEC\\uD83C\\uDDF6|\\uD83C\\uDDEC\\uD83C\\uDDF5|\\uD83C\\uDDEC\\uD83C\\uDDF3|\\uD83C\\uDDEC\\uD83C\\uDDF2|\\uD83C\\uDDEC\\uD83C\\uDDF1|\\uD83C\\uDDEC\\uD83C\\uDDEE|\\uD83C\\uDDEC\\uD83C\\uDDED|\\uD83C\\uDDEC\\uD83C\\uDDEC|\\uD83C\\uDDEC\\uD83C\\uDDEB|\\uD83C\\uDDEC\\uD83C\\uDDEA|\\uD83C\\uDDEC\\uD83C\\uDDE9|\\uD83C\\uDDEC\\uD83C\\uDDE7|\\uD83C\\uDDEC\\uD83C\\uDDE6|\\uD83C\\uDDEB\\uD83C\\uDDF7|\\uD83C\\uDDEB\\uD83C\\uDDF4|\\uD83C\\uDDEB\\uD83C\\uDDF2|\\uD83C\\uDDEB\\uD83C\\uDDF0|\\uD83C\\uDDEB\\uD83C\\uDDEF|\\uD83C\\uDDEB\\uD83C\\uDDEE|\\uD83C\\uDDEA\\uD83C\\uDDFA|\\uD83C\\uDDEA\\uD83C\\uDDF9|\\uD83C\\uDDEA\\uD83C\\uDDF8|\\uD83C\\uDDEA\\uD83C\\uDDF7|\\uD83C\\uDDEA\\uD83C\\uDDED|\\uD83C\\uDDEA\\uD83C\\uDDEC|\\uD83C\\uDDEA\\uD83C\\uDDEA|\\uD83C\\uDDEA\\uD83C\\uDDE8|\\uD83C\\uDDEA\\uD83C\\uDDE6|\\uD83C\\uDDE9\\uD83C\\uDDFF|\\uD83C\\uDDE9\\uD83C\\uDDF4|\\uD83C\\uDDE9\\uD83C\\uDDF2|\\uD83C\\uDDE9\\uD83C\\uDDF0|\\uD83C\\uDDE9\\uD83C\\uDDEF|\\uD83C\\uDDE9\\uD83C\\uDDEC|\\uD83C\\uDDE9\\uD83C\\uDDEA|\\uD83C\\uDDE8\\uD83C\\uDDFF|\\uD83C\\uDDE8\\uD83C\\uDDFE|\\uD83C\\uDDE8\\uD83C\\uDDFD|\\uD83C\\uDDE8\\uD83C\\uDDFC|\\uD83C\\uDDE8\\uD83C\\uDDFB|\\uD83C\\uDDE8\\uD83C\\uDDFA|\\uD83C\\uDDE8\\uD83C\\uDDF7|\\uD83C\\uDDE8\\uD83C\\uDDF5|\\uD83C\\uDDE8\\uD83C\\uDDF4|\\uD83C\\uDDE8\\uD83C\\uDDF3|\\uD83C\\uDDE8\\uD83C\\uDDF2|\\uD83C\\uDDE8\\uD83C\\uDDF1|\\uD83C\\uDDE8\\uD83C\\uDDF0|\\uD83C\\uDDE8\\uD83C\\uDDEE|\\uD83C\\uDDE8\\uD83C\\uDDED|\\uD83C\\uDDE8\\uD83C\\uDDEC|\\uD83C\\uDDE8\\uD83C\\uDDEB|\\uD83C\\uDDE8\\uD83C\\uDDE9|\\uD83C\\uDDE8\\uD83C\\uDDE8|\\uD83C\\uDDE8\\uD83C\\uDDE6|\\uD83C\\uDDE7\\uD83C\\uDDFF|\\uD83C\\uDDE7\\uD83C\\uDDFE|\\uD83C\\uDDE7\\uD83C\\uDDFC|\\uD83C\\uDDE7\\uD83C\\uDDFB|\\uD83C\\uDDE7\\uD83C\\uDDF9|\\uD83C\\uDDE7\\uD83C\\uDDF8|\\uD83C\\uDDE7\\uD83C\\uDDF7|\\uD83C\\uDDE7\\uD83C\\uDDF6|\\uD83C\\uDDE7\\uD83C\\uDDF4|\\uD83C\\uDDE7\\uD83C\\uDDF3|\\uD83C\\uDDE7\\uD83C\\uDDF2|\\uD83C\\uDDE7\\uD83C\\uDDF1|\\uD83C\\uDDE7\\uD83C\\uDDEF|\\uD83C\\uDDE7\\uD83C\\uDDEE|\\uD83C\\uDDE7\\uD83C\\uDDED|\\uD83C\\uDDE7\\uD83C\\uDDEC|\\uD83C\\uDDE7\\uD83C\\uDDEB|\\uD83C\\uDDE7\\uD83C\\uDDEA|\\uD83C\\uDDE7\\uD83C\\uDDE9|\\uD83C\\uDDE7\\uD83C\\uDDE7|\\uD83C\\uDDE7\\uD83C\\uDDE6|\\uD83C\\uDDE6\\uD83C\\uDDFF|\\uD83C\\uDDE6\\uD83C\\uDDFD|\\uD83C\\uDDE6\\uD83C\\uDDFC|\\uD83C\\uDDE6\\uD83C\\uDDFA|\\uD83C\\uDDE6\\uD83C\\uDDF9|\\uD83C\\uDDF9\\uD83C\\uDDE9|\\uD83D\\uDDE1\\uFE0F|\\u26F9\\uD83C\\uDFFF|\\u26F9\\uD83C\\uDFFE|\\u26F9\\uD83C\\uDFFD|\\u26F9\\uD83C\\uDFFC|\\u26F9\\uD83C\\uDFFB|\\u270D\\uD83C\\uDFFF|\\u270D\\uD83C\\uDFFE|\\u270D\\uD83C\\uDFFD|\\u270D\\uD83C\\uDFFC|\\u270D\\uD83C\\uDFFB|\\uD83C\\uDC04\\uFE0F|\\uD83C\\uDD7F\\uFE0F|\\uD83C\\uDE02\\uFE0F|\\uD83C\\uDE1A\\uFE0F|\\uD83C\\uDE2F\\uFE0F|\\uD83C\\uDE37\\uFE0F|\\uD83C\\uDF9E\\uFE0F|\\uD83C\\uDF9F\\uFE0F|\\uD83C\\uDFCB\\uFE0F|\\uD83C\\uDFCC\\uFE0F|\\uD83C\\uDFCD\\uFE0F|\\uD83C\\uDFCE\\uFE0F|\\uD83C\\uDF96\\uFE0F|\\uD83C\\uDF97\\uFE0F|\\uD83C\\uDF36\\uFE0F|\\uD83C\\uDF27\\uFE0F|\\uD83C\\uDF28\\uFE0F|\\uD83C\\uDF29\\uFE0F|\\uD83C\\uDF2A\\uFE0F|\\uD83C\\uDF2B\\uFE0F|\\uD83C\\uDF2C\\uFE0F|\\uD83D\\uDC3F\\uFE0F|\\uD83D\\uDD77\\uFE0F|\\uD83D\\uDD78\\uFE0F|\\uD83C\\uDF21\\uFE0F|\\uD83C\\uDF99\\uFE0F|\\uD83C\\uDF9A\\uFE0F|\\uD83C\\uDF9B\\uFE0F|\\uD83C\\uDFF3\\uFE0F|\\uD83C\\uDFF5\\uFE0F|\\uD83C\\uDFF7\\uFE0F|\\uD83D\\uDCFD\\uFE0F|\\uD83D\\uDD49\\uFE0F|\\uD83D\\uDD4A\\uFE0F|\\uD83D\\uDD6F\\uFE0F|\\uD83D\\uDD70\\uFE0F|\\uD83D\\uDD73\\uFE0F|\\uD83D\\uDD76\\uFE0F|\\uD83D\\uDD79\\uFE0F|\\uD83D\\uDD87\\uFE0F|\\uD83D\\uDD8A\\uFE0F|\\uD83D\\uDD8B\\uFE0F|\\uD83D\\uDD8C\\uFE0F|\\uD83D\\uDD8D\\uFE0F|\\uD83D\\uDDA5\\uFE0F|\\uD83D\\uDDA8\\uFE0F|\\uD83D\\uDDB2\\uFE0F|\\uD83D\\uDDBC\\uFE0F|\\uD83D\\uDDC2\\uFE0F|\\uD83D\\uDDC3\\uFE0F|\\uD83D\\uDDC4\\uFE0F|\\uD83D\\uDDD1\\uFE0F|\\uD83D\\uDDD2\\uFE0F|\\uD83D\\uDDD3\\uFE0F|\\uD83D\\uDDDC\\uFE0F|\\uD83D\\uDDDD\\uFE0F|\\uD83D\\uDDDE\\uFE0F|\\u270B\\uD83C\\uDFFF|\\uD83D\\uDDE3\\uFE0F|\\uD83D\\uDDEF\\uFE0F|\\uD83D\\uDDF3\\uFE0F|\\uD83D\\uDDFA\\uFE0F|\\uD83D\\uDEE0\\uFE0F|\\uD83D\\uDEE1\\uFE0F|\\uD83D\\uDEE2\\uFE0F|\\uD83D\\uDEF0\\uFE0F|\\uD83C\\uDF7D\\uFE0F|\\uD83D\\uDC41\\uFE0F|\\uD83D\\uDD74\\uFE0F|\\uD83D\\uDD75\\uFE0F|\\uD83D\\uDD90\\uFE0F|\\uD83C\\uDFD4\\uFE0F|\\uD83C\\uDFD5\\uFE0F|\\uD83C\\uDFD6\\uFE0F|\\uD83C\\uDFD7\\uFE0F|\\uD83C\\uDFD8\\uFE0F|\\uD83C\\uDFD9\\uFE0F|\\uD83C\\uDFDA\\uFE0F|\\uD83C\\uDFDB\\uFE0F|\\uD83C\\uDFDC\\uFE0F|\\uD83C\\uDFDD\\uFE0F|\\uD83C\\uDFDE\\uFE0F|\\uD83C\\uDFDF\\uFE0F|\\uD83D\\uDECB\\uFE0F|\\uD83D\\uDECD\\uFE0F|\\uD83D\\uDECE\\uFE0F|\\uD83D\\uDECF\\uFE0F|\\uD83D\\uDEE3\\uFE0F|\\uD83D\\uDEE4\\uFE0F|\\uD83D\\uDEE5\\uFE0F|\\uD83D\\uDEE9\\uFE0F|\\uD83D\\uDEF3\\uFE0F|\\uD83C\\uDF24\\uFE0F|\\uD83C\\uDF25\\uFE0F|\\uD83C\\uDF26\\uFE0F|\\uD83D\\uDDB1\\uFE0F|\\u261D\\uD83C\\uDFFB|\\u261D\\uD83C\\uDFFC|\\u261D\\uD83C\\uDFFD|\\u261D\\uD83C\\uDFFE|\\u261D\\uD83C\\uDFFF|\\u270C\\uD83C\\uDFFB|\\u270C\\uD83C\\uDFFC|\\u270C\\uD83C\\uDFFD|\\u270C\\uD83C\\uDFFE|\\u270C\\uD83C\\uDFFF|\\u270A\\uD83C\\uDFFB|\\u270A\\uD83C\\uDFFC|\\u270A\\uD83C\\uDFFD|\\u270A\\uD83C\\uDFFE|\\u270A\\uD83C\\uDFFF|\\u270B\\uD83C\\uDFFB|\\u270B\\uD83C\\uDFFC|\\u270B\\uD83C\\uDFFD|\\u270B\\uD83C\\uDFFE|4\\uFE0F\\u20E3|9\\uFE0F\\u20E3|0\\uFE0F\\u20E3|1\\uFE0F\\u20E3|2\\uFE0F\\u20E3|3\\uFE0F\\u20E3|#\\uFE0F\\u20E3|5\\uFE0F\\u20E3|6\\uFE0F\\u20E3|7\\uFE0F\\u20E3|8\\uFE0F\\u20E3|\\*\\uFE0F\\u20E3|\\u00A9\\uFE0F|\\u00AE\\uFE0F|\\u203C\\uFE0F|\\u2049\\uFE0F|\\u2122\\uFE0F|\\u2194\\uFE0F|\\u2195\\uFE0F|\\u2196\\uFE0F|\\u2197\\uFE0F|\\u2198\\uFE0F|\\u2199\\uFE0F|\\u21A9\\uFE0F|\\u21AA\\uFE0F|\\u231A\\uFE0F|\\u231B\\uFE0F|\\u24C2\\uFE0F|\\u25AA\\uFE0F|\\u25AB\\uFE0F|\\u25B6\\uFE0F|\\u25C0\\uFE0F|\\u25FB\\uFE0F|\\u25FC\\uFE0F|\\u25FD\\uFE0F|\\u25FE\\uFE0F|\\u2600\\uFE0F|\\u2601\\uFE0F|\\u260E\\uFE0F|\\u2611\\uFE0F|\\u2614\\uFE0F|\\u2615\\uFE0F|\\u261D\\uFE0F|\\u263A\\uFE0F|\\u2648\\uFE0F|\\u2649\\uFE0F|\\u264A\\uFE0F|\\u264B\\uFE0F|\\u264C\\uFE0F|\\u264D\\uFE0F|\\u264E\\uFE0F|\\u264F\\uFE0F|\\u2650\\uFE0F|\\u2651\\uFE0F|\\u2652\\uFE0F|\\u2653\\uFE0F|\\u2660\\uFE0F|\\u2663\\uFE0F|\\u2665\\uFE0F|\\u2666\\uFE0F|\\u2668\\uFE0F|\\u267B\\uFE0F|\\u267F\\uFE0F|\\u2693\\uFE0F|\\u26A0\\uFE0F|\\u26A1\\uFE0F|\\u26AA\\uFE0F|\\u26AB\\uFE0F|\\u26BD\\uFE0F|\\u26BE\\uFE0F|\\u26C4\\uFE0F|\\u26C5\\uFE0F|\\u26D4\\uFE0F|\\u26EA\\uFE0F|\\u26F2\\uFE0F|\\u26F3\\uFE0F|\\u26F5\\uFE0F|\\u26FA\\uFE0F|\\u26FD\\uFE0F|\\u2702\\uFE0F|\\u2708\\uFE0F|\\u2709\\uFE0F|\\u270C\\uFE0F|\\u270F\\uFE0F|\\u2712\\uFE0F|\\u2714\\uFE0F|\\u2716\\uFE0F|\\u2733\\uFE0F|\\u2734\\uFE0F|\\u2744\\uFE0F|\\u2747\\uFE0F|\\u2757\\uFE0F|\\u2764\\uFE0F|\\u27A1\\uFE0F|\\u2934\\uFE0F|\\u2935\\uFE0F|\\u2B05\\uFE0F|\\u2B06\\uFE0F|\\u2B07\\uFE0F|\\u2B1B\\uFE0F|\\u2B1C\\uFE0F|\\u2B50\\uFE0F|\\u2B55\\uFE0F|\\u3030\\uFE0F|\\u303D\\uFE0F|\\u3297\\uFE0F|\\u3299\\uFE0F|\\u271D\\uFE0F|\\u2328\\uFE0F|\\u270D\\uFE0F|\\u23ED\\uFE0F|\\u23EE\\uFE0F|\\u23EF\\uFE0F|\\u23F1\\uFE0F|\\u23F2\\uFE0F|\\u23F8\\uFE0F|\\u23F9\\uFE0F|\\u23FA\\uFE0F|\\u2602\\uFE0F|\\u2603\\uFE0F|\\u2604\\uFE0F|\\u2618\\uFE0F|\\u2620\\uFE0F|\\u2622\\uFE0F|\\u2623\\uFE0F|\\u2626\\uFE0F|\\u262A\\uFE0F|\\u262E\\uFE0F|\\u262F\\uFE0F|\\u2638\\uFE0F|\\u2639\\uFE0F|\\u2692\\uFE0F|\\u2694\\uFE0F|\\u2696\\uFE0F|\\u2697\\uFE0F|\\u2699\\uFE0F|\\u269B\\uFE0F|\\u269C\\uFE0F|\\u26B0\\uFE0F|\\u26B1\\uFE0F|\\u26C8\\uFE0F|\\u26CF\\uFE0F|\\u26D1\\uFE0F|\\u26D3\\uFE0F|\\u26E9\\uFE0F|\\u26F0\\uFE0F|\\u26F1\\uFE0F|\\u26F4\\uFE0F|\\u26F7\\uFE0F|\\u26F8\\uFE0F|\\u26F9\\uFE0F|\\u2721\\uFE0F|\\u2763\\uFE0F|\\uD83C\\uDCCF|\\uD83C\\uDD70|\\uD83C\\uDD71|\\uD83C\\uDD7E|\\uD83C\\uDD8E|\\uD83C\\uDD91|\\uD83C\\uDD92|\\uD83C\\uDD93|\\uD83C\\uDD94|\\uD83C\\uDD95|\\uD83C\\uDD96|\\uD83C\\uDD97|\\uD83C\\uDD98|\\uD83C\\uDD99|\\uD83C\\uDD9A|\\uD83C\\uDE01|\\uD83C\\uDE32|\\uD83C\\uDE33|\\uD83C\\uDE34|\\uD83C\\uDE35|\\uD83C\\uDE36|\\uD83C\\uDE38|\\uD83C\\uDE39|\\uD83C\\uDE3A|\\uD83C\\uDE50|\\uD83C\\uDE51|\\uD83C\\uDF00|\\uD83C\\uDF01|\\uD83C\\uDF02|\\uD83C\\uDF03|\\uD83C\\uDF04|\\uD83C\\uDF05|\\uD83C\\uDF06|\\uD83C\\uDF07|\\uD83C\\uDF08|\\uD83C\\uDF09|\\uD83C\\uDF0A|\\uD83C\\uDF0B|\\uD83C\\uDF0C|\\uD83C\\uDF0F|\\uD83C\\uDF11|\\uD83C\\uDF13|\\uD83C\\uDF14|\\uD83C\\uDF15|\\uD83C\\uDF19|\\uD83C\\uDF1B|\\uD83C\\uDF1F|\\uD83C\\uDF20|\\uD83C\\uDF30|\\uD83C\\uDF31|\\uD83C\\uDF34|\\uD83C\\uDF35|\\uD83C\\uDF37|\\uD83C\\uDF38|\\uD83C\\uDF39|\\uD83C\\uDF3A|\\uD83C\\uDF3B|\\uD83C\\uDF3C|\\uD83C\\uDF3D|\\uD83C\\uDF3E|\\uD83C\\uDF3F|\\uD83C\\uDF40|\\uD83C\\uDF41|\\uD83C\\uDF42|\\uD83C\\uDF43|\\uD83C\\uDF44|\\uD83C\\uDF45|\\uD83C\\uDF46|\\uD83C\\uDF47|\\uD83C\\uDF48|\\uD83C\\uDF49|\\uD83C\\uDF4A|\\uD83C\\uDF4C|\\uD83C\\uDF4D|\\uD83C\\uDF4E|\\uD83C\\uDF4F|\\uD83C\\uDF51|\\uD83C\\uDF52|\\uD83C\\uDF53|\\uD83C\\uDF54|\\uD83C\\uDF55|\\uD83C\\uDF56|\\uD83C\\uDF57|\\uD83C\\uDF58|\\uD83C\\uDF59|\\uD83C\\uDF5A|\\uD83C\\uDF5B|\\uD83C\\uDF5C|\\uD83C\\uDF5D|\\uD83C\\uDF5E|\\uD83C\\uDF5F|\\uD83C\\uDF60|\\uD83C\\uDF61|\\uD83C\\uDF62|\\uD83C\\uDF63|\\uD83C\\uDF64|\\uD83C\\uDF65|\\uD83C\\uDF66|\\uD83C\\uDF67|\\uD83C\\uDF68|\\uD83C\\uDF69|\\uD83C\\uDF6A|\\uD83C\\uDF6B|\\uD83C\\uDF6C|\\uD83C\\uDF6D|\\uD83C\\uDF6E|\\uD83C\\uDF6F|\\uD83C\\uDF70|\\uD83C\\uDF71|\\uD83C\\uDF72|\\uD83C\\uDF73|\\uD83C\\uDF74|\\uD83C\\uDF75|\\uD83C\\uDF76|\\uD83C\\uDF77|\\uD83C\\uDF78|\\uD83C\\uDF79|\\uD83C\\uDF7A|\\uD83C\\uDF7B|\\uD83C\\uDF80|\\uD83C\\uDF81|\\uD83C\\uDF82|\\uD83C\\uDF83|\\uD83C\\uDF84|\\uD83C\\uDF85|\\uD83C\\uDF86|\\uD83C\\uDF87|\\uD83C\\uDF88|\\uD83C\\uDF89|\\uD83C\\uDF8A|\\uD83C\\uDF8B|\\uD83C\\uDF8C|\\uD83C\\uDF8D|\\uD83C\\uDF8E|\\uD83C\\uDF8F|\\uD83C\\uDF90|\\uD83C\\uDF91|\\uD83C\\uDF92|\\uD83C\\uDF93|\\uD83C\\uDFA0|\\uD83C\\uDFA1|\\uD83C\\uDFA2|\\uD83C\\uDFA3|\\uD83C\\uDFA4|\\uD83C\\uDFA5|\\uD83C\\uDFA6|\\uD83C\\uDFA7|\\uD83C\\uDFA8|\\uD83C\\uDFA9|\\uD83C\\uDFAA|\\uD83C\\uDFAB|\\uD83C\\uDFAC|\\uD83C\\uDFAD|\\uD83C\\uDFAE|\\uD83C\\uDFAF|\\uD83C\\uDFB0|\\uD83C\\uDFB1|\\uD83C\\uDFB2|\\uD83C\\uDFB3|\\uD83C\\uDFB4|\\uD83C\\uDFB5|\\uD83C\\uDFB6|\\uD83C\\uDFB7|\\uD83C\\uDFB8|\\uD83C\\uDFB9|\\uD83C\\uDFBA|\\uD83C\\uDFBB|\\uD83C\\uDFBC|\\uD83C\\uDFBD|\\uD83C\\uDFBE|\\uD83C\\uDFBF|\\uD83C\\uDFC0|\\uD83C\\uDFC1|\\uD83C\\uDFC2|\\uD83C\\uDFC3|\\uD83C\\uDFC4|\\uD83C\\uDFC6|\\uD83C\\uDFC8|\\uD83C\\uDFCA|\\uD83C\\uDFE0|\\uD83D\\uDDB1|\\uD83C\\uDFE2|\\uD83C\\uDFE3|\\uD83C\\uDFE5|\\uD83C\\uDFE6|\\uD83C\\uDFE7|\\uD83C\\uDFE8|\\uD83C\\uDFE9|\\uD83C\\uDFEA|\\uD83C\\uDFEB|\\uD83C\\uDFEC|\\uD83C\\uDFED|\\uD83C\\uDFEE|\\uD83C\\uDFEF|\\uD83C\\uDFF0|\\uD83D\\uDC0C|\\uD83D\\uDC0D|\\uD83D\\uDC0E|\\uD83D\\uDC11|\\uD83D\\uDC12|\\uD83D\\uDC14|\\uD83D\\uDC17|\\uD83D\\uDC18|\\uD83D\\uDC19|\\uD83D\\uDC1A|\\uD83D\\uDC1B|\\uD83D\\uDC1C|\\uD83D\\uDC1D|\\uD83D\\uDC1E|\\uD83D\\uDC1F|\\uD83D\\uDC20|\\uD83D\\uDC21|\\uD83D\\uDC22|\\uD83D\\uDC23|\\uD83D\\uDC24|\\uD83D\\uDC25|\\uD83D\\uDC26|\\uD83D\\uDC27|\\uD83D\\uDC28|\\uD83D\\uDC29|\\uD83D\\uDC2B|\\uD83D\\uDC2C|\\uD83D\\uDC2D|\\uD83D\\uDC2E|\\uD83D\\uDC2F|\\uD83D\\uDC30|\\uD83D\\uDC31|\\uD83D\\uDC32|\\uD83D\\uDC33|\\uD83D\\uDC34|\\uD83D\\uDC35|\\uD83D\\uDC36|\\uD83D\\uDC37|\\uD83D\\uDC38|\\uD83D\\uDC39|\\uD83D\\uDC3A|\\uD83D\\uDC3B|\\uD83D\\uDC3C|\\uD83D\\uDC3D|\\uD83D\\uDC3E|\\uD83D\\uDC40|\\uD83D\\uDC42|\\uD83D\\uDC43|\\uD83D\\uDC44|\\uD83D\\uDC45|\\uD83D\\uDC46|\\uD83D\\uDC47|\\uD83D\\uDC48|\\uD83D\\uDC49|\\uD83D\\uDC4A|\\uD83D\\uDC4B|\\uD83D\\uDC4C|\\uD83D\\uDC4D|\\uD83D\\uDC4E|\\uD83D\\uDC4F|\\uD83D\\uDC50|\\uD83D\\uDC51|\\uD83D\\uDC52|\\uD83D\\uDC53|\\uD83D\\uDC54|\\uD83D\\uDC55|\\uD83D\\uDC56|\\uD83D\\uDC57|\\uD83D\\uDC58|\\uD83D\\uDC59|\\uD83D\\uDC5A|\\uD83D\\uDC5B|\\uD83D\\uDC5C|\\uD83D\\uDC5D|\\uD83D\\uDC5E|\\uD83D\\uDC5F|\\uD83D\\uDC60|\\uD83D\\uDC61|\\uD83D\\uDC62|\\uD83D\\uDC63|\\uD83D\\uDC64|\\uD83D\\uDC66|\\uD83D\\uDC67|\\uD83D\\uDC68|\\uD83D\\uDC69|\\uD83D\\uDC6A|\\uD83D\\uDC6B|\\uD83D\\uDC6E|\\uD83D\\uDC6F|\\uD83D\\uDC70|\\uD83D\\uDC71|\\uD83D\\uDC72|\\uD83D\\uDC73|\\uD83D\\uDC74|\\uD83D\\uDC75|\\uD83D\\uDC76|\\uD83D\\uDC77|\\uD83D\\uDC78|\\uD83D\\uDC79|\\uD83D\\uDC7A|\\uD83D\\uDC7B|\\uD83D\\uDC7C|\\uD83D\\uDC7D|\\uD83D\\uDC7E|\\uD83D\\uDC7F|\\uD83D\\uDC80|\\uD83D\\uDCC7|\\uD83D\\uDC81|\\uD83D\\uDC82|\\uD83D\\uDC83|\\uD83D\\uDC84|\\uD83D\\uDC85|\\uD83D\\uDCD2|\\uD83D\\uDC86|\\uD83D\\uDCD3|\\uD83D\\uDC87|\\uD83D\\uDCD4|\\uD83D\\uDC88|\\uD83D\\uDCD5|\\uD83D\\uDC89|\\uD83D\\uDCD6|\\uD83D\\uDC8A|\\uD83D\\uDCD7|\\uD83D\\uDC8B|\\uD83D\\uDCD8|\\uD83D\\uDC8C|\\uD83D\\uDCD9|\\uD83D\\uDC8D|\\uD83D\\uDCDA|\\uD83D\\uDC8E|\\uD83D\\uDCDB|\\uD83D\\uDC8F|\\uD83D\\uDCDC|\\uD83D\\uDC90|\\uD83D\\uDCDD|\\uD83D\\uDC91|\\uD83D\\uDCDE|\\uD83D\\uDC92|\\uD83D\\uDCDF|\\uD83D\\uDCE0|\\uD83D\\uDC93|\\uD83D\\uDCE1|\\uD83D\\uDCE2|\\uD83D\\uDC94|\\uD83D\\uDCE3|\\uD83D\\uDCE4|\\uD83D\\uDC95|\\uD83D\\uDCE5|\\uD83D\\uDCE6|\\uD83D\\uDC96|\\uD83D\\uDCE7|\\uD83D\\uDCE8|\\uD83D\\uDC97|\\uD83D\\uDCE9|\\uD83D\\uDCEA|\\uD83D\\uDC98|\\uD83D\\uDCEB|\\uD83D\\uDCEE|\\uD83D\\uDC99|\\uD83D\\uDCF0|\\uD83D\\uDCF1|\\uD83D\\uDC9A|\\uD83D\\uDCF2|\\uD83D\\uDCF3|\\uD83D\\uDC9B|\\uD83D\\uDCF4|\\uD83D\\uDCF6|\\uD83D\\uDC9C|\\uD83D\\uDCF7|\\uD83D\\uDCF9|\\uD83D\\uDC9D|\\uD83D\\uDCFA|\\uD83D\\uDCFB|\\uD83D\\uDC9E|\\uD83D\\uDCFC|\\uD83D\\uDD03|\\uD83D\\uDC9F|\\uD83D\\uDD0A|\\uD83D\\uDD0B|\\uD83D\\uDCA0|\\uD83D\\uDD0C|\\uD83D\\uDD0D|\\uD83D\\uDCA1|\\uD83D\\uDD0E|\\uD83D\\uDD0F|\\uD83D\\uDCA2|\\uD83D\\uDD10|\\uD83D\\uDD11|\\uD83D\\uDCA3|\\uD83D\\uDD12|\\uD83D\\uDD13|\\uD83D\\uDCA4|\\uD83D\\uDD14|\\uD83D\\uDD16|\\uD83D\\uDCA5|\\uD83D\\uDD17|\\uD83D\\uDD18|\\uD83D\\uDCA6|\\uD83D\\uDD19|\\uD83D\\uDD1A|\\uD83D\\uDCA7|\\uD83D\\uDD1B|\\uD83D\\uDD1C|\\uD83D\\uDCA8|\\uD83D\\uDD1D|\\uD83D\\uDD1E|\\uD83D\\uDCA9|\\uD83D\\uDD1F|\\uD83D\\uDCAA|\\uD83D\\uDD20|\\uD83D\\uDD21|\\uD83D\\uDCAB|\\uD83D\\uDD22|\\uD83D\\uDD23|\\uD83D\\uDCAC|\\uD83D\\uDD24|\\uD83D\\uDD25|\\uD83D\\uDCAE|\\uD83D\\uDD26|\\uD83D\\uDD27|\\uD83D\\uDCAF|\\uD83D\\uDD28|\\uD83D\\uDD29|\\uD83D\\uDCB0|\\uD83D\\uDD2A|\\uD83D\\uDD2B|\\uD83D\\uDCB1|\\uD83D\\uDD2E|\\uD83D\\uDCB2|\\uD83D\\uDD2F|\\uD83D\\uDCB3|\\uD83D\\uDD30|\\uD83D\\uDD31|\\uD83D\\uDCB4|\\uD83D\\uDD32|\\uD83D\\uDD33|\\uD83D\\uDCB5|\\uD83D\\uDD34|\\uD83D\\uDD35|\\uD83D\\uDCB8|\\uD83D\\uDD36|\\uD83D\\uDD37|\\uD83D\\uDCB9|\\uD83D\\uDD38|\\uD83D\\uDD39|\\uD83D\\uDCBA|\\uD83D\\uDD3A|\\uD83D\\uDD3B|\\uD83D\\uDCBB|\\uD83D\\uDD3C|\\uD83D\\uDCBC|\\uD83D\\uDD3D|\\uD83D\\uDD50|\\uD83D\\uDCBD|\\uD83D\\uDD51|\\uD83D\\uDCBE|\\uD83D\\uDD52|\\uD83D\\uDCBF|\\uD83D\\uDD53|\\uD83D\\uDCC0|\\uD83D\\uDD54|\\uD83D\\uDD55|\\uD83D\\uDCC1|\\uD83D\\uDD56|\\uD83D\\uDD57|\\uD83D\\uDCC2|\\uD83D\\uDD58|\\uD83D\\uDD59|\\uD83D\\uDCC3|\\uD83D\\uDD5A|\\uD83D\\uDD5B|\\uD83D\\uDCC4|\\uD83D\\uDDFB|\\uD83D\\uDDFC|\\uD83D\\uDCC5|\\uD83D\\uDDFD|\\uD83D\\uDDFE|\\uD83D\\uDCC6|\\uD83D\\uDDFF|\\uD83D\\uDE01|\\uD83D\\uDE02|\\uD83D\\uDE03|\\uD83D\\uDCC8|\\uD83D\\uDE04|\\uD83D\\uDE05|\\uD83D\\uDCC9|\\uD83D\\uDE06|\\uD83D\\uDE09|\\uD83D\\uDCCA|\\uD83D\\uDE0A|\\uD83D\\uDE0B|\\uD83D\\uDCCB|\\uD83D\\uDE0C|\\uD83D\\uDE0D|\\uD83D\\uDCCC|\\uD83D\\uDE0F|\\uD83D\\uDE12|\\uD83D\\uDCCD|\\uD83D\\uDE13|\\uD83D\\uDE14|\\uD83D\\uDCCE|\\uD83D\\uDE16|\\uD83D\\uDE18|\\uD83D\\uDCCF|\\uD83D\\uDE1A|\\uD83D\\uDE1C|\\uD83D\\uDCD0|\\uD83D\\uDE1D|\\uD83D\\uDE1E|\\uD83D\\uDCD1|\\uD83D\\uDE20|\\uD83D\\uDE21|\\uD83D\\uDE22|\\uD83D\\uDE23|\\uD83D\\uDE24|\\uD83D\\uDE25|\\uD83D\\uDE28|\\uD83D\\uDE29|\\uD83D\\uDE2A|\\uD83D\\uDE2B|\\uD83D\\uDE2D|\\uD83D\\uDE30|\\uD83D\\uDE31|\\uD83D\\uDE32|\\uD83D\\uDE33|\\uD83D\\uDE35|\\uD83D\\uDE37|\\uD83D\\uDE38|\\uD83D\\uDE39|\\uD83D\\uDE3A|\\uD83D\\uDE3B|\\uD83D\\uDE3C|\\uD83D\\uDE3D|\\uD83D\\uDE3E|\\uD83D\\uDE3F|\\uD83D\\uDE40|\\uD83D\\uDE45|\\uD83D\\uDE46|\\uD83D\\uDE47|\\uD83D\\uDE48|\\uD83D\\uDE49|\\uD83D\\uDE4A|\\uD83D\\uDE4B|\\uD83D\\uDE4C|\\uD83D\\uDE4D|\\uD83D\\uDE4E|\\uD83D\\uDE4F|\\uD83D\\uDE80|\\uD83D\\uDE83|\\uD83D\\uDE84|\\uD83D\\uDE85|\\uD83D\\uDE87|\\uD83D\\uDE89|\\uD83D\\uDE8C|\\uD83D\\uDE8F|\\uD83D\\uDE91|\\uD83D\\uDE92|\\uD83D\\uDE93|\\uD83D\\uDE95|\\uD83D\\uDE97|\\uD83D\\uDE99|\\uD83D\\uDE9A|\\uD83D\\uDEA2|\\uD83D\\uDEA4|\\uD83D\\uDEA5|\\uD83D\\uDEA7|\\uD83D\\uDEA8|\\uD83D\\uDEA9|\\uD83D\\uDEAA|\\uD83D\\uDEAB|\\uD83D\\uDEAC|\\uD83D\\uDEAD|\\uD83D\\uDEB2|\\uD83D\\uDEB6|\\uD83D\\uDEB9|\\uD83D\\uDEBA|\\uD83D\\uDEBB|\\uD83D\\uDEBC|\\uD83D\\uDEBD|\\uD83D\\uDEBE|\\uD83D\\uDEC0|\\uD83E\\uDD18|\\uD83D\\uDE00|\\uD83D\\uDE07|\\uD83D\\uDE08|\\uD83D\\uDE0E|\\uD83D\\uDE10|\\uD83D\\uDE11|\\uD83D\\uDE15|\\uD83D\\uDE17|\\uD83D\\uDE19|\\uD83D\\uDE1B|\\uD83D\\uDE1F|\\uD83D\\uDE26|\\uD83D\\uDE27|\\uD83D\\uDE2C|\\uD83D\\uDE2E|\\uD83D\\uDE2F|\\uD83D\\uDE34|\\uD83D\\uDE36|\\uD83D\\uDE81|\\uD83D\\uDE82|\\uD83D\\uDE86|\\uD83D\\uDE88|\\uD83D\\uDE8A|\\uD83D\\uDE8D|\\uD83D\\uDE8E|\\uD83D\\uDE90|\\uD83D\\uDE94|\\uD83D\\uDE96|\\uD83D\\uDE98|\\uD83D\\uDE9B|\\uD83D\\uDE9C|\\uD83D\\uDE9D|\\uD83D\\uDE9E|\\uD83D\\uDE9F|\\uD83D\\uDEA0|\\uD83D\\uDEA1|\\uD83D\\uDEA3|\\uD83D\\uDEA6|\\uD83D\\uDEAE|\\uD83D\\uDEAF|\\uD83D\\uDEB0|\\uD83D\\uDEB1|\\uD83D\\uDEB3|\\uD83D\\uDEB4|\\uD83D\\uDEB5|\\uD83D\\uDEB7|\\uD83D\\uDEB8|\\uD83D\\uDEBF|\\uD83D\\uDEC1|\\uD83D\\uDEC2|\\uD83D\\uDEC3|\\uD83D\\uDEC4|\\uD83D\\uDEC5|\\uD83C\\uDF0D|\\uD83C\\uDF0E|\\uD83C\\uDF10|\\uD83C\\uDF12|\\uD83C\\uDF16|\\uD83C\\uDF17|\\uD83C\\uDF18|\\uD83C\\uDF1A|\\uD83C\\uDF1C|\\uD83C\\uDF1D|\\uD83C\\uDF1E|\\uD83C\\uDF32|\\uD83C\\uDF33|\\uD83C\\uDF4B|\\uD83C\\uDF50|\\uD83C\\uDF7C|\\uD83C\\uDFC7|\\uD83C\\uDFC9|\\uD83C\\uDFE4|\\uD83D\\uDC00|\\uD83D\\uDC01|\\uD83D\\uDC02|\\uD83D\\uDC03|\\uD83D\\uDC04|\\uD83D\\uDC05|\\uD83D\\uDC06|\\uD83D\\uDC07|\\uD83D\\uDC08|\\uD83D\\uDC09|\\uD83D\\uDC0A|\\uD83D\\uDC0B|\\uD83D\\uDC0F|\\uD83D\\uDC10|\\uD83D\\uDC13|\\uD83D\\uDC15|\\uD83D\\uDC16|\\uD83D\\uDC2A|\\uD83D\\uDC65|\\uD83D\\uDC6C|\\uD83D\\uDC6D|\\uD83D\\uDCAD|\\uD83D\\uDCB6|\\uD83D\\uDCB7|\\uD83D\\uDCEC|\\uD83D\\uDCED|\\uD83D\\uDCEF|\\uD83D\\uDCF5|\\uD83D\\uDD00|\\uD83D\\uDD01|\\uD83D\\uDD02|\\uD83D\\uDD04|\\uD83D\\uDD05|\\uD83D\\uDD06|\\uD83D\\uDD07|\\uD83D\\uDD09|\\uD83D\\uDD15|\\uD83D\\uDD2C|\\uD83D\\uDD2D|\\uD83D\\uDD5C|\\uD83D\\uDD5D|\\uD83D\\uDD5E|\\uD83D\\uDD5F|\\uD83D\\uDD60|\\uD83D\\uDD61|\\uD83D\\uDD62|\\uD83D\\uDD63|\\uD83D\\uDD64|\\uD83D\\uDD65|\\uD83D\\uDD66|\\uD83D\\uDD67|\\uD83D\\uDD08|\\uD83D\\uDE8B|\\uD83C\\uDFC5|\\uD83C\\uDFF4|\\uD83D\\uDCF8|\\uD83D\\uDECC|\\uD83D\\uDD95|\\uD83D\\uDD96|\\uD83D\\uDE41|\\uD83D\\uDE42|\\uD83D\\uDEEB|\\uD83D\\uDEEC|\\uD83C\\uDFFB|\\uD83C\\uDFFC|\\uD83C\\uDFFD|\\uD83C\\uDFFE|\\uD83C\\uDFFF|\\uD83D\\uDE43|\\uD83E\\uDD11|\\uD83E\\uDD13|\\uD83E\\uDD17|\\uD83D\\uDE44|\\uD83E\\uDD14|\\uD83E\\uDD10|\\uD83E\\uDD12|\\uD83E\\uDD15|\\uD83E\\uDD16|\\uD83E\\uDD81|\\uD83E\\uDD84|\\uD83E\\uDD82|\\uD83E\\uDD80|\\uD83E\\uDD83|\\uD83E\\uDDC0|\\uD83C\\uDF2D|\\uD83C\\uDF2E|\\uD83C\\uDF2F|\\uD83C\\uDF7F|\\uD83C\\uDF7E|\\uD83C\\uDFF9|\\uD83C\\uDFFA|\\uD83D\\uDED0|\\uD83D\\uDD4B|\\uD83D\\uDD4C|\\uD83D\\uDD4D|\\uD83D\\uDD4E|\\uD83D\\uDCFF|\\uD83C\\uDFCF|\\uD83C\\uDFD0|\\uD83C\\uDFD1|\\uD83C\\uDFD2|\\uD83C\\uDFD3|\\uD83C\\uDFF8|\\uD83C\\uDF26|\\uD83C\\uDF25|\\uD83C\\uDF24|\\uD83D\\uDEF3|\\uD83D\\uDEE9|\\uD83D\\uDEE5|\\uD83D\\uDEE4|\\uD83D\\uDEE3|\\uD83D\\uDECF|\\uD83D\\uDECE|\\uD83D\\uDECD|\\uD83D\\uDECB|\\uD83C\\uDFDF|\\uD83C\\uDFDE|\\uD83C\\uDFDD|\\uD83C\\uDFDC|\\uD83C\\uDFDB|\\uD83C\\uDFDA|\\uD83C\\uDFD9|\\uD83C\\uDFD8|\\uD83C\\uDFD7|\\uD83C\\uDFD6|\\uD83C\\uDFD5|\\uD83C\\uDFD4|\\uD83D\\uDD90|\\uD83D\\uDD75|\\uD83D\\uDD74|\\uD83D\\uDC41|\\uD83C\\uDF7D|\\uD83D\\uDEF0|\\uD83D\\uDEE2|\\uD83D\\uDEE1|\\uD83D\\uDEE0|\\uD83D\\uDDFA|\\uD83D\\uDDF3|\\uD83D\\uDDEF|\\uD83D\\uDDE3|\\uD83D\\uDDE1|\\uD83D\\uDDDE|\\uD83D\\uDDDD|\\uD83D\\uDDDC|\\uD83D\\uDDD3|\\uD83D\\uDDD2|\\uD83D\\uDDD1|\\uD83D\\uDDC4|\\uD83D\\uDDC3|\\uD83D\\uDDC2|\\uD83D\\uDDBC|\\uD83D\\uDDB2|\\uD83D\\uDDA8|\\uD83D\\uDDA5|\\uD83D\\uDD8D|\\uD83D\\uDD8C|\\uD83D\\uDD8B|\\uD83D\\uDD8A|\\uD83D\\uDD87|\\uD83D\\uDD79|\\uD83D\\uDD76|\\uD83D\\uDD73|\\uD83D\\uDD70|\\uD83D\\uDD6F|\\uD83D\\uDD4A|\\uD83D\\uDD49|\\uD83D\\uDCFD|\\uD83C\\uDFF7|\\uD83C\\uDFF5|\\uD83C\\uDFF3|\\uD83C\\uDF9B|\\uD83C\\uDF9A|\\uD83C\\uDF99|\\uD83C\\uDF21|\\uD83D\\uDD78|\\uD83D\\uDD77|\\uD83D\\uDC3F|\\uD83C\\uDF2C|\\uD83C\\uDF2B|\\uD83C\\uDF2A|\\uD83C\\uDF29|\\uD83C\\uDF28|\\uD83C\\uDF27|\\uD83C\\uDF36|\\uD83C\\uDF97|\\uD83C\\uDF96|\\uD83C\\uDFCE|\\uD83C\\uDFCD|\\uD83C\\uDFCC|\\uD83C\\uDFCB|\\uD83C\\uDF9F|\\uD83C\\uDF9E|\\uD83C\\uDE37|\\uD83C\\uDE2F|\\uD83C\\uDE1A|\\uD83C\\uDE02|\\uD83C\\uDD7F|\\uD83C\\uDC04|\\uD83C\\uDFE1|\\u2714|\\u2733|\\u2734|\\u2744|\\u2747|\\u2757|\\u2764|\\u27A1|\\u2934|\\u2935|\\u2B05|\\u2B06|\\u2B07|\\u2B1B|\\u2B1C|\\u2B50|\\u2B55|\\u3030|\\u303D|\\u3297|\\u3299|\\u2712|\\u270F|\\u270C|\\u2709|\\u2708|\\u2702|\\u26FD|\\u26FA|\\u26F5|\\u26F3|\\u26F2|\\u26EA|\\u26D4|\\u26C5|\\u26C4|\\u26BE|\\u26BD|\\u26AB|\\u26AA|\\u26A1|\\u26A0|\\u2693|\\u267F|\\u267B|\\u2668|\\u2666|\\u2665|\\u2663|\\u2660|\\u2653|\\u2652|\\u2651|\\u271D|\\u2650|\\u264F|\\u264E|\\u264D|\\u264C|\\u264B|\\u264A|\\u2649|\\u2648|\\u263A|\\u261D|\\u2615|\\u2614|\\u2611|\\u2328|\\u260E|\\u2601|\\u2600|\\u25FE|\\u25FD|\\u25FC|\\u25FB|\\u25C0|\\u25B6|\\u25AB|\\u25AA|\\u24C2|\\u2716|\\u231A|\\u21AA|\\u21A9|\\u2199|\\u2198|\\u2197|\\u2196|\\u2195|\\u2194|\\u2139|\\u2122|\\u270D|\\u2049|\\u203C|\\u00AE|\\u00A9|\\u27BF|\\u27B0|\\u2797|\\u2796|\\u2795|\\u2755|\\u2754|\\u2753|\\u274E|\\u274C|\\u2728|\\u270B|\\u270A|\\u2705|\\u26CE|\\u23F3|\\u23F0|\\u23EC|\\u23ED|\\u23EE|\\u23EF|\\u23F1|\\u23F2|\\u23F8|\\u23F9|\\u23FA|\\u2602|\\u2603|\\u2604|\\u2618|\\u2620|\\u2622|\\u2623|\\u2626|\\u262A|\\u262E|\\u262F|\\u2638|\\u2639|\\u2692|\\u2694|\\u2696|\\u2697|\\u2699|\\u269B|\\u269C|\\u26B0|\\u26B1|\\u26C8|\\u26CF|\\u26D1|\\u26D3|\\u26E9|\\u26F0|\\u26F1|\\u26F4|\\u26F7|\\u26F8|\\u26F9|\\u2721|\\u2763|\\u23EB|\\u23EA|\\u23E9|\\u231B)",a.jsecapeMap={"👩‍❤️‍💋‍👩":"1f469-2764-1f48b-1f469","👨‍❤️‍💋‍👨":"1f468-2764-1f48b-1f468","👨‍👨‍👦‍👦":"1f468-1f468-1f466-1f466","👨‍👨‍👧‍👦":"1f468-1f468-1f467-1f466","👨‍👨‍👧‍👧":"1f468-1f468-1f467-1f467","👨‍👩‍👦‍👦":"1f468-1f469-1f466-1f466","👨‍👩‍👧‍👦":"1f468-1f469-1f467-1f466","👨‍👩‍👧‍👧":"1f468-1f469-1f467-1f467","👩‍👩‍👦‍👦":"1f469-1f469-1f466-1f466","👩‍👩‍👧‍👦":"1f469-1f469-1f467-1f466","👩‍👩‍👧‍👧":"1f469-1f469-1f467-1f467","👩‍❤️‍👩":"1f469-2764-1f469","👨‍❤️‍👨":"1f468-2764-1f468","👨‍👨‍👦":"1f468-1f468-1f466","👨‍👨‍👧":"1f468-1f468-1f467","👨‍👩‍👧":"1f468-1f469-1f467","👩‍👩‍👦":"1f469-1f469-1f466","👩‍👩‍👧":"1f469-1f469-1f467","👁‍🗨":"1f441-1f5e8","#️⃣":"0023-20e3","0️⃣":"0030-20e3","1️⃣":"0031-20e3","2️⃣":"0032-20e3","3️⃣":"0033-20e3","4️⃣":"0034-20e3","5️⃣":"0035-20e3","6️⃣":"0036-20e3","7️⃣":"0037-20e3","8️⃣":"0038-20e3","9️⃣":"0039-20e3","*️⃣":"002a-20e3","🤘🏿":"1f918-1f3ff","🤘🏾":"1f918-1f3fe","🤘🏽":"1f918-1f3fd","🤘🏼":"1f918-1f3fc","🤘🏻":"1f918-1f3fb","🛀🏿":"1f6c0-1f3ff","🛀🏾":"1f6c0-1f3fe","🛀🏽":"1f6c0-1f3fd","🛀🏼":"1f6c0-1f3fc","🛀🏻":"1f6c0-1f3fb","🚶🏿":"1f6b6-1f3ff","🚶🏾":"1f6b6-1f3fe","🚶🏽":"1f6b6-1f3fd","🚶🏼":"1f6b6-1f3fc","🚶🏻":"1f6b6-1f3fb","🚵🏿":"1f6b5-1f3ff","🚵🏾":"1f6b5-1f3fe","🚵🏽":"1f6b5-1f3fd","🚵🏼":"1f6b5-1f3fc","🚵🏻":"1f6b5-1f3fb","🚴🏿":"1f6b4-1f3ff","🚴🏾":"1f6b4-1f3fe","🚴🏽":"1f6b4-1f3fd","🚴🏼":"1f6b4-1f3fc","🚴🏻":"1f6b4-1f3fb","🚣🏿":"1f6a3-1f3ff","🚣🏾":"1f6a3-1f3fe","🚣🏽":"1f6a3-1f3fd","🚣🏼":"1f6a3-1f3fc","🚣🏻":"1f6a3-1f3fb","🙏🏿":"1f64f-1f3ff","🙏🏾":"1f64f-1f3fe","🙏🏽":"1f64f-1f3fd","🙏🏼":"1f64f-1f3fc","🙏🏻":"1f64f-1f3fb","🙎🏿":"1f64e-1f3ff","🙎🏾":"1f64e-1f3fe","🙎🏽":"1f64e-1f3fd","🙎🏼":"1f64e-1f3fc","🙎🏻":"1f64e-1f3fb","🙍🏿":"1f64d-1f3ff","🙍🏾":"1f64d-1f3fe","🙍🏽":"1f64d-1f3fd","🙍🏼":"1f64d-1f3fc","🙍🏻":"1f64d-1f3fb","🙌🏿":"1f64c-1f3ff","🙌🏾":"1f64c-1f3fe","🙌🏽":"1f64c-1f3fd","🙌🏼":"1f64c-1f3fc","🙌🏻":"1f64c-1f3fb","🙋🏿":"1f64b-1f3ff","🙋🏾":"1f64b-1f3fe","🙋🏽":"1f64b-1f3fd","🙋🏼":"1f64b-1f3fc","🙋🏻":"1f64b-1f3fb","🙇🏿":"1f647-1f3ff","🙇🏾":"1f647-1f3fe","🙇🏽":"1f647-1f3fd","🙇🏼":"1f647-1f3fc","🙇🏻":"1f647-1f3fb","🙆🏿":"1f646-1f3ff","🙆🏾":"1f646-1f3fe","🙆🏽":"1f646-1f3fd","🙆🏼":"1f646-1f3fc","🙆🏻":"1f646-1f3fb","🙅🏿":"1f645-1f3ff","🙅🏾":"1f645-1f3fe","🙅🏽":"1f645-1f3fd","🙅🏼":"1f645-1f3fc","🙅🏻":"1f645-1f3fb","🖖🏿":"1f596-1f3ff","🖖🏾":"1f596-1f3fe","🖖🏽":"1f596-1f3fd","🖖🏼":"1f596-1f3fc","🖖🏻":"1f596-1f3fb","🖕🏿":"1f595-1f3ff","🖕🏾":"1f595-1f3fe","🖕🏽":"1f595-1f3fd","🖕🏼":"1f595-1f3fc","🖕🏻":"1f595-1f3fb","🖐🏿":"1f590-1f3ff","🖐🏾":"1f590-1f3fe","🖐🏽":"1f590-1f3fd","🖐🏼":"1f590-1f3fc","🖐🏻":"1f590-1f3fb","🕵🏿":"1f575-1f3ff","🕵🏾":"1f575-1f3fe","🕵🏽":"1f575-1f3fd","🕵🏼":"1f575-1f3fc","🕵🏻":"1f575-1f3fb","💪🏿":"1f4aa-1f3ff","💪🏾":"1f4aa-1f3fe","💪🏽":"1f4aa-1f3fd","💪🏼":"1f4aa-1f3fc","💪🏻":"1f4aa-1f3fb","💇🏿":"1f487-1f3ff","💇🏾":"1f487-1f3fe","💇🏽":"1f487-1f3fd","💇🏼":"1f487-1f3fc","💇🏻":"1f487-1f3fb","💆🏿":"1f486-1f3ff","💆🏾":"1f486-1f3fe","💆🏽":"1f486-1f3fd","💆🏼":"1f486-1f3fc","💆🏻":"1f486-1f3fb","💅🏿":"1f485-1f3ff","💅🏾":"1f485-1f3fe","💅🏽":"1f485-1f3fd","💅🏼":"1f485-1f3fc","💅🏻":"1f485-1f3fb","💃🏿":"1f483-1f3ff","💃🏾":"1f483-1f3fe","💃🏽":"1f483-1f3fd","💃🏼":"1f483-1f3fc","💃🏻":"1f483-1f3fb","💂🏿":"1f482-1f3ff","💂🏾":"1f482-1f3fe","💂🏽":"1f482-1f3fd","💂🏼":"1f482-1f3fc","💂🏻":"1f482-1f3fb","💁🏿":"1f481-1f3ff","💁🏾":"1f481-1f3fe","💁🏽":"1f481-1f3fd","💁🏼":"1f481-1f3fc","💁🏻":"1f481-1f3fb","👼🏿":"1f47c-1f3ff","👼🏾":"1f47c-1f3fe","👼🏽":"1f47c-1f3fd","👼🏼":"1f47c-1f3fc","👼🏻":"1f47c-1f3fb","👸🏿":"1f478-1f3ff","👸🏾":"1f478-1f3fe","👸🏽":"1f478-1f3fd","👸🏼":"1f478-1f3fc","👸🏻":"1f478-1f3fb","👷🏿":"1f477-1f3ff","👷🏾":"1f477-1f3fe","👷🏽":"1f477-1f3fd","👷🏼":"1f477-1f3fc","👷🏻":"1f477-1f3fb","👶🏿":"1f476-1f3ff","👶🏾":"1f476-1f3fe","👶🏽":"1f476-1f3fd","👶🏼":"1f476-1f3fc","👶🏻":"1f476-1f3fb","👵🏿":"1f475-1f3ff","👵🏾":"1f475-1f3fe","👵🏽":"1f475-1f3fd","👵🏼":"1f475-1f3fc","👵🏻":"1f475-1f3fb","👴🏿":"1f474-1f3ff","👴🏾":"1f474-1f3fe","👴🏽":"1f474-1f3fd","👴🏼":"1f474-1f3fc","👴🏻":"1f474-1f3fb","👳🏿":"1f473-1f3ff","👳🏾":"1f473-1f3fe","👳🏽":"1f473-1f3fd","👳🏼":"1f473-1f3fc","👳🏻":"1f473-1f3fb","👲🏿":"1f472-1f3ff","👲🏾":"1f472-1f3fe","👲🏽":"1f472-1f3fd","👲🏼":"1f472-1f3fc","👲🏻":"1f472-1f3fb","👱🏿":"1f471-1f3ff","👱🏾":"1f471-1f3fe","👱🏽":"1f471-1f3fd","👱🏼":"1f471-1f3fc","👱🏻":"1f471-1f3fb","👰🏿":"1f470-1f3ff","👰🏾":"1f470-1f3fe","👰🏽":"1f470-1f3fd","👰🏼":"1f470-1f3fc","👰🏻":"1f470-1f3fb","👮🏿":"1f46e-1f3ff","👮🏾":"1f46e-1f3fe","👮🏽":"1f46e-1f3fd","👮🏼":"1f46e-1f3fc","👮🏻":"1f46e-1f3fb","👩🏿":"1f469-1f3ff","👩🏾":"1f469-1f3fe","👩🏽":"1f469-1f3fd","👩🏼":"1f469-1f3fc","👩🏻":"1f469-1f3fb","👨🏿":"1f468-1f3ff","👨🏾":"1f468-1f3fe","👨🏽":"1f468-1f3fd","👨🏼":"1f468-1f3fc","👨🏻":"1f468-1f3fb","👧🏿":"1f467-1f3ff","👧🏾":"1f467-1f3fe","👧🏽":"1f467-1f3fd","👧🏼":"1f467-1f3fc","👧🏻":"1f467-1f3fb","👦🏿":"1f466-1f3ff","👦🏾":"1f466-1f3fe","👦🏽":"1f466-1f3fd","👦🏼":"1f466-1f3fc","👦🏻":"1f466-1f3fb","👐🏿":"1f450-1f3ff","👐🏾":"1f450-1f3fe","👐🏽":"1f450-1f3fd","👐🏼":"1f450-1f3fc","👐🏻":"1f450-1f3fb","👏🏿":"1f44f-1f3ff","👏🏾":"1f44f-1f3fe","👏🏽":"1f44f-1f3fd","👏🏼":"1f44f-1f3fc","👏🏻":"1f44f-1f3fb","👎🏿":"1f44e-1f3ff","👎🏾":"1f44e-1f3fe","👎🏽":"1f44e-1f3fd","👎🏼":"1f44e-1f3fc","👎🏻":"1f44e-1f3fb","👍🏿":"1f44d-1f3ff","👍🏾":"1f44d-1f3fe","👍🏽":"1f44d-1f3fd","👍🏼":"1f44d-1f3fc","👍🏻":"1f44d-1f3fb","👌🏿":"1f44c-1f3ff","👌🏾":"1f44c-1f3fe","👌🏽":"1f44c-1f3fd","👌🏼":"1f44c-1f3fc","👌🏻":"1f44c-1f3fb","👋🏿":"1f44b-1f3ff","👋🏾":"1f44b-1f3fe","👋🏽":"1f44b-1f3fd","👋🏼":"1f44b-1f3fc","👋🏻":"1f44b-1f3fb","👊🏿":"1f44a-1f3ff","👊🏾":"1f44a-1f3fe","👊🏽":"1f44a-1f3fd","👊🏼":"1f44a-1f3fc","👊🏻":"1f44a-1f3fb","👉🏿":"1f449-1f3ff","👉🏾":"1f449-1f3fe","👉🏽":"1f449-1f3fd","👉🏼":"1f449-1f3fc","👉🏻":"1f449-1f3fb","👈🏿":"1f448-1f3ff","👈🏾":"1f448-1f3fe","👈🏽":"1f448-1f3fd","👈🏼":"1f448-1f3fc","👈🏻":"1f448-1f3fb","👇🏿":"1f447-1f3ff","👇🏾":"1f447-1f3fe","👇🏽":"1f447-1f3fd","👇🏼":"1f447-1f3fc","👇🏻":"1f447-1f3fb","👆🏿":"1f446-1f3ff","👆🏾":"1f446-1f3fe","👆🏽":"1f446-1f3fd","👆🏼":"1f446-1f3fc","👆🏻":"1f446-1f3fb","👃🏿":"1f443-1f3ff","👃🏾":"1f443-1f3fe","👃🏽":"1f443-1f3fd","👃🏼":"1f443-1f3fc","👃🏻":"1f443-1f3fb","👂🏿":"1f442-1f3ff","👂🏾":"1f442-1f3fe","👂🏽":"1f442-1f3fd","👂🏼":"1f442-1f3fc","👂🏻":"1f442-1f3fb","🏋🏿":"1f3cb-1f3ff","🏋🏾":"1f3cb-1f3fe","🏋🏽":"1f3cb-1f3fd","🏋🏼":"1f3cb-1f3fc","🏋🏻":"1f3cb-1f3fb","🏊🏿":"1f3ca-1f3ff","🏊🏾":"1f3ca-1f3fe","🏊🏽":"1f3ca-1f3fd","🏊🏼":"1f3ca-1f3fc","🏊🏻":"1f3ca-1f3fb","🏇🏿":"1f3c7-1f3ff","🏇🏾":"1f3c7-1f3fe","🏇🏽":"1f3c7-1f3fd","🏇🏼":"1f3c7-1f3fc","🏇🏻":"1f3c7-1f3fb","🏄🏿":"1f3c4-1f3ff","🏄🏾":"1f3c4-1f3fe","🏄🏽":"1f3c4-1f3fd","🏄🏼":"1f3c4-1f3fc","🏄🏻":"1f3c4-1f3fb","🏃🏿":"1f3c3-1f3ff","🏃🏾":"1f3c3-1f3fe","🏃🏽":"1f3c3-1f3fd","🏃🏼":"1f3c3-1f3fc","🏃🏻":"1f3c3-1f3fb","🎅🏿":"1f385-1f3ff","🎅🏾":"1f385-1f3fe","🎅🏽":"1f385-1f3fd","🎅🏼":"1f385-1f3fc","🎅🏻":"1f385-1f3fb","🇿🇼":"1f1ff-1f1fc","🇿🇲":"1f1ff-1f1f2","🇿🇦":"1f1ff-1f1e6","🇾🇹":"1f1fe-1f1f9","🇾🇪":"1f1fe-1f1ea","🇽🇰":"1f1fd-1f1f0","🇼🇸":"1f1fc-1f1f8","🇼🇫":"1f1fc-1f1eb","🇻🇺":"1f1fb-1f1fa","🇻🇳":"1f1fb-1f1f3","🇻🇮":"1f1fb-1f1ee","🇻🇬":"1f1fb-1f1ec","🇻🇪":"1f1fb-1f1ea","🇻🇨":"1f1fb-1f1e8","🇻🇦":"1f1fb-1f1e6","🇺🇿":"1f1fa-1f1ff","🇺🇾":"1f1fa-1f1fe","🇺🇸":"1f1fa-1f1f8","🇺🇲":"1f1fa-1f1f2","🇺🇬":"1f1fa-1f1ec","🇺🇦":"1f1fa-1f1e6","🇹🇿":"1f1f9-1f1ff","🇹🇼":"1f1f9-1f1fc","🇹🇻":"1f1f9-1f1fb","🇹🇹":"1f1f9-1f1f9","🇹🇷":"1f1f9-1f1f7","🇹🇴":"1f1f9-1f1f4","🇹🇳":"1f1f9-1f1f3","🇹🇲":"1f1f9-1f1f2","🇹🇱":"1f1f9-1f1f1","🇹🇰":"1f1f9-1f1f0","🇹🇯":"1f1f9-1f1ef","🇹🇭":"1f1f9-1f1ed","🇹🇬":"1f1f9-1f1ec","🇹🇫":"1f1f9-1f1eb","🇹🇩":"1f1f9-1f1e9","🇹🇨":"1f1f9-1f1e8","🇹🇦":"1f1f9-1f1e6","🇸🇿":"1f1f8-1f1ff","🇸🇾":"1f1f8-1f1fe","🇸🇽":"1f1f8-1f1fd","🇸🇻":"1f1f8-1f1fb","🇸🇹":"1f1f8-1f1f9","🇸🇸":"1f1f8-1f1f8","🇸🇷":"1f1f8-1f1f7","🇸🇴":"1f1f8-1f1f4","🇸🇳":"1f1f8-1f1f3","🇸🇲":"1f1f8-1f1f2","🇸🇱":"1f1f8-1f1f1","🇸🇰":"1f1f8-1f1f0","🇸🇯":"1f1f8-1f1ef","🇸🇮":"1f1f8-1f1ee","🇸🇭":"1f1f8-1f1ed","🇸🇬":"1f1f8-1f1ec","🇸🇪":"1f1f8-1f1ea","🇸🇩":"1f1f8-1f1e9","🇸🇨":"1f1f8-1f1e8","🇸🇧":"1f1f8-1f1e7","🇸🇦":"1f1f8-1f1e6","🇷🇼":"1f1f7-1f1fc","🇷🇺":"1f1f7-1f1fa","🇷🇸":"1f1f7-1f1f8","🇷🇴":"1f1f7-1f1f4","🇷🇪":"1f1f7-1f1ea","🇶🇦":"1f1f6-1f1e6","🇵🇾":"1f1f5-1f1fe","🇵🇼":"1f1f5-1f1fc","🇵🇹":"1f1f5-1f1f9","🇵🇸":"1f1f5-1f1f8","🇵🇷":"1f1f5-1f1f7","🇵🇳":"1f1f5-1f1f3","🇵🇲":"1f1f5-1f1f2","🇵🇱":"1f1f5-1f1f1","🇵🇰":"1f1f5-1f1f0","🇵🇭":"1f1f5-1f1ed","🇵🇬":"1f1f5-1f1ec","🇵🇫":"1f1f5-1f1eb","🇵🇪":"1f1f5-1f1ea","🇵🇦":"1f1f5-1f1e6","🇴🇲":"1f1f4-1f1f2","🇳🇿":"1f1f3-1f1ff","🇳🇺":"1f1f3-1f1fa","🇳🇷":"1f1f3-1f1f7","🇳🇵":"1f1f3-1f1f5","🇳🇴":"1f1f3-1f1f4","🇳🇱":"1f1f3-1f1f1","🇳🇮":"1f1f3-1f1ee","🇳🇬":"1f1f3-1f1ec","🇳🇫":"1f1f3-1f1eb","🇳🇪":"1f1f3-1f1ea","🇳🇨":"1f1f3-1f1e8","🇳🇦":"1f1f3-1f1e6","🇲🇿":"1f1f2-1f1ff","🇲🇾":"1f1f2-1f1fe","🇲🇽":"1f1f2-1f1fd","🇲🇼":"1f1f2-1f1fc","🇲🇻":"1f1f2-1f1fb","🇲🇺":"1f1f2-1f1fa","🇲🇹":"1f1f2-1f1f9","🇲🇸":"1f1f2-1f1f8","🇲🇷":"1f1f2-1f1f7","🇲🇶":"1f1f2-1f1f6","🇲🇵":"1f1f2-1f1f5","🇲🇴":"1f1f2-1f1f4","🇲🇳":"1f1f2-1f1f3","🇲🇲":"1f1f2-1f1f2","🇲🇱":"1f1f2-1f1f1","🇲🇰":"1f1f2-1f1f0","🇲🇭":"1f1f2-1f1ed","🇲🇬":"1f1f2-1f1ec","🇲🇫":"1f1f2-1f1eb","🇲🇪":"1f1f2-1f1ea","🇲🇩":"1f1f2-1f1e9","🇲🇨":"1f1f2-1f1e8","🇲🇦":"1f1f2-1f1e6","🇱🇾":"1f1f1-1f1fe","🇱🇻":"1f1f1-1f1fb","🇱🇺":"1f1f1-1f1fa","🇱🇹":"1f1f1-1f1f9","🇱🇸":"1f1f1-1f1f8","🇱🇷":"1f1f1-1f1f7","🇱🇰":"1f1f1-1f1f0","🇱🇮":"1f1f1-1f1ee","🇱🇨":"1f1f1-1f1e8","🇱🇧":"1f1f1-1f1e7","🇱🇦":"1f1f1-1f1e6","🇰🇿":"1f1f0-1f1ff","🇰🇾":"1f1f0-1f1fe","🇰🇼":"1f1f0-1f1fc","🇰🇷":"1f1f0-1f1f7","🇰🇵":"1f1f0-1f1f5","🇰🇳":"1f1f0-1f1f3","🇰🇲":"1f1f0-1f1f2","🇰🇮":"1f1f0-1f1ee","🇰🇭":"1f1f0-1f1ed","🇰🇬":"1f1f0-1f1ec","🇰🇪":"1f1f0-1f1ea","🇯🇵":"1f1ef-1f1f5","🇯🇴":"1f1ef-1f1f4","🇯🇲":"1f1ef-1f1f2","🇯🇪":"1f1ef-1f1ea","🇮🇹":"1f1ee-1f1f9","🇮🇸":"1f1ee-1f1f8","🇮🇷":"1f1ee-1f1f7","🇮🇶":"1f1ee-1f1f6","🇮🇴":"1f1ee-1f1f4","🇮🇳":"1f1ee-1f1f3","🇮🇲":"1f1ee-1f1f2","🇮🇱":"1f1ee-1f1f1","🇮🇪":"1f1ee-1f1ea","🇮🇩":"1f1ee-1f1e9","🇮🇨":"1f1ee-1f1e8","🇭🇺":"1f1ed-1f1fa","🇭🇹":"1f1ed-1f1f9","🇭🇷":"1f1ed-1f1f7","🇭🇳":"1f1ed-1f1f3","🇭🇲":"1f1ed-1f1f2","🇭🇰":"1f1ed-1f1f0","🇬🇾":"1f1ec-1f1fe","🇬🇼":"1f1ec-1f1fc","🇬🇺":"1f1ec-1f1fa","🇬🇹":"1f1ec-1f1f9","🇬🇸":"1f1ec-1f1f8","🇬🇷":"1f1ec-1f1f7","🇬🇶":"1f1ec-1f1f6","🇬🇵":"1f1ec-1f1f5","🇬🇳":"1f1ec-1f1f3","🇬🇲":"1f1ec-1f1f2","🇬🇱":"1f1ec-1f1f1","🇬🇮":"1f1ec-1f1ee","🇬🇭":"1f1ec-1f1ed","🇬🇬":"1f1ec-1f1ec","🇬🇫":"1f1ec-1f1eb","🇬🇪":"1f1ec-1f1ea","🇬🇩":"1f1ec-1f1e9","🇬🇧":"1f1ec-1f1e7","🇬🇦":"1f1ec-1f1e6","🇫🇷":"1f1eb-1f1f7","🇫🇴":"1f1eb-1f1f4","🇫🇲":"1f1eb-1f1f2","🇫🇰":"1f1eb-1f1f0","🇫🇯":"1f1eb-1f1ef","🇫🇮":"1f1eb-1f1ee","🇪🇺":"1f1ea-1f1fa","🇪🇹":"1f1ea-1f1f9","🇪🇸":"1f1ea-1f1f8","🇪🇷":"1f1ea-1f1f7","🇪🇭":"1f1ea-1f1ed","🇪🇬":"1f1ea-1f1ec","🇪🇪":"1f1ea-1f1ea","🇪🇨":"1f1ea-1f1e8","🇪🇦":"1f1ea-1f1e6","🇩🇿":"1f1e9-1f1ff","🇩🇴":"1f1e9-1f1f4","🇩🇲":"1f1e9-1f1f2","🇩🇰":"1f1e9-1f1f0","🇩🇯":"1f1e9-1f1ef","🇩🇬":"1f1e9-1f1ec","🇩🇪":"1f1e9-1f1ea","🇨🇿":"1f1e8-1f1ff","🇨🇾":"1f1e8-1f1fe","🇨🇽":"1f1e8-1f1fd","🇨🇼":"1f1e8-1f1fc","🇨🇻":"1f1e8-1f1fb","🇨🇺":"1f1e8-1f1fa","🇨🇷":"1f1e8-1f1f7","🇨🇵":"1f1e8-1f1f5","🇨🇴":"1f1e8-1f1f4","🇨🇳":"1f1e8-1f1f3","🇨🇲":"1f1e8-1f1f2","🇨🇱":"1f1e8-1f1f1","🇨🇰":"1f1e8-1f1f0","🇨🇮":"1f1e8-1f1ee","🇨🇭":"1f1e8-1f1ed","🇨🇬":"1f1e8-1f1ec","🇨🇫":"1f1e8-1f1eb","🇨🇩":"1f1e8-1f1e9","🇨🇨":"1f1e8-1f1e8","🇨🇦":"1f1e8-1f1e6","🇧🇿":"1f1e7-1f1ff","🇧🇾":"1f1e7-1f1fe","🇧🇼":"1f1e7-1f1fc","🇧🇻":"1f1e7-1f1fb","🇧🇹":"1f1e7-1f1f9","🇧🇸":"1f1e7-1f1f8","🇧🇷":"1f1e7-1f1f7","🇧🇶":"1f1e7-1f1f6","🇧🇴":"1f1e7-1f1f4","🇧🇳":"1f1e7-1f1f3","🇧🇲":"1f1e7-1f1f2","🇧🇱":"1f1e7-1f1f1","🇧🇯":"1f1e7-1f1ef","🇧🇮":"1f1e7-1f1ee","🇧🇭":"1f1e7-1f1ed","🇧🇬":"1f1e7-1f1ec","🇧🇫":"1f1e7-1f1eb","🇧🇪":"1f1e7-1f1ea","🇧🇩":"1f1e7-1f1e9","🇧🇧":"1f1e7-1f1e7","🇧🇦":"1f1e7-1f1e6","🇦🇿":"1f1e6-1f1ff","🇦🇽":"1f1e6-1f1fd","🇦🇼":"1f1e6-1f1fc","🇦🇺":"1f1e6-1f1fa","🇦🇹":"1f1e6-1f1f9","🇦🇸":"1f1e6-1f1f8","🇦🇷":"1f1e6-1f1f7","🇦🇶":"1f1e6-1f1f6","🇦🇴":"1f1e6-1f1f4","🇦🇲":"1f1e6-1f1f2","🇦🇱":"1f1e6-1f1f1","🇦🇮":"1f1e6-1f1ee","🇦🇬":"1f1e6-1f1ec","🇦🇫":"1f1e6-1f1eb","🇦🇪":"1f1e6-1f1ea","🇦🇩":"1f1e6-1f1e9","🇦🇨":"1f1e6-1f1e8","🀄️":"1f004","🅿️":"1f17f","🈂️":"1f202","🈚️":"1f21a","🈯️":"1f22f","🈷️":"1f237","🎞️":"1f39e","🎟️":"1f39f","🏋️":"1f3cb","🏌️":"1f3cc","🏍️":"1f3cd","🏎️":"1f3ce","🎖️":"1f396","🎗️":"1f397","🌶️":"1f336","🌧️":"1f327","🌨️":"1f328","🌩️":"1f329","🌪️":"1f32a","🌫️":"1f32b","🌬️":"1f32c","🐿️":"1f43f","🕷️":"1f577","🕸️":"1f578","🌡️":"1f321","🎙️":"1f399","🎚️":"1f39a","🎛️":"1f39b","🏳️":"1f3f3","🏵️":"1f3f5","🏷️":"1f3f7","📽️":"1f4fd","🕉️":"1f549","🕊️":"1f54a","🕯️":"1f56f","🕰️":"1f570","🕳️":"1f573","🕶️":"1f576","🕹️":"1f579","🖇️":"1f587","🖊️":"1f58a","🖋️":"1f58b","🖌️":"1f58c","🖍️":"1f58d","🖥️":"1f5a5","🖨️":"1f5a8","🖲️":"1f5b2","🖼️":"1f5bc","🗂️":"1f5c2","🗃️":"1f5c3","🗄️":"1f5c4","🗑️":"1f5d1","🗒️":"1f5d2","🗓️":"1f5d3","🗜️":"1f5dc","🗝️":"1f5dd","🗞️":"1f5de","🗡️":"1f5e1","🗣️":"1f5e3","🗯️":"1f5ef","🗳️":"1f5f3","🗺️":"1f5fa","🛠️":"1f6e0","🛡️":"1f6e1","🛢️":"1f6e2","🛰️":"1f6f0","🍽️":"1f37d","👁️":"1f441","🕴️":"1f574","🕵️":"1f575","🖐️":"1f590","🏔️":"1f3d4","🏕️":"1f3d5","🏖️":"1f3d6","🏗️":"1f3d7","🏘️":"1f3d8","🏙️":"1f3d9","🏚️":"1f3da","🏛️":"1f3db","🏜️":"1f3dc","🏝️":"1f3dd","🏞️":"1f3de","🏟️":"1f3df","🛋️":"1f6cb","🛍️":"1f6cd","🛎️":"1f6ce","🛏️":"1f6cf","🛣️":"1f6e3","🛤️":"1f6e4","🛥️":"1f6e5","🛩️":"1f6e9","🛳️":"1f6f3","🌤️":"1f324","🌥️":"1f325","🌦️":"1f326","🖱️":"1f5b1","☝🏻":"261d-1f3fb","☝🏼":"261d-1f3fc","☝🏽":"261d-1f3fd","☝🏾":"261d-1f3fe","☝🏿":"261d-1f3ff","✌🏻":"270c-1f3fb","✌🏼":"270c-1f3fc","✌🏽":"270c-1f3fd","✌🏾":"270c-1f3fe","✌🏿":"270c-1f3ff","✊🏻":"270a-1f3fb","✊🏼":"270a-1f3fc","✊🏽":"270a-1f3fd","✊🏾":"270a-1f3fe","✊🏿":"270a-1f3ff","✋🏻":"270b-1f3fb","✋🏼":"270b-1f3fc","✋🏽":"270b-1f3fd","✋🏾":"270b-1f3fe","✋🏿":"270b-1f3ff","✍🏻":"270d-1f3fb","✍🏼":"270d-1f3fc","✍🏽":"270d-1f3fd","✍🏾":"270d-1f3fe","✍🏿":"270d-1f3ff","⛹🏻":"26f9-1f3fb","⛹🏼":"26f9-1f3fc","⛹🏽":"26f9-1f3fd","⛹🏾":"26f9-1f3fe","⛹🏿":"26f9-1f3ff","©️":"00a9","®️":"00ae","‼️":"203c","⁉️":"2049","™️":"2122","↔️":"2194","↕️":"2195","↖️":"2196","↗️":"2197","↘️":"2198","↙️":"2199","↩️":"21a9","↪️":"21aa","⌚️":"231a","⌛️":"231b","Ⓜ️":"24c2","▪️":"25aa","▫️":"25ab","▶️":"25b6","◀️":"25c0","◻️":"25fb","◼️":"25fc","◽️":"25fd","◾️":"25fe","☀️":"2600","☁️":"2601","☎️":"260e","☑️":"2611","☔️":"2614","☕️":"2615","☝️":"261d","☺️":"263a","♈️":"2648","♉️":"2649","♊️":"264a","♋️":"264b","♌️":"264c","♍️":"264d","♎️":"264e","♏️":"264f","♐️":"2650","♑️":"2651","♒️":"2652","♓️":"2653","♠️":"2660","♣️":"2663","♥️":"2665","♦️":"2666","♨️":"2668","♻️":"267b","♿️":"267f","⚓️":"2693","⚠️":"26a0","⚡️":"26a1","⚪️":"26aa","⚫️":"26ab","⚽️":"26bd","⚾️":"26be","⛄️":"26c4","⛅️":"26c5","⛔️":"26d4","⛪️":"26ea","⛲️":"26f2","⛳️":"26f3","⛵️":"26f5","⛺️":"26fa","⛽️":"26fd","✂️":"2702","✈️":"2708","✉️":"2709","✌️":"270c","✏️":"270f","✒️":"2712","✔️":"2714","✖️":"2716","✳️":"2733","✴️":"2734","❄️":"2744","❇️":"2747","❗️":"2757","❤️":"2764","➡️":"27a1","⤴️":"2934","⤵️":"2935","⬅️":"2b05","⬆️":"2b06","⬇️":"2b07","⬛️":"2b1b","⬜️":"2b1c","⭐️":"2b50","⭕️":"2b55","〰️":"3030","〽️":"303d","㊗️":"3297","㊙️":"3299","✝️":"271d","⌨️":"2328","✍️":"270d","⏭️":"23ed","⏮️":"23ee","⏯️":"23ef","⏱️":"23f1","⏲️":"23f2","⏸️":"23f8","⏹️":"23f9","⏺️":"23fa","☂️":"2602","☃️":"2603","☄️":"2604","☘️":"2618","☠️":"2620","☢️":"2622","☣️":"2623","☦️":"2626","☪️":"262a","☮️":"262e","☯️":"262f","☸️":"2638","☹️":"2639","⚒️":"2692","⚔️":"2694","⚖️":"2696","⚗️":"2697","⚙️":"2699","⚛️":"269b","⚜️":"269c","⚰️":"26b0","⚱️":"26b1","⛈️":"26c8","⛏️":"26cf","⛑️":"26d1","⛓️":"26d3","⛩️":"26e9","⛰️":"26f0","⛱️":"26f1","⛴️":"26f4","⛷️":"26f7","⛸️":"26f8","⛹️":"26f9","✡️":"2721","❣️":"2763","🃏":"1f0cf","🅰":"1f170","🅱":"1f171","🅾":"1f17e","🆎":"1f18e","🆑":"1f191","🆒":"1f192","🆓":"1f193","🆔":"1f194","🆕":"1f195","🆖":"1f196","🆗":"1f197","🆘":"1f198","🆙":"1f199","🆚":"1f19a","🈁":"1f201","🈲":"1f232","🈳":"1f233","🈴":"1f234","🈵":"1f235","🈶":"1f236","🈸":"1f238","🈹":"1f239","🈺":"1f23a","🉐":"1f250","🉑":"1f251","🌀":"1f300","🌁":"1f301","🌂":"1f302","🌃":"1f303","🌄":"1f304","🌅":"1f305","🌆":"1f306","🌇":"1f307","🌈":"1f308","🌉":"1f309","🌊":"1f30a","🌋":"1f30b","🌌":"1f30c","🌏":"1f30f","🌑":"1f311","🌓":"1f313","🌔":"1f314","🌕":"1f315","🌙":"1f319","🌛":"1f31b","🌟":"1f31f","🌠":"1f320","🌰":"1f330","🌱":"1f331","🌴":"1f334","🌵":"1f335","🌷":"1f337","🌸":"1f338","🌹":"1f339","🌺":"1f33a","🌻":"1f33b","🌼":"1f33c","🌽":"1f33d","🌾":"1f33e","🌿":"1f33f","🍀":"1f340","🍁":"1f341","🍂":"1f342","🍃":"1f343","🍄":"1f344","🍅":"1f345","🍆":"1f346","🍇":"1f347","🍈":"1f348","🍉":"1f349","🍊":"1f34a","🍌":"1f34c","🍍":"1f34d","🍎":"1f34e","🍏":"1f34f","🍑":"1f351","🍒":"1f352","🍓":"1f353","🍔":"1f354","🍕":"1f355","🍖":"1f356","🍗":"1f357","🍘":"1f358","🍙":"1f359","🍚":"1f35a","🍛":"1f35b","🍜":"1f35c","🍝":"1f35d","🍞":"1f35e","🍟":"1f35f","🍠":"1f360","🍡":"1f361","🍢":"1f362","🍣":"1f363","🍤":"1f364","🍥":"1f365","🍦":"1f366","🍧":"1f367","🍨":"1f368","🍩":"1f369","🍪":"1f36a","🍫":"1f36b","🍬":"1f36c","🍭":"1f36d","🍮":"1f36e","🍯":"1f36f","🍰":"1f370","🍱":"1f371","🍲":"1f372","🍳":"1f373","🍴":"1f374","🍵":"1f375","🍶":"1f376","🍷":"1f377","🍸":"1f378","🍹":"1f379","🍺":"1f37a","🍻":"1f37b","🎀":"1f380","🎁":"1f381","🎂":"1f382","🎃":"1f383","🎄":"1f384","🎅":"1f385","🎆":"1f386","🎇":"1f387","🎈":"1f388","🎉":"1f389","🎊":"1f38a","🎋":"1f38b","🎌":"1f38c","🎍":"1f38d","🎎":"1f38e","🎏":"1f38f","🎐":"1f390","🎑":"1f391","🎒":"1f392","🎓":"1f393","🎠":"1f3a0","🎡":"1f3a1","🎢":"1f3a2","🎣":"1f3a3","🎤":"1f3a4","🎥":"1f3a5","🎦":"1f3a6","🎧":"1f3a7","🎨":"1f3a8","🎩":"1f3a9","🎪":"1f3aa","🎫":"1f3ab","🎬":"1f3ac","🎭":"1f3ad","🎮":"1f3ae","🎯":"1f3af","🎰":"1f3b0","🎱":"1f3b1","🎲":"1f3b2","🎳":"1f3b3","🎴":"1f3b4","🎵":"1f3b5","🎶":"1f3b6","🎷":"1f3b7","🎸":"1f3b8","🎹":"1f3b9","🎺":"1f3ba","🎻":"1f3bb","🎼":"1f3bc","🎽":"1f3bd","🎾":"1f3be","🎿":"1f3bf","🏀":"1f3c0","🏁":"1f3c1","🏂":"1f3c2","🏃":"1f3c3","🏄":"1f3c4","🏆":"1f3c6","🏈":"1f3c8","🏊":"1f3ca","🏠":"1f3e0","🏡":"1f3e1","🏢":"1f3e2","🏣":"1f3e3","🏥":"1f3e5","🏦":"1f3e6","🏧":"1f3e7","🏨":"1f3e8","🏩":"1f3e9","🏪":"1f3ea","🏫":"1f3eb","🏬":"1f3ec","🏭":"1f3ed","🏮":"1f3ee","🏯":"1f3ef","🏰":"1f3f0","🐌":"1f40c","🐍":"1f40d","🐎":"1f40e","🐑":"1f411","🐒":"1f412","🐔":"1f414","🐗":"1f417","🐘":"1f418","🐙":"1f419","🐚":"1f41a","🐛":"1f41b","🐜":"1f41c","🐝":"1f41d","🐞":"1f41e","🐟":"1f41f","🐠":"1f420","🐡":"1f421","🐢":"1f422","🐣":"1f423","🐤":"1f424","🐥":"1f425","🐦":"1f426","🐧":"1f427","🐨":"1f428","🐩":"1f429","🐫":"1f42b","🐬":"1f42c","🐭":"1f42d","🐮":"1f42e","🐯":"1f42f","🐰":"1f430","🐱":"1f431","🐲":"1f432","🐳":"1f433","🐴":"1f434","🐵":"1f435","🐶":"1f436","🐷":"1f437","🐸":"1f438","🐹":"1f439","🐺":"1f43a","🐻":"1f43b","🐼":"1f43c","🐽":"1f43d","🐾":"1f43e","👀":"1f440","👂":"1f442","👃":"1f443","👄":"1f444","👅":"1f445","👆":"1f446","👇":"1f447","👈":"1f448","👉":"1f449","👊":"1f44a","👋":"1f44b","👌":"1f44c","👍":"1f44d","👎":"1f44e","👏":"1f44f","👐":"1f450","👑":"1f451","👒":"1f452","👓":"1f453","👔":"1f454","👕":"1f455","👖":"1f456","👗":"1f457","👘":"1f458","👙":"1f459","👚":"1f45a","👛":"1f45b","👜":"1f45c","👝":"1f45d","👞":"1f45e","👟":"1f45f","👠":"1f460","👡":"1f461","👢":"1f462","👣":"1f463","👤":"1f464","👦":"1f466","👧":"1f467","👨":"1f468","👩":"1f469","👪":"1f46a","👫":"1f46b","👮":"1f46e","👯":"1f46f","👰":"1f470","👱":"1f471","👲":"1f472","👳":"1f473","👴":"1f474","👵":"1f475","👶":"1f476","👷":"1f477","👸":"1f478","👹":"1f479","👺":"1f47a","👻":"1f47b","👼":"1f47c","👽":"1f47d","👾":"1f47e","👿":"1f47f","💀":"1f480","📇":"1f4c7","💁":"1f481","💂":"1f482","💃":"1f483","💄":"1f484","💅":"1f485","📒":"1f4d2","💆":"1f486","📓":"1f4d3","💇":"1f487","📔":"1f4d4","💈":"1f488","📕":"1f4d5","💉":"1f489","📖":"1f4d6","💊":"1f48a","📗":"1f4d7","💋":"1f48b","📘":"1f4d8","💌":"1f48c","📙":"1f4d9","💍":"1f48d","📚":"1f4da","💎":"1f48e","📛":"1f4db","💏":"1f48f","📜":"1f4dc","💐":"1f490","📝":"1f4dd","💑":"1f491","📞":"1f4de","💒":"1f492","📟":"1f4df","📠":"1f4e0","💓":"1f493","📡":"1f4e1","📢":"1f4e2","💔":"1f494","📣":"1f4e3","📤":"1f4e4","💕":"1f495","📥":"1f4e5","📦":"1f4e6","💖":"1f496","📧":"1f4e7","📨":"1f4e8","💗":"1f497","📩":"1f4e9","📪":"1f4ea","💘":"1f498","📫":"1f4eb","📮":"1f4ee","💙":"1f499","📰":"1f4f0","📱":"1f4f1","💚":"1f49a","📲":"1f4f2","📳":"1f4f3","💛":"1f49b","📴":"1f4f4","📶":"1f4f6","💜":"1f49c","📷":"1f4f7","📹":"1f4f9","💝":"1f49d","📺":"1f4fa","📻":"1f4fb","💞":"1f49e","📼":"1f4fc","🔃":"1f503","💟":"1f49f","🔊":"1f50a","🔋":"1f50b","💠":"1f4a0","🔌":"1f50c","🔍":"1f50d","💡":"1f4a1","🔎":"1f50e","🔏":"1f50f","💢":"1f4a2","🔐":"1f510","🔑":"1f511","💣":"1f4a3","🔒":"1f512","🔓":"1f513","💤":"1f4a4","🔔":"1f514","🔖":"1f516","💥":"1f4a5","🔗":"1f517","🔘":"1f518","💦":"1f4a6","🔙":"1f519","🔚":"1f51a","💧":"1f4a7","🔛":"1f51b","🔜":"1f51c","💨":"1f4a8","🔝":"1f51d","🔞":"1f51e","💩":"1f4a9","🔟":"1f51f","💪":"1f4aa","🔠":"1f520","🔡":"1f521","💫":"1f4ab","🔢":"1f522","🔣":"1f523","💬":"1f4ac","🔤":"1f524","🔥":"1f525","💮":"1f4ae","🔦":"1f526","🔧":"1f527","💯":"1f4af","🔨":"1f528","🔩":"1f529","💰":"1f4b0","🔪":"1f52a","🔫":"1f52b","💱":"1f4b1","🔮":"1f52e","💲":"1f4b2","🔯":"1f52f","💳":"1f4b3","🔰":"1f530","🔱":"1f531","💴":"1f4b4","🔲":"1f532","🔳":"1f533","💵":"1f4b5","🔴":"1f534","🔵":"1f535","💸":"1f4b8","🔶":"1f536","🔷":"1f537","💹":"1f4b9","🔸":"1f538","🔹":"1f539","💺":"1f4ba","🔺":"1f53a","🔻":"1f53b","💻":"1f4bb","🔼":"1f53c","💼":"1f4bc","🔽":"1f53d","🕐":"1f550","💽":"1f4bd","🕑":"1f551","💾":"1f4be","🕒":"1f552","💿":"1f4bf","🕓":"1f553","📀":"1f4c0","🕔":"1f554","🕕":"1f555","📁":"1f4c1","🕖":"1f556","🕗":"1f557","📂":"1f4c2","🕘":"1f558","🕙":"1f559","📃":"1f4c3","🕚":"1f55a","🕛":"1f55b","📄":"1f4c4","🗻":"1f5fb","🗼":"1f5fc","📅":"1f4c5","🗽":"1f5fd","🗾":"1f5fe","📆":"1f4c6","🗿":"1f5ff","😁":"1f601","😂":"1f602","😃":"1f603","📈":"1f4c8","😄":"1f604","😅":"1f605","📉":"1f4c9","😆":"1f606","😉":"1f609","📊":"1f4ca","😊":"1f60a","😋":"1f60b","📋":"1f4cb","😌":"1f60c","😍":"1f60d","📌":"1f4cc","😏":"1f60f","😒":"1f612","📍":"1f4cd","😓":"1f613","😔":"1f614","📎":"1f4ce","😖":"1f616","😘":"1f618","📏":"1f4cf","😚":"1f61a","😜":"1f61c","📐":"1f4d0","😝":"1f61d","😞":"1f61e","📑":"1f4d1","😠":"1f620","😡":"1f621","😢":"1f622","😣":"1f623","😤":"1f624","😥":"1f625","😨":"1f628","😩":"1f629","😪":"1f62a","😫":"1f62b","😭":"1f62d","😰":"1f630","😱":"1f631","😲":"1f632","😳":"1f633","😵":"1f635","😷":"1f637","😸":"1f638","😹":"1f639","😺":"1f63a","😻":"1f63b","😼":"1f63c","😽":"1f63d","😾":"1f63e","😿":"1f63f","🙀":"1f640","🙅":"1f645","🙆":"1f646","🙇":"1f647","🙈":"1f648","🙉":"1f649","🙊":"1f64a","🙋":"1f64b","🙌":"1f64c","🙍":"1f64d","🙎":"1f64e","🙏":"1f64f","🚀":"1f680","🚃":"1f683","🚄":"1f684","🚅":"1f685","🚇":"1f687","🚉":"1f689","🚌":"1f68c","🚏":"1f68f","🚑":"1f691","🚒":"1f692","🚓":"1f693","🚕":"1f695","🚗":"1f697","🚙":"1f699","🚚":"1f69a","🚢":"1f6a2","🚤":"1f6a4","🚥":"1f6a5","🚧":"1f6a7","🚨":"1f6a8","🚩":"1f6a9","🚪":"1f6aa","🚫":"1f6ab","🚬":"1f6ac","🚭":"1f6ad","🚲":"1f6b2","🚶":"1f6b6","🚹":"1f6b9","🚺":"1f6ba","🚻":"1f6bb","🚼":"1f6bc","🚽":"1f6bd","🚾":"1f6be","🛀":"1f6c0","🤘":"1f918","😀":"1f600","😇":"1f607","😈":"1f608","😎":"1f60e","😐":"1f610","😑":"1f611","😕":"1f615","😗":"1f617","😙":"1f619","😛":"1f61b","😟":"1f61f","😦":"1f626","😧":"1f627","😬":"1f62c","😮":"1f62e","😯":"1f62f","😴":"1f634","😶":"1f636","🚁":"1f681","🚂":"1f682","🚆":"1f686","🚈":"1f688","🚊":"1f68a","🚍":"1f68d","🚎":"1f68e","🚐":"1f690","🚔":"1f694","🚖":"1f696","🚘":"1f698","🚛":"1f69b","🚜":"1f69c","🚝":"1f69d","🚞":"1f69e","🚟":"1f69f","🚠":"1f6a0","🚡":"1f6a1","🚣":"1f6a3","🚦":"1f6a6","🚮":"1f6ae","🚯":"1f6af","🚰":"1f6b0","🚱":"1f6b1","🚳":"1f6b3","🚴":"1f6b4","🚵":"1f6b5","🚷":"1f6b7","🚸":"1f6b8","🚿":"1f6bf","🛁":"1f6c1","🛂":"1f6c2","🛃":"1f6c3","🛄":"1f6c4","🛅":"1f6c5","🌍":"1f30d","🌎":"1f30e","🌐":"1f310","🌒":"1f312","🌖":"1f316","🌗":"1f317","🌘":"1f318","🌚":"1f31a","🌜":"1f31c","🌝":"1f31d","🌞":"1f31e","🌲":"1f332","🌳":"1f333","🍋":"1f34b","🍐":"1f350","🍼":"1f37c","🏇":"1f3c7","🏉":"1f3c9","🏤":"1f3e4","🐀":"1f400","🐁":"1f401","🐂":"1f402","🐃":"1f403","🐄":"1f404","🐅":"1f405","🐆":"1f406","🐇":"1f407","🐈":"1f408","🐉":"1f409","🐊":"1f40a","🐋":"1f40b","🐏":"1f40f","🐐":"1f410","🐓":"1f413","🐕":"1f415","🐖":"1f416","🐪":"1f42a","👥":"1f465","👬":"1f46c","👭":"1f46d","💭":"1f4ad","💶":"1f4b6","💷":"1f4b7","📬":"1f4ec","📭":"1f4ed","📯":"1f4ef","📵":"1f4f5","🔀":"1f500","🔁":"1f501","🔂":"1f502","🔄":"1f504","🔅":"1f505","🔆":"1f506","🔇":"1f507","🔉":"1f509","🔕":"1f515","🔬":"1f52c","🔭":"1f52d","🕜":"1f55c","🕝":"1f55d","🕞":"1f55e","🕟":"1f55f","🕠":"1f560","🕡":"1f561","🕢":"1f562","🕣":"1f563","🕤":"1f564","🕥":"1f565","🕦":"1f566","🕧":"1f567","🔈":"1f508","🚋":"1f68b","🏅":"1f3c5","🏴":"1f3f4","📸":"1f4f8","🛌":"1f6cc","🖕":"1f595","🖖":"1f596","🙁":"1f641","🙂":"1f642","🛫":"1f6eb","🛬":"1f6ec","🏻":"1f3fb","🏼":"1f3fc","🏽":"1f3fd","🏾":"1f3fe","🏿":"1f3ff","🙃":"1f643","🤑":"1f911","🤓":"1f913","🤗":"1f917","🙄":"1f644","🤔":"1f914","🤐":"1f910","🤒":"1f912","🤕":"1f915","🤖":"1f916","🦁":"1f981","🦄":"1f984","🦂":"1f982","🦀":"1f980","🦃":"1f983","🧀":"1f9c0","🌭":"1f32d","🌮":"1f32e","🌯":"1f32f","🍿":"1f37f","🍾":"1f37e","🏹":"1f3f9","🏺":"1f3fa","🛐":"1f6d0","🕋":"1f54b","🕌":"1f54c","🕍":"1f54d","🕎":"1f54e","📿":"1f4ff","🏏":"1f3cf","🏐":"1f3d0","🏑":"1f3d1","🏒":"1f3d2","🏓":"1f3d3","🏸":"1f3f8","⏩":"23e9","⏪":"23ea","⏫":"23eb","⏬":"23ec","⏰":"23f0","⏳":"23f3","⛎":"26ce","✅":"2705","✊":"270a","✋":"270b","✨":"2728","❌":"274c","❎":"274e","❓":"2753","❔":"2754","❕":"2755","➕":"2795","➖":"2796","➗":"2797","➰":"27b0","➿":"27bf","©":"00a9","®":"00ae","‼":"203c","⁉":"2049","™":"2122","↔":"2194","↕":"2195","↖":"2196","↗":"2197","↘":"2198","↙":"2199","↩":"21a9","↪":"21aa","⌚":"231a","⌛":"231b","Ⓜ":"24c2","▪":"25aa","▫":"25ab","▶":"25b6","◀":"25c0","◻":"25fb","◼":"25fc","◽":"25fd","◾":"25fe","☀":"2600","☁":"2601","☎":"260e","☑":"2611","☔":"2614","☕":"2615","☝":"261d","☺":"263a","♈":"2648","♉":"2649","♊":"264a","♋":"264b","♌":"264c","♍":"264d","♎":"264e","♏":"264f","♐":"2650","♑":"2651","♒":"2652","♓":"2653","♠":"2660","♣":"2663","♥":"2665","♦":"2666","♨":"2668","♻":"267b","♿":"267f","⚓":"2693","⚠":"26a0","⚡":"26a1","⚪":"26aa","⚫":"26ab","⚽":"26bd","⚾":"26be","⛄":"26c4","⛅":"26c5","⛔":"26d4","⛪":"26ea","⛲":"26f2","⛳":"26f3","⛵":"26f5","⛺":"26fa","⛽":"26fd","✂":"2702","✈":"2708","✉":"2709","✌":"270c","✏":"270f","✒":"2712","✔":"2714","✖":"2716","✳":"2733","✴":"2734","❄":"2744","❇":"2747","❗":"2757","❤":"2764","➡":"27a1","⤴":"2934","⤵":"2935","⬅":"2b05","⬆":"2b06","⬇":"2b07","⬛":"2b1b","⬜":"2b1c","⭐":"2b50","⭕":"2b55","〰":"3030","〽":"303d","㊗":"3297","㊙":"3299","🀄":"1f004","🅿":"1f17f","🈂":"1f202","🈚":"1f21a","🈯":"1f22f","🈷":"1f237","🎞":"1f39e","🎟":"1f39f","🏋":"1f3cb","🏌":"1f3cc","🏍":"1f3cd","🏎":"1f3ce","🎖":"1f396","🎗":"1f397","🌶":"1f336","🌧":"1f327","🌨":"1f328","🌩":"1f329","🌪":"1f32a","🌫":"1f32b","🌬":"1f32c","🐿":"1f43f","🕷":"1f577","🕸":"1f578","🌡":"1f321","🎙":"1f399","🎚":"1f39a","🎛":"1f39b","🏳":"1f3f3","🏵":"1f3f5","🏷":"1f3f7","📽":"1f4fd","✝":"271d","🕉":"1f549","🕊":"1f54a","🕯":"1f56f","🕰":"1f570","🕳":"1f573","🕶":"1f576","🕹":"1f579","🖇":"1f587","🖊":"1f58a","🖋":"1f58b","🖌":"1f58c","🖍":"1f58d","🖥":"1f5a5","🖨":"1f5a8","⌨":"2328","🖲":"1f5b2","🖼":"1f5bc","🗂":"1f5c2","🗃":"1f5c3","🗄":"1f5c4","🗑":"1f5d1","🗒":"1f5d2","🗓":"1f5d3","🗜":"1f5dc","🗝":"1f5dd","🗞":"1f5de","🗡":"1f5e1","🗣":"1f5e3","🗯":"1f5ef","🗳":"1f5f3","🗺":"1f5fa","🛠":"1f6e0","🛡":"1f6e1","🛢":"1f6e2","🛰":"1f6f0","🍽":"1f37d","👁":"1f441","🕴":"1f574","🕵":"1f575","✍":"270d","🖐":"1f590","🏔":"1f3d4","🏕":"1f3d5","🏖":"1f3d6","🏗":"1f3d7","🏘":"1f3d8","🏙":"1f3d9","🏚":"1f3da","🏛":"1f3db","🏜":"1f3dc","🏝":"1f3dd","🏞":"1f3de","🏟":"1f3df","🛋":"1f6cb","🛍":"1f6cd","🛎":"1f6ce","🛏":"1f6cf","🛣":"1f6e3","🛤":"1f6e4","🛥":"1f6e5","🛩":"1f6e9","🛳":"1f6f3","⏭":"23ed","⏮":"23ee","⏯":"23ef","⏱":"23f1","⏲":"23f2","⏸":"23f8","⏹":"23f9","⏺":"23fa","☂":"2602","☃":"2603","☄":"2604","☘":"2618","☠":"2620","☢":"2622","☣":"2623","☦":"2626","☪":"262a","☮":"262e","☯":"262f","☸":"2638","☹":"2639","⚒":"2692","⚔":"2694","⚖":"2696","⚗":"2697","⚙":"2699","⚛":"269b","⚜":"269c","⚰":"26b0","⚱":"26b1","⛈":"26c8","⛏":"26cf","⛑":"26d1","⛓":"26d3","⛩":"26e9","⛰":"26f0","⛱":"26f1","⛴":"26f4","⛷":"26f7","⛸":"26f8","⛹":"26f9","✡":"2721","❣":"2763","🌤":"1f324","🌥":"1f325","🌦":"1f326","🖱":"1f5b1"},a.imageType="png",a.sprites=!0,a.unicodeAlt=!0,a.ascii=!0,a.cacheBustParam="?v=2.1.2",a.regShortNames=new RegExp('<object[^>]*>.*?</object>|<spans*class="emojione*[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|('+a.shortnames+")","gi"),a.regAscii=new RegExp('<object[^>]*>.*?</object>|<spans*class="emojione*[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|((\\s|^)'+a.asciiRegexp+"(?=\\s|$|[!,.?]))","g"),a.regUnicode=new RegExp('<object[^>]*>.*?</object>|<spans*class="emojione*[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|('+a.unicodeRegexp+")","gi"),a.shortnameRegexp=":([-+\\w]+):",a.toImage=function(e){return e=a.unicodeToImage(e),e=a.shortnameToImage(e)},a.unifyUnicode=function(e){return e=a.toShort(e),e=a.shortnameToUnicode(e)},a.shortnameToAscii=function(e){var t,n=a.objectFlip(a.asciiList);return e=e.replace(a.regShortNames,function(e){return void 0!==e&&""!==e&&e in a.emojioneList?(t=a.emojioneList[e][a.emojioneList[e].length-1].toLowerCase(),void 0!==n[t]?n[t]:e):e})},a.shortnameToUnicode=function(e){var o;return e=e.replace(a.regShortNames,function(e){return void 0!==e&&""!==e&&e in a.emojioneList?(o=0<a.emojioneList[e].length?a.emojioneList[e][0].toUpperCase():"",a.convert(o)):e}),e=a.ascii?e.replace(a.regAscii,function(e,t,n,i){return void 0!==i&&""!==i&&a.unescapeHTML(i)in a.asciiList?(i=a.unescapeHTML(i),o=a.asciiList[i].toUpperCase(),n+a.convert(o)):e}):e},a.shortnameToImage=function(e,t,n){return e?(e=e.replace(a.regShortNames,function(e){return void 0!==e&&""!==e&&e in a.emojioneList?(r=a.emojioneList[e][a.emojioneList[e].length-1],s=a.unicodeAlt?a.convert(r.toUpperCase()):e,"png"===a.imageType&&a.sprites&&(o=t?'<img class="emojione emojione-'+r+'" title="'+e+'"/>':'<span class="emojione emojione-'+r+'" title="'+e+'">'+s+"</span>"),o=n?'<span class="emojiTxt">'+o+"</span>":o):e}),a.ascii?e.replace(a.regAscii,function(e,t,n,i){return void 0!==i&&""!==i&&a.unescapeHTML(i)in a.asciiList?(i=a.unescapeHTML(i),r=a.asciiList[i],s=a.unicodeAlt?a.convert(r.toUpperCase()):a.escapeHTML(i),o="png"===a.imageType&&a.sprites?n+'<span class="emojione emojione-'+r+'" title="'+a.escapeHTML(i)+'">'+s+"</span>":o):e}):e):"";var o,r,s},a.unicodeToImage=function(e,t,n){return e?(a.unicodeAlt&&!a.sprites||(s=a.mapShortToUnicode()),e.replace(a.regUnicode,function(e){return void 0!==e&&""!==e&&e in a.jsecapeMap?(o=a.jsecapeMap[e],r=a.unicodeAlt?a.convert(o.toUpperCase()):s[o],"png"===a.imageType&&a.sprites&&(i=t?'<img class="emojione emojione-'+o+'" title="'+s[o]+'"/>':'<span class="emojione emojione-'+o+'" title="'+s[o]+'">'+r+"</span>"),i=n?'<span class="emojiTxt">'+i+"</span>":i):e})):"";var i,o,r,s},a.toShort=function(e){for(var t in a.emojioneList)if(a.emojioneList.hasOwnProperty(t))for(var n=0,i=a.emojioneList[t].length;n<i;n++){var o=a.emojioneList[t][n];e=a.replaceAll(e,a.convert(o.toUpperCase()),t)}return e},a.convert=function(e){if(-1<e.indexOf("-")){for(var t=[],n=e.split("-"),i=0;i<n.length;i++){var o,r,s=parseInt(n[i],16);s=65536<=s&&s<=1114111?(o=Math.floor((s-65536)/1024)+55296,r=(s-65536)%1024+56320,String.fromCharCode(o)+String.fromCharCode(r)):String.fromCharCode(s),t.push(s)}return t.join("")}return 65536<=(n=parseInt(e,16))&&n<=1114111?(o=Math.floor((n-65536)/1024)+55296,r=(n-65536)%1024+56320,String.fromCharCode(o)+String.fromCharCode(r)):String.fromCharCode(n)},a.escapeHTML=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})},a.unescapeHTML=function(e){var t={"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3C;":"<","&gt;":">","&#62;":">","&#x3E;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'"};return e.replace(/&(?:amp|#38|#x26|lt|#60|#x3C|gt|#62|#x3E|apos|#39|#x27|quot|#34|#x22);/gi,function(e){return t[e]})},a.mapShortToUnicode=function(){var e,t={};for(e in a.emojioneList)if(a.emojioneList.hasOwnProperty(e))for(var n=0,i=a.emojioneList[e].length;n<i;n++)t[a.emojioneList[e][n]]=e;return t},a.objectFlip=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n},a.escapeRegExp=function(e){return e.replace(/[-[\]{}()*+?.,;:&\\^$|#\s]/g,"\\$&")},a.replaceAll=function(e,t,n){t=a.escapeRegExp(t),t=new RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|("+t+")","gi");return e.replace(t,function(e,t){return void 0===t||""===t?e:n})}}(this.emojione=this.emojione||{}),"object"==typeof module&&(module.exports=this.emojione),function(u){"use strict";window.PureJSCarousel=function(e){this.carousel=document.querySelector(e.carousel),this.slides=this.carousel.querySelectorAll(e.slide),this.btnNext=this.carousel.querySelector(e.btnNext)||null,this.btnPrev=this.carousel.querySelector(e.btnPrev)||null,this.activeIndex=e.activeIndex||0,this.oneByOne=e.oneByOne||!1,this.speed=e.speed||400,this.delay=e.delay||0,this.effect=e.effect||"linear",this.infinite=e.infinite||!1,this.autoplay=e.autoplay||!1,this.autoplayDelay=e.autoplayDelay||400,this.autoplayDirection=e.autoplayDirection||"next",this.autoplayTimer=null,this.minPos=null,this.slidesToShow=null,this.maxIndex=null,this.isEnabled=null,this.build()},PureJSCarousel.prototype.build=function(){var e,t,n,i,o=this,r=window.innerWidth,s=window.innerHeight;o.minPos=u(o.carousel).width()-o.slides.length*u(o.slides[0]).width(),o.slidesToShow=Math.round(u(o.carousel).width()/u(o.slides[0]).width()),o.maxIndex=0,o.isEnabled=1,o.carousel.className+=" purejscarousel",o.slidesContainer=document.createElement("div"),o.carousel.insertBefore(o.slidesContainer,o.slides[0]),o.slidesContainer.className+=" purejscarousel-slides-container",!0===o.infinite?(o.slidesContainer.style.marginLeft=-(o.slides[0].offsetWidth*o.slides.length)+"px",o.slidesContainer.style.width=o.slides[0].offsetWidth*o.slides.length*3+"px"):(o.slidesContainer.style.marginLeft="0px",o.slidesContainer.style.width=(u(o.slides[0]).width()+54)*o.slides.length+"px"),("ontouchstart"in window||navigator.maxTouchPoints)&&(o.slidesContainer.addEventListener("touchstart",function(e){this.setAttribute("data-start-touch-x",e.targetTouches[0].pageX),this.setAttribute("data-start-margin",parseInt(this.style.marginLeft))}),o.slidesContainer.addEventListener("touchmove",function(e){this.setAttribute("data-active-touch-x",e.targetTouches[0].pageX),this.style.marginLeft=parseInt(this.getAttribute("data-start-margin"))+(parseInt(this.getAttribute("data-active-touch-x"))-parseInt(this.getAttribute("data-start-touch-x")))+"px"}),o.slidesContainer.addEventListener("touchend",function(){var e=0<parseInt(this.getAttribute("data-active-touch-x"))-parseInt(this.getAttribute("data-start-touch-x"))?"prev":"next",t=(!0===o.oneByOne?u(o.slidesContainer[0]):u(o.carousel)).width();Math.abs(parseInt(this.getAttribute("data-active-touch-x"))-parseInt(this.getAttribute("data-start-touch-x")))>=t/2&&(!0===o.infinite||"next"==e&&o.activeIndex<o.maxIndex||"prev"==e&&0<o.activeIndex)?"next"==e?o.goToNextSlide():o.goToPrevSlide():("undefined"!==o.slidesContainer.style.transition&&(o.slidesContainer.style.transition="margin-left "+o.speed+"ms "+o.effect+" "+o.delay+"ms"),o.slidesContainer.style.marginLeft=parseInt(this.getAttribute("data-start-margin"))+"px","undefined"===o.slidesContainer.style.transition?"undefined"!==o.slidesContainer.style.transition&&(o.slidesContainer.style.transition=null):setTimeout(function(){"undefined"!==o.slidesContainer.style.transition&&(o.slidesContainer.style.transition=null)},o.speed+o.delay))})),o.dotsContainer=document.createElement("div"),o.carousel.insertBefore(o.dotsContainer,o.slides[0]),o.dotsContainer.className+=" purejscarousel-dots-container",o.dots=[],e=!0===o.oneByOne?!0===o.infinite?o.slides.length:(u(o.slidesContainer).width()-u(o.carousel).width())/u(o.slides[0]).width()+1:!0===o.infinite?Math.ceil(o.slidesContainer.offsetWidth/o.carousel.offsetWidth/3):Math.ceil(u(o.slidesContainer).width()/u(o.carousel).width());for(t=0;t<e;t++){var a=document.createElement("button");a.className="purejscarousel-dot"+(0===t?" active":""),a.setAttribute("data-index",t),a.setAttribute("type","button"),!function(e,t){window.addEventListener?e.addEventListener("click",function(){t.goToSlide(parseInt(this.getAttribute("data-index")))}):window.attachEvent?e.attachEvent("onclick",function(){t.goToSlide(parseInt(this.getAttribute("data-index")))}):e.onclick=function(){t.goToSlide(parseInt(this.getAttribute("data-index")))}}(a,o),o.dots.push(a),o.dotsContainer.appendChild(a)}for(o.maxIndex=e-1,o.btnPrev?o.btnPrev.setAttribute("data-is-native",1):(o.btnPrev=document.createElement("button"),o.btnPrev.setAttribute("class",""),o.btnPrev.setAttribute("type","button"),o.btnPrev.setAttribute("data-is-native",0),o.carousel.insertBefore(o.btnPrev,o.slides[0])),o.btnPrev.className+=" purejscarousel-btn purejscarousel-btn-prev fa fa-sort-asc hideNow",window.addEventListener?o.btnPrev.addEventListener("click",function(){o.goToPrevSlide()}):window.attachEvent?o.btnPrev.attachEvent("onclick",function(){o.goToPrevSlide()}):o.btnPrev.onclick=function(){o.goToPrevSlide()},0===o.activeIndex&&(o.btnPrev.disabled=!0),o.btnNext?o.btnNext.setAttribute("data-is-native",1):(o.btnNext=document.createElement("button"),o.btnNext.setAttribute("class",""),o.btnNext.setAttribute("type","button"),o.btnNext.setAttribute("data-is-native",0),o.carousel.insertBefore(o.btnNext,o.slides[0])),o.btnNext.className+=" purejscarousel-btn purejscarousel-btn-next fa fa-sort-asc",window.addEventListener?o.btnNext.addEventListener("click",function(){o.goToNextSlide()}):window.attachEvent?o.btnNext.attachEvent("onclick",function(){o.goToNextSlide()}):o.btnNext.onclick=function(){o.goToNextSlide()},o.activeIndex===o.maxIndex&&(o.btnNext.disabled=!0),t=0;t<o.slides.length;t++)o.slides[t].className+=" purejscarousel-slide",o.slidesContainer.appendChild(o.slides[t]);if(!0===o.infinite){for(t=0;t<o.slides.length;t++)(i=o.slides[t].cloneNode(!0)).className+=" purejscarousel-slide-clone",o.slidesContainer.appendChild(i);for(t=0;t<o.slides.length;t++)(i=o.slides[t].cloneNode(!0)).className+=" purejscarousel-slide-clone",o.slidesContainer.insertBefore(i,o.slidesContainer.querySelectorAll(".purejscarousel-slide")[t])}function l(){this.carousel&&(this.minPos=this.carousel.offsetWidth-this.slides.length*this.slides[0].offsetWidth),window.innerWidth===r&&window.innerHeight===s||(clearTimeout(n),n=setTimeout(function(){o.destroy(),o.build()},400))}window.addEventListener?window.addEventListener("resize",l):window.attachEvent?window.attachEvent("onresize",l):window.onresize=l,o.autoplayTimer=!0===o.autoplay?"next"===o.autoplayDirection?setTimeout(function(){o.goToNextSlide()},o.autoplayDelay):setTimeout(function(){o.goToPrevSlide()},o.autoplayDelay):null},PureJSCarousel.prototype.computeResize=function(){this.carousel&&(this.slidesContainer.offsetLeft-this.slides[0].offsetWidth<=this.minPos?this.btnNext.classList.add("hideNow"):this.btnNext.classList.remove("hideNow"),this.btnPrev.classList.remove("hideNow"),2<this.dots.length&&-1!==this.dots[1].className.indexOf("active")?this.btnPrev.classList.add("hideNow"):this.btnPrev.classList.remove("hideNow"),this.btnNext.classList.remove("hideNow"))},PureJSCarousel.prototype.enableControl=function(){var e;for(this.btnNext.disabled=!1,this.btnPrev.disabled=!1,e=0;e<this.dots.length;e++)this.dots[e].disabled=!1;!(this.dots[this.activeIndex].disabled=!0)===this.infinite&&(this.activeIndex===this.maxIndex&&(this.btnNext.disabled=!0),0===this.activeIndex&&(this.btnPrev.disabled=!0)),("ontouchstart"in window||navigator.maxTouchPoints)&&(this.slidesContainer.disabled=!1)},PureJSCarousel.prototype.disableControl=function(){var e;for(this.btnNext.disabled=!0,this.btnPrev.disabled=!0,e=0;e<this.dots.length;e++)this.dots[e].disabled=!0;("ontouchstart"in window||navigator.maxTouchPoints)&&(this.slidesContainer.disabled=!0)},PureJSCarousel.prototype.goToNextSlide=function(){var e;this.carousel&&(this.minPos=this.carousel.offsetWidth-this.slides.length*this.slides[0].offsetWidth),!1===this.btnNext.disabled&&(e=!0===this.infinite?this.activeIndex+1>this.maxIndex?0:this.activeIndex+1:this.activeIndex+1>this.maxIndex?this.activeIndex:this.activeIndex+1,this.goToSlide(e,"next","dirBtn")),!(this.slidesContainer.offsetLeft-this.slides[0].offsetWidth<=this.minPos)||this.carousel.offsetWidth<350&&e<this.slides.length-1?this.btnNext.classList.remove("hideNow"):this.btnNext.classList.add("hideNow"),this.btnPrev.classList.remove("hideNow")},PureJSCarousel.prototype.goToPrevSlide=function(){var e;this.carousel&&(this.minPos=this.carousel.offsetWidth-this.slides.length*this.slides[0].offsetWidth),!1===this.btnPrev.disabled&&(e=!0===this.infinite&&this.activeIndex-1<0?this.maxIndex:this.activeIndex-1,this.goToSlide(e,"prev","dirBtn")),2<this.dots.length&&-1!==this.dots[1].className.indexOf("active")?this.btnPrev.classList.add("hideNow"):this.btnPrev.classList.remove("hideNow"),this.btnNext.classList.remove("hideNow")},PureJSCarousel.prototype.goToSlide=function(t,e,n){var i,o=this,r=e||(t>this.activeIndex?"next":"prev"),e=this.slidesContainer.offsetWidth/(!0===this.infinite?3:1),s=(!0===this.oneByOne?this.slides[0]:this.carousel).offsetWidth,a=!0===this.infinite?-e:Math.max(-s*this.activeIndex,this.minPos),n="dirBtn"===n?s:Math.abs(s*(this.activeIndex-t));function l(){var e;if("transition"in document.body.style&&(o.slidesContainer.style.transition=null,o.slidesContainer.removeEventListener("transitionend",l)),o.dots[o.activeIndex].className=o.dots[o.activeIndex].className.replace(" active",""),o.activeIndex=t,o.dots[o.activeIndex].className+=" active",!0===o.infinite){for(e=0;e<i;e++)"next"===r?o.slidesContainer.appendChild(o.slidesContainer.children[0]):o.slidesContainer.insertBefore(o.slidesContainer.lastElementChild,o.slidesContainer.children[0]);o.slidesContainer.style.marginLeft=-o.slidesContainer.offsetWidth/3+"px"}o.enableControl(),o.autoplayTimer=!0===o.autoplay?"next"===o.autoplayDirection?setTimeout(function(){o.goToNextSlide()},o.autoplayDelay):setTimeout(function(){o.goToPrevSlide()},o.autoplayDelay):null}!1===this.oneByOne&&("next"===r&&t===this.maxIndex||"prev"===r&&this.activeIndex===this.maxIndex)&&(n=n+e-(this.maxIndex+1)*s),i=n/this.slides[0].offsetWidth,e=!0===this.infinite?"next"===r?a-n:a+n:"next"===r?Math.max(this.minPos,a-n):Math.min(0,a+n),this.disableControl(),"transition"in document.body.style&&(this.slidesContainer.style.transition="margin-left "+this.speed+"ms "+this.effect+" "+this.delay+"ms"),this.slidesContainer.style.marginLeft=e+"px","transition"in document.body.style?(this.slidesContainer.addEventListener("transitionend",l),o.enableControl()):l()},PureJSCarousel.prototype.destroy=function(){var e,t;if(1===this.isEnabled){if(this.isEnabled=0,this.carousel.className=this.carousel.className.replace(" purejscarousel",""),this.carousel.removeChild(this.dotsContainer),"1"===this.btnNext.getAttribute("data-is-native").toString()?this.btnNext.className=this.btnNext.className.replace(" purejscarousel-btn purejscarousel-btn-next",""):(this.carousel.removeChild(this.btnNext),this.btnNext=null),"1"===this.btnPrev.getAttribute("data-is-native").toString()?this.btnPrev.className=this.btnPrev.className.replace(" purejscarousel-btn purejscarousel-btn-prev",""):(this.carousel.removeChild(this.btnPrev),this.btnPrev=null),!0===this.infinite)for(e=this.carousel.querySelectorAll(".purejscarousel-slide-clone"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);for(t=0;t<this.slides.length;t++)this.slides[t].className=this.slides[t].className.replace(" pure-js-carousel-slide",""),this.carousel.insertBefore(this.slides[t],this.slidesContainer);this.carousel.removeChild(this.slidesContainer),this.minPos=null,this.slidesToShow=null,this.maxIndex=null,!(this.isEnabled=null)===this.autoplay&&(clearTimeout(this.autoplayTimer),this.autoplayTimer=null)}}}($),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JsSIP=e()}(function(){return function i(o,r,s){function a(t,e){if(!r[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n=r[t]={exports:{}};o[t][0].call(n.exports,function(e){return a(o[t][1][e]||e)},n,n.exports,i,o,r,s)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l=e("./Utils"),i=e("./Constants"),o=e("./Grammar"),r=e("./URI"),s=e("./Socket"),u=e("./Exceptions"),c=(n.settings={authorization_user:null,password:null,realm:null,ha1:null,authorization_jwt:null,display_name:null,uri:null,contact_uri:null,instance_id:null,use_preloaded_route:!1,session_timers:!0,session_timers_refresh_method:i.UPDATE,session_timers_force_refresher:!1,no_answer_timeout:60,register:!0,register_expires:600,registrar_server:null,sockets:null,connection_recovery_max_interval:i.CONNECTION_RECOVERY_MAX_INTERVAL,connection_recovery_min_interval:i.CONNECTION_RECOVERY_MIN_INTERVAL,via_host:"".concat(l.createRandomToken(12),".invalid")},{mandatory:{sockets:function(e){var t=[];if(s.isSocket(e))t.push({socket:e});else{if(!Array.isArray(e)||!e.length)return;var n,i=function(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return a(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;Object.prototype.hasOwnProperty.call(o,"socket")&&s.isSocket(o.socket)?t.push(o):s.isSocket(o)&&t.push({socket:o})}}catch(e){i.e(e)}finally{i.f()}}return t},uri:function(e){/^sip:/i.test(e)||(e="".concat(i.SIP,":").concat(e));e=r.parse(e);return e&&e.user?e:void 0}},optional:{authorization_user:function(e){return-1===o.parse('"'.concat(e,'"'),"quoted_string")?void 0:e},authorization_jwt:function(e){if("string"==typeof e)return e},user_agent:function(e){if("string"==typeof e)return e},connection_recovery_max_interval:function(e){if(l.isDecimal(e)){e=Number(e);if(0<e)return e}},connection_recovery_min_interval:function(e){if(l.isDecimal(e)){e=Number(e);if(0<e)return e}},contact_uri:function(e){if("string"==typeof e){e=o.parse(e,"SIP_URI");if(-1!==e)return e}},display_name:function(e){return e},instance_id:function(e){return/^uuid:/i.test(e)&&(e=e.substr(5)),-1===o.parse(e,"uuid")?void 0:e},no_answer_timeout:function(e){if(l.isDecimal(e)){e=Number(e);if(0<e)return e}},session_timers:function(e){if("boolean"==typeof e)return e},session_timers_refresh_method:function(e){if("string"==typeof e&&((e=e.toUpperCase())===i.INVITE||e===i.UPDATE))return e},session_timers_force_refresher:function(e){if("boolean"==typeof e)return e},password:function(e){return String(e)},realm:function(e){return String(e)},ha1:function(e){return String(e)},register:function(e){if("boolean"==typeof e)return e},register_expires:function(e){if(l.isDecimal(e)){e=Number(e);if(0<e)return e}},registrar_server:function(e){/^sip:/i.test(e)||(e="".concat(i.SIP,":").concat(e));e=r.parse(e);return!e||e.user?void 0:e},use_preloaded_route:function(e){if("boolean"==typeof e)return e}}});n.load=function(e,t){for(var n in c.mandatory){if(!t.hasOwnProperty(n))throw new u.ConfigurationError(n);var i=t[n],o=c.mandatory[n](i);if(void 0===o)throw new u.ConfigurationError(n,i);e[n]=o}for(var r in c.optional)if(t.hasOwnProperty(r)){var s=t[r];if(l.isEmpty(s))continue;var a=c.optional[r](s);if(void 0===a)throw new u.ConfigurationError(r,s);e[r]=a}}},{"./Constants":2,"./Exceptions":6,"./Grammar":7,"./Socket":20,"./URI":25,"./Utils":26}],2:[function(e,t,n){"use strict";e=e("../package.json");t.exports={USER_AGENT:"".concat(e.title," ").concat(e.version),SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",MISSING_SDP:"Missing SDP",AUTHENTICATION_ERROR:"Authentication Error",BYE:"Terminated",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",DIALOG_ERROR:"Dialog Error",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484,424],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",REFER:"REFER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",DTMF_TRANSPORT:{INFO:"INFO",RFC2833:"RFC2833"},REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",424:"Bad Location Information",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"JsSIP Internal Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},ALLOWED_METHODS:"INVITE,ACK,CANCEL,BYE,UPDATE,MESSAGE,OPTIONS,REFER,INFO,NOTIFY",ACCEPTED_BODY_TYPES:"application/sdp, application/dtmf-relay",MAX_FORWARDS:69,SESSION_EXPIRES:90,MIN_SESSION_EXPIRES:60,CONNECTION_RECOVERY_MAX_INTERVAL:30,CONNECTION_RECOVERY_MIN_INTERVAL:2}},{"../package.json":38}],3:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=e("./SIPMessage"),o=e("./Constants"),r=e("./Transactions"),a=e("./Dialog/RequestSender"),l=e("./Utils"),u=e("debug")("JsSIP:Dialog"),c={STATUS_EARLY:1,STATUS_CONFIRMED:2};function f(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:c.STATUS_CONFIRMED,o=this,r=f;if(!(o instanceof r))throw new TypeError("Cannot call a class as a function");if(this._owner=e,this._ua=e._ua,this._uac_pending_reply=!1,this._uas_pending_reply=!1,!t.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};t instanceof s.IncomingResponse&&(i=t.status_code<200?c.STATUS_EARLY:c.STATUS_CONFIRMED);o=t.parseHeader("contact");"UAS"===n?(this._id={call_id:t.call_id,local_tag:t.to_tag,remote_tag:t.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=i,this._remote_seqnum=t.cseq,this._local_uri=t.parseHeader("to").uri,this._remote_uri=t.parseHeader("from").uri,this._remote_target=o.uri,this._route_set=t.getHeaders("record-route"),this._ack_seqnum=this._remote_seqnum):"UAC"===n&&(this._id={call_id:t.call_id,local_tag:t.from_tag,remote_tag:t.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=i,this._local_seqnum=t.cseq,this._local_uri=t.parseHeader("from").uri,this._remote_uri=t.parseHeader("to").uri,this._remote_target=o.uri,this._route_set=t.getHeaders("record-route").reverse(),this._ack_seqnum=null),this._ua.newDialog(this),u("new ".concat(n," dialog created with status ").concat(this._state===c.STATUS_EARLY?"EARLY":"CONFIRMED"))}t.exports=(e=[{key:"C",get:function(){return c}}],i((t=f).prototype,[{key:"id",get:function(){return this._id}},{key:"local_seqnum",get:function(){return this._local_seqnum},set:function(e){this._local_seqnum=e}},{key:"owner",get:function(){return this._owner}},{key:"uac_pending_reply",get:function(){return this._uac_pending_reply},set:function(e){this._uac_pending_reply=e}},{key:"uas_pending_reply",get:function(){return this._uas_pending_reply}},{key:"update",value:function(e,t){this._state=c.STATUS_CONFIRMED,u("dialog ".concat(this._id.toString(),"  changed to CONFIRMED state")),"UAC"===t&&(this._route_set=e.getHeaders("record-route").reverse())}},{key:"terminate",value:function(){u("dialog ".concat(this._id.toString()," deleted")),this._ua.destroyDialog(this)}},{key:"sendRequest",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=l.cloneArray(n.extraHeaders),o=l.cloneObject(n.eventHandlers),n=n.body||null,e=this._createRequest(e,i,n);return o.onAuthenticated=function(){t._local_seqnum+=1},new a(this,e,o).send(),e}},{key:"receiveRequest",value:function(e){this._checkInDialogRequest(e)&&(e.method===o.ACK&&null!==this._ack_seqnum?this._ack_seqnum=null:e.method===o.INVITE&&(this._ack_seqnum=e.cseq),this._owner.receiveRequest(e))}},{key:"_createRequest",value:function(e,t,n){t=l.cloneArray(t),this._local_seqnum||(this._local_seqnum=Math.floor(1e4*Math.random()));var i=e===o.CANCEL||e===o.ACK?this._local_seqnum:this._local_seqnum+=1;return new s.OutgoingRequest(e,this._remote_target,this._ua,{cseq:i,call_id:this._id.call_id,from_uri:this._local_uri,from_tag:this._id.local_tag,to_uri:this._remote_uri,to_tag:this._id.remote_tag,route_set:this._route_set},t,n)}},{key:"_checkInDialogRequest",value:function(t){var e,n=this;if(this._remote_seqnum)if(t.cseq<this._remote_seqnum){if(t.method!==o.ACK)return t.reply(500),!1;if(null===this._ack_seqnum||t.cseq!==this._ack_seqnum)return!1}else t.cseq>this._remote_seqnum&&(this._remote_seqnum=t.cseq);else this._remote_seqnum=t.cseq;if(t.method===o.INVITE||t.method===o.UPDATE&&t.body){if(!0===this._uac_pending_reply)t.reply(491);else{if(!0===this._uas_pending_reply)return e=1+(10*Math.random()|0),t.reply(500,null,["Retry-After:".concat(e)]),!1;this._uas_pending_reply=!0,t.server_transaction.on("stateChanged",function e(){t.server_transaction.state!==r.C.STATUS_ACCEPTED&&t.server_transaction.state!==r.C.STATUS_COMPLETED&&t.server_transaction.state!==r.C.STATUS_TERMINATED||(t.server_transaction.removeListener("stateChanged",e),n._uas_pending_reply=!1)})}t.hasHeader("contact")&&t.server_transaction.on("stateChanged",function(){t.server_transaction.state===r.C.STATUS_ACCEPTED&&(n._remote_target=t.parseHeader("contact").uri)})}else t.method===o.NOTIFY&&t.hasHeader("contact")&&t.server_transaction.on("stateChanged",function(){t.server_transaction.state===r.C.STATUS_COMPLETED&&(n._remote_target=t.parseHeader("contact").uri)});return!0}}]),i(t,e),f)},{"./Constants":2,"./Dialog/RequestSender":4,"./SIPMessage":19,"./Transactions":22,"./Utils":26,debug:29}],4:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=e("../Constants"),r=e("../Transactions"),s=e("../RTCSession"),a=e("../RequestSender"),l={onRequestTimeout:function(){},onTransportError:function(){},onSuccessResponse:function(){},onErrorResponse:function(){},onAuthenticated:function(){},onDialogError:function(){}};function u(e,t,n){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");for(var i in this._dialog=e,this._ua=e._ua,this._request=t,this._eventHandlers=n,this._reattempt=!1,this._reattemptTimer=null,l)!Object.prototype.hasOwnProperty.call(l,i)||this._eventHandlers[i]||(this._eventHandlers[i]=l[i])}t.exports=(i(u.prototype,[{key:"request",get:function(){return this._request}},{key:"send",value:function(){var t=this,n=new a(this._ua,this._request,{onRequestTimeout:function(){t._eventHandlers.onRequestTimeout()},onTransportError:function(){t._eventHandlers.onTransportError()},onAuthenticated:function(e){t._eventHandlers.onAuthenticated(e)},onReceiveResponse:function(e){t._receiveResponse(e)}});n.send(),(this._request.method===o.INVITE||this._request.method===o.UPDATE&&this._request.body)&&n.clientTransaction.state!==r.C.STATUS_TERMINATED&&(this._dialog.uac_pending_reply=!0,n.clientTransaction.on("stateChanged",function e(){n.clientTransaction.state!==r.C.STATUS_ACCEPTED&&n.clientTransaction.state!==r.C.STATUS_COMPLETED&&n.clientTransaction.state!==r.C.STATUS_TERMINATED||(n.clientTransaction.removeListener("stateChanged",e),t._dialog.uac_pending_reply=!1)}))}},{key:"_receiveResponse",value:function(e){var t=this;408===e.status_code||481===e.status_code?this._eventHandlers.onDialogError(e):e.method!==o.INVITE||491!==e.status_code||this._reattempt?200<=e.status_code&&e.status_code<300?this._eventHandlers.onSuccessResponse(e):300<=e.status_code&&this._eventHandlers.onErrorResponse(e):(this._request.cseq=this._dialog.local_seqnum+=1,this._reattemptTimer=setTimeout(function(){t._dialog.owner.status!==s.C.STATUS_TERMINATED&&(t._reattempt=!0,t._request_sender.send())},1e3))}}]),u)},{"../Constants":2,"../RTCSession":12,"../RequestSender":18,"../Transactions":22}],5:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=e("./Utils"),l=e("debug")("JsSIP:DigestAuthentication"),u=e("debug")("JsSIP:ERROR:DigestAuthentication");function o(e){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._credentials=e,this._cnonce=null,this._nc=0,this._ncHex="00000000",this._algorithm=null,this._realm=null,this._nonce=null,this._opaque=null,this._stale=null,this._qop=null,this._method=null,this._uri=null,this._ha1=null,this._response=null}u.log=console.warn.bind(console),t.exports=(i(o.prototype,[{key:"get",value:function(e){switch(e){case"realm":return this._realm;case"ha1":return this._ha1;default:return void u('get() | cannot get "%s" parameter',e)}}},{key:"authenticate",value:function(e,t){var n=e.method,i=e.ruri,e=e.body,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(this._algorithm=t.algorithm,this._realm=t.realm,this._nonce=t.nonce,this._opaque=t.opaque,this._stale=t.stale,this._algorithm){if("MD5"!==this._algorithm)return u('authenticate() | challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this._algorithm="MD5";if(!this._nonce)return u("authenticate() | challenge without Digest nonce, authentication aborted"),!1;if(!this._realm)return u("authenticate() | challenge without Digest realm, authentication aborted"),!1;if(!this._credentials.password){if(!this._credentials.ha1)return u("authenticate() | no plain SIP password nor ha1 provided, authentication aborted"),!1;if(this._credentials.realm!==this._realm)return u('authenticate() | no plain SIP password, and stored `realm` does not match the given `realm`, cannot authenticate [stored:"%s", given:"%s"]',this._credentials.realm,this._realm),!1}if(t.qop)if(-1<t.qop.indexOf("auth-int"))this._qop="auth-int";else{if(!(-1<t.qop.indexOf("auth")))return u('authenticate() | challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;this._qop="auth"}else this._qop=null;this._method=n,this._uri=i,this._cnonce=o||a.createRandomToken(12),this._nc+=1;var r,s,t=Number(this._nc).toString(16);return this._ncHex="00000000".substr(0,8-t.length)+t,4294967296===this._nc&&(this._nc=1,this._ncHex="00000001"),this._credentials.password?this._ha1=a.calculateMD5("".concat(this._credentials.username,":").concat(this._realm,":").concat(this._credentials.password)):this._ha1=this._credentials.ha1,"auth"===this._qop?(r="".concat(this._method,":").concat(this._uri),s=a.calculateMD5(r),l('authenticate() | using qop=auth [a2:"%s"]',r),this._response=a.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth:").concat(s))):"auth-int"===this._qop?(r="".concat(this._method,":").concat(this._uri,":").concat(a.calculateMD5(e||"")),s=a.calculateMD5(r),l('authenticate() | using qop=auth-int [a2:"%s"]',r),this._response=a.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth-int:").concat(s))):null===this._qop&&(r="".concat(this._method,":").concat(this._uri),s=a.calculateMD5(r),l('authenticate() | using qop=null [a2:"%s"]',r),this._response=a.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(s))),l("authenticate() | response generated"),!0}},{key:"toString",value:function(){var e=[];if(this._response)return e.push("algorithm=".concat(this._algorithm)),e.push('username="'.concat(this._credentials.username,'"')),e.push('realm="'.concat(this._realm,'"')),e.push('nonce="'.concat(this._nonce,'"')),e.push('uri="'.concat(this._uri,'"')),e.push('response="'.concat(this._response,'"')),this._opaque&&e.push('opaque="'.concat(this._opaque,'"')),this._qop&&(e.push("qop=".concat(this._qop)),e.push('cnonce="'.concat(this._cnonce,'"')),e.push("nc=".concat(this._ncHex))),"Digest ".concat(e.join(", "));throw new Error("response field does not exist, cannot generate Authorization header")}}]),o)},{"./Utils":26,debug:29}],6:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function s(n){var i=u();return function(){var e,t=f(n),t=(e=i?(e=f(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!==o(e)&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function a(e){var n="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return l(e,arguments,f(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),c(t,e)})(e)}function l(e,t,n){return(l=u()?Reflect.construct:function(e,t,n){var i=[null],t=(i.push.apply(i,t),new(Function.bind.apply(e,i)));return n&&c(t,n.prototype),t}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(M,a(Error)),g=s(M);var d,h,p,g,m=M,v=(r(C,a(Error)),p=s(C),C),y=(r(b,a(Error)),h=s(b),b),D=(r(_,a(Error)),d=s(_),_);function _(e){var t;return i(this,_),(t=d.call(this)).code=4,t.name="NOT_READY_ERROR",t.message=e,t}function b(e){var t;return i(this,b),(t=h.call(this)).code=3,t.name="NOT_SUPPORTED_ERROR",t.message=e,t}function C(e){var t;return i(this,C),(t=p.call(this)).code=2,t.name="INVALID_STATE_ERROR",t.status=e,t.message="Invalid status: ".concat(e),t}function M(e,t){var n;return i(this,M),(n=g.call(this)).code=1,n.name="CONFIGURATION_ERROR",n.parameter=e,n.value=t,n.message=n.value?"Invalid value ".concat(JSON.stringify(n.value),' for parameter "').concat(n.parameter,'"'):"Missing parameter: ".concat(n.parameter),n}t.exports={ConfigurationError:m,InvalidStateError:v,NotSupportedError:y,NotReadyError:D}},{}],7:[function(Bn,e,t){"use strict";function Yn(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}e.exports=((e={parse:function(m,l){var e={CRLF:P,DIGIT:u,ALPHA:s,HEXDIG:a,WSP:c,OCTET:n,DQUOTE:f,SP:d,HTAB:h,alphanum:o,reserved:R,unreserved:i,mark:U,escaped:p,LWS:g,SWS:D,HCOLON:B,TEXT_UTF8_TRIM:Y,TEXT_UTF8char:_,UTF8_NONASCII:b,UTF8_CONT:C,LHEX:function(){var e;return null===(e=u())&&(/^[a-f]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[a-f]"))),e},token:M,token_nodot:H,separators:function(){var e;return 40===m.charCodeAt(v)?(e="(",v++):(e=null,y('"("')),null===e&&(41===m.charCodeAt(v)?(e=")",v++):(e=null,y('")"')),null===e&&(60===m.charCodeAt(v)?(e="<",v++):(e=null,y('"<"')),null===e&&(62===m.charCodeAt(v)?(e=">",v++):(e=null,y('">"')),null===e&&(64===m.charCodeAt(v)?(e="@",v++):(e=null,y('"@"')),null===e&&(44===m.charCodeAt(v)?(e=",",v++):(e=null,y('","')),null===e&&(59===m.charCodeAt(v)?(e=";",v++):(e=null,y('";"')),null===e&&(58===m.charCodeAt(v)?(e=":",v++):(e=null,y('":"')),null===e&&(92===m.charCodeAt(v)?(e="\\",v++):(e=null,y('"\\\\"')),null===e&&null===(e=f())&&(47===m.charCodeAt(v)?(e="/",v++):(e=null,y('"/"')),null===e&&(91===m.charCodeAt(v)?(e="[",v++):(e=null,y('"["')),null===e&&(93===m.charCodeAt(v)?(e="]",v++):(e=null,y('"]"')),null===e&&(63===m.charCodeAt(v)?(e="?",v++):(e=null,y('"?"')),null===e&&(61===m.charCodeAt(v)?(e="=",v++):(e=null,y('"="')),null===e&&(123===m.charCodeAt(v)?(e="{",v++):(e=null,y('"{"')),null===e&&(125===m.charCodeAt(v)?(e="}",v++):(e=null,y('"}"')),null===e&&null===(e=d())&&(e=h())))))))))))))))),e},word:w,STAR:W,SLASH:Q,EQUAL:A,LPAREN:V,RPAREN:G,RAQUOT:q,LAQUOT:Z,COMMA:I,SEMI:k,COLON:K,LDQUOT:J,RDQUOT:X,comment:function e(){var t,n,i,o=v;if(null!==(t=V())){for(n=[],null===(i=$())&&null===(i=x())&&(i=e());null!==i;)n.push(i),null===(i=$())&&null===(i=x())&&(i=e());null!==n&&null!==(i=G())?t=[t,n,i]:(t=null,v=o)}else t=null,v=o;return t},ctext:$,quoted_string:ee,quoted_string_clean:T,qdtext:te,quoted_pair:x,SIP_URI_noparams:ne,SIP_URI:ie,uri_scheme:oe,uri_scheme_sips:re,uri_scheme_sip:se,userinfo:ae,user:le,user_unreserved:ue,password:ce,hostport:fe,host:de,hostname:he,domainlabel:pe,toplabel:ge,IPv6reference:me,IPv6address:ve,h16:E,ls32:S,IPv4address:ye,dec_octet:De,port:_e,uri_parameters:be,uri_parameter:Ce,transport_param:Me,user_param:we,method_param:Ae,ttl_param:Ie,maddr_param:ke,lr_param:Te,other_param:xe,pname:Ee,pvalue:Se,paramchar:Ne,param_unreserved:je,headers:Oe,header:Le,hname:ze,hvalue:Fe,hnv_unreserved:Pe,Request_Response:function(){var e;return e=null===(e=pt())?Re():e},Request_Line:Re,Request_URI:Ue,absoluteURI:Be,hier_part:Ye,net_path:He,abs_path:We,opaque_part:Qe,uric:Ve,uric_no_slash:Ge,path_segments:qe,segment:Ze,param:Ke,pchar:Je,scheme:Xe,authority:$e,srvr:et,reg_name:tt,query:nt,SIP_Version:it,INVITEm:ot,ACKm:rt,OPTIONSm:st,BYEm:at,CANCELm:lt,REGISTERm:ut,SUBSCRIBEm:ct,NOTIFYm:ft,REFERm:dt,Method:ht,Status_Line:pt,Status_Code:gt,extension_code:mt,Reason_Phrase:vt,Allow_Events:function(){var e,t,n,i,o,r=v;if(null!==(e=Pt())){for(t=[],o=v,null!==(n=I())&&null!==(i=Pt())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=I())&&null!==(i=Pt())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},Call_ID:function(){var e,t,n,i,o=v,r=v;return null!==(e=w())?(i=v,64===m.charCodeAt(v)?(t="@",v++):(t=null,y('"@"')),null!==t&&null!==(n=w())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=r)):(e=null,v=r),null===(e=null!==e?void(F=m.substring(v,o)):e)&&(v=o),e},Contact:function(){var e,t,n,i,o,r,s=v;if(null===(e=W()))if(o=v,null!==(e=yt())){for(t=[],r=v,null!==(n=I())&&null!==(i=yt())?n=[n,i]:(n=null,v=r);null!==n;)t.push(n),r=v,null!==(n=I())&&null!==(i=yt())?n=[n,i]:(n=null,v=r);null!==t?e=[e,t]:(e=null,v=o)}else e=null,v=o;return null===(e=null!==e?function(){for(var e=F.multi_header.length,t=0;t<e;t++)if(null===F.multi_header[t].parsed){F=null;break}F=null!==F?F.multi_header:-1}():e)&&(v=s),e},contact_param:yt,name_addr:N,display_name:Dt,contact_params:_t,c_p_q:bt,c_p_expires:Ct,delta_seconds:j,qvalue:Mt,generic_param:O,gen_value:wt,Content_Disposition:function(){var e,t,n,i,o,r=v;if(null!==(e=At())){for(t=[],o=v,null!==(n=k())&&null!==(i=It())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=It())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},disp_type:At,disp_param:It,handling_param:kt,Content_Encoding:function(){var e,t,n,i,o,r=v;if(null!==(e=M())){for(t=[],o=v,null!==(n=I())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=I())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},Content_Length:function(){var e,t,n=v;if(null!==(t=u()))for(e=[];null!==t;)e.push(t),t=u();else e=null;return null===(e=null!==e?void(F=parseInt(e.join(""))):e)&&(v=n),e},Content_Type:function(){var e,t=v;return null===(e=null!==(e=Tt())?void(F=m.substring(v,t)):e)&&(v=t),e},media_type:Tt,m_type:xt,discrete_type:Et,composite_type:St,extension_token:Nt,x_token:jt,m_subtype:Ot,m_parameter:Lt,m_value:zt,CSeq:function(){var e,t,n,i=v;return null!==(e=Ft())&&null!==(t=g())&&null!==(n=ht())?e=[e,t,n]:(e=null,v=i),e},CSeq_value:Ft,Expires:function(){var e,t=v;return null===(e=null!==(e=j())?void(F=e):e)&&(v=t),e},Event:function(){var e,t,n,i,o,r=v,s=v;if(null!==(e=Pt())){for(t=[],o=v,null!==(n=k())&&null!==(i=O())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=O())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null!==e&&(s=e[0],e=void(F.event=s.join("").toLowerCase())),null===e&&(v=r),e},event_type:Pt,From:function(){var e,t,n,i,o,r=v,s=v;if(null!==(e=null===(e=ne())?N():e)){for(t=[],o=v,null!==(n=k())&&null!==(i=Rt())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=Rt())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null===(e=null!==e?function(){var e=F.tag;try{F=new z(F.uri,F.display_name,F.params),e&&F.setParam("tag",e)}catch(e){F=-1}}():e)&&(v=r),e},from_param:Rt,tag_param:Ut,Max_Forwards:function(){var e,t,n=v;if(null!==(t=u()))for(e=[];null!==t;)e.push(t),t=u();else e=null;return null===(e=null!==e?void(F=parseInt(e.join(""))):e)&&(v=n),e},Min_Expires:function(){var e,t=v;return null===(e=null!==(e=j())?void(F=e):e)&&(v=t),e},Name_Addr_Header:function(){for(var e,t,n,i,o,r,s=v,a=v,l=[],u=Dt();null!==u;)l.push(u),u=Dt();if(null!==l)if(null!==(u=Z()))if(null!==(e=ie()))if(null!==(t=q())){for(n=[],r=v,null!==(i=k())&&null!==(o=O())?i=[i,o]:(i=null,v=r);null!==i;)n.push(i),r=v,null!==(i=k())&&null!==(o=O())?i=[i,o]:(i=null,v=r);null!==n?l=[l,u,e,t,n]:(l=null,v=a)}else l=null,v=a;else l=null,v=a;else l=null,v=a;else l=null,v=a;return null===(l=null!==l?function(){try{F=new z(F.uri,F.display_name,F.params)}catch(e){F=-1}}():l)&&(v=s),l},Proxy_Authenticate:Bt,challenge:Bt,other_challenge:Yt,auth_param:Ht,digest_cln:Wt,realm:Qt,realm_value:Vt,domain:Gt,URI:qt,nonce:Zt,nonce_value:Kt,opaque:Jt,stale:Xt,algorithm:$t,qop_options:en,qop_value:tn,Proxy_Require:function(){var e,t,n,i,o,r=v;if(null!==(e=M())){for(t=[],o=v,null!==(n=I())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=I())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},Record_Route:function(){var e,t,n,i,o,r=v,s=v;if(null!==(e=nn())){for(t=[],o=v,null!==(n=I())&&null!==(i=nn())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=I())&&null!==(i=nn())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null===(e=null!==e?function(){for(var e=F.multi_header.length,t=0;t<e;t++)if(null===F.multi_header[t].parsed){F=null;break}F=null!==F?F.multi_header:-1}():e)&&(v=r),e},rec_route:nn,Reason:function(){var e,t,n,i,o,r=v,s=v;if("sip"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"SIP"')),null!==(e=null===e?M():e)){for(t=[],o=v,null!==(n=k())&&null!==(i=on())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=on())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null!==e&&(s=e[0],F.protocol=s.toLowerCase(),F.params||(F.params={}),e=void(F.params.text&&'"'===F.params.text[0]&&(s=F.params.text,F.text=s.substring(1,s.length-1),delete F.params.text))),null===e&&(v=r),e},reason_param:on,reason_cause:rn,Require:function(){var e,t,n,i,o,r=v;if(null!==(e=M())){for(t=[],o=v,null!==(n=I())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=I())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},Route:function(){var e,t,n,i,o,r=v;if(null!==(e=sn())){for(t=[],o=v,null!==(n=I())&&null!==(i=sn())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=I())&&null!==(i=sn())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},route_param:sn,Subscription_State:function(){var e,t,n,i,o,r=v;if(null!==(e=an())){for(t=[],o=v,null!==(n=k())&&null!==(i=ln())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=ln())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},substate_value:an,subexp_params:ln,event_reason_value:un,Subject:function(){var e;return null!==(e=Y())?e:""},Supported:function(){var e,t,n,i,o,r=v;if(null!==(e=M())){for(t=[],o=v,null!==(n=I())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=I())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return null!==e?e:""},To:function(){var e,t,n,i,o,r=v,s=v;if(null!==(e=null===(e=ne())?N():e)){for(t=[],o=v,null!==(n=k())&&null!==(i=cn())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=cn())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null===(e=null!==e?function(){var e=F.tag;try{F=new z(F.uri,F.display_name,F.params),e&&F.setParam("tag",e)}catch(e){F=-1}}():e)&&(v=r),e},to_param:cn,Via:function(){var e,t,n,i,o,r=v;if(null!==(e=fn())){for(t=[],o=v,null!==(n=I())&&null!==(i=fn())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=I())&&null!==(i=fn())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},via_param:fn,via_params:dn,via_ttl:hn,via_maddr:pn,via_received:gn,via_branch:mn,response_port:vn,rport:yn,sent_protocol:Dn,protocol_name:_n,transport:bn,sent_by:Cn,via_host:Mn,via_port:wn,ttl:An,WWW_Authenticate:Bt,Session_Expires:function(){var e,t,n,i,o,r=v;if(null!==(e=In())){for(t=[],o=v,null!==(n=k())&&null!==(i=kn())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=kn())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},s_e_expires:In,s_e_params:kn,s_e_refresher:Tn,extension_header:function(){var e,t,n,i=v;return null!==(e=M())&&null!==(t=B())&&null!==(n=xn())?e=[e,t,n]:(e=null,v=i),e},header_value:xn,message_body:function(){for(var e=[],t=n();null!==t;)e.push(t),t=n();return e},uuid_URI:function(){var e,t,n=v;return"uuid:"===m.substr(v,5)?(e="uuid:",v+=5):(e=null,y('"uuid:"')),null!==e&&null!==(t=En())?e=[e,t]:(e=null,v=n),e},uuid:En,hex4:L,hex8:Sn,hex12:Nn,Refer_To:function(){var e,t,n,i,o,r=v,s=v;if(null!==(e=null===(e=ne())?N():e)){for(t=[],o=v,null!==(n=k())&&null!==(i=O())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=O())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null===(e=null!==e?function(){try{F=new z(F.uri,F.display_name,F.params)}catch(e){F=-1}}():e)&&(v=r),e},Replaces:function(){var e,t,n,i,o,r=v;if(null!==(e=jn())){for(t=[],o=v,null!==(n=k())&&null!==(i=On())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=On())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e},call_id:jn,replaces_param:On,to_tag:Ln,from_tag:zn,early_flag:Fn};if(void 0!==l){if(void 0===e[l])throw new Error("Invalid rule name: "+Yn(l)+".")}else l="CRLF";var v=0,r=0,t=[];function y(e){v<r||(r<v&&(r=v,t=[]),t.push(e))}function P(){var e;return"\r\n"===m.substr(v,2)?(e="\r\n",v+=2):(e=null,y('"\\r\\n"')),e}function u(){var e;return/^[0-9]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[0-9]")),e}function s(){var e;return/^[a-zA-Z]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[a-zA-Z]")),e}function a(){var e;return/^[0-9a-fA-F]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[0-9a-fA-F]")),e}function c(){var e;return e=null===(e=d())?h():e}function n(){var e;return/^[\0-\xFF]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[\\0-\\xFF]")),e}function f(){var e;return/^["]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y('["]')),e}function d(){var e;return 32===m.charCodeAt(v)?(e=" ",v++):(e=null,y('" "')),e}function h(){var e;return 9===m.charCodeAt(v)?(e="\t",v++):(e=null,y('"\\t"')),e}function o(){var e;return/^[a-zA-Z0-9]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[a-zA-Z0-9]")),e}function R(){var e;return 59===m.charCodeAt(v)?(e=";",v++):(e=null,y('";"')),null===e&&(47===m.charCodeAt(v)?(e="/",v++):(e=null,y('"/"')),null===e&&(63===m.charCodeAt(v)?(e="?",v++):(e=null,y('"?"')),null===e&&(58===m.charCodeAt(v)?(e=":",v++):(e=null,y('":"')),null===e&&(64===m.charCodeAt(v)?(e="@",v++):(e=null,y('"@"')),null===e&&(38===m.charCodeAt(v)?(e="&",v++):(e=null,y('"&"')),null===e&&(61===m.charCodeAt(v)?(e="=",v++):(e=null,y('"="')),null===e&&(43===m.charCodeAt(v)?(e="+",v++):(e=null,y('"+"')),null===e&&(36===m.charCodeAt(v)?(e="$",v++):(e=null,y('"$"')),null===e&&(44===m.charCodeAt(v)?(e=",",v++):(e=null,y('","'))))))))))),e}function i(){var e;return e=null===(e=o())?U():e}function U(){var e;return 45===m.charCodeAt(v)?(e="-",v++):(e=null,y('"-"')),null===e&&(95===m.charCodeAt(v)?(e="_",v++):(e=null,y('"_"')),null===e&&(46===m.charCodeAt(v)?(e=".",v++):(e=null,y('"."')),null===e&&(33===m.charCodeAt(v)?(e="!",v++):(e=null,y('"!"')),null===e&&(126===m.charCodeAt(v)?(e="~",v++):(e=null,y('"~"')),null===e&&(42===m.charCodeAt(v)?(e="*",v++):(e=null,y('"*"')),null===e&&(39===m.charCodeAt(v)?(e="'",v++):(e=null,y('"\'"')),null===e&&(40===m.charCodeAt(v)?(e="(",v++):(e=null,y('"("')),null===e&&(41===m.charCodeAt(v)?(e=")",v++):(e=null,y('")"')))))))))),e}function p(){var e,t,n,i=v,o=v;return 37===m.charCodeAt(v)?(e="%",v++):(e=null,y('"%"')),null!==e&&null!==(t=a())&&null!==(n=a())?e=[e,t,n]:(e=null,v=o),null===(e=null!==e?e.join(""):e)&&(v=i),e}function g(){for(var e,t=v,n=v,i=v,o=[],r=c();null!==r;)o.push(r),r=c();if(null!==o&&null!==(r=P())?o=[o,r]:(o=null,v=i),null!==(o=null!==o?o:"")){if(null!==(e=c()))for(r=[];null!==e;)r.push(e),e=c();else r=null;null!==r?o=[o,r]:(o=null,v=n)}else o=null,v=n;return null===(o=null!==o?" ":o)&&(v=t),o}function D(){var e;return null!==(e=g())?e:""}function B(){var e,t,n=v,i=v,o=[];for(null===(e=d())&&(e=h());null!==e;)o.push(e),null===(e=d())&&(e=h());return null!==o?(58===m.charCodeAt(v)?(e=":",v++):(e=null,y('":"')),null!==e&&null!==(t=D())?o=[o,e,t]:(o=null,v=i)):(o=null,v=i),null===(o=null!==o?":":o)&&(v=n),o}function Y(){var e,t,n,i,o,r=v,s=v;if(null!==(t=_()))for(e=[];null!==t;)e.push(t),t=_();else e=null;if(null!==e){for(t=[],o=v,n=[],i=g();null!==i;)n.push(i),i=g();for(null!==n&&null!==(i=_())?n=[n,i]:(n=null,v=o);null!==n;){for(t.push(n),o=v,n=[],i=g();null!==i;)n.push(i),i=g();null!==n&&null!==(i=_())?n=[n,i]:(n=null,v=o)}null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null===(e=null!==e?m.substring(v,r):e)&&(v=r),e}function _(){var e;return/^[!-~]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[!-~]")),e=null===e?b():e}function b(){var e;return/^[\x80-\uFFFF]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[\\x80-\\uFFFF]")),e}function C(){var e;return/^[\x80-\xBF]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[\\x80-\\xBF]")),e}function M(){var e,t,n=v;if(null===(t=o())&&(45===m.charCodeAt(v)?(t="-",v++):(t=null,y('"-"')),null===t&&(46===m.charCodeAt(v)?(t=".",v++):(t=null,y('"."')),null===t&&(33===m.charCodeAt(v)?(t="!",v++):(t=null,y('"!"')),null===t&&(37===m.charCodeAt(v)?(t="%",v++):(t=null,y('"%"')),null===t&&(42===m.charCodeAt(v)?(t="*",v++):(t=null,y('"*"')),null===t&&(95===m.charCodeAt(v)?(t="_",v++):(t=null,y('"_"')),null===t&&(43===m.charCodeAt(v)?(t="+",v++):(t=null,y('"+"')),null===t&&(96===m.charCodeAt(v)?(t="`",v++):(t=null,y('"`"')),null===t&&(39===m.charCodeAt(v)?(t="'",v++):(t=null,y('"\'"')),null===t&&(126===m.charCodeAt(v)?(t="~",v++):(t=null,y('"~"')))))))))))),null!==t)for(e=[];null!==t;)e.push(t),null===(t=o())&&(45===m.charCodeAt(v)?(t="-",v++):(t=null,y('"-"')),null===t&&(46===m.charCodeAt(v)?(t=".",v++):(t=null,y('"."')),null===t&&(33===m.charCodeAt(v)?(t="!",v++):(t=null,y('"!"')),null===t&&(37===m.charCodeAt(v)?(t="%",v++):(t=null,y('"%"')),null===t&&(42===m.charCodeAt(v)?(t="*",v++):(t=null,y('"*"')),null===t&&(95===m.charCodeAt(v)?(t="_",v++):(t=null,y('"_"')),null===t&&(43===m.charCodeAt(v)?(t="+",v++):(t=null,y('"+"')),null===t&&(96===m.charCodeAt(v)?(t="`",v++):(t=null,y('"`"')),null===t&&(39===m.charCodeAt(v)?(t="'",v++):(t=null,y('"\'"')),null===t&&(126===m.charCodeAt(v)?(t="~",v++):(t=null,y('"~"'))))))))))));else e=null;return null===(e=null!==e?m.substring(v,n):e)&&(v=n),e}function H(){var e,t,n=v;if(null===(t=o())&&(45===m.charCodeAt(v)?(t="-",v++):(t=null,y('"-"')),null===t&&(33===m.charCodeAt(v)?(t="!",v++):(t=null,y('"!"')),null===t&&(37===m.charCodeAt(v)?(t="%",v++):(t=null,y('"%"')),null===t&&(42===m.charCodeAt(v)?(t="*",v++):(t=null,y('"*"')),null===t&&(95===m.charCodeAt(v)?(t="_",v++):(t=null,y('"_"')),null===t&&(43===m.charCodeAt(v)?(t="+",v++):(t=null,y('"+"')),null===t&&(96===m.charCodeAt(v)?(t="`",v++):(t=null,y('"`"')),null===t&&(39===m.charCodeAt(v)?(t="'",v++):(t=null,y('"\'"')),null===t&&(126===m.charCodeAt(v)?(t="~",v++):(t=null,y('"~"'))))))))))),null!==t)for(e=[];null!==t;)e.push(t),null===(t=o())&&(45===m.charCodeAt(v)?(t="-",v++):(t=null,y('"-"')),null===t&&(33===m.charCodeAt(v)?(t="!",v++):(t=null,y('"!"')),null===t&&(37===m.charCodeAt(v)?(t="%",v++):(t=null,y('"%"')),null===t&&(42===m.charCodeAt(v)?(t="*",v++):(t=null,y('"*"')),null===t&&(95===m.charCodeAt(v)?(t="_",v++):(t=null,y('"_"')),null===t&&(43===m.charCodeAt(v)?(t="+",v++):(t=null,y('"+"')),null===t&&(96===m.charCodeAt(v)?(t="`",v++):(t=null,y('"`"')),null===t&&(39===m.charCodeAt(v)?(t="'",v++):(t=null,y('"\'"')),null===t&&(126===m.charCodeAt(v)?(t="~",v++):(t=null,y('"~"')))))))))));else e=null;return null===(e=null!==e?m.substring(v,n):e)&&(v=n),e}function w(){var e,t,n=v;if(null===(t=o())&&(45===m.charCodeAt(v)?(t="-",v++):(t=null,y('"-"')),null===t&&(46===m.charCodeAt(v)?(t=".",v++):(t=null,y('"."')),null===t&&(33===m.charCodeAt(v)?(t="!",v++):(t=null,y('"!"')),null===t&&(37===m.charCodeAt(v)?(t="%",v++):(t=null,y('"%"')),null===t&&(42===m.charCodeAt(v)?(t="*",v++):(t=null,y('"*"')),null===t&&(95===m.charCodeAt(v)?(t="_",v++):(t=null,y('"_"')),null===t&&(43===m.charCodeAt(v)?(t="+",v++):(t=null,y('"+"')),null===t&&(96===m.charCodeAt(v)?(t="`",v++):(t=null,y('"`"')),null===t&&(39===m.charCodeAt(v)?(t="'",v++):(t=null,y('"\'"')),null===t&&(126===m.charCodeAt(v)?(t="~",v++):(t=null,y('"~"')),null===t&&(40===m.charCodeAt(v)?(t="(",v++):(t=null,y('"("')),null===t&&(41===m.charCodeAt(v)?(t=")",v++):(t=null,y('")"')),null===t&&(60===m.charCodeAt(v)?(t="<",v++):(t=null,y('"<"')),null===t&&(62===m.charCodeAt(v)?(t=">",v++):(t=null,y('">"')),null===t&&(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null===t&&(92===m.charCodeAt(v)?(t="\\",v++):(t=null,y('"\\\\"')),null===t&&null===(t=f())&&(47===m.charCodeAt(v)?(t="/",v++):(t=null,y('"/"')),null===t&&(91===m.charCodeAt(v)?(t="[",v++):(t=null,y('"["')),null===t&&(93===m.charCodeAt(v)?(t="]",v++):(t=null,y('"]"')),null===t&&(63===m.charCodeAt(v)?(t="?",v++):(t=null,y('"?"')),null===t&&(123===m.charCodeAt(v)?(t="{",v++):(t=null,y('"{"')),null===t&&(125===m.charCodeAt(v)?(t="}",v++):(t=null,y('"}"')))))))))))))))))))))))),null!==t)for(e=[];null!==t;)e.push(t),null===(t=o())&&(45===m.charCodeAt(v)?(t="-",v++):(t=null,y('"-"')),null===t&&(46===m.charCodeAt(v)?(t=".",v++):(t=null,y('"."')),null===t&&(33===m.charCodeAt(v)?(t="!",v++):(t=null,y('"!"')),null===t&&(37===m.charCodeAt(v)?(t="%",v++):(t=null,y('"%"')),null===t&&(42===m.charCodeAt(v)?(t="*",v++):(t=null,y('"*"')),null===t&&(95===m.charCodeAt(v)?(t="_",v++):(t=null,y('"_"')),null===t&&(43===m.charCodeAt(v)?(t="+",v++):(t=null,y('"+"')),null===t&&(96===m.charCodeAt(v)?(t="`",v++):(t=null,y('"`"')),null===t&&(39===m.charCodeAt(v)?(t="'",v++):(t=null,y('"\'"')),null===t&&(126===m.charCodeAt(v)?(t="~",v++):(t=null,y('"~"')),null===t&&(40===m.charCodeAt(v)?(t="(",v++):(t=null,y('"("')),null===t&&(41===m.charCodeAt(v)?(t=")",v++):(t=null,y('")"')),null===t&&(60===m.charCodeAt(v)?(t="<",v++):(t=null,y('"<"')),null===t&&(62===m.charCodeAt(v)?(t=">",v++):(t=null,y('">"')),null===t&&(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null===t&&(92===m.charCodeAt(v)?(t="\\",v++):(t=null,y('"\\\\"')),null===t&&null===(t=f())&&(47===m.charCodeAt(v)?(t="/",v++):(t=null,y('"/"')),null===t&&(91===m.charCodeAt(v)?(t="[",v++):(t=null,y('"["')),null===t&&(93===m.charCodeAt(v)?(t="]",v++):(t=null,y('"]"')),null===t&&(63===m.charCodeAt(v)?(t="?",v++):(t=null,y('"?"')),null===t&&(123===m.charCodeAt(v)?(t="{",v++):(t=null,y('"{"')),null===t&&(125===m.charCodeAt(v)?(t="}",v++):(t=null,y('"}"'))))))))))))))))))))))));else e=null;return null===(e=null!==e?m.substring(v,n):e)&&(v=n),e}function W(){var e,t,n,i=v,o=v;return null!==(e=D())?(42===m.charCodeAt(v)?(t="*",v++):(t=null,y('"*"')),null!==t&&null!==(n=D())?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),null===(e=null!==e?"*":e)&&(v=i),e}function Q(){var e,t,n,i=v,o=v;return null!==(e=D())?(47===m.charCodeAt(v)?(t="/",v++):(t=null,y('"/"')),null!==t&&null!==(n=D())?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),null===(e=null!==e?"/":e)&&(v=i),e}function A(){var e,t,n,i=v,o=v;return null!==(e=D())?(61===m.charCodeAt(v)?(t="=",v++):(t=null,y('"="')),null!==t&&null!==(n=D())?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),null===(e=null!==e?"=":e)&&(v=i),e}function V(){var e,t,n,i=v,o=v;return null!==(e=D())?(40===m.charCodeAt(v)?(t="(",v++):(t=null,y('"("')),null!==t&&null!==(n=D())?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),null===(e=null!==e?"(":e)&&(v=i),e}function G(){var e,t,n,i=v,o=v;return null!==(e=D())?(41===m.charCodeAt(v)?(t=")",v++):(t=null,y('")"')),null!==t&&null!==(n=D())?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),null===(e=null!==e?")":e)&&(v=i),e}function q(){var e,t,n=v,i=v;return 62===m.charCodeAt(v)?(e=">",v++):(e=null,y('">"')),null!==e&&null!==(t=D())?e=[e,t]:(e=null,v=i),null===(e=null!==e?">":e)&&(v=n),e}function Z(){var e,t,n=v,i=v;return null!==(e=D())?(60===m.charCodeAt(v)?(t="<",v++):(t=null,y('"<"')),null!==t?e=[e,t]:(e=null,v=i)):(e=null,v=i),null===(e=null!==e?"<":e)&&(v=n),e}function I(){var e,t,n,i=v,o=v;return null!==(e=D())?(44===m.charCodeAt(v)?(t=",",v++):(t=null,y('","')),null!==t&&null!==(n=D())?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),null===(e=null!==e?",":e)&&(v=i),e}function k(){var e,t,n,i=v,o=v;return null!==(e=D())?(59===m.charCodeAt(v)?(t=";",v++):(t=null,y('";"')),null!==t&&null!==(n=D())?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),null===(e=null!==e?";":e)&&(v=i),e}function K(){var e,t,n,i=v,o=v;return null!==(e=D())?(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=D())?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),null===(e=null!==e?":":e)&&(v=i),e}function J(){var e,t,n=v,i=v;return null!==(e=D())&&null!==(t=f())?e=[e,t]:(e=null,v=i),null===(e=null!==e?'"':e)&&(v=n),e}function X(){var e,t,n=v,i=v;return null!==(e=f())&&null!==(t=D())?e=[e,t]:(e=null,v=i),null===(e=null!==e?'"':e)&&(v=n),e}function $(){var e;return/^[!-']/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[!-']")),null===e&&(/^[*-[]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[*-[]")),null===e&&(/^[\]-~]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[\\]-~]")),null===e&&null===(e=b())&&(e=g()))),e}function ee(){var e,t,n,i,o=v,r=v;if(null!==(e=D()))if(null!==(t=f())){for(n=[],null===(i=te())&&(i=x());null!==i;)n.push(i),null===(i=te())&&(i=x());null!==n&&null!==(i=f())?e=[e,t,n,i]:(e=null,v=r)}else e=null,v=r;else e=null,v=r;return null===(e=null!==e?m.substring(v,o):e)&&(v=o),e}function T(){var e,t,n,i,o=v,r=v;if(null!==(e=D()))if(null!==(i=f())){for(t=[],null===(n=te())&&(n=x());null!==n;)t.push(n),null===(n=te())&&(n=x());null!==t&&null!==(n=f())?e=[e,i,t,n]:(e=null,v=r)}else e=null,v=r;else e=null,v=r;return null===(e=null!==e?(i=m.substring(v,o).trim()).substring(1,i.length-1).replace(/\\([\x00-\x09\x0b-\x0c\x0e-\x7f])/g,"$1"):e)&&(v=o),e}function te(){var e;return null===(e=g())&&(33===m.charCodeAt(v)?(e="!",v++):(e=null,y('"!"')),null===e&&(/^[#-[]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[#-[]")),null===e&&(/^[\]-~]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[\\]-~]")),null===e&&(e=b())))),e}function x(){var e,t,n=v;return 92===m.charCodeAt(v)?(e="\\",v++):(e=null,y('"\\\\"')),null!==e?(/^[\0-\t]/.test(m.charAt(v))?(t=m.charAt(v),v++):(t=null,y("[\\0-\\t]")),null===t&&(/^[\x0B-\f]/.test(m.charAt(v))?(t=m.charAt(v),v++):(t=null,y("[\\x0B-\\f]")),null===t&&(/^[\x0E-]/.test(m.charAt(v))?(t=m.charAt(v),v++):(t=null,y("[\\x0E-]")))),null!==t?e=[e,t]:(e=null,v=n)):(e=null,v=n),e}function ne(){var e,t,n,i,o=v,r=v;return null!==(e=oe())?(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=null!==(n=ae())?n:"")&&null!==(i=fe())?e=[e,t,n,i]:(e=null,v=r)):(e=null,v=r),null===(e=null!==e?function(){try{F.uri=new Un(F.scheme,F.user,F.host,F.port),delete F.scheme,delete F.user,delete F.host,delete F.host_type,delete F.port}catch(e){F=-1}}():e)&&(v=o),e}function ie(){var e,t,n,i,o,r,s=v,a=v;return null!==(e=oe())?(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=null!==(n=ae())?n:"")&&null!==(i=fe())&&null!==(o=be())&&null!==(r=null!==(r=Oe())?r:"")?e=[e,t,n,i,o,r]:(e=null,v=a)):(e=null,v=a),null===(e=null!==e?function(){try{F.uri=new Un(F.scheme,F.user,F.host,F.port,F.uri_params,F.uri_headers),delete F.scheme,delete F.user,delete F.host,delete F.host_type,delete F.port,delete F.uri_params,"SIP_URI"===l&&(F=F.uri)}catch(e){F=-1}}():e)&&(v=s),e}function oe(){var e;return e=null===(e=re())?se():e}function re(){var e,t,n=v;return"sips"===m.substr(v,4).toLowerCase()?(e=m.substr(v,4),v+=4):(e=null,y('"sips"')),null!==e&&(t=e,e=void(F.scheme=t.toLowerCase())),null===e&&(v=n),e}function se(){var e,t,n=v;return"sip"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"sip"')),null!==e&&(t=e,e=void(F.scheme=t.toLowerCase())),null===e&&(v=n),e}function ae(){var e,t,n,i,o=v,r=v;return null!==(e=le())?(i=v,58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=ce())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?(64===m.charCodeAt(v)?(n="@",v++):(n=null,y('"@"')),null!==n?e=[e,t,n]:(e=null,v=r)):(e=null,v=r)):(e=null,v=r),null===(e=null!==e?void(F.user=decodeURIComponent(m.substring(v-1,o))):e)&&(v=o),e}function le(){var e,t;if(null!==(t=null===(t=i())&&null===(t=p())?ue():t))for(e=[];null!==t;)e.push(t),null===(t=i())&&null===(t=p())&&(t=ue());else e=null;return e}function ue(){var e;return 38===m.charCodeAt(v)?(e="&",v++):(e=null,y('"&"')),null===e&&(61===m.charCodeAt(v)?(e="=",v++):(e=null,y('"="')),null===e&&(43===m.charCodeAt(v)?(e="+",v++):(e=null,y('"+"')),null===e&&(36===m.charCodeAt(v)?(e="$",v++):(e=null,y('"$"')),null===e&&(44===m.charCodeAt(v)?(e=",",v++):(e=null,y('","')),null===e&&(59===m.charCodeAt(v)?(e=";",v++):(e=null,y('";"')),null===e&&(63===m.charCodeAt(v)?(e="?",v++):(e=null,y('"?"')),null===e&&(47===m.charCodeAt(v)?(e="/",v++):(e=null,y('"/"'))))))))),e}function ce(){var e,t=v,n=[];for(null===(e=i())&&null===(e=p())&&(38===m.charCodeAt(v)?(e="&",v++):(e=null,y('"&"')),null===e&&(61===m.charCodeAt(v)?(e="=",v++):(e=null,y('"="')),null===e&&(43===m.charCodeAt(v)?(e="+",v++):(e=null,y('"+"')),null===e&&(36===m.charCodeAt(v)?(e="$",v++):(e=null,y('"$"')),null===e&&(44===m.charCodeAt(v)?(e=",",v++):(e=null,y('","')))))));null!==e;)n.push(e),null===(e=i())&&null===(e=p())&&(38===m.charCodeAt(v)?(e="&",v++):(e=null,y('"&"')),null===e&&(61===m.charCodeAt(v)?(e="=",v++):(e=null,y('"="')),null===e&&(43===m.charCodeAt(v)?(e="+",v++):(e=null,y('"+"')),null===e&&(36===m.charCodeAt(v)?(e="$",v++):(e=null,y('"$"')),null===e&&(44===m.charCodeAt(v)?(e=",",v++):(e=null,y('","')))))));return null===(n=null!==n?void(F.password=m.substring(v,t)):n)&&(v=t),n}function fe(){var e,t,n,i,o=v;return null!==(e=de())?(i=v,58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=_e())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=o)):(e=null,v=o),e}function de(){var e,t=v;return null!==(e=null===(e=he())&&null===(e=ye())?me():e)&&(F.host=m.substring(v,t).toLowerCase(),e=F.host),null===e&&(v=t),e}function he(){var e,t,n=v,i=v,o=[],r=v;for(null!==(e=pe())?(46===m.charCodeAt(v)?(t=".",v++):(t=null,y('"."')),null!==t?e=[e,t]:(e=null,v=r)):(e=null,v=r);null!==e;)o.push(e),r=v,null!==(e=pe())?(46===m.charCodeAt(v)?(t=".",v++):(t=null,y('"."')),null!==t?e=[e,t]:(e=null,v=r)):(e=null,v=r);return null!==o&&null!==(e=ge())?(46===m.charCodeAt(v)?(t=".",v++):(t=null,y('"."')),null!==(t=null!==t?t:"")?o=[o,e,t]:(o=null,v=i)):(o=null,v=i),null!==o&&(i=n,F.host_type="domain",o=m.substring(v,i)),null===o&&(v=n),o}function pe(){var e,t,n,i=v;if(null!==(e=o())){for(t=[],null===(n=o())&&(45===m.charCodeAt(v)?(n="-",v++):(n=null,y('"-"')),null===n&&(95===m.charCodeAt(v)?(n="_",v++):(n=null,y('"_"'))));null!==n;)t.push(n),null===(n=o())&&(45===m.charCodeAt(v)?(n="-",v++):(n=null,y('"-"')),null===n&&(95===m.charCodeAt(v)?(n="_",v++):(n=null,y('"_"'))));null!==t?e=[e,t]:(e=null,v=i)}else e=null,v=i;return e}function ge(){var e,t,n,i=v;if(null!==(e=s())){for(t=[],null===(n=o())&&(45===m.charCodeAt(v)?(n="-",v++):(n=null,y('"-"')),null===n&&(95===m.charCodeAt(v)?(n="_",v++):(n=null,y('"_"'))));null!==n;)t.push(n),null===(n=o())&&(45===m.charCodeAt(v)?(n="-",v++):(n=null,y('"-"')),null===n&&(95===m.charCodeAt(v)?(n="_",v++):(n=null,y('"_"'))));null!==t?e=[e,t]:(e=null,v=i)}else e=null,v=i;return e}function me(){var e,t,n,i=v,o=v;return 91===m.charCodeAt(v)?(e="[",v++):(e=null,y('"["')),null!==e&&null!==(n=ve())?(93===m.charCodeAt(v)?(t="]",v++):(t=null,y('"]"')),null!==t?e=[e,n,t]:(e=null,v=o)):(e=null,v=o),null!==e&&(n=i,F.host_type="IPv6",e=m.substring(v,n)),null===e&&(v=i),e}function ve(){var e,t,n,i,o,r,s,a,l,u,c,f,d,h,p=v,g=v;return null!==(e=E())?(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=E())?(58===m.charCodeAt(v)?(i=":",v++):(i=null,y('":"')),null!==i&&null!==(o=E())?(58===m.charCodeAt(v)?(r=":",v++):(r=null,y('":"')),null!==r&&null!==(s=E())?(58===m.charCodeAt(v)?(a=":",v++):(a=null,y('":"')),null!==a&&null!==(l=E())?(58===m.charCodeAt(v)?(u=":",v++):(u=null,y('":"')),null!==u&&null!==(c=E())?(58===m.charCodeAt(v)?(f=":",v++):(f=null,y('":"')),null!==f&&null!==(h=S())?e=[e,t,n,i,o,r,s,a,l,u,c,f,h]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,"::"===m.substr(v,2)?(e="::",v+=2):(e=null,y('"::"')),null!==e&&null!==(t=E())?(58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=E())?(58===m.charCodeAt(v)?(o=":",v++):(o=null,y('":"')),null!==o&&null!==(r=E())?(58===m.charCodeAt(v)?(s=":",v++):(s=null,y('":"')),null!==s&&null!==(a=E())?(58===m.charCodeAt(v)?(l=":",v++):(l=null,y('":"')),null!==l&&null!==(u=E())?(58===m.charCodeAt(v)?(c=":",v++):(c=null,y('":"')),null!==c&&null!==(f=S())?e=[e,t,n,i,o,r,s,a,l,u,c,f]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,"::"===m.substr(v,2)?(e="::",v+=2):(e=null,y('"::"')),null!==e&&null!==(t=E())?(58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=E())?(58===m.charCodeAt(v)?(o=":",v++):(o=null,y('":"')),null!==o&&null!==(r=E())?(58===m.charCodeAt(v)?(s=":",v++):(s=null,y('":"')),null!==s&&null!==(a=E())?(58===m.charCodeAt(v)?(l=":",v++):(l=null,y('":"')),null!==l&&null!==(u=S())?e=[e,t,n,i,o,r,s,a,l,u]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,"::"===m.substr(v,2)?(e="::",v+=2):(e=null,y('"::"')),null!==e&&null!==(t=E())?(58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=E())?(58===m.charCodeAt(v)?(o=":",v++):(o=null,y('":"')),null!==o&&null!==(r=E())?(58===m.charCodeAt(v)?(s=":",v++):(s=null,y('":"')),null!==s&&null!==(a=S())?e=[e,t,n,i,o,r,s,a]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,"::"===m.substr(v,2)?(e="::",v+=2):(e=null,y('"::"')),null!==e&&null!==(t=E())?(58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=E())?(58===m.charCodeAt(v)?(o=":",v++):(o=null,y('":"')),null!==o&&null!==(r=S())?e=[e,t,n,i,o,r]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,"::"===m.substr(v,2)?(e="::",v+=2):(e=null,y('"::"')),null!==e&&null!==(t=E())?(58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=S())?e=[e,t,n,i]:(e=null,v=g)):(e=null,v=g),null===e&&(g=v,"::"===m.substr(v,2)?(e="::",v+=2):(e=null,y('"::"')),null!==e&&null!==(t=S())?e=[e,t]:(e=null,v=g),null===e&&(g=v,"::"===m.substr(v,2)?(e="::",v+=2):(e=null,y('"::"')),null!==e&&null!==(t=E())?e=[e,t]:(e=null,v=g),null===e&&(g=v,null!==(e=E())?("::"===m.substr(v,2)?(t="::",v+=2):(t=null,y('"::"')),null!==t&&null!==(n=E())?(58===m.charCodeAt(v)?(i=":",v++):(i=null,y('":"')),null!==i&&null!==(o=E())?(58===m.charCodeAt(v)?(r=":",v++):(r=null,y('":"')),null!==r&&null!==(s=E())?(58===m.charCodeAt(v)?(a=":",v++):(a=null,y('":"')),null!==a&&null!==(l=E())?(58===m.charCodeAt(v)?(u=":",v++):(u=null,y('":"')),null!==u&&null!==(c=S())?e=[e,t,n,i,o,r,s,a,l,u,c]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,null!==(e=E())?(d=v,58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=E())?t=[t,n]:(t=null,v=d),null!==(t=null!==t?t:"")?("::"===m.substr(v,2)?(n="::",v+=2):(n=null,y('"::"')),null!==n&&null!==(i=E())?(58===m.charCodeAt(v)?(o=":",v++):(o=null,y('":"')),null!==o&&null!==(r=E())?(58===m.charCodeAt(v)?(s=":",v++):(s=null,y('":"')),null!==s&&null!==(a=E())?(58===m.charCodeAt(v)?(l=":",v++):(l=null,y('":"')),null!==l&&null!==(u=S())?e=[e,t,n,i,o,r,s,a,l,u]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,null!==(e=E())?(d=v,58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=E())?t=[t,n]:(t=null,v=d),null!==(t=null!==t?t:"")?(d=v,58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=E())?n=[n,i]:(n=null,v=d),null!==(n=null!==n?n:"")?("::"===m.substr(v,2)?(i="::",v+=2):(i=null,y('"::"')),null!==i&&null!==(o=E())?(58===m.charCodeAt(v)?(r=":",v++):(r=null,y('":"')),null!==r&&null!==(s=E())?(58===m.charCodeAt(v)?(a=":",v++):(a=null,y('":"')),null!==a&&null!==(l=S())?e=[e,t,n,i,o,r,s,a,l]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,null!==(e=E())?(d=v,58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=E())?t=[t,n]:(t=null,v=d),null!==(t=null!==t?t:"")?(d=v,58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=E())?n=[n,i]:(n=null,v=d),null!==(n=null!==n?n:"")?(d=v,58===m.charCodeAt(v)?(i=":",v++):(i=null,y('":"')),null!==i&&null!==(o=E())?i=[i,o]:(i=null,v=d),null!==(i=null!==i?i:"")?("::"===m.substr(v,2)?(o="::",v+=2):(o=null,y('"::"')),null!==o&&null!==(r=E())?(58===m.charCodeAt(v)?(s=":",v++):(s=null,y('":"')),null!==s&&null!==(a=S())?e=[e,t,n,i,o,r,s,a]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,null!==(e=E())?(d=v,58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=E())?t=[t,n]:(t=null,v=d),null!==(t=null!==t?t:"")?(d=v,58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=E())?n=[n,i]:(n=null,v=d),null!==(n=null!==n?n:"")?(d=v,58===m.charCodeAt(v)?(i=":",v++):(i=null,y('":"')),null!==i&&null!==(o=E())?i=[i,o]:(i=null,v=d),null!==(i=null!==i?i:"")?(d=v,58===m.charCodeAt(v)?(o=":",v++):(o=null,y('":"')),null!==o&&null!==(r=E())?o=[o,r]:(o=null,v=d),null!==(o=null!==o?o:"")?("::"===m.substr(v,2)?(r="::",v+=2):(r=null,y('"::"')),null!==r&&null!==(s=S())?e=[e,t,n,i,o,r,s]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,null!==(e=E())?(d=v,58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=E())?t=[t,n]:(t=null,v=d),null!==(t=null!==t?t:"")?(d=v,58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=E())?n=[n,i]:(n=null,v=d),null!==(n=null!==n?n:"")?(d=v,58===m.charCodeAt(v)?(i=":",v++):(i=null,y('":"')),null!==i&&null!==(o=E())?i=[i,o]:(i=null,v=d),null!==(i=null!==i?i:"")?(d=v,58===m.charCodeAt(v)?(o=":",v++):(o=null,y('":"')),null!==o&&null!==(r=E())?o=[o,r]:(o=null,v=d),null!==(o=null!==o?o:"")?(d=v,58===m.charCodeAt(v)?(r=":",v++):(r=null,y('":"')),null!==r&&null!==(s=E())?r=[r,s]:(r=null,v=d),null!==(r=null!==r?r:"")?("::"===m.substr(v,2)?(s="::",v+=2):(s=null,y('"::"')),null!==s&&null!==(a=E())?e=[e,t,n,i,o,r,s,a]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g),null===e&&(g=v,null!==(e=E())?(d=v,58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=E())?t=[t,n]:(t=null,v=d),null!==(t=null!==t?t:"")?(d=v,58===m.charCodeAt(v)?(n=":",v++):(n=null,y('":"')),null!==n&&null!==(i=E())?n=[n,i]:(n=null,v=d),null!==(n=null!==n?n:"")?(d=v,58===m.charCodeAt(v)?(i=":",v++):(i=null,y('":"')),null!==i&&null!==(o=E())?i=[i,o]:(i=null,v=d),null!==(i=null!==i?i:"")?(d=v,58===m.charCodeAt(v)?(o=":",v++):(o=null,y('":"')),null!==o&&null!==(r=E())?o=[o,r]:(o=null,v=d),null!==(o=null!==o?o:"")?(d=v,58===m.charCodeAt(v)?(r=":",v++):(r=null,y('":"')),null!==r&&null!==(s=E())?r=[r,s]:(r=null,v=d),null!==(r=null!==r?r:"")?(d=v,58===m.charCodeAt(v)?(s=":",v++):(s=null,y('":"')),null!==s&&null!==(a=E())?s=[s,a]:(s=null,v=d),null!==(s=null!==s?s:"")?("::"===m.substr(v,2)?(a="::",v+=2):(a=null,y('"::"')),null!==a?e=[e,t,n,i,o,r,s,a]:(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g)):(e=null,v=g))))))))))))))),null!==e&&(h=p,F.host_type="IPv6",e=m.substring(v,h)),null===e&&(v=p),e}function E(){var e,t,n,i,o=v;return null!==(e=a())&&null!==(t=null!==(t=a())?t:"")&&null!==(n=null!==(n=a())?n:"")&&null!==(i=null!==(i=a())?i:"")?e=[e,t,n,i]:(e=null,v=o),e}function S(){var e,t,n,i=v;return null!==(e=E())?(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t&&null!==(n=E())?e=[e,t,n]:(e=null,v=i)):(e=null,v=i),e=null===e?ye():e}function ye(){var e,t,n,i,o,r,s,a=v,l=v;return null!==(e=De())?(46===m.charCodeAt(v)?(s=".",v++):(s=null,y('"."')),null!==s&&null!==(t=De())?(46===m.charCodeAt(v)?(n=".",v++):(n=null,y('"."')),null!==n&&null!==(i=De())?(46===m.charCodeAt(v)?(o=".",v++):(o=null,y('"."')),null!==o&&null!==(r=De())?e=[e,s,t,n,i,o,r]:(e=null,v=l)):(e=null,v=l)):(e=null,v=l)):(e=null,v=l),null!==e&&(s=a,F.host_type="IPv4",e=m.substring(v,s)),null===e&&(v=a),e}function De(){var e,t,n,i=v;return"25"===m.substr(v,2)?(e="25",v+=2):(e=null,y('"25"')),null!==e?(/^[0-5]/.test(m.charAt(v))?(t=m.charAt(v),v++):(t=null,y("[0-5]")),null!==t?e=[e,t]:(e=null,v=i)):(e=null,v=i),null===e&&(i=v,50===m.charCodeAt(v)?(e="2",v++):(e=null,y('"2"')),null!==e?(/^[0-4]/.test(m.charAt(v))?(t=m.charAt(v),v++):(t=null,y("[0-4]")),null!==t&&null!==(n=u())?e=[e,t,n]:(e=null,v=i)):(e=null,v=i),null===e&&(i=v,49===m.charCodeAt(v)?(e="1",v++):(e=null,y('"1"')),null!==e&&null!==(t=u())&&null!==(n=u())?e=[e,t,n]:(e=null,v=i),null===e&&(i=v,/^[1-9]/.test(m.charAt(v))?(e=m.charAt(v),v++):(e=null,y("[1-9]")),null!==e&&null!==(t=u())?e=[e,t]:(e=null,v=i),null===e&&(e=u())))),e}function _e(){var e,t,n,i,o,r=v,s=v;return null!==(e=null!==(e=u())?e:"")&&null!==(o=null!==(o=u())?o:"")&&null!==(t=null!==(t=u())?t:"")&&null!==(n=null!==(n=u())?n:"")&&null!==(i=null!==(i=u())?i:"")?e=[e,o,t,n,i]:(e=null,v=s),null!==e&&(o=e,o=parseInt(o.join("")),e=F.port=o),null===e&&(v=r),e}function be(){var e,t,n=[],i=v;for(59===m.charCodeAt(v)?(e=";",v++):(e=null,y('";"')),null!==e&&null!==(t=Ce())?e=[e,t]:(e=null,v=i);null!==e;)n.push(e),i=v,59===m.charCodeAt(v)?(e=";",v++):(e=null,y('";"')),null!==e&&null!==(t=Ce())?e=[e,t]:(e=null,v=i);return n}function Ce(){var e;return e=null===(e=Me())&&null===(e=we())&&null===(e=Ae())&&null===(e=Ie())&&null===(e=ke())&&null===(e=Te())?xe():e}function Me(){var e,t,n=v,i=v;return"transport="===m.substr(v,10).toLowerCase()?(e=m.substr(v,10),v+=10):(e=null,y('"transport="')),null!==e?("udp"===m.substr(v,3).toLowerCase()?(t=m.substr(v,3),v+=3):(t=null,y('"udp"')),null===t&&("tcp"===m.substr(v,3).toLowerCase()?(t=m.substr(v,3),v+=3):(t=null,y('"tcp"')),null===t&&("sctp"===m.substr(v,4).toLowerCase()?(t=m.substr(v,4),v+=4):(t=null,y('"sctp"')),null===t&&("tls"===m.substr(v,3).toLowerCase()?(t=m.substr(v,3),v+=3):(t=null,y('"tls"')),null===t&&(t=M())))),null!==t?e=[e,t]:(e=null,v=i)):(e=null,v=i),null!==e&&(t=e[1],F.uri_params||(F.uri_params={}),e=void(F.uri_params.transport=t.toLowerCase())),null===e&&(v=n),e}function we(){var e,t,n=v,i=v;return"user="===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"user="')),null!==e?("phone"===m.substr(v,5).toLowerCase()?(t=m.substr(v,5),v+=5):(t=null,y('"phone"')),null===t&&("ip"===m.substr(v,2).toLowerCase()?(t=m.substr(v,2),v+=2):(t=null,y('"ip"')),null===t&&(t=M())),null!==t?e=[e,t]:(e=null,v=i)):(e=null,v=i),null!==e&&(t=e[1],F.uri_params||(F.uri_params={}),e=void(F.uri_params.user=t.toLowerCase())),null===e&&(v=n),e}function Ae(){var e,t,n=v,i=v;return"method="===m.substr(v,7).toLowerCase()?(e=m.substr(v,7),v+=7):(e=null,y('"method="')),null!==e&&null!==(t=ht())?e=[e,t]:(e=null,v=i),null!==e&&(t=e[1],F.uri_params||(F.uri_params={}),e=void(F.uri_params.method=t)),null===e&&(v=n),e}function Ie(){var e,t,n=v,i=v;return"ttl="===m.substr(v,4).toLowerCase()?(e=m.substr(v,4),v+=4):(e=null,y('"ttl="')),null!==e&&null!==(t=An())?e=[e,t]:(e=null,v=i),null!==e&&(t=e[1],F.params||(F.params={}),e=void(F.params.ttl=t)),null===e&&(v=n),e}function ke(){var e,t,n=v,i=v;return"maddr="===m.substr(v,6).toLowerCase()?(e=m.substr(v,6),v+=6):(e=null,y('"maddr="')),null!==e&&null!==(t=de())?e=[e,t]:(e=null,v=i),null!==e&&(t=e[1],F.uri_params||(F.uri_params={}),e=void(F.uri_params.maddr=t)),null===e&&(v=n),e}function Te(){var e,t,n,i,o=v,r=v;return"lr"===m.substr(v,2).toLowerCase()?(e=m.substr(v,2),v+=2):(e=null,y('"lr"')),null!==e?(i=v,61===m.charCodeAt(v)?(t="=",v++):(t=null,y('"="')),null!==t&&null!==(n=M())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=r)):(e=null,v=r),null!==e&&(F.uri_params||(F.uri_params={}),e=void(F.uri_params.lr=void 0)),null===e&&(v=o),e}function xe(){var e,t,n,i,o=v,r=v;return null!==(e=Ee())?(i=v,61===m.charCodeAt(v)?(t="=",v++):(t=null,y('"="')),null!==t&&null!==(n=Se())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=r)):(e=null,v=r),null!==e&&(n=e[0],i=e[1],F.uri_params||(F.uri_params={}),i=void 0===i?void 0:i[1],e=void(F.uri_params[n.toLowerCase()]=i)),null===e&&(v=o),e}function Ee(){var e,t,n=v;if(null!==(t=Ne()))for(e=[];null!==t;)e.push(t),t=Ne();else e=null;return null===(e=null!==e?e.join(""):e)&&(v=n),e}function Se(){var e,t,n=v;if(null!==(t=Ne()))for(e=[];null!==t;)e.push(t),t=Ne();else e=null;return null===(e=null!==e?e.join(""):e)&&(v=n),e}function Ne(){var e;return e=null===(e=je())&&null===(e=i())?p():e}function je(){var e;return 91===m.charCodeAt(v)?(e="[",v++):(e=null,y('"["')),null===e&&(93===m.charCodeAt(v)?(e="]",v++):(e=null,y('"]"')),null===e&&(47===m.charCodeAt(v)?(e="/",v++):(e=null,y('"/"')),null===e&&(58===m.charCodeAt(v)?(e=":",v++):(e=null,y('":"')),null===e&&(38===m.charCodeAt(v)?(e="&",v++):(e=null,y('"&"')),null===e&&(43===m.charCodeAt(v)?(e="+",v++):(e=null,y('"+"')),null===e&&(36===m.charCodeAt(v)?(e="$",v++):(e=null,y('"$"')))))))),e}function Oe(){var e,t,n,i,o,r,s=v;if(63===m.charCodeAt(v)?(e="?",v++):(e=null,y('"?"')),null!==e)if(null!==(t=Le())){for(n=[],r=v,38===m.charCodeAt(v)?(i="&",v++):(i=null,y('"&"')),null!==i&&null!==(o=Le())?i=[i,o]:(i=null,v=r);null!==i;)n.push(i),r=v,38===m.charCodeAt(v)?(i="&",v++):(i=null,y('"&"')),null!==i&&null!==(o=Le())?i=[i,o]:(i=null,v=r);null!==n?e=[e,t,n]:(e=null,v=s)}else e=null,v=s;else e=null,v=s;return e}function Le(){var e,t,n,i=v,o=v;return null!==(e=ze())?(61===m.charCodeAt(v)?(t="=",v++):(t=null,y('"="')),null!==t&&null!==(n=Fe())?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),null!==e&&(t=e[0],n=e[2],t=t.join("").toLowerCase(),n=n.join(""),F.uri_headers||(F.uri_headers={}),e=void(F.uri_headers[t]?F.uri_headers[t].push(n):F.uri_headers[t]=[n])),null===e&&(v=i),e}function ze(){var e,t;if(null!==(t=null===(t=Pe())&&null===(t=i())?p():t))for(e=[];null!==t;)e.push(t),null===(t=Pe())&&null===(t=i())&&(t=p());else e=null;return e}function Fe(){var e,t=[];for(null===(e=Pe())&&null===(e=i())&&(e=p());null!==e;)t.push(e),null===(e=Pe())&&null===(e=i())&&(e=p());return t}function Pe(){var e;return 91===m.charCodeAt(v)?(e="[",v++):(e=null,y('"["')),null===e&&(93===m.charCodeAt(v)?(e="]",v++):(e=null,y('"]"')),null===e&&(47===m.charCodeAt(v)?(e="/",v++):(e=null,y('"/"')),null===e&&(63===m.charCodeAt(v)?(e="?",v++):(e=null,y('"?"')),null===e&&(58===m.charCodeAt(v)?(e=":",v++):(e=null,y('":"')),null===e&&(43===m.charCodeAt(v)?(e="+",v++):(e=null,y('"+"')),null===e&&(36===m.charCodeAt(v)?(e="$",v++):(e=null,y('"$"')))))))),e}function Re(){var e,t,n,i,o,r=v;return null!==(e=ht())&&null!==(t=d())&&null!==(n=Ue())&&null!==(i=d())&&null!==(o=it())?e=[e,t,n,i,o]:(e=null,v=r),e}function Ue(){var e;return e=null===(e=ie())?Be():e}function Be(){var e,t,n,i=v;return null!==(e=Xe())?(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null!==t?null!==(n=null===(n=Ye())?Qe():n)?e=[e,t,n]:(e=null,v=i):(e=null,v=i)):(e=null,v=i),e}function Ye(){var e,t,n,i,o=v;return null!==(e=null===(e=He())?We():e)?(i=v,63===m.charCodeAt(v)?(t="?",v++):(t=null,y('"?"')),null!==t&&null!==(n=nt())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=o)):(e=null,v=o),e}function He(){var e,t,n,i=v;return"//"===m.substr(v,2)?(e="//",v+=2):(e=null,y('"//"')),null!==e&&null!==(t=$e())&&null!==(n=null!==(n=We())?n:"")?e=[e,t,n]:(e=null,v=i),e}function We(){var e,t,n=v;return 47===m.charCodeAt(v)?(e="/",v++):(e=null,y('"/"')),null!==e&&null!==(t=qe())?e=[e,t]:(e=null,v=n),e}function Qe(){var e,t,n,i=v;if(null!==(e=Ge())){for(t=[],n=Ve();null!==n;)t.push(n),n=Ve();null!==t?e=[e,t]:(e=null,v=i)}else e=null,v=i;return e}function Ve(){var e;return e=null===(e=R())&&null===(e=i())?p():e}function Ge(){var e;return null===(e=i())&&null===(e=p())&&(59===m.charCodeAt(v)?(e=";",v++):(e=null,y('";"')),null===e&&(63===m.charCodeAt(v)?(e="?",v++):(e=null,y('"?"')),null===e&&(58===m.charCodeAt(v)?(e=":",v++):(e=null,y('":"')),null===e&&(64===m.charCodeAt(v)?(e="@",v++):(e=null,y('"@"')),null===e&&(38===m.charCodeAt(v)?(e="&",v++):(e=null,y('"&"')),null===e&&(61===m.charCodeAt(v)?(e="=",v++):(e=null,y('"="')),null===e&&(43===m.charCodeAt(v)?(e="+",v++):(e=null,y('"+"')),null===e&&(36===m.charCodeAt(v)?(e="$",v++):(e=null,y('"$"')),null===e&&(44===m.charCodeAt(v)?(e=",",v++):(e=null,y('","'))))))))))),e}function qe(){var e,t,n,i,o,r=v;if(null!==(e=Ze())){for(t=[],o=v,47===m.charCodeAt(v)?(n="/",v++):(n=null,y('"/"')),null!==n&&null!==(i=Ze())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,47===m.charCodeAt(v)?(n="/",v++):(n=null,y('"/"')),null!==n&&null!==(i=Ze())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e}function Ze(){for(var e,t,n,i=v,o=[],r=Je();null!==r;)o.push(r),r=Je();if(null!==o){for(r=[],n=v,59===m.charCodeAt(v)?(e=";",v++):(e=null,y('";"')),null!==e&&null!==(t=Ke())?e=[e,t]:(e=null,v=n);null!==e;)r.push(e),n=v,59===m.charCodeAt(v)?(e=";",v++):(e=null,y('";"')),null!==e&&null!==(t=Ke())?e=[e,t]:(e=null,v=n);null!==r?o=[o,r]:(o=null,v=i)}else o=null,v=i;return o}function Ke(){for(var e=[],t=Je();null!==t;)e.push(t),t=Je();return e}function Je(){var e;return null===(e=i())&&null===(e=p())&&(58===m.charCodeAt(v)?(e=":",v++):(e=null,y('":"')),null===e&&(64===m.charCodeAt(v)?(e="@",v++):(e=null,y('"@"')),null===e&&(38===m.charCodeAt(v)?(e="&",v++):(e=null,y('"&"')),null===e&&(61===m.charCodeAt(v)?(e="=",v++):(e=null,y('"="')),null===e&&(43===m.charCodeAt(v)?(e="+",v++):(e=null,y('"+"')),null===e&&(36===m.charCodeAt(v)?(e="$",v++):(e=null,y('"$"')),null===e&&(44===m.charCodeAt(v)?(e=",",v++):(e=null,y('","'))))))))),e}function Xe(){var e,t,n,i=v,o=v;if(null!==(e=s())){for(t=[],null===(n=s())&&null===(n=u())&&(43===m.charCodeAt(v)?(n="+",v++):(n=null,y('"+"')),null===n&&(45===m.charCodeAt(v)?(n="-",v++):(n=null,y('"-"')),null===n&&(46===m.charCodeAt(v)?(n=".",v++):(n=null,y('"."')))));null!==n;)t.push(n),null===(n=s())&&null===(n=u())&&(43===m.charCodeAt(v)?(n="+",v++):(n=null,y('"+"')),null===n&&(45===m.charCodeAt(v)?(n="-",v++):(n=null,y('"-"')),null===n&&(46===m.charCodeAt(v)?(n=".",v++):(n=null,y('"."')))));null!==t?e=[e,t]:(e=null,v=o)}else e=null,v=o;return null===(e=null!==e?void(F.scheme=m.substring(v,i)):e)&&(v=i),e}function $e(){var e;return e=null===(e=et())?tt():e}function et(){var e,t,n=v,i=v;return null!==(e=ae())?(64===m.charCodeAt(v)?(t="@",v++):(t=null,y('"@"')),null!==t?e=[e,t]:(e=null,v=i)):(e=null,v=i),null!==(e=null!==e?e:"")&&null!==(t=fe())?e=[e,t]:(e=null,v=n),null!==e?e:""}function tt(){var e,t;if(null===(t=i())&&null===(t=p())&&(36===m.charCodeAt(v)?(t="$",v++):(t=null,y('"$"')),null===t&&(44===m.charCodeAt(v)?(t=",",v++):(t=null,y('","')),null===t&&(59===m.charCodeAt(v)?(t=";",v++):(t=null,y('";"')),null===t&&(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null===t&&(64===m.charCodeAt(v)?(t="@",v++):(t=null,y('"@"')),null===t&&(38===m.charCodeAt(v)?(t="&",v++):(t=null,y('"&"')),null===t&&(61===m.charCodeAt(v)?(t="=",v++):(t=null,y('"="')),null===t&&(43===m.charCodeAt(v)?(t="+",v++):(t=null,y('"+"')))))))))),null!==t)for(e=[];null!==t;)e.push(t),null===(t=i())&&null===(t=p())&&(36===m.charCodeAt(v)?(t="$",v++):(t=null,y('"$"')),null===t&&(44===m.charCodeAt(v)?(t=",",v++):(t=null,y('","')),null===t&&(59===m.charCodeAt(v)?(t=";",v++):(t=null,y('";"')),null===t&&(58===m.charCodeAt(v)?(t=":",v++):(t=null,y('":"')),null===t&&(64===m.charCodeAt(v)?(t="@",v++):(t=null,y('"@"')),null===t&&(38===m.charCodeAt(v)?(t="&",v++):(t=null,y('"&"')),null===t&&(61===m.charCodeAt(v)?(t="=",v++):(t=null,y('"="')),null===t&&(43===m.charCodeAt(v)?(t="+",v++):(t=null,y('"+"'))))))))));else e=null;return e}function nt(){for(var e=[],t=Ve();null!==t;)e.push(t),t=Ve();return e}function it(){var e,t,n,i,o,r,s=v,a=v;if("sip"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"SIP"')),null!==e)if(47===m.charCodeAt(v)?(t="/",v++):(t=null,y('"/"')),null!==t){if(null!==(i=u()))for(n=[];null!==i;)n.push(i),i=u();else n=null;if(null!==n)if(46===m.charCodeAt(v)?(i=".",v++):(i=null,y('"."')),null!==i){if(null!==(r=u()))for(o=[];null!==r;)o.push(r),r=u();else o=null;null!==o?e=[e,t,n,i,o]:(e=null,v=a)}else e=null,v=a;else e=null,v=a}else e=null,v=a;else e=null,v=a;return null===(e=null!==e?void(F.sip_version=m.substring(v,s)):e)&&(v=s),e}function ot(){var e;return"INVITE"===m.substr(v,6)?(e="INVITE",v+=6):(e=null,y('"INVITE"')),e}function rt(){var e;return"ACK"===m.substr(v,3)?(e="ACK",v+=3):(e=null,y('"ACK"')),e}function st(){var e;return"OPTIONS"===m.substr(v,7)?(e="OPTIONS",v+=7):(e=null,y('"OPTIONS"')),e}function at(){var e;return"BYE"===m.substr(v,3)?(e="BYE",v+=3):(e=null,y('"BYE"')),e}function lt(){var e;return"CANCEL"===m.substr(v,6)?(e="CANCEL",v+=6):(e=null,y('"CANCEL"')),e}function ut(){var e;return"REGISTER"===m.substr(v,8)?(e="REGISTER",v+=8):(e=null,y('"REGISTER"')),e}function ct(){var e;return"SUBSCRIBE"===m.substr(v,9)?(e="SUBSCRIBE",v+=9):(e=null,y('"SUBSCRIBE"')),e}function ft(){var e;return"NOTIFY"===m.substr(v,6)?(e="NOTIFY",v+=6):(e=null,y('"NOTIFY"')),e}function dt(){var e;return"REFER"===m.substr(v,5)?(e="REFER",v+=5):(e=null,y('"REFER"')),e}function ht(){var e,t=v;return null!==(e=null===(e=ot())&&null===(e=rt())&&null===(e=st())&&null===(e=at())&&null===(e=lt())&&null===(e=ut())&&null===(e=ct())&&null===(e=ft())&&null===(e=dt())?M():e)&&(F.method=m.substring(v,t),e=F.method),null===e&&(v=t),e}function pt(){var e,t,n,i,o,r=v;return null!==(e=it())&&null!==(t=d())&&null!==(n=gt())&&null!==(i=d())&&null!==(o=vt())?e=[e,t,n,i,o]:(e=null,v=r),e}function gt(){var e,t,n=v;return null!==(e=mt())&&(t=e,e=void(F.status_code=parseInt(t.join("")))),null===e&&(v=n),e}function mt(){var e,t,n,i=v;return null!==(e=u())&&null!==(t=u())&&null!==(n=u())?e=[e,t,n]:(e=null,v=i),e}function vt(){var e,t=v,n=[];for(null===(e=R())&&null===(e=i())&&null===(e=p())&&null===(e=b())&&null===(e=C())&&null===(e=d())&&(e=h());null!==e;)n.push(e),null===(e=R())&&null===(e=i())&&null===(e=p())&&null===(e=b())&&null===(e=C())&&null===(e=d())&&(e=h());return null===(n=null!==n?void(F.reason_phrase=m.substring(v,t)):n)&&(v=t),n}function yt(){var e,t,n,i,o,r=v,s=v;if(null!==(e=null===(e=ne())?N():e)){for(t=[],o=v,null!==(n=k())&&null!==(i=_t())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=_t())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null===(e=null!==e?function(e){var t;F.multi_header||(F.multi_header=[]);try{t=new z(F.uri,F.display_name,F.params),delete F.uri,delete F.display_name,delete F.params}catch(e){t=null}F.multi_header.push({possition:v,offset:e,parsed:t})}(r):e)&&(v=r),e}function N(){var e,t,n,i,o=v;return null!==(e=null!==(e=Dt())?e:"")&&null!==(t=Z())&&null!==(n=ie())&&null!==(i=q())?e=[e,t,n,i]:(e=null,v=o),e}function Dt(){var e,t,n,i,o,r=v,s=v;if(null!==(e=M())){for(t=[],o=v,null!==(n=g())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=g())&&null!==(i=M())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null!==(e=null===e?T():e)&&(s=e,e=void(F.display_name="string"==typeof s?s:s[1].reduce(function(e,t){return e+t[0]+t[1]},s[0]))),null===e&&(v=r),e}function _t(){var e;return e=null===(e=bt())&&null===(e=Ct())?O():e}function bt(){var e,t,n,i=v,o=v;return"q"===m.substr(v,1).toLowerCase()?(e=m.substr(v,1),v++):(e=null,y('"q"')),null!==e&&null!==(n=A())&&null!==(t=Mt())?e=[e,n,t]:(e=null,v=o),null!==e&&(n=e[2],F.params||(F.params={}),e=void(F.params.q=n)),null===e&&(v=i),e}function Ct(){var e,t,n,i=v,o=v;return"expires"===m.substr(v,7).toLowerCase()?(e=m.substr(v,7),v+=7):(e=null,y('"expires"')),null!==e&&null!==(n=A())&&null!==(t=j())?e=[e,n,t]:(e=null,v=o),null!==e&&(n=e[2],F.params||(F.params={}),e=void(F.params.expires=n)),null===e&&(v=i),e}function j(){var e,t,n=v;if(null!==(t=u()))for(e=[];null!==t;)e.push(t),t=u();else e=null;return null===(e=null!==e?parseInt(e.join("")):e)&&(v=n),e}function Mt(){var e,t,n,i,o,r,s=v,a=v;return 48===m.charCodeAt(v)?(e="0",v++):(e=null,y('"0"')),null!==e?(r=v,46===m.charCodeAt(v)?(t=".",v++):(t=null,y('"."')),null!==t&&null!==(n=null!==(n=u())?n:"")&&null!==(i=null!==(i=u())?i:"")&&null!==(o=null!==(o=u())?o:"")?t=[t,n,i,o]:(t=null,v=r),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=a)):(e=null,v=a),null===(e=null!==e?parseFloat(m.substring(v,s)):e)&&(v=s),e}function O(){var e,t,n,i,o=v,r=v;return null!==(e=M())?(i=v,null!==(t=A())&&null!==(n=wt())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=r)):(e=null,v=r),null!==e&&(n=e[0],i=e[1],F.params||(F.params={}),i=void 0===i?void 0:i[1],e=void(F.params[n.toLowerCase()]=i)),null===e&&(v=o),e}function wt(){var e;return e=null===(e=M())&&null===(e=de())?ee():e}function At(){var e;return"render"===m.substr(v,6).toLowerCase()?(e=m.substr(v,6),v+=6):(e=null,y('"render"')),null===e&&("session"===m.substr(v,7).toLowerCase()?(e=m.substr(v,7),v+=7):(e=null,y('"session"')),null===e&&("icon"===m.substr(v,4).toLowerCase()?(e=m.substr(v,4),v+=4):(e=null,y('"icon"')),null===e&&("alert"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"alert"')),null===e&&(e=M())))),e}function It(){var e;return e=null===(e=kt())?O():e}function kt(){var e,t,n,i=v;return"handling"===m.substr(v,8).toLowerCase()?(e=m.substr(v,8),v+=8):(e=null,y('"handling"')),null!==e&&null!==(t=A())?("optional"===m.substr(v,8).toLowerCase()?(n=m.substr(v,8),v+=8):(n=null,y('"optional"')),null===n&&("required"===m.substr(v,8).toLowerCase()?(n=m.substr(v,8),v+=8):(n=null,y('"required"')),null===n&&(n=M())),null!==n?e=[e,t,n]:(e=null,v=i)):(e=null,v=i),e}function Tt(){var e,t,n,i,o,r,s,a=v;if(null!==(e=xt()))if(null!==(t=Q()))if(null!==(n=Ot())){for(i=[],s=v,null!==(o=k())&&null!==(r=Lt())?o=[o,r]:(o=null,v=s);null!==o;)i.push(o),s=v,null!==(o=k())&&null!==(r=Lt())?o=[o,r]:(o=null,v=s);null!==i?e=[e,t,n,i]:(e=null,v=a)}else e=null,v=a;else e=null,v=a;else e=null,v=a;return e}function xt(){var e;return e=null===(e=Et())?St():e}function Et(){var e;return"text"===m.substr(v,4).toLowerCase()?(e=m.substr(v,4),v+=4):(e=null,y('"text"')),null===e&&("image"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"image"')),null===e&&("audio"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"audio"')),null===e&&("video"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"video"')),null===e&&("application"===m.substr(v,11).toLowerCase()?(e=m.substr(v,11),v+=11):(e=null,y('"application"')),null===e&&(e=Nt()))))),e}function St(){var e;return"message"===m.substr(v,7).toLowerCase()?(e=m.substr(v,7),v+=7):(e=null,y('"message"')),null===e&&("multipart"===m.substr(v,9).toLowerCase()?(e=m.substr(v,9),v+=9):(e=null,y('"multipart"')),null===e&&(e=Nt())),e}function Nt(){var e;return e=null===(e=M())?jt():e}function jt(){var e,t,n=v;return"x-"===m.substr(v,2).toLowerCase()?(e=m.substr(v,2),v+=2):(e=null,y('"x-"')),null!==e&&null!==(t=M())?e=[e,t]:(e=null,v=n),e}function Ot(){var e;return e=null===(e=Nt())?M():e}function Lt(){var e,t,n,i=v;return null!==(e=M())&&null!==(t=A())&&null!==(n=zt())?e=[e,t,n]:(e=null,v=i),e}function zt(){var e;return e=null===(e=M())?ee():e}function Ft(){var e,t,n,i=v;if(null!==(t=u()))for(e=[];null!==t;)e.push(t),t=u();else e=null;return null!==e&&(n=e,e=void(F.value=parseInt(n.join("")))),null===e&&(v=i),e}function Pt(){var e,t,n,i,o,r=v;if(null!==(e=H())){for(t=[],o=v,46===m.charCodeAt(v)?(n=".",v++):(n=null,y('"."')),null!==n&&null!==(i=H())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,46===m.charCodeAt(v)?(n=".",v++):(n=null,y('"."')),null!==n&&null!==(i=H())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e}function Rt(){var e;return e=null===(e=Ut())?O():e}function Ut(){var e,t,n,i=v,o=v;return"tag"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"tag"')),null!==e&&null!==(n=A())&&null!==(t=M())?e=[e,n,t]:(e=null,v=o),null!==e&&(n=e[2],e=void(F.tag=n)),null===e&&(v=i),e}function Bt(){var e,t,n,i,o,r,s,a=v;if("digest"===m.substr(v,6).toLowerCase()?(e=m.substr(v,6),v+=6):(e=null,y('"Digest"')),null!==e)if(null!==(t=g()))if(null!==(n=Wt())){for(i=[],s=v,null!==(o=I())&&null!==(r=Wt())?o=[o,r]:(o=null,v=s);null!==o;)i.push(o),s=v,null!==(o=I())&&null!==(r=Wt())?o=[o,r]:(o=null,v=s);null!==i?e=[e,t,n,i]:(e=null,v=a)}else e=null,v=a;else e=null,v=a;else e=null,v=a;return e=null===e?Yt():e}function Yt(){var e,t,n,i,o,r,s,a=v;if(null!==(e=M()))if(null!==(t=g()))if(null!==(n=Ht())){for(i=[],s=v,null!==(o=I())&&null!==(r=Ht())?o=[o,r]:(o=null,v=s);null!==o;)i.push(o),s=v,null!==(o=I())&&null!==(r=Ht())?o=[o,r]:(o=null,v=s);null!==i?e=[e,t,n,i]:(e=null,v=a)}else e=null,v=a;else e=null,v=a;else e=null,v=a;return e}function Ht(){var e,t,n,i=v;return null!==(e=M())&&null!==(t=A())?null!==(n=null===(n=M())?ee():n)?e=[e,t,n]:(e=null,v=i):(e=null,v=i),e}function Wt(){var e;return e=null===(e=Qt())&&null===(e=Gt())&&null===(e=Zt())&&null===(e=Jt())&&null===(e=Xt())&&null===(e=$t())&&null===(e=en())?Ht():e}function Qt(){var e,t,n,i=v;return"realm"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"realm"')),null!==e&&null!==(t=A())&&null!==(n=Vt())?e=[e,t,n]:(e=null,v=i),e}function Vt(){var e,t,n=v;return null!==(e=T())&&(t=e,e=void(F.realm=t)),null===e&&(v=n),e}function Gt(){var e,t,n,i,o,r,s,a,l=v;if("domain"===m.substr(v,6).toLowerCase()?(e=m.substr(v,6),v+=6):(e=null,y('"domain"')),null!==e)if(null!==(t=A()))if(null!==(n=J()))if(null!==(i=qt())){if(o=[],a=v,null!==(s=d()))for(r=[];null!==s;)r.push(s),s=d();else r=null;for(null!==r&&null!==(s=qt())?r=[r,s]:(r=null,v=a);null!==r;){if(o.push(r),a=v,null!==(s=d()))for(r=[];null!==s;)r.push(s),s=d();else r=null;null!==r&&null!==(s=qt())?r=[r,s]:(r=null,v=a)}null!==o&&null!==(r=X())?e=[e,t,n,i,o,r]:(e=null,v=l)}else e=null,v=l;else e=null,v=l;else e=null,v=l;else e=null,v=l;return e}function qt(){var e;return e=null===(e=Be())?We():e}function Zt(){var e,t,n,i=v;return"nonce"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"nonce"')),null!==e&&null!==(t=A())&&null!==(n=Kt())?e=[e,t,n]:(e=null,v=i),e}function Kt(){var e,t,n=v;return null!==(e=T())&&(t=e,e=void(F.nonce=t)),null===e&&(v=n),e}function Jt(){var e,t,n,i=v,o=v;return"opaque"===m.substr(v,6).toLowerCase()?(e=m.substr(v,6),v+=6):(e=null,y('"opaque"')),null!==e&&null!==(n=A())&&null!==(t=T())?e=[e,n,t]:(e=null,v=o),null!==e&&(n=e[2],e=void(F.opaque=n)),null===e&&(v=i),e}function Xt(){var e,t,n,i,o=v;return"stale"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"stale"')),null!==e&&null!==(t=A())?(i=v,"true"===m.substr(v,4).toLowerCase()?(n=m.substr(v,4),v+=4):(n=null,y('"true"')),null===(n=null!==n?void(F.stale=!0):n)&&(v=i),null===n&&(i=v,"false"===m.substr(v,5).toLowerCase()?(n=m.substr(v,5),v+=5):(n=null,y('"false"')),null===(n=null!==n?void(F.stale=!1):n)&&(v=i)),null!==n?e=[e,t,n]:(e=null,v=o)):(e=null,v=o),e}function $t(){var e,t,n,i=v,o=v;return"algorithm"===m.substr(v,9).toLowerCase()?(e=m.substr(v,9),v+=9):(e=null,y('"algorithm"')),null!==e&&null!==(n=A())?("md5"===m.substr(v,3).toLowerCase()?(t=m.substr(v,3),v+=3):(t=null,y('"MD5"')),null===t&&("md5-sess"===m.substr(v,8).toLowerCase()?(t=m.substr(v,8),v+=8):(t=null,y('"MD5-sess"')),null===t&&(t=M())),null!==t?e=[e,n,t]:(e=null,v=o)):(e=null,v=o),null!==e&&(n=e[2],e=void(F.algorithm=n.toUpperCase())),null===e&&(v=i),e}function en(){var e,t,n,i,o,r,s,a,l,u=v;if("qop"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"qop"')),null!==e)if(null!==(t=A()))if(null!==(n=J())){if(a=v,null!==(i=tn())){for(o=[],l=v,44===m.charCodeAt(v)?(r=",",v++):(r=null,y('","')),null!==r&&null!==(s=tn())?r=[r,s]:(r=null,v=l);null!==r;)o.push(r),l=v,44===m.charCodeAt(v)?(r=",",v++):(r=null,y('","')),null!==r&&null!==(s=tn())?r=[r,s]:(r=null,v=l);null!==o?i=[i,o]:(i=null,v=a)}else i=null,v=a;null!==i&&null!==(o=X())?e=[e,t,n,i,o]:(e=null,v=u)}else e=null,v=u;else e=null,v=u;else e=null,v=u;return e}function tn(){var e,t,n=v;return"auth-int"===m.substr(v,8).toLowerCase()?(e=m.substr(v,8),v+=8):(e=null,y('"auth-int"')),null===e&&("auth"===m.substr(v,4).toLowerCase()?(e=m.substr(v,4),v+=4):(e=null,y('"auth"')),null===e&&(e=M())),null!==e&&(t=e,F.qop||(F.qop=[]),e=void F.qop.push(t.toLowerCase())),null===e&&(v=n),e}function nn(){var e,t,n,i,o,r=v,s=v;if(null!==(e=N())){for(t=[],o=v,null!==(n=k())&&null!==(i=O())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=O())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=s)}else e=null,v=s;return null===(e=null!==e?function(e){var t;F.multi_header||(F.multi_header=[]);try{t=new z(F.uri,F.display_name,F.params),delete F.uri,delete F.display_name,delete F.params}catch(e){t=null}F.multi_header.push({possition:v,offset:e,parsed:t})}(r):e)&&(v=r),e}function on(){var e;return e=null===(e=rn())?O():e}function rn(){var e,t,n,i,o=v,r=v;if("cause"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"cause"')),null!==e)if(null!==(i=A())){if(null!==(n=u()))for(t=[];null!==n;)t.push(n),n=u();else t=null;null!==t?e=[e,i,t]:(e=null,v=r)}else e=null,v=r;else e=null,v=r;return null!==e&&(i=e[2],e=void(F.cause=parseInt(i.join("")))),null===e&&(v=o),e}function sn(){var e,t,n,i,o,r=v;if(null!==(e=N())){for(t=[],o=v,null!==(n=k())&&null!==(i=O())?n=[n,i]:(n=null,v=o);null!==n;)t.push(n),o=v,null!==(n=k())&&null!==(i=O())?n=[n,i]:(n=null,v=o);null!==t?e=[e,t]:(e=null,v=r)}else e=null,v=r;return e}function an(){var e,t=v;return"active"===m.substr(v,6).toLowerCase()?(e=m.substr(v,6),v+=6):(e=null,y('"active"')),null===e&&("pending"===m.substr(v,7).toLowerCase()?(e=m.substr(v,7),v+=7):(e=null,y('"pending"')),null===e&&("terminated"===m.substr(v,10).toLowerCase()?(e=m.substr(v,10),v+=10):(e=null,y('"terminated"')),null===e&&(e=M()))),null===(e=null!==e?void(F.state=m.substring(v,t)):e)&&(v=t),e}function ln(){var e,t,n,i,o=v,r=v;return"reason"===m.substr(v,6).toLowerCase()?(e=m.substr(v,6),v+=6):(e=null,y('"reason"')),null!==e&&null!==(t=A())&&null!==(n=un())?e=[e,t,n]:(e=null,v=r),null===(e=null!==e?void(void 0!==(i=e[2])&&(F.reason=i)):e)&&(v=o),null===e&&(r=o=v,"expires"===m.substr(v,7).toLowerCase()?(e=m.substr(v,7),v+=7):(e=null,y('"expires"')),null!==e&&null!==(t=A())&&null!==(n=j())?e=[e,t,n]:(e=null,v=r),null===(e=null!==e?void(void 0!==(i=e[2])&&(F.expires=i)):e)&&(v=o),null===e&&(r=o=v,"retry_after"===m.substr(v,11).toLowerCase()?(e=m.substr(v,11),v+=11):(e=null,y('"retry_after"')),null!==e&&null!==(t=A())&&null!==(n=j())?e=[e,t,n]:(e=null,v=r),null===(e=null!==e?void(void 0!==(i=e[2])&&(F.retry_after=i)):e)&&(v=o),null===e&&(e=O()))),e}function un(){var e;return"deactivated"===m.substr(v,11).toLowerCase()?(e=m.substr(v,11),v+=11):(e=null,y('"deactivated"')),null===e&&("probation"===m.substr(v,9).toLowerCase()?(e=m.substr(v,9),v+=9):(e=null,y('"probation"')),null===e&&("rejected"===m.substr(v,8).toLowerCase()?(e=m.substr(v,8),v+=8):(e=null,y('"rejected"')),null===e&&("timeout"===m.substr(v,7).toLowerCase()?(e=m.substr(v,7),v+=7):(e=null,y('"timeout"')),null===e&&("giveup"===m.substr(v,6).toLowerCase()?(e=m.substr(v,6),v+=6):(e=null,y('"giveup"')),null===e&&("noresource"===m.substr(v,10).toLowerCase()?(e=m.substr(v,10),v+=10):(e=null,y('"noresource"')),null===e&&("invariant"===m.substr(v,9).toLowerCase()?(e=m.substr(v,9),v+=9):(e=null,y('"invariant"')),null===e&&(e=M()))))))),e}function cn(){var e;return e=null===(e=Ut())?O():e}function fn(){var e,t,n,i,o,r,s,a=v;if(null!==(e=Dn()))if(null!==(t=g()))if(null!==(n=Cn())){for(i=[],s=v,null!==(o=k())&&null!==(r=dn())?o=[o,r]:(o=null,v=s);null!==o;)i.push(o),s=v,null!==(o=k())&&null!==(r=dn())?o=[o,r]:(o=null,v=s);null!==i?e=[e,t,n,i]:(e=null,v=a)}else e=null,v=a;else e=null,v=a;else e=null,v=a;return e}function dn(){var e;return e=null===(e=hn())&&null===(e=pn())&&null===(e=gn())&&null===(e=mn())&&null===(e=vn())?O():e}function hn(){var e,t,n,i=v,o=v;return"ttl"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"ttl"')),null!==e&&null!==(n=A())&&null!==(t=An())?e=[e,n,t]:(e=null,v=o),null!==e&&(n=e[2],e=void(F.ttl=n)),null===e&&(v=i),e}function pn(){var e,t,n,i=v,o=v;return"maddr"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"maddr"')),null!==e&&null!==(n=A())&&null!==(t=de())?e=[e,n,t]:(e=null,v=o),null!==e&&(n=e[2],e=void(F.maddr=n)),null===e&&(v=i),e}function gn(){var e,t,n,i=v,o=v;return"received"===m.substr(v,8).toLowerCase()?(e=m.substr(v,8),v+=8):(e=null,y('"received"')),null!==e&&null!==(n=A())?null!==(t=null===(t=ye())?ve():t)?e=[e,n,t]:(e=null,v=o):(e=null,v=o),null!==e&&(n=e[2],e=void(F.received=n)),null===e&&(v=i),e}function mn(){var e,t,n,i=v,o=v;return"branch"===m.substr(v,6).toLowerCase()?(e=m.substr(v,6),v+=6):(e=null,y('"branch"')),null!==e&&null!==(n=A())&&null!==(t=M())?e=[e,n,t]:(e=null,v=o),null!==e&&(n=e[2],e=void(F.branch=n)),null===e&&(v=i),e}function vn(){var e,t,n,i,o=v;return"rport"===m.substr(v,5).toLowerCase()?(e=m.substr(v,5),v+=5):(e=null,y('"rport"')),null!==e?(i=v,null!==(t=A())&&null!==(n=yn())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=o)):(e=null,v=o),e}function yn(){var e,t,n,i,o,r=v,s=v;return null!==(e=null!==(e=u())?e:"")&&null!==(o=null!==(o=u())?o:"")&&null!==(t=null!==(t=u())?t:"")&&null!==(n=null!==(n=u())?n:"")&&null!==(i=null!==(i=u())?i:"")?e=[e,o,t,n,i]:(e=null,v=s),null!==e&&(o=e,e=void(F.rport=parseInt(o.join("")))),null===e&&(v=r),e}function Dn(){var e,t,n,i,o,r=v;return null!==(e=_n())&&null!==(t=Q())&&null!==(n=M())&&null!==(i=Q())&&null!==(o=bn())?e=[e,t,n,i,o]:(e=null,v=r),e}function _n(){var e,t,n=v;return"sip"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"SIP"')),null!==(e=null===e?M():e)&&(t=e,e=void(F.protocol=t)),null===e&&(v=n),e}function bn(){var e,t,n=v;return"udp"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"UDP"')),null===e&&("tcp"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"TCP"')),null===e&&("tls"===m.substr(v,3).toLowerCase()?(e=m.substr(v,3),v+=3):(e=null,y('"TLS"')),null===e&&("sctp"===m.substr(v,4).toLowerCase()?(e=m.substr(v,4),v+=4):(e=null,y('"SCTP"')),null===e&&(e=M())))),null!==e&&(t=e,e=void(F.transport=t)),null===e&&(v=n),e}function Cn(){var e,t,n,i,o=v;return null!==(e=Mn())?(i=v,null!==(t=K())&&null!==(n=wn())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=o)):(e=null,v=o),e}function Mn(){var e,t=v;return null===(e=null!==(e=null===(e=ye())&&null===(e=me())?he():e)?void(F.host=m.substring(v,t)):e)&&(v=t),e}function wn(){var e,t,n,i,o,r=v,s=v;return null!==(e=null!==(e=u())?e:"")&&null!==(o=null!==(o=u())?o:"")&&null!==(t=null!==(t=u())?t:"")&&null!==(n=null!==(n=u())?n:"")&&null!==(i=null!==(i=u())?i:"")?e=[e,o,t,n,i]:(e=null,v=s),null!==e&&(o=e,e=void(F.port=parseInt(o.join("")))),null===e&&(v=r),e}function An(){var e,t,n,i=v,o=v;return null!==(e=u())&&null!==(t=null!==(t=u())?t:"")&&null!==(n=null!==(n=u())?n:"")?e=[e,t,n]:(e=null,v=o),null===(e=null!==e?parseInt(e.join("")):e)&&(v=i),e}function In(){var e,t,n=v;return null!==(e=j())&&(t=e,e=void(F.expires=t)),null===e&&(v=n),e}function kn(){var e;return e=null===(e=Tn())?O():e}function Tn(){var e,t,n,i=v,o=v;return"refresher"===m.substr(v,9).toLowerCase()?(e=m.substr(v,9),v+=9):(e=null,y('"refresher"')),null!==e&&null!==(n=A())?("uac"===m.substr(v,3).toLowerCase()?(t=m.substr(v,3),v+=3):(t=null,y('"uac"')),null===t&&("uas"===m.substr(v,3).toLowerCase()?(t=m.substr(v,3),v+=3):(t=null,y('"uas"'))),null!==t?e=[e,n,t]:(e=null,v=o)):(e=null,v=o),null!==e&&(n=e[2],e=void(F.refresher=n.toLowerCase())),null===e&&(v=i),e}function xn(){var e,t=[];for(null===(e=_())&&null===(e=C())&&(e=g());null!==e;)t.push(e),null===(e=_())&&null===(e=C())&&(e=g());return t}function En(){var e,t,n,i,o,r,s,a,l,u=v,c=v;return null!==(e=Sn())?(45===m.charCodeAt(v)?(t="-",v++):(t=null,y('"-"')),null!==t&&null!==(n=L())?(45===m.charCodeAt(v)?(i="-",v++):(i=null,y('"-"')),null!==i&&null!==(o=L())?(45===m.charCodeAt(v)?(r="-",v++):(r=null,y('"-"')),null!==r&&null!==(s=L())?(45===m.charCodeAt(v)?(a="-",v++):(a=null,y('"-"')),null!==a&&null!==(l=Nn())?e=[e,t,n,i,o,r,s,a,l]:(e=null,v=c)):(e=null,v=c)):(e=null,v=c)):(e=null,v=c)):(e=null,v=c),null!==e&&(e[0],e=void(F=m.substring(v+5,u))),null===e&&(v=u),e}function L(){var e,t,n,i,o=v;return null!==(e=a())&&null!==(t=a())&&null!==(n=a())&&null!==(i=a())?e=[e,t,n,i]:(e=null,v=o),e}function Sn(){var e,t,n=v;return null!==(e=L())&&null!==(t=L())?e=[e,t]:(e=null,v=n),e}function Nn(){var e,t,n,i=v;return null!==(e=L())&&null!==(t=L())&&null!==(n=L())?e=[e,t,n]:(e=null,v=i),e}function jn(){var e,t,n,i,o=v,r=v;return null!==(e=w())?(i=v,64===m.charCodeAt(v)?(t="@",v++):(t=null,y('"@"')),null!==t&&null!==(n=w())?t=[t,n]:(t=null,v=i),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,v=r)):(e=null,v=r),null===(e=null!==e?void(F.call_id=m.substring(v,o)):e)&&(v=o),e}function On(){var e;return e=null===(e=Ln())&&null===(e=zn())&&null===(e=Fn())?O():e}function Ln(){var e,t,n,i=v,o=v;return"to-tag"===m.substr(v,6)?(e="to-tag",v+=6):(e=null,y('"to-tag"')),null!==e&&null!==(n=A())&&null!==(t=M())?e=[e,n,t]:(e=null,v=o),null!==e&&(n=e[2],e=void(F.to_tag=n)),null===e&&(v=i),e}function zn(){var e,t,n,i=v,o=v;return"from-tag"===m.substr(v,8)?(e="from-tag",v+=8):(e=null,y('"from-tag"')),null!==e&&null!==(n=A())&&null!==(t=M())?e=[e,n,t]:(e=null,v=o),null!==e&&(n=e[2],e=void(F.from_tag=n)),null===e&&(v=i),e}function Fn(){var e,t=v;return"early-only"===m.substr(v,10)?(e="early-only",v+=10):(e=null,y('"early-only"')),null===(e=null!==e?void(F.early_only=!0):e)&&(v=t),e}var Pn,Rn,Un=Bn("./URI"),z=Bn("./NameAddrHeader"),F={};return null===e[l]()||v!==m.length?(Pn=(e=Math.max(v,r))<m.length?m.charAt(e):null,Rn=function(){for(var e=1,t=1,n=!1,i=0;i<Math.max(v,r);i++)var o=m.charAt(i),n="\n"===o?(n||e++,!(t=1)):"\r"===o||"\u2028"===o||"\u2029"===o?(e++,t=1,!0):(t++,!1);return{line:e,column:t}}(),new this.SyntaxError(function(e){e.sort();for(var t=null,n=[],i=0;i<e.length;i++)e[i]!==t&&(n.push(e[i]),t=e[i]);return n}(t),Pn,e,Rn.line,Rn.column),-1):F},toSource:function(){return this._source},SyntaxError:function(e,t,n,i,o){this.name="SyntaxError",this.expected=e,this.found=t,this.message=function(e,t){var n;switch(e.length){case 0:n="end of input";break;case 1:n=e[0];break;default:n=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return"Expected "+n+" but "+(t?Yn(t):"end of input")+" found."}(e,t),this.offset=n,this.line=i,this.column=o}}).SyntaxError.prototype=Error.prototype,e)},{"./NameAddrHeader":10,"./URI":25}],8:[function(e,t,n){"use strict";var i=e("../package.json"),o=e("./Constants"),r=e("./Exceptions"),s=e("./Utils"),a=e("./UA"),l=e("./URI"),u=e("./NameAddrHeader"),c=e("./Grammar"),f=e("./WebSocketInterface");e("debug")("JsSIP")("version %s",i.version),t.exports={C:o,Exceptions:r,Utils:s,UA:a,URI:l,NameAddrHeader:u,WebSocketInterface:f,Grammar:c,debug:e("debug"),get name(){return i.title},get version(){return i.version}}},{"../package.json":38,"./Constants":2,"./Exceptions":6,"./Grammar":7,"./NameAddrHeader":10,"./UA":24,"./URI":25,"./Utils":26,"./WebSocketInterface":27,debug:29}],9:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n),t=(e=i?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!==o(e)&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=e("events").EventEmitter,c=e("./Constants"),f=e("./SIPMessage"),d=e("./Utils"),h=e("./RequestSender"),p=e("./Exceptions"),g=e("debug")("JsSIP:Message");t.exports=function(){var e=i,t=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t);var n=a(i);function i(e){var t;if(this instanceof i)return(t=n.call(this))._ua=e,t._request=null,t._closed=!1,t._direction=null,t._local_identity=null,t._remote_identity=null,t._is_replied=!1,t._data={},t;throw new TypeError("Cannot call a class as a function")}return r(i.prototype,[{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}},{key:"send",value:function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=e;if(void 0===e||void 0===t)throw new TypeError("Not enough arguments");if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(o));var r,o=d.cloneArray(i.extraHeaders),s=d.cloneObject(i.eventHandlers),i=i.contentType||"text/plain";for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&this.on(r,s[r]);o.push("Content-Type: ".concat(i)),this._request=new f.OutgoingRequest(c.MESSAGE,e,this._ua,null,o),t&&(this._request.body=t);i=new h(this._ua,this._request,{onRequestTimeout:function(){n._onRequestTimeout()},onTransportError:function(){n._onTransportError()},onReceiveResponse:function(e){n._receiveResponse(e)}});this._newMessage("local",this._request),i.send()}},{key:"init_incoming",value:function(e){this._request=e,this._newMessage("remote",e),this._is_replied||(this._is_replied=!0,e.reply(200)),this._close()}},{key:"accept",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=d.cloneArray(e.extraHeaders),e=e.body;if("incoming"!==this._direction)throw new p.NotSupportedError('"accept" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");this._is_replied=!0,this._request.reply(200,null,t,e)}},{key:"reject",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.status_code||480,n=e.reason_phrase,i=d.cloneArray(e.extraHeaders),e=e.body;if("incoming"!==this._direction)throw new p.NotSupportedError('"reject" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");if(t<300||700<=t)throw new TypeError("Invalid status_code: ".concat(t));this._is_replied=!0,this._request.reply(t,n,i,e)}},{key:"_receiveResponse",value:function(e){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(e.status_code):break;case/^2[0-9]{2}$/.test(e.status_code):this._succeeded("remote",e);break;default:var t=d.sipErrorCause(e.status_code);this._failed("remote",e,t)}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,c.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,c.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newMessage",value:function(e,t){"remote"===e?(this._direction="incoming",this._local_identity=t.to,this._remote_identity=t.from):"local"===e&&(this._direction="outgoing",this._local_identity=t.from,this._remote_identity=t.to),this._ua.newMessage(this,{originator:e,message:this,request:t})}},{key:"_failed",value:function(e,t,n){g("MESSAGE failed"),this._close(),g('emit "failed"'),this.emit("failed",{originator:e,response:t||null,cause:n})}},{key:"_succeeded",value:function(e,t){g("MESSAGE succeeded"),this._close(),g('emit "succeeded"'),this.emit("succeeded",{originator:e,response:t})}}]),i}()},{"./Constants":2,"./Exceptions":6,"./RequestSender":18,"./SIPMessage":19,"./Utils":26,debug:29,events:31}],10:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=e("./URI"),r=e("./Grammar");function s(e,t,n){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");if(!(e&&e instanceof o))throw new TypeError('missing or invalid "uri" parameter');for(var i in this._uri=e,this._parameters={},this.display_name=t,n)Object.prototype.hasOwnProperty.call(n,i)&&this.setParam(i,n[i])}t.exports=(e=[{key:"parse",value:function(e){return-1!==(e=r.parse(e,"Name_Addr_Header"))?e:void 0}}],i((t=s).prototype,[{key:"uri",get:function(){return this._uri}},{key:"display_name",get:function(){return this._display_name},set:function(e){this._display_name=0===e?"0":e}},{key:"setParam",value:function(e,t){e&&(this._parameters[e.toLowerCase()]=null==t?null:t.toString())}},{key:"getParam",value:function(e){if(e)return this._parameters[e.toLowerCase()]}},{key:"hasParam",value:function(e){if(e)return!!this._parameters.hasOwnProperty(e.toLowerCase())}},{key:"deleteParam",value:function(e){var t;if(e=e.toLowerCase(),this._parameters.hasOwnProperty(e))return t=this._parameters[e],delete this._parameters[e],t}},{key:"clearParams",value:function(){this._parameters={}}},{key:"clone",value:function(){return new s(this._uri.clone(),this._display_name,JSON.parse(JSON.stringify(this._parameters)))}},{key:"_quote",value:function(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}},{key:"toString",value:function(){var e,t=this._display_name?'"'.concat(this._quote(this._display_name),'" '):"";for(e in t+="<".concat(this._uri.toString(),">"),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,e)&&(t+=";".concat(e),null!==this._parameters[e]&&(t+="=".concat(this._parameters[e])));return t}}]),i(t,e),s)},{"./Grammar":7,"./URI":25}],11:[function(e,t,n){"use strict";function p(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return a(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var g=e("./Grammar"),m=e("./SIPMessage"),l=e("debug")("JsSIP:ERROR:Parser");l.log=console.warn.bind(console),n.parseMessage=function(e,t){var n,i,o=e.indexOf("\r\n");if(-1!==o){var r=e.substring(0,o),s=g.parse(r,"Request_Response");if(-1!==s){s.status_code?((n=new m.IncomingResponse).status_code=s.status_code,n.reason_phrase=s.reason_phrase):((n=new m.IncomingRequest(t)).method=s.method,n.ruri=s.uri),n.data=e;for(var a=o+2;;){if(-2===(o=function(e,t){var n,i=t,o=0;if(e.substring(i,i+2).match(/(^\r\n)/))return-2;for(;0===o;){if(-1===(n=e.indexOf("\r\n",i)))return n;!e.substring(n+2,n+4).match(/(^\r\n)/)&&e.charAt(n+2).match(/(^\s+)/)?i=n+2:o=n}return o}(e,a))){i=a+2;break}if(-1===o)return void l("parseMessage() | malformed message");if(!0!==(s=function(e,t,n,i){var o,r=t.indexOf(":",n),s=t.substring(n,r).trim(),a=t.substring(r+1,i).trim();switch(s.toLowerCase()){case"via":case"v":e.addHeader("via",a),1===e.getHeaders("via").length?(o=e.parseHeader("Via"))&&(e.via=o,e.via_branch=o.branch):o=0;break;case"from":case"f":e.setHeader("from",a),(o=e.parseHeader("from"))&&(e.from=o,e.from_tag=o.getParam("tag"));break;case"to":case"t":e.setHeader("to",a),(o=e.parseHeader("to"))&&(e.to=o,e.to_tag=o.getParam("tag"));break;case"record-route":if(-1===(o=g.parse(a,"Record_Route")))o=void 0;else{var l,u=p(o);try{for(u.s();!(l=u.n()).done;){var c=l.value;e.addHeader("record-route",a.substring(c.possition,c.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=c.parsed}}catch(e){u.e(e)}finally{u.f()}}break;case"call-id":case"i":e.setHeader("call-id",a),(o=e.parseHeader("call-id"))&&(e.call_id=a);break;case"contact":case"m":if(-1===(o=g.parse(a,"Contact")))o=void 0;else{var f,d=p(o);try{for(d.s();!(f=d.n()).done;){var h=f.value;e.addHeader("contact",a.substring(h.possition,h.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=h.parsed}}catch(e){d.e(e)}finally{d.f()}}break;case"content-length":case"l":e.setHeader("content-length",a),o=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",a),o=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",a),(o=e.parseHeader("cseq"))&&(e.cseq=o.value),e instanceof m.IncomingResponse&&(e.method=o.method);break;case"max-forwards":e.setHeader("max-forwards",a),o=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",a),o=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",a),o=e.parseHeader("proxy-authenticate");break;case"session-expires":case"x":e.setHeader("session-expires",a),(o=e.parseHeader("session-expires"))&&(e.session_expires=o.expires,e.session_expires_refresher=o.refresher);break;case"refer-to":case"r":e.setHeader("refer-to",a),(o=e.parseHeader("refer-to"))&&(e.refer_to=o);break;case"replaces":e.setHeader("replaces",a),(o=e.parseHeader("replaces"))&&(e.replaces=o);break;case"event":case"o":e.setHeader("event",a),(o=e.parseHeader("event"))&&(e.event=o);break;default:e.addHeader(s,a),o=0}return void 0!==o||{error:'error parsing header "'.concat(s,'"')}}(n,e,a,o)))return void l("parseMessage() |",s.error);a=o+2}return n.hasHeader("content-length")?(t=n.getHeader("content-length"),n.body=e.substr(i,t)):n.body=e.substring(i),n}l('parseMessage() | error parsing first line of SIP message: "'.concat(r,'"'))}else l("parseMessage() | no CRLF found, not a SIP message")}},{"./Grammar":7,"./SIPMessage":19,debug:29}],12:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return a(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=s(n),t=(e=i?(e=s(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!==o(e)&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=e("events").EventEmitter,c=e("sdp-transform"),w=e("./Constants"),A=e("./Exceptions"),f=e("./Transactions"),I=e("./Utils"),d=e("./Timers"),h=e("./SIPMessage"),p=e("./Dialog"),g=e("./RequestSender"),m=e("./RTCSession/DTMF"),v=e("./RTCSession/Info"),y=e("./RTCSession/ReferNotifier"),D=e("./RTCSession/ReferSubscriber"),_=e("./URI"),k=e("debug")("JsSIP:RTCSession"),T=e("debug")("JsSIP:ERROR:RTCSession"),x=(T.log=console.warn.bind(console),{STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_ACK:6,STATUS_CANCELED:7,STATUS_TERMINATED:8,STATUS_CONFIRMED:9}),b=["audio","video"];t.exports=function(){var e=s,t=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t);var n=l(s);function s(e){var t;if(this instanceof s)return k("new"),(t=n.call(this))._id=null,t._ua=e,t._status=x.STATUS_NULL,t._dialog=null,t._earlyDialogs={},t._contact=null,t._from_tag=null,t._to_tag=null,t._connection=null,t._connectionPromiseQueue=Promise.resolve(),t._request=null,t._is_canceled=!1,t._cancel_reason="",t._is_confirmed=!1,t._late_sdp=!1,t._rtcOfferConstraints=null,t._rtcAnswerConstraints=null,t._localMediaStream=null,t._localMediaStreamLocallyGenerated=!1,t._rtcReady=!0,t._timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null},t._direction=null,t._local_identity=null,t._remote_identity=null,t._start_time=null,t._end_time=null,t._tones=null,t._audioMuted=!1,t._videoMuted=!1,t._localHold=!1,t._remoteHold=!1,t._sessionTimers={enabled:t._ua.configuration.session_timers,refreshMethod:t._ua.configuration.session_timers_refresh_method,defaultExpires:w.SESSION_EXPIRES,currentExpires:null,running:!1,refresher:!1,timer:null},t._referSubscribers={},t._data={},t;throw new TypeError("Cannot call a class as a function")}return e=[{key:"C",get:function(){return x}}],i((t=s).prototype,[{key:"C",get:function(){return x}},{key:"causes",get:function(){return w.causes}},{key:"id",get:function(){return this._id}},{key:"connection",get:function(){return this._connection}},{key:"contact",get:function(){return this._contact}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}},{key:"start_time",get:function(){return this._start_time}},{key:"end_time",get:function(){return this._end_time}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"status",get:function(){return this._status}},{key:"isInProgress",value:function(){switch(this._status){case x.STATUS_NULL:case x.STATUS_INVITE_SENT:case x.STATUS_1XX_RECEIVED:case x.STATUS_INVITE_RECEIVED:case x.STATUS_WAITING_FOR_ANSWER:return!0;default:return!1}}},{key:"isEstablished",value:function(){switch(this._status){case x.STATUS_ANSWERED:case x.STATUS_WAITING_FOR_ACK:case x.STATUS_CONFIRMED:return!0;default:return!1}}},{key:"isEnded",value:function(){switch(this._status){case x.STATUS_CANCELED:case x.STATUS_TERMINATED:return!0;default:return!1}}},{key:"isMuted",value:function(){return{audio:this._audioMuted,video:this._videoMuted}}},{key:"isOnHold",value:function(){return{local:this._localHold,remote:this._remoteHold}}},{key:"connect",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length?arguments[2]:void 0,o=(k("connect()"),e),r=I.cloneObject(n.eventHandlers),s=I.cloneArray(n.extraHeaders),a=I.cloneObject(n.mediaConstraints,{audio:!0,video:!0}),l=n.mediaStream||null,u=I.cloneObject(n.pcConfig,{iceServers:[]}),c=n.rtcConstraints||null,f=n.rtcOfferConstraints||null;if(this._rtcOfferConstraints=f,this._rtcAnswerConstraints=n.rtcAnswerConstraints||null,this._data=n.data||this._data,void 0===e)throw new TypeError("Not enough arguments");if(this._status!==x.STATUS_NULL)throw new A.InvalidStateError(this._status);if(!window.RTCPeerConnection)throw new A.NotSupportedError("WebRTC not supported");if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(o));for(t in this._sessionTimers.enabled&&I.isDecimal(n.sessionTimersExpires)&&(n.sessionTimersExpires>=w.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=n.sessionTimersExpires:this._sessionTimers.defaultExpires=w.SESSION_EXPIRES),r)Object.prototype.hasOwnProperty.call(r,t)&&this.on(t,r[t]);this._from_tag=I.newTag();var o=n.anonymous||!1,d={from_tag:this._from_tag};this._contact=this._ua.contact.toString({anonymous:o,outbound:!0}),o?(d.from_display_name="Anonymous",d.from_uri=new _("sip","anonymous","anonymous.invalid"),s.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString())),s.push("Privacy: id")):n.fromUserName&&(d.from_uri=new _("sip",n.fromUserName,this._ua.configuration.uri.host),s.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),n.fromDisplayName&&(d.from_display_name=n.fromDisplayName),s.push("Contact: ".concat(this._contact)),s.push("Content-Type: application/sdp"),this._sessionTimers.enabled&&s.push("Session-Expires: ".concat(this._sessionTimers.defaultExpires).concat(this._ua.configuration.session_timers_force_refresher?";refresher=uac":"")),this._request=new h.InitialOutgoingInviteRequest(e,this._ua,d,s),this._id=this._request.call_id+this._from_tag,this._createRTCConnection(u,c),this._direction="outgoing",this._local_identity=this._request.from,this._remote_identity=this._request.to,i&&i(this),this._newRTCSession("local",this._request),this._sendInitialRequest(a,f,l)}},{key:"init_incoming",value:function(e,t){var n,i=this,o=(k("init_incoming()"),e.hasHeader("Content-Type")?e.getHeader("Content-Type").toLowerCase():void 0);e.body&&"application/sdp"!==o?e.reply(415):(this._status=x.STATUS_INVITE_RECEIVED,this._from_tag=e.from_tag,this._id=e.call_id+this._from_tag,this._request=e,this._contact=this._ua.contact.toString(),e.hasHeader("expires")&&(n=1e3*e.getHeader("expires")),e.to_tag=I.newTag(),this._createDialog(e,"UAS",!0)?(e.body?this._late_sdp=!1:this._late_sdp=!0,this._status=x.STATUS_WAITING_FOR_ANSWER,this._timers.userNoAnswerTimer=setTimeout(function(){e.reply(408),i._failed("local",null,w.causes.NO_ANSWER)},this._ua.configuration.no_answer_timeout),n&&(this._timers.expiresTimer=setTimeout(function(){i._status===x.STATUS_WAITING_FOR_ANSWER&&(e.reply(487),i._failed("system",null,w.causes.EXPIRES))},n)),this._direction="incoming",this._local_identity=e.to,this._remote_identity=e.from,t&&t(this),this._newRTCSession("remote",e),this._status!==x.STATUS_TERMINATED&&(o=["Contact: ".concat(this._contact)],void 0!==(n=this._ua.modes.ringing_header_mode)&&(Array.isArray(n)?o=o.concat(n):o.push(n)),e.reply(180,null,o),this._progress("local",null))):e.reply(500,"Missing Contact header field"))}},{key:"answer",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=(k("answer()"),this._request),t=I.cloneArray(e.extraHeaders),o=I.cloneObject(e.mediaConstraints),r=e.mediaStream||null,s=I.cloneObject(e.pcConfig,{iceServers:[]}),a=e.rtcConstraints||null,l=e.rtcAnswerConstraints||null,u=I.cloneObject(e.rtcOfferConstraints),c=!1,f=!1,d=!1,h=!1;if(this._rtcAnswerConstraints=l,this._rtcOfferConstraints=e.rtcOfferConstraints||null,this._data=e.data||this._data,"incoming"!==this._direction)throw new A.NotSupportedError('"answer" not supported for outgoing RTCSession');if(this._status!==x.STATUS_WAITING_FOR_ANSWER)throw new A.InvalidStateError(this._status);if(this._sessionTimers.enabled&&I.isDecimal(e.sessionTimersExpires)&&(e.sessionTimersExpires>=w.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=e.sessionTimersExpires:this._sessionTimers.defaultExpires=w.SESSION_EXPIRES),this._status=x.STATUS_ANSWERED,this._createDialog(i,"UAS")){clearTimeout(this._timers.userNoAnswerTimer),t.unshift("Contact: ".concat(this._contact));e=i.parseSDP();Array.isArray(e.media)||(e.media=[e.media]);var p,g=M(e.media);try{for(g.s();!(p=g.n()).done;){var m=p.value;"audio"===m.type&&(c=!0,m.direction&&"sendrecv"!==m.direction||(d=!0)),"video"===m.type&&(f=!0,m.direction&&"sendrecv"!==m.direction||(h=!0))}}catch(n){g.e(n)}finally{g.f()}if(r&&!1===o.audio){var v,y=M(r.getAudioTracks());try{for(y.s();!(v=y.n()).done;){var D=v.value;r.removeTrack(D)}}catch(n){y.e(n)}finally{y.f()}}if(r&&!1===o.video){var _,b=M(r.getVideoTracks());try{for(b.s();!(_=b.n()).done;){var C=_.value;r.removeTrack(C)}}catch(n){b.e(n)}finally{b.f()}}r||void 0!==o.audio||(o.audio=d),r||void 0!==o.video||(o.video=h),r||c||u.offerToReceiveAudio||(o.audio=!1),r||f||u.offerToReceiveVideo||(o.video=!1),this._createRTCConnection(s,a),Promise.resolve().then(function(){return r||(o.audio||o.video?(n._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(o).catch(function(e){if(n._status===x.STATUS_TERMINATED)throw new Error("terminated");throw i.reply(480),n._failed("local",null,w.causes.USER_DENIED_MEDIA_ACCESS),T('emit "getusermediafailed" [error:%o]',e),n.emit("getusermediafailed",e),new Error("getUserMedia() failed")})):void 0)}).then(function(t){if(n._status===x.STATUS_TERMINATED)throw new Error("terminated");(n._localMediaStream=t)&&t.getTracks().forEach(function(e){n._connection.addTrack(e,t)})}).then(function(){var e,t;if(!n._late_sdp)return e={originator:"remote",type:"offer",sdp:i.body},k('emit "sdp"'),n.emit("sdp",e),t=new RTCSessionDescription({type:"offer",sdp:e.sdp}),n._connectionPromiseQueue=n._connectionPromiseQueue.then(function(){return n._connection.setRemoteDescription(t)}).catch(function(e){throw i.reply(488),n._failed("system",null,w.causes.WEBRTC_ERROR),T('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),n.emit("peerconnection:setremotedescriptionfailed",e),new Error("peerconnection.setRemoteDescription() failed")}),n._connectionPromiseQueue}).then(function(){if(n._status===x.STATUS_TERMINATED)throw new Error("terminated");return n._connecting(i),(n._late_sdp?n._createLocalDescription("offer",n._rtcOfferConstraints):n._createLocalDescription("answer",l)).catch(function(){throw i.reply(500),new Error("_createLocalDescription() failed")})}).then(function(e){if(n._status===x.STATUS_TERMINATED)throw new Error("terminated");n._handleSessionTimersInIncomingRequest(i,t),i.reply(200,null,t,e,function(){n._status=x.STATUS_WAITING_FOR_ACK,n._setInvite2xxTimer(i,e),n._setACKTimer(),n._accepted("local")},function(){n._failed("system",null,w.causes.CONNECTION_ERROR)})}).catch(function(e){n._status!==x.STATUS_TERMINATED&&T(e)})}else i.reply(500,"Error creating dialog")}},{key:"terminate",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};k("terminate()");var n,i,o=e.cause||w.causes.BYE,r=I.cloneArray(e.extraHeaders),s=e.body,a=e.status_code,l=e.reason_phrase;if(this._status===x.STATUS_TERMINATED)throw new A.InvalidStateError(this._status);switch(this._status){case x.STATUS_NULL:case x.STATUS_INVITE_SENT:case x.STATUS_1XX_RECEIVED:if(k("canceling session"),a&&(a<200||700<=a))throw new TypeError("Invalid status_code: ".concat(a));a&&(l=l||w.REASON_PHRASE[a]||"",n="SIP ;cause=".concat(a,' ;text="').concat(l,'"')),this._status===x.STATUS_NULL||this._status===x.STATUS_INVITE_SENT?(this._is_canceled=!0,this._cancel_reason=n):this._status===x.STATUS_1XX_RECEIVED&&this._request.cancel(n),this._status=x.STATUS_CANCELED,this._failed("local",null,w.causes.CANCELED);break;case x.STATUS_WAITING_FOR_ANSWER:case x.STATUS_ANSWERED:if(k("rejecting session"),(a=a||480)<300||700<=a)throw new TypeError("Invalid status_code: ".concat(a));this._request.reply(a,l,r,s),this._failed("local",null,w.causes.REJECTED);break;case x.STATUS_WAITING_FOR_ACK:case x.STATUS_CONFIRMED:if(k("terminating session"),l=e.reason_phrase||w.REASON_PHRASE[a]||"",a&&(a<200||700<=a))throw new TypeError("Invalid status_code: ".concat(a));a&&r.push("Reason: SIP ;cause=".concat(a,'; text="').concat(l,'"')),this._status===x.STATUS_WAITING_FOR_ACK&&"incoming"===this._direction&&this._request.server_transaction.state!==f.C.STATUS_TERMINATED?(i=this._dialog,this.receiveRequest=function(e){e.method===w.ACK&&(t.sendRequest(w.BYE,{extraHeaders:r,body:s}),i.terminate())},this._request.server_transaction.on("stateChanged",function(){t._request.server_transaction.state===f.C.STATUS_TERMINATED&&(t.sendRequest(w.BYE,{extraHeaders:r,body:s}),i.terminate())}),this._ended("local",null,o),this._dialog=i,this._ua.newDialog(i)):(this.sendRequest(w.BYE,{extraHeaders:r,body:s}),this._ended("local",null,o))}}},{key:"sendDTMF",value:function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=(k("sendDTMF() | tones: %s",e),0),r=i.duration||null,s=i.interToneGap||null,t=i.transportType||w.DTMF_TRANSPORT.INFO;if(void 0===e)throw new TypeError("Not enough arguments");if(this._status!==x.STATUS_CONFIRMED&&this._status!==x.STATUS_WAITING_FOR_ACK)throw new A.InvalidStateError(this._status);if(t!==w.DTMF_TRANSPORT.INFO&&t!==w.DTMF_TRANSPORT.RFC2833)throw new TypeError("invalid transportType: ".concat(t));if(!(e="number"==typeof e?e.toString():e)||"string"!=typeof e||!e.match(/^[0-9A-DR#*,]+$/i))throw new TypeError("Invalid tones: ".concat(e));if(r&&!I.isDecimal(r))throw new TypeError("Invalid tone duration: ".concat(r));if(r=r?r<m.C.MIN_DURATION?(k('"duration" value is lower than the minimum allowed, setting it to '.concat(m.C.MIN_DURATION," milliseconds")),m.C.MIN_DURATION):r>m.C.MAX_DURATION?(k('"duration" value is greater than the maximum allowed, setting it to '.concat(m.C.MAX_DURATION," milliseconds")),m.C.MAX_DURATION):Math.abs(r):m.C.DEFAULT_DURATION,i.duration=r,s&&!I.isDecimal(s))throw new TypeError("Invalid interToneGap: ".concat(s));function a(){var e,t,n=this;this._status===x.STATUS_TERMINATED||!this._tones||o>=this._tones.length?this._tones=null:(e=this._tones[o],o+=1,t=","===e?2e3:(t=new m(this),i.eventHandlers={onFailed:function(){n._tones=null}},t.send(e,i),r+s),setTimeout(a.bind(this),t))}s=s?s<m.C.MIN_INTER_TONE_GAP?(k('"interToneGap" value is lower than the minimum allowed, setting it to '.concat(m.C.MIN_INTER_TONE_GAP," milliseconds")),m.C.MIN_INTER_TONE_GAP):Math.abs(s):m.C.DEFAULT_INTER_TONE_GAP,t!==w.DTMF_TRANSPORT.RFC2833?this._tones?this._tones+=e:(this._tones=e,a.call(this)):(t=this._getDTMFRTPSender())&&(e=t.toneBuffer+e,t.insertDTMF(e,r,s))}},{key:"sendInfo",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(k("sendInfo()"),this._status!==x.STATUS_CONFIRMED&&this._status!==x.STATUS_WAITING_FOR_ACK)throw new A.InvalidStateError(this._status);new v(this).send(e,t,n)}},{key:"mute",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!1},t=(k("mute()"),!1),n=!1;!1===this._audioMuted&&e.audio&&(this._audioMuted=t=!0,this._toggleMuteAudio(!0)),!1===this._videoMuted&&e.video&&(this._videoMuted=n=!0,this._toggleMuteVideo(!0)),!0!==t&&!0!==n||this._onmute({audio:t,video:n})}},{key:"unmute",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!0},t=(k("unmute()"),!1),n=!1;!0===this._audioMuted&&e.audio&&(this._audioMuted=!(t=!0))===this._localHold&&this._toggleMuteAudio(!1),!0===this._videoMuted&&e.video&&(this._videoMuted=!(n=!0))===this._localHold&&this._toggleMuteVideo(!1),!0!==t&&!0!==n||this._onunmute({audio:t,video:n})}},{key:"hold",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;if(k("hold()"),this._status!==x.STATUS_WAITING_FOR_ACK&&this._status!==x.STATUS_CONFIRMED)return!1;if(!0===this._localHold)return!1;if(!this._isReadyToReOffer())return!1;this._localHold=!0,this._onhold("local");var i={succeeded:function(){n&&n()},failed:function(){e.terminate({cause:w.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Hold Failed"})}};return t.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:i,extraHeaders:t.extraHeaders}):this._sendReinvite({eventHandlers:i,extraHeaders:t.extraHeaders}),!0}},{key:"unhold",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;if(k("unhold()"),this._status!==x.STATUS_WAITING_FOR_ACK&&this._status!==x.STATUS_CONFIRMED)return!1;if(!1===this._localHold)return!1;if(!this._isReadyToReOffer())return!1;this._localHold=!1,this._onunhold("local");var i={succeeded:function(){n&&n()},failed:function(){e.terminate({cause:w.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Unhold Failed"})}};return t.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:i,extraHeaders:t.extraHeaders}):this._sendReinvite({eventHandlers:i,extraHeaders:t.extraHeaders}),!0}},{key:"renegotiate",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,i=(k("renegotiate()"),t.rtcOfferConstraints||null);if(this._status!==x.STATUS_WAITING_FOR_ACK&&this._status!==x.STATUS_CONFIRMED)return!1;if(!this._isReadyToReOffer())return!1;var o={succeeded:function(){n&&n()},failed:function(){e.terminate({cause:w.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Media Renegotiation Failed"})}};return this._setLocalMediaStatus(),t.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:o,rtcOfferConstraints:i,extraHeaders:t.extraHeaders}):this._sendReinvite({eventHandlers:o,rtcOfferConstraints:i,extraHeaders:t.extraHeaders}),!0}},{key:"refer",value:function(e,t){var n=this,i=(k("refer()"),e);if(this._status!==x.STATUS_WAITING_FOR_ACK&&this._status!==x.STATUS_CONFIRMED)return!1;if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(i));var i=new D(this),o=(i.sendRefer(e,t),i.id);return(this._referSubscribers[o]=i).on("requestFailed",function(){delete n._referSubscribers[o]}),i.on("accepted",function(){delete n._referSubscribers[o]}),i.on("failed",function(){delete n._referSubscribers[o]}),i}},{key:"sendRequest",value:function(e,t){return k("sendRequest()"),this._dialog.sendRequest(e,t)}},{key:"receiveRequest",value:function(e){var t=this;if(k("receiveRequest()"),e.method===w.CANCEL)this._status!==x.STATUS_WAITING_FOR_ANSWER&&this._status!==x.STATUS_ANSWERED||(this._status=x.STATUS_CANCELED,this._request.reply(487),this._failed("remote",e,w.causes.CANCELED));else switch(e.method){case w.ACK:if(this._status!==x.STATUS_WAITING_FOR_ACK)return;if(this._status=x.STATUS_CONFIRMED,clearTimeout(this._timers.ackTimer),clearTimeout(this._timers.invite2xxTimer),this._late_sdp){if(!e.body){this.terminate({cause:w.causes.MISSING_SDP,status_code:400});break}var n={originator:"remote",type:"answer",sdp:e.body},i=(k('emit "sdp"'),this.emit("sdp",n),new RTCSessionDescription({type:"answer",sdp:n.sdp}));this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return t._connection.setRemoteDescription(i)}).then(function(){t._is_confirmed||t._confirmed("remote",e)}).catch(function(e){t.terminate({cause:w.causes.BAD_MEDIA_DESCRIPTION,status_code:488}),T('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),t.emit("peerconnection:setremotedescriptionfailed",e)})}else this._is_confirmed||this._confirmed("remote",e);break;case w.BYE:this._status===x.STATUS_CONFIRMED||this._status===x.STATUS_WAITING_FOR_ACK?(e.reply(200),this._ended("remote",e,w.causes.BYE)):this._status===x.STATUS_INVITE_RECEIVED||this._status===x.STATUS_WAITING_FOR_ANSWER?(e.reply(200),this._request.reply(487,"BYE Received"),this._ended("remote",e,w.causes.BYE)):e.reply(403,"Wrong Status");break;case w.INVITE:this._status===x.STATUS_CONFIRMED?e.hasHeader("replaces")?this._receiveReplaces(e):this._receiveReinvite(e):e.reply(403,"Wrong Status");break;case w.INFO:this._status===x.STATUS_1XX_RECEIVED||this._status===x.STATUS_WAITING_FOR_ANSWER||this._status===x.STATUS_ANSWERED||this._status===x.STATUS_WAITING_FOR_ACK||this._status===x.STATUS_CONFIRMED?(n=e.hasHeader("Content-Type")?e.getHeader("Content-Type").toLowerCase():void 0)&&n.match(/^application\/dtmf-relay/i)?new m(this).init_incoming(e):void 0!==n?new v(this).init_incoming(e):e.reply(415):e.reply(403,"Wrong Status");break;case w.UPDATE:this._status===x.STATUS_CONFIRMED?this._receiveUpdate(e):e.reply(403,"Wrong Status");break;case w.REFER:this._status===x.STATUS_CONFIRMED?this._receiveRefer(e):e.reply(403,"Wrong Status");break;case w.NOTIFY:n={event:e.event,request:e,taken:!1};if(this.emit("sipEvent",n),n.taken){e.reply(200);break}this._status===x.STATUS_CONFIRMED?this._receiveNotify(e):e.reply(403,"Wrong Status");break;default:e.reply(501)}}},{key:"onTransportError",value:function(){T("onTransportError()"),this._status!==x.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:w.causes.CONNECTION_ERROR,cause:w.causes.CONNECTION_ERROR})}},{key:"onRequestTimeout",value:function(){T("onRequestTimeout()"),this._status!==x.STATUS_TERMINATED&&this.terminate({status_code:408,reason_phrase:w.causes.REQUEST_TIMEOUT,cause:w.causes.REQUEST_TIMEOUT})}},{key:"onDialogError",value:function(){T("onDialogError()"),this._status!==x.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:w.causes.DIALOG_ERROR,cause:w.causes.DIALOG_ERROR})}},{key:"newDTMF",value:function(e){k("newDTMF()"),this.emit("newDTMF",e)}},{key:"newInfo",value:function(e){k("newInfo()"),this.emit("newInfo",e)}},{key:"_isReadyToReOffer",value:function(){return this._rtcReady?this._dialog?!0!==this._dialog.uac_pending_reply&&!0!==this._dialog.uas_pending_reply||(k("_isReadyToReOffer() | there is another INVITE/UPDATE transaction in progress"),!1):(k("_isReadyToReOffer() | session not established yet"),!1):(k("_isReadyToReOffer() | internal WebRTC status not ready"),!1)}},{key:"_close",value:function(){if(k("close()"),this._localMediaStream&&this._localMediaStreamLocallyGenerated&&(k("close() | closing local MediaStream"),I.closeMediaStream(this._localMediaStream)),this._status!==x.STATUS_TERMINATED){if(this._status=x.STATUS_TERMINATED,this._connection)try{this._connection.close()}catch(e){T("close() | error closing the RTCPeerConnection: %o",e)}for(var e in this._timers)Object.prototype.hasOwnProperty.call(this._timers,e)&&clearTimeout(this._timers[e]);for(var t in clearTimeout(this._sessionTimers.timer),this._dialog&&(this._dialog.terminate(),delete this._dialog),this._earlyDialogs)Object.prototype.hasOwnProperty.call(this._earlyDialogs,t)&&(this._earlyDialogs[t].terminate(),delete this._earlyDialogs[t]);for(var n in this._referSubscribers)Object.prototype.hasOwnProperty.call(this._referSubscribers,n)&&delete this._referSubscribers[n];this._ua.destroyRTCSession(this)}}},{key:"_setInvite2xxTimer",value:function(t,n){var i=d.T1;this._timers.invite2xxTimer=setTimeout(function e(){this._status===x.STATUS_WAITING_FOR_ACK&&(t.reply(200,null,["Contact: ".concat(this._contact)],n),i<d.T2&&(i*=2)>d.T2&&(i=d.T2),this._timers.invite2xxTimer=setTimeout(e.bind(this),i))}.bind(this),i)}},{key:"_setACKTimer",value:function(){var e=this;this._timers.ackTimer=setTimeout(function(){e._status===x.STATUS_WAITING_FOR_ACK&&(k("no ACK received, terminating the session"),clearTimeout(e._timers.invite2xxTimer),e.sendRequest(w.BYE),e._ended("remote",null,w.causes.NO_ACK))},d.TIMER_H)}},{key:"_createRTCConnection",value:function(e,t){var n=this;this._connection=new RTCPeerConnection(e,t),this._connection.addEventListener("iceconnectionstatechange",function(){var t,e=n._connection.iceConnectionState;"failed"===e&&n.terminate({cause:w.causes.RTP_TIMEOUT,status_code:408,reason_phrase:w.causes.RTP_TIMEOUT}),void 0!==n._ua.modes.chrome_rtp_timeout_fix&&navigator.webkitGetUserMedia&&"disconnected"===e&&(t=n._ua.modes.chrome_rtp_timeout_fix,k("AC: Chrome RTP timeout fix: iceConnectionState==disconnected: check that this will continue for "+t+" seconds..."),function e(){"disconnected"===n._connection.iceConnectionState?0<t--?setTimeout(e,1e3):(k("AC: Chrome RTP timeout fix: Hangup call"),n.terminate({cause:w.causes.RTP_TIMEOUT,status_code:408,reason_phrase:w.causes.RTP_TIMEOUT})):k("AC: Chrome RTP timeout fix: iceConnectionState="+n._connection.iceConnectionState)}())}),k('emit "peerconnection"'),this.emit("peerconnection",{peerconnection:this._connection})}},{key:"_createLocalDescription",value:function(s,t){var a=this;if(k("createLocalDescription()"),"offer"!==s&&"answer"!==s)throw new Error('createLocalDescription() | invalid type "'.concat(s,'"'));var l=this._connection;return this._rtcReady=!1,Promise.resolve().then(function(){return"offer"===s?l.createOffer(t).catch(function(e){return T('emit "peerconnection:createofferfailed" [error:%o]',e),a.emit("peerconnection:createofferfailed",e),Promise.reject(e)}):l.createAnswer(t).catch(function(e){return T('emit "peerconnection:createanswerfailed" [error:%o]',e),a.emit("peerconnection:createanswerfailed",e),Promise.reject(e)})}).then(function(e){return l.setLocalDescription(e).catch(function(e){return a._rtcReady=!0,T('emit "peerconnection:setlocaldescriptionfailed" [error:%o]',e),a.emit("peerconnection:setlocaldescriptionfailed",e),Promise.reject(e)})}).then(function(){var e;return"complete"!==l.iceGatheringState||t&&t.iceRestart?new Promise(function(t){function n(){l.removeEventListener("icecandidate",i),l.removeEventListener("icegatheringstatechange",o),r=!0,a._rtcReady=!0;var e={originator:"local",type:s,sdp:l.localDescription.sdp};k('emit "sdp"'),a.emit("sdp",e),t(e.sdp)}var i,o,r=!1;l.addEventListener("icecandidate",i=function(e){e=e.candidate;e?a.emit("icecandidate",{candidate:e,ready:n}):r||n()}),l.addEventListener("icegatheringstatechange",o=function(){"complete"!==l.iceGatheringState||r||n()}),void 0!==a._ua.modes.ice_timeout_fix&&setTimeout(function(){r||(k("AC: ICE gathering timeout fix"),n())},a._ua.modes.ice_timeout_fix)}):(a._rtcReady=!0,e={originator:"local",type:s,sdp:l.localDescription.sdp},k('emit "sdp"'),a.emit("sdp",e),Promise.resolve(e.sdp))})}},{key:"_createDialog",value:function(e,t,n){var i="UAS"===t?e.to_tag:e.from_tag,o="UAS"===t?e.from_tag:e.to_tag,i=e.call_id+i+o,o=this._earlyDialogs[i];if(n)return!!o||((o=new p(this,e,t,p.C.STATUS_EARLY)).error?(k(o.error),this._failed("remote",e,w.causes.INTERNAL_ERROR),!1):(this._earlyDialogs[i]=o,!0));if(this._from_tag=e.from_tag,this._to_tag=e.to_tag,o)return o.update(e,t),this._dialog=o,delete this._earlyDialogs[i],!0;n=new p(this,e,t);return n.error?(k(n.error),this._failed("remote",e,w.causes.INTERNAL_ERROR),!1):(this._dialog=n,!0)}},{key:"_receiveReinvite",value:function(i){var t=this,e=(k("receiveReinvite()"),i.hasHeader("Content-Type")?i.getHeader("Content-Type").toLowerCase():void 0),o={request:i,callback:void 0,reject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(r=!0,e.status_code||403),n=e.reason_phrase||"",e=I.cloneArray(e.extraHeaders);if(this._status!==x.STATUS_CONFIRMED)return!1;if(t<300||700<=t)throw new TypeError("Invalid status_code: ".concat(t));i.reply(t,n,e)}.bind(this)},r=!1;if(this.emit("reinvite",o),!r){if(this._late_sdp=!1,i.body)return"application/sdp"!==e?(k("invalid Content-Type"),void i.reply(415)):void this._processInDialogSdpOffer(i).then(function(e){t._status!==x.STATUS_TERMINATED&&n.call(t,e)}).catch(function(e){T(e)});this._late_sdp=!0,this._remoteHold&&(this._remoteHold=!1,this._onunhold("remote")),void(this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return t._createLocalDescription("offer",t._rtcOfferConstraints)}).then(function(e){n.call(t,e)}).catch(function(){i.reply(500)}))}function n(e){var t=this,n=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(i,n),this._late_sdp&&(e=this._mangleOffer(e)),i.reply(200,null,n,e,function(){t._status=x.STATUS_WAITING_FOR_ACK,t._setInvite2xxTimer(i,e),t._setACKTimer()}),"function"==typeof o.callback&&o.callback()}}},{key:"_receiveUpdate",value:function(i){var t=this,e=(k("receiveUpdate()"),i.hasHeader("Content-Type")?i.getHeader("Content-Type").toLowerCase():void 0),n={request:i,callback:void 0,reject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(o=!0,e.status_code||403),n=e.reason_phrase||"",e=I.cloneArray(e.extraHeaders);if(this._status!==x.STATUS_CONFIRMED)return!1;if(t<300||700<=t)throw new TypeError("Invalid status_code: ".concat(t));i.reply(t,n,e)}.bind(this)},o=!1;if(this.emit("update",n),!o)if(i.body){if("application/sdp"!==e)return k("invalid Content-Type"),void i.reply(415);this._processInDialogSdpOffer(i).then(function(e){t._status!==x.STATUS_TERMINATED&&r.call(t,e)}).catch(function(e){T(e)})}else r.call(this,null);function r(e){var t=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(i,t),i.reply(200,null,t,e),"function"==typeof n.callback&&n.callback()}}},{key:"_processInDialogSdpOffer",value:function(t){var n=this;k("_processInDialogSdpOffer()");var e,i=t.parseSDP(),o=!1,r=M(i.media);try{for(r.s();!(e=r.n()).done;){var s=e.value;if(-1!==b.indexOf(s.type)){var a=s.direction||i.direction||"sendrecv";if("sendonly"!==a&&"inactive"!==a){o=!1;break}o=!0}}}catch(t){r.e(t)}finally{r.f()}var l={originator:"remote",type:"offer",sdp:t.body},u=(k('emit "sdp"'),this.emit("sdp",l),new RTCSessionDescription({type:"offer",sdp:l.sdp}));return this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if(n._status===x.STATUS_TERMINATED)throw new Error("terminated");return n._connection.setRemoteDescription(u).catch(function(e){throw t.reply(488),T('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),n.emit("peerconnection:setremotedescriptionfailed",e),e})}).then(function(){if(n._status===x.STATUS_TERMINATED)throw new Error("terminated");!0===n._remoteHold&&!1===o?(n._remoteHold=!1,n._onunhold("remote")):!1===n._remoteHold&&!0===o&&(n._remoteHold=!0,n._onhold("remote"))}).then(function(){if(n._status===x.STATUS_TERMINATED)throw new Error("terminated");return n._createLocalDescription("answer",n._rtcAnswerConstraints).catch(function(e){throw t.reply(500),T('emit "peerconnection:createtelocaldescriptionfailed" [error:%o]',e),e})}).catch(function(e){T("_processInDialogSdpOffer() failed [error: %o]",e)}),this._connectionPromiseQueue}},{key:"_receiveRefer",value:function(o){var n=this;if(k("receiveRefer()"),!o.refer_to)return k("no Refer-To header field present in REFER"),void o.reply(400);if(o.refer_to.uri.scheme!==w.SIP)return k("Refer-To header field points to a non-SIP URI scheme"),void o.reply(416);o.reply(202);var r=new y(this,o.cseq);k('emit "refer"'),this.emit("refer",{request:o,accept:function(e,t){!function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e="function"==typeof e?e:null,this._status!==x.STATUS_WAITING_FOR_ACK&&this._status!==x.STATUS_CONFIRMED)return!1;var n,i=new s(this._ua);i.on("progress",function(e){e=e.response;r.notify(e.status_code,e.reason_phrase)}),i.on("accepted",function(e){e=e.response;r.notify(e.status_code,e.reason_phrase)}),i.on("_failed",function(e){var t=e.message,e=e.cause;t?r.notify(t.status_code,t.reason_phrase):r.notify(487,e)}),o.refer_to.uri.hasHeader("replaces")&&(n=decodeURIComponent(o.refer_to.uri.getHeader("replaces")),t.extraHeaders=I.cloneArray(t.extraHeaders),t.extraHeaders.push("Replaces: ".concat(n))),i.connect(o.refer_to.uri.toAor(),t,e)}.call(n,e,t)},reject:function(){!function(){r.notify(603)}.call(n)}})}},{key:"_receiveNotify",value:function(e){if("refer"===(k("receiveNotify()"),e.event||e.reply(400),e.event.event)){var t;if(e.event.params&&e.event.params.id)t=e.event.params.id,t=this._referSubscribers[t];else{if(1!==Object.keys(this._referSubscribers).length)return void e.reply(400,"Missing event id parameter");t=this._referSubscribers[Object.keys(this._referSubscribers)[0]]}t?(t.receiveNotify(e),e.reply(200)):e.reply(481,"Subscription does not exist")}else e.reply(489)}},{key:"_receiveReplaces",value:function(i){var t=this;k("receiveReplaces()"),this.emit("replaces",{request:i,accept:function(e){!function(e){var t=this;if(this._status!==x.STATUS_WAITING_FOR_ACK&&this._status!==x.STATUS_CONFIRMED)return!1;var n=new s(this._ua);n.on("confirmed",function(){t.terminate()}),n.init_incoming(i,e)}.call(t,e)},reject:function(){!function(){k("Replaced INVITE rejected by the user"),i.reply(486)}.call(t)}})}},{key:"_sendInitialRequest",value:function(e,n,t){var i=this,o=new g(this._ua,this._request,{onRequestTimeout:function(){i.onRequestTimeout()},onTransportError:function(){i.onTransportError()},onAuthenticated:function(e){i._request=e},onReceiveResponse:function(e){i._receiveInviteResponse(e)}});Promise.resolve().then(function(){return t||(e.audio||e.video?(i._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(e).catch(function(e){if(i._status===x.STATUS_TERMINATED)throw new Error("terminated");throw i._failed("local",null,w.causes.USER_DENIED_MEDIA_ACCESS),T('emit "getusermediafailed" [error:%o]',e),i.emit("getusermediafailed",e),e})):void 0)}).then(function(t){if(i._status===x.STATUS_TERMINATED)throw new Error("terminated");return(i._localMediaStream=t)&&t.getTracks().forEach(function(e){i._connection.addTrack(e,t)}),i._connecting(i._request),i._createLocalDescription("offer",n).catch(function(e){throw i._failed("local",null,w.causes.WEBRTC_ERROR),e})}).then(function(e){if(i._is_canceled||i._status===x.STATUS_TERMINATED)throw new Error("terminated");i._request.body=e,i._status=x.STATUS_INVITE_SENT,k('emit "sending" [request:%o]',i._request),i.emit("sending",{request:i._request}),o.send()}).catch(function(e){i._status!==x.STATUS_TERMINATED&&T(e)})}},{key:"_getDTMFRTPSender",value:function(){var e=this._connection.getSenders().find(function(e){return e.track&&"audio"===e.track.kind});if(e&&e.dtmf)return e.dtmf;T("sendDTMF() | no local audio track to send DTMF with")}},{key:"_receiveInviteResponse",value:function(t){var n=this;if(k("receiveInviteResponse()"),this._dialog&&200<=t.status_code&&t.status_code<=299){if(this._dialog.id.call_id===t.call_id&&this._dialog.id.local_tag===t.from_tag&&this._dialog.id.remote_tag===t.to_tag)return void this.sendRequest(w.ACK);var e=new p(this,t,"UAC");return void 0!==e.error?void k(e.error):(this.sendRequest(w.ACK),void this.sendRequest(w.BYE))}if(this._is_canceled)100<=t.status_code&&t.status_code<200?this._request.cancel(this._cancel_reason):200<=t.status_code&&t.status_code<299&&this._acceptAndTerminate(t);else if(this._status===x.STATUS_INVITE_SENT||this._status===x.STATUS_1XX_RECEIVED)switch(!0){case/^100$/.test(t.status_code):this._status=x.STATUS_1XX_RECEIVED;break;case/^1[0-9]{2}$/.test(t.status_code):if(!t.to_tag){k("1xx response received without to tag");break}if(t.hasHeader("contact")&&!this._createDialog(t,"UAC",!0))break;if(this._status=x.STATUS_1XX_RECEIVED,!t.body){this._progress("remote",t);break}var i={originator:"remote",type:"answer",sdp:t.body},o=(k('emit "sdp"'),this.emit("sdp",i),new RTCSessionDescription({type:"answer",sdp:i.sdp}));this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return n._connection.setRemoteDescription(o)}).then(function(){return n._progress("remote",t)}).catch(function(e){T('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),n.emit("peerconnection:setremotedescriptionfailed",e)});break;case/^2[0-9]{2}$/.test(t.status_code):if(this._status=x.STATUS_CONFIRMED,!t.body){this._acceptAndTerminate(t,400,w.causes.MISSING_SDP),this._failed("remote",t,w.causes.BAD_MEDIA_DESCRIPTION);break}if(!this._createDialog(t,"UAC"))break;var i={originator:"remote",type:"answer",sdp:t.body},r=(k('emit "sdp"'),this.emit("sdp",i),new RTCSessionDescription({type:"answer",sdp:i.sdp}));this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if("stable"===n._connection.signalingState)return n._connection.createOffer(n._rtcOfferConstraints).then(function(e){return n._connection.setLocalDescription(e)}).catch(function(e){n._acceptAndTerminate(t,500,e.toString()),n._failed("local",t,w.causes.WEBRTC_ERROR)})}).then(function(){n._connection.setRemoteDescription(r).then(function(){n._handleSessionTimersInIncomingResponse(t),n._accepted("remote",t),n.sendRequest(w.ACK),n._confirmed("local",null)}).catch(function(e){n._acceptAndTerminate(t,488,"Not Acceptable Here"),n._failed("remote",t,w.causes.BAD_MEDIA_DESCRIPTION),T('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),n.emit("peerconnection:setremotedescriptionfailed",e)})});break;default:i=I.sipErrorCause(t.status_code);this._failed("remote",t,i)}}},{key:"_sendReinvite",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=(k("sendReinvite()"),I.cloneArray(e.extraHeaders)),o=I.cloneObject(e.eventHandlers),t=e.rtcOfferConstraints||this._rtcOfferConstraints||null,r=!1;function s(e){o.failed&&o.failed(e)}i.push("Contact: ".concat(this._contact)),i.push("Content-Type: application/sdp"),this._sessionTimers.running&&i.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return n._createLocalDescription("offer",t)}).then(function(e){var t={originator:"local",type:"offer",sdp:e=n._mangleOffer(e)};k('emit "sdp"'),n.emit("sdp",t),n.sendRequest(w.INVITE,{extraHeaders:i,body:e,eventHandlers:{onSuccessResponse:function(e){(function(e){var t,n,i=this;this._status===x.STATUS_TERMINATED||(this.sendRequest(w.ACK),r)||(this._handleSessionTimersInIncomingResponse(e),e.body&&e.hasHeader("Content-Type")&&"application/sdp"===e.getHeader("Content-Type").toLowerCase()?(t={originator:"remote",type:"answer",sdp:e.body},k('emit "sdp"'),this.emit("sdp",t),n=new RTCSessionDescription({type:"answer",sdp:t.sdp}),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return i._connection.setRemoteDescription(n)}).then(function(){o.succeeded&&o.succeeded(e)}).catch(function(e){s.call(i),T('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),i.emit("peerconnection:setremotedescriptionfailed",e)})):s.call(this))}).call(n,e),r=!0},onErrorResponse:function(e){s.call(n,e)},onTransportError:function(){n.onTransportError()},onRequestTimeout:function(){n.onRequestTimeout()},onDialogError:function(){n.onDialogError()}}})}).catch(function(){s()})}},{key:"_sendUpdate",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=(k("sendUpdate()"),I.cloneArray(e.extraHeaders)),o=I.cloneObject(e.eventHandlers),t=e.rtcOfferConstraints||this._rtcOfferConstraints||null,r=e.sdpOffer||!1,s=!1;function a(e){var t,n,i=this;this._status===x.STATUS_TERMINATED||s||(this._handleSessionTimersInIncomingResponse(e),r?e.body&&e.hasHeader("Content-Type")&&"application/sdp"===e.getHeader("Content-Type").toLowerCase()?(t={originator:"remote",type:"answer",sdp:e.body},k('emit "sdp"'),this.emit("sdp",t),n=new RTCSessionDescription({type:"answer",sdp:t.sdp}),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return i._connection.setRemoteDescription(n)}).then(function(){o.succeeded&&o.succeeded(e)}).catch(function(e){l.call(i),T('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),i.emit("peerconnection:setremotedescriptionfailed",e)})):l.call(this):o.succeeded&&o.succeeded(e))}function l(e){o.failed&&o.failed(e)}i.push("Contact: ".concat(this._contact)),this._sessionTimers.running&&i.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),r?(i.push("Content-Type: application/sdp"),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return n._createLocalDescription("offer",t)}).then(function(e){var t={originator:"local",type:"offer",sdp:e=n._mangleOffer(e)};k('emit "sdp"'),n.emit("sdp",t),n.sendRequest(w.UPDATE,{extraHeaders:i,body:e,eventHandlers:{onSuccessResponse:function(e){a.call(n,e),s=!0},onErrorResponse:function(e){l.call(n,e)},onTransportError:function(){n.onTransportError()},onRequestTimeout:function(){n.onRequestTimeout()},onDialogError:function(){n.onDialogError()}}})}).catch(function(){l.call(n)})):this.sendRequest(w.UPDATE,{extraHeaders:i,eventHandlers:{onSuccessResponse:function(e){a.call(n,e)},onErrorResponse:function(e){l.call(n,e)},onTransportError:function(){n.onTransportError()},onRequestTimeout:function(){n.onRequestTimeout()},onDialogError:function(){n.onDialogError()}}})}},{key:"_acceptAndTerminate",value:function(e,t,n){k("acceptAndTerminate()");var i=[];t&&(n=n||w.REASON_PHRASE[t]||"",i.push("Reason: SIP ;cause=".concat(t,'; text="').concat(n,'"'))),(this._dialog||this._createDialog(e,"UAC"))&&(this.sendRequest(w.ACK),this.sendRequest(w.BYE,{extraHeaders:i})),this._status=x.STATUS_TERMINATED}},{key:"_mangleOffer",value:function(e){if(!this._localHold&&!this._remoteHold)return e;if(e=c.parse(e),this._localHold&&!this._remoteHold){k("mangleOffer() | me on hold, mangling offer");var t,n=M(e.media);try{for(n.s();!(t=n.n()).done;){var i=t.value;-1!==b.indexOf(i.type)&&(!i.direction||"sendrecv"===i.direction?i.direction="sendonly":"recvonly"===i.direction&&(i.direction="inactive"))}}catch(e){n.e(e)}finally{n.f()}}else if(this._localHold&&this._remoteHold){k("mangleOffer() | both on hold, mangling offer");var o,r=M(e.media);try{for(r.s();!(o=r.n()).done;){var s=o.value;-1!==b.indexOf(s.type)&&(s.direction="inactive")}}catch(e){r.e(e)}finally{r.f()}}else if(this._remoteHold){k("mangleOffer() | remote on hold, mangling offer");var a,l=M(e.media);try{for(l.s();!(a=l.n()).done;){var u=a.value;-1!==b.indexOf(u.type)&&(!u.direction||"sendrecv"===u.direction?u.direction="recvonly":"recvonly"===u.direction&&(u.direction="inactive"))}}catch(e){l.e(e)}finally{l.f()}}return c.write(e)}},{key:"_setLocalMediaStatus",value:function(){var e=!0,t=!0;(this._localHold||this._remoteHold)&&(t=e=!1),this._audioMuted&&(e=!1),this._videoMuted&&(t=!1),this._toggleMuteAudio(!e),this._toggleMuteVideo(!t)}},{key:"_handleSessionTimersInIncomingRequest",value:function(e,t){this._sessionTimers.enabled&&(e=e.session_expires&&e.session_expires>=w.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=e.session_expires,e.session_expires_refresher||"uas"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,"uas"),t.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(e)),this._sessionTimers.refresher="uas"===e,this._runSessionTimer())}},{key:"_handleSessionTimersInIncomingResponse",value:function(e){this._sessionTimers.enabled&&(e=e.session_expires&&e.session_expires>=w.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=e.session_expires,e.session_expires_refresher||"uac"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,"uac"),this._sessionTimers.refresher="uac"===e,this._runSessionTimer())}},{key:"_runSessionTimer",value:function(){var e=this,t=this._sessionTimers.currentExpires;this._sessionTimers.running=!0,clearTimeout(this._sessionTimers.timer),this._sessionTimers.refresher?this._sessionTimers.timer=setTimeout(function(){e._status!==x.STATUS_TERMINATED&&(k("runSessionTimer() | sending session refresh request"),e._sessionTimers.refreshMethod===w.UPDATE?e._sendUpdate():e._sendReinvite())},500*t):this._sessionTimers.timer=setTimeout(function(){e._status!==x.STATUS_TERMINATED&&(T("runSessionTimer() | timer expired, terminating the session"),e.terminate({cause:w.causes.REQUEST_TIMEOUT,status_code:408,reason_phrase:"Session Timer Expired"}))},1100*t)}},{key:"_toggleMuteAudio",value:function(e){var t,n=M(this._connection.getSenders().filter(function(e){return e.track&&"audio"===e.track.kind}));try{for(n.s();!(t=n.n()).done;)t.value.track.enabled=!e}catch(e){n.e(e)}finally{n.f()}}},{key:"_toggleMuteVideo",value:function(e){var t,n=M(this._connection.getSenders().filter(function(e){return e.track&&"video"===e.track.kind}));try{for(n.s();!(t=n.n()).done;)t.value.track.enabled=!e}catch(e){n.e(e)}finally{n.f()}}},{key:"_newRTCSession",value:function(e,t){k("newRTCSession()"),this._ua.newRTCSession(this,{originator:e,session:this,request:t})}},{key:"_connecting",value:function(e){k("session connecting"),k('emit "connecting"'),this.emit("connecting",{request:e})}},{key:"_progress",value:function(e,t){k("session progress"),k('emit "progress"'),this.emit("progress",{originator:e,response:t||null})}},{key:"_accepted",value:function(e,t){k("session accepted"),this._start_time=new Date,k('emit "accepted"'),this.emit("accepted",{originator:e,response:t||null})}},{key:"_confirmed",value:function(e,t){k("session confirmed"),this._is_confirmed=!0,k('emit "confirmed"'),this.emit("confirmed",{originator:e,ack:t||null})}},{key:"_ended",value:function(e,t,n){k("session ended"),this._end_time=new Date,this._close(),k('emit "ended"'),this.emit("ended",{originator:e,message:t||null,cause:n})}},{key:"_failed",value:function(e,t,n){k("session failed"),k('emit "_failed"'),this.emit("_failed",{originator:e,message:t||null,cause:n}),this._close(),k('emit "failed"'),this.emit("failed",{originator:e,message:t||null,cause:n})}},{key:"_onhold",value:function(e){k("session onhold"),this._setLocalMediaStatus(),k('emit "hold"'),this.emit("hold",{originator:e})}},{key:"_onunhold",value:function(e){k("session onunhold"),this._setLocalMediaStatus(),k('emit "unhold"'),this.emit("unhold",{originator:e})}},{key:"_onmute",value:function(e){var t=e.audio,e=e.video;k("session onmute"),this._setLocalMediaStatus(),k('emit "muted"'),this.emit("muted",{audio:t,video:e})}},{key:"_onunmute",value:function(e){var t=e.audio,e=e.video;k("session onunmute"),this._setLocalMediaStatus(),k('emit "unmuted"'),this.emit("unmuted",{audio:t,video:e})}}]),i(t,e),s}()},{"./Constants":2,"./Dialog":3,"./Exceptions":6,"./RTCSession/DTMF":13,"./RTCSession/Info":14,"./RTCSession/ReferNotifier":15,"./RTCSession/ReferSubscriber":16,"./RequestSender":18,"./SIPMessage":19,"./Timers":21,"./Transactions":22,"./URI":25,"./Utils":26,debug:29,events:31,"sdp-transform":35}],13:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n),t=(e=i?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!==o(e)&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=e("events").EventEmitter,c=e("../Constants"),f=e("../Exceptions"),d=e("../Utils"),h=e("debug")("JsSIP:RTCSession:DTMF"),p=(e("debug")("JsSIP:ERROR:RTCSession:DTMF").log=console.warn.bind(console),{MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500});t.exports=function(){var e=i,t=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t);var n=a(i);function i(e){var t;if(this instanceof i)return(t=n.call(this))._session=e,t._direction=null,t._tone=null,t._duration=null,t._request=null,t;throw new TypeError("Cannot call a class as a function")}return r(i.prototype,[{key:"tone",get:function(){return this._tone}},{key:"duration",get:function(){return this._duration}},{key:"send",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e)throw new TypeError("Not enough arguments");if(this._direction="outgoing",this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new f.InvalidStateError(this._session.status);var i=d.cloneArray(n.extraHeaders);if(this.eventHandlers=d.cloneObject(n.eventHandlers),"string"==typeof e)e=e.toUpperCase();else{if("number"!=typeof e)throw new TypeError("Invalid tone: ".concat(e));e=e.toString()}if(!e.match(/^[0-9A-DR#*]$/))throw new TypeError("Invalid tone: ".concat(e));this._tone=e,this._duration=n.duration,i.push("Content-Type: application/dtmf-relay");e="Signal=".concat(this._tone,"\r\n");e+="Duration=".concat(this._duration),this._session.newDTMF({originator:"local",dtmf:this,request:this._request}),this._session.sendRequest(c.INFO,{extraHeaders:i,eventHandlers:{onSuccessResponse:function(e){t.emit("succeeded",{originator:"remote",response:e})},onErrorResponse:function(e){t.eventHandlers.onFailed&&t.eventHandlers.onFailed(),t.emit("failed",{originator:"remote",response:e})},onRequestTimeout:function(){t._session.onRequestTimeout()},onTransportError:function(){t._session.onTransportError()},onDialogError:function(){t._session.onDialogError()}},body:e})}},{key:"init_incoming",value:function(e){var t,n=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,i=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;this._direction="incoming",(this._request=e).reply(200),e.body&&(1<=(t=e.body.split("\n")).length&&n.test(t[0])&&(this._tone=t[0].replace(n,"$2")),2<=t.length&&i.test(t[1])&&(this._duration=parseInt(t[1].replace(i,"$2"),10))),this._duration||(this._duration=p.DEFAULT_DURATION),this._tone?this._session.newDTMF({originator:"remote",dtmf:this,request:e}):h("invalid INFO DTMF received, discarded")}}]),i}(),t.exports.C=p},{"../Constants":2,"../Exceptions":6,"../Utils":26,debug:29,events:31}],14:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n),t=(e=i?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!==o(e)&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=e("events").EventEmitter,c=(e("debug")("JsSIP:ERROR:RTCSession:Info").log=console.warn.bind(console),e("../Constants")),f=e("../Exceptions"),d=e("../Utils");t.exports=function(){var e=i,t=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t);var n=a(i);function i(e){var t;if(this instanceof i)return(t=n.call(this))._session=e,t._direction=null,t._contentType=null,t._body=null,t;throw new TypeError("Cannot call a class as a function")}return r(i.prototype,[{key:"contentType",get:function(){return this._contentType}},{key:"body",get:function(){return this._body}},{key:"send",value:function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(this._direction="outgoing",t&&void 0===e)throw new TypeError("Not enough arguments");if(this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new f.InvalidStateError(this._session.status);this._contentType=e,this._body=t;i=d.cloneArray(i.extraHeaders);e&&i.push("Content-Type: ".concat(e)),this._session.newInfo({originator:"local",info:this,request:this.request}),this._session.sendRequest(c.INFO,{extraHeaders:i,eventHandlers:{onSuccessResponse:function(e){n.emit("succeeded",{originator:"remote",response:e})},onErrorResponse:function(e){n.emit("failed",{originator:"remote",response:e})},onTransportError:function(){n._session.onTransportError()},onRequestTimeout:function(){n._session.onRequestTimeout()},onDialogError:function(){n._session.onDialogError()}},body:t})}},{key:"init_incoming",value:function(e){this._direction="incoming",(this.request=e).reply(200),this._contentType=e.hasHeader("Content-Type")?e.getHeader("Content-Type").toLowerCase():void 0,this._body=e.body,this._session.newInfo({originator:"remote",info:this,request:e})}}]),i}()},{"../Constants":2,"../Exceptions":6,"../Utils":26,debug:29,events:31}],15:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=e("../Constants"),r=e("debug")("JsSIP:RTCSession:ReferNotifier");function s(e,t,n){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._session=e,this._id=t,this._expires=n||300,this._active=!0,this.notify(100)}t.exports=(i(s.prototype,[{key:"notify",value:function(e,t){if(r("notify()"),!1!==this._active){var n;t=t||o.REASON_PHRASE[e]||"",n=200<=e?"terminated;reason=noresource":"active;expires=".concat(this._expires);try{this._session.sendRequest(o.NOTIFY,{extraHeaders:["Event: ".concat("refer",";id=").concat(this._id),"Subscription-State: ".concat(n),"Content-Type: ".concat("message/sipfrag;version=2.0")],body:"SIP/2.0 ".concat(e," ").concat(t),eventHandlers:{onErrorResponse:function(){this._active=!1}}})}catch(e){r("send NOTIFY exception [ignored]")}}}}]),s)},{"../Constants":2,debug:29}],16:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n),t=(e=i?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!==o(e)&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=e("events").EventEmitter,c=e("../Constants"),f=e("../Grammar"),d=e("../Utils"),h=e("debug")("JsSIP:RTCSession:ReferSubscriber");t.exports=function(){var e=i,t=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t);var n=a(i);function i(e){var t;if(this instanceof i)return(t=n.call(this))._id=null,t._session=e,t;throw new TypeError("Cannot call a class as a function")}return r(i.prototype,[{key:"id",get:function(){return this._id}},{key:"sendRefer",value:function(e){var t,n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=(h("sendRefer()"),d.cloneArray(i.extraHeaders)),r=d.cloneObject(i.eventHandlers);for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&this.on(t,r[t]);var s=null,i=(i.replaces&&(s=i.replaces._request.call_id,s=(s+=";to-tag=".concat(i.replaces._to_tag))+";from-tag=".concat(i.replaces._from_tag),s=encodeURIComponent(s)),"Refer-To: <".concat(e).concat(s?"?Replaces=".concat(s):"",">")),e=(o.push(i),"Referred-By: <".concat(this._session._ua._configuration.uri._scheme,":").concat(this._session._ua._configuration.uri._user,"@").concat(this._session._ua._configuration.uri._host,">")),s=(o.push(e),o.push("Contact: ".concat(this._session.contact)),this._session.sendRequest(c.REFER,{extraHeaders:o,eventHandlers:{onSuccessResponse:function(e){n._requestSucceeded(e)},onErrorResponse:function(e){n._requestFailed(e,c.causes.REJECTED)},onTransportError:function(){n._requestFailed(null,c.causes.CONNECTION_ERROR)},onRequestTimeout:function(){n._requestFailed(null,c.causes.REQUEST_TIMEOUT)},onDialogError:function(){n._requestFailed(null,c.causes.DIALOG_ERROR)}}}));this._id=s.cseq}},{key:"receiveNotify",value:function(e){if(h("receiveNotify()"),e.body){var t=f.parse(e.body.trim(),"Status_Line");if(-1!==t)switch(!0){case/^100$/.test(t.status_code):this.emit("trying",{request:e,status_line:t});break;case/^1[0-9]{2}$/.test(t.status_code):this.emit("progress",{request:e,status_line:t});break;case/^2[0-9]{2}$/.test(t.status_code):this.emit("accepted",{request:e,status_line:t});break;default:this.emit("failed",{request:e,status_line:t})}else h('receiveNotify() | error parsing NOTIFY body: "'.concat(e.body,'"'))}}},{key:"_requestSucceeded",value:function(e){h("REFER succeeded"),h('emit "requestSucceeded"'),this.emit("requestSucceeded",{response:e})}},{key:"_requestFailed",value:function(e,t){h("REFER failed"),h('emit "requestFailed"'),this.emit("requestFailed",{response:e||null,cause:t})}}]),i}()},{"../Constants":2,"../Grammar":7,"../Utils":26,debug:29,events:31}],17:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=e("./Utils"),r=e("./Constants"),s=e("./SIPMessage"),a=e("./RequestSender"),l=e("debug")("JsSIP:Registrator");function u(e,t){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._ua=e,this._transport=t,this._registrar=e.configuration.registrar_server,this._expires=e.configuration.register_expires,this._call_id=o.createRandomToken(22),this._cseq=0,this._to_uri=e.configuration.uri,this._registrationTimer=null,this._registering=!1,this._registered=!1,this._contact=this._ua.contact.toString(),this._contact+=";+sip.ice",this._extraHeaders=[],this._extraContactParams="",this._contact+=";reg-id=".concat(1),this._contact+=';+sip.instance="<urn:uuid:'.concat(this._ua.configuration.instance_id,'>"')}t.exports=(i(u.prototype,[{key:"registered",get:function(){return this._registered}},{key:"setExtraHeaders",value:function(e){Array.isArray(e)||(e=[]),this._extraHeaders=e.slice()}},{key:"setExtraContactParams",value:function(e){for(var t in e instanceof Object||(e={}),this._extraContactParams="",e){var n;Object.prototype.hasOwnProperty.call(e,t)&&(n=e[t],this._extraContactParams+=";".concat(t),n&&(this._extraContactParams+="=".concat(n)))}}},{key:"register",value:function(){var e,i=this;this._registering?l("Register request in progress..."):((e=this._extraHeaders.slice()).push("Contact: ".concat(this._contact,";expires=").concat(this._expires).concat(this._extraContactParams)),e.push("Expires: ".concat(this._expires)),e=new s.OutgoingRequest(r.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},e),e=new a(this._ua,e,{onRequestTimeout:function(){i._registrationFailure(null,r.causes.REQUEST_TIMEOUT)},onTransportError:function(){i._registrationFailure(null,r.causes.CONNECTION_ERROR)},onAuthenticated:function(){i._cseq+=1},onReceiveResponse:function(e){if(e.cseq===i._cseq)switch(null!==i._registrationTimer&&(clearTimeout(i._registrationTimer),i._registrationTimer=null),!0){case/^1[0-9]{2}$/.test(e.status_code):break;case/^2[0-9]{2}$/.test(e.status_code):if(i._registering=!1,!e.hasHeader("Contact")){l("no Contact header in response to REGISTER, response ignored");break}var t=e.headers.Contact.reduce(function(e,t){return e.concat(t.parsed)},[]).find(function(e){return e.uri.user===i._ua.contact.uri.user});if(!t){l("no Contact header pointing to us, response ignored");break}var n=t.getParam("expires"),n=(n=(n=!n&&e.hasHeader("expires")?e.getHeader("expires"):n)||i._expires,140<=(n=(n=Number(n))<10?10:n)?1e3*n/2+Math.floor(1e3*(n/2-70)*Math.random()):1e3*n-5e3);i._registrationTimer=setTimeout(function(){i._registrationTimer=null,0===i._ua.listeners("registrationExpiring").length?i.register():i._ua.emit("registrationExpiring")},n),t.hasParam("temp-gruu")&&(i._ua.contact.temp_gruu=t.getParam("temp-gruu").replace(/"/g,"")),t.hasParam("pub-gruu")&&(i._ua.contact.pub_gruu=t.getParam("pub-gruu").replace(/"/g,"")),i._registered||(i._registered=!0,i._ua.registered({response:e}));break;case/^423$/.test(e.status_code):e.hasHeader("min-expires")?(i._expires=Number(e.getHeader("min-expires")),i._expires<10&&(i._expires=10),i.register()):(l("423 response received for REGISTER without Min-Expires"),i._registrationFailure(e,r.causes.SIP_FAILURE_CODE));break;default:n=o.sipErrorCause(e.status_code);i._registrationFailure(e,n)}}}),this._registering=!0,e.send())}},{key:"unregister",value:function(){var e,n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._registered?(this._registered=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null),e=this._extraHeaders.slice(),t.all?e.push("Contact: *".concat(this._extraContactParams)):e.push("Contact: ".concat(this._contact,";expires=0").concat(this._extraContactParams)),e.push("Expires: 0"),t=new s.OutgoingRequest(r.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},e),new a(this._ua,t,{onRequestTimeout:function(){n._unregistered(null,r.causes.REQUEST_TIMEOUT)},onTransportError:function(){n._unregistered(null,r.causes.CONNECTION_ERROR)},onAuthenticated:function(){n._cseq+=1},onReceiveResponse:function(e){switch(!0){case/^1[0-9]{2}$/.test(e.status_code):break;case/^2[0-9]{2}$/.test(e.status_code):n._unregistered(e);break;default:var t=o.sipErrorCause(e.status_code);n._unregistered(e,t)}}}).send()):l("already unregistered")}},{key:"close",value:function(){this._registered&&this.unregister()}},{key:"onTransportClosed",value:function(){this._registering=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null),this._registered&&(this._registered=!1,this._ua.unregistered({}))}},{key:"_registrationFailure",value:function(e,t){this._registering=!1,this._ua.registrationFailed({response:e||null,cause:t}),this._registered&&(this._registered=!1,this._ua.unregistered({response:e||null,cause:t}))}},{key:"_unregistered",value:function(e,t){this._registering=!1,this._registered=!1,this._ua.unregistered({response:e||null,cause:t||null})}}]),u)},{"./Constants":2,"./RequestSender":18,"./SIPMessage":19,"./Utils":26,debug:29}],18:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=e("./Constants"),o=e("./DigestAuthentication"),r=e("./Transactions"),s=e("debug")("JsSIP:RequestSender"),l={onRequestTimeout:function(){},onTransportError:function(){},onReceiveResponse:function(){},onAuthenticated:function(){}};function u(e,t,n){var i,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,r=this,s=u;if(!(r instanceof s))throw new TypeError("Cannot call a class as a function");for(i in this._ua=e,this._eventHandlers=n,this._method=t.method,this._request=t,this._auth=null,this._challenged=!1,this._staled=!1,this._config2=o,l)!Object.prototype.hasOwnProperty.call(l,i)||this._eventHandlers[i]||(this._eventHandlers[i]=l[i]);e.status!==e.C.STATUS_USER_CLOSED||this._method===a.BYE&&this._method===a.ACK||this._eventHandlers.onTransportError()}t.exports=(i(u.prototype,[{key:"send",value:function(){var t=this,e={onRequestTimeout:function(){t._eventHandlers.onRequestTimeout()},onTransportError:function(){t._eventHandlers.onTransportError()},onReceiveResponse:function(e){t._receiveResponse(e)}};switch(this._method){case"INVITE":this.clientTransaction=new r.InviteClientTransaction(this._ua,this._ua.transport,this._request,e);break;case"ACK":this.clientTransaction=new r.AckClientTransaction(this._ua,this._ua.transport,this._request,e);break;default:this.clientTransaction=new r.NonInviteClientTransaction(this._ua,this._ua.transport,this._request,e)}this._ua._configuration.authorization_jwt&&this._request.setHeader("Authorization",this._ua._configuration.authorization_jwt),this.clientTransaction.send()}},{key:"_receiveResponse",value:function(e){var t,n,i=e.status_code;if(401!==i&&407!==i||null===this._config2&&null===this._ua.configuration.password&&null===this._ua.configuration.ha1)this._eventHandlers.onReceiveResponse(e);else{if(i=401===e.status_code?(t=e.parseHeader("www-authenticate"),"authorization"):(t=e.parseHeader("proxy-authenticate"),"proxy-authorization"),!t)return s("".concat(e.status_code," with wrong or missing challenge, cannot authenticate")),void this._eventHandlers.onReceiveResponse(e);!this._challenged||!this._staled&&!0===t.stale?(this._auth||(n=this._config2||this._ua.configuration,this._auth=new o({username:n.authorization_user,password:n.password,realm:n.realm,ha1:n.ha1})),this._auth.authenticate(this._request,t)?(this._challenged=!0,this._config2?(this._config2.realm=this._auth.get("realm"),this._config2.ha1=this._auth.get("ha1")):(this._ua.set("realm",this._auth.get("realm")),this._ua.set("ha1",this._auth.get("ha1"))),t.stale&&(this._staled=!0),this._request=this._request.clone(),this._request.cseq+=1,this._request.setHeader("cseq","".concat(this._request.cseq," ").concat(this._method)),this._request.setHeader(i,this._auth.toString()),this._eventHandlers.onAuthenticated(this._request),this.send()):this._eventHandlers.onReceiveResponse(e)):this._eventHandlers.onReceiveResponse(e)}}}]),u)},{"./Constants":2,"./DigestAuthentication":5,"./Transactions":22,debug:29}],19:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(n),t=(e=i?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!==o(e)&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return l(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}var d,h,p,g=e("sdp-transform"),D=e("./Constants"),_=e("./Utils"),m=e("./NameAddrHeader"),v=e("./Grammar"),b=e("debug")("JsSIP:SIPMessage"),e=(f(x,[{key:"setHeader",value:function(e,t){for(var n=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),i=0;i<this.extraHeaders.length;i++)n.test(this.extraHeaders[i])&&this.extraHeaders.splice(i,1);this.headers[_.headerize(e)]=Array.isArray(t)?t:[t]}},{key:"getHeader",value:function(e){var t=this.headers[_.headerize(e)];if(t){if(t[0])return t[0]}else{var n,i=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),o=y(this.extraHeaders);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(i.test(r))return r.substring(r.indexOf(":")+1).trim()}}catch(e){o.e(e)}finally{o.f()}}}},{key:"getHeaders",value:function(e){var t=this.headers[_.headerize(e)],n=[];if(t){var i,o=y(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;n.push(r)}}catch(e){o.e(e)}finally{o.f()}return n}var s,a=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),l=y(this.extraHeaders);try{for(l.s();!(s=l.n()).done;){var u=s.value;a.test(u)&&n.push(u.substring(u.indexOf(":")+1).trim())}}catch(e){l.e(e)}finally{l.f()}return n}},{key:"hasHeader",value:function(e){if(this.headers[_.headerize(e)])return!0;var t,n=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),i=y(this.extraHeaders);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(n.test(o))return!0}}catch(e){i.e(e)}finally{i.f()}return!1}},{key:"parseSDP",value:function(e){return!e&&this.sdp||(this.sdp=g.parse(this.body||"")),this.sdp}},{key:"toString",value:function(){var e,t="".concat(this.method," ").concat(this.ruri," SIP/2.0\r\n");for(e in this.headers)if(Object.prototype.hasOwnProperty.call(this.headers,e)){var n,i=y(this.headers[e]);try{for(i.s();!(n=i.n()).done;){var o=n.value;t+="".concat(e,": ").concat(o,"\r\n")}}catch(t){i.e(t)}finally{i.f()}}var r,s=y(this.extraHeaders);try{for(s.s();!(r=s.n()).done;){var a=r.value;t+="".concat(a.trim(),"\r\n")}}catch(t){s.e(t)}finally{s.f()}var l=[];switch(this.method){case D.REGISTER:l.push("path","gruu");break;case D.INVITE:this.ua.configuration.session_timers&&l.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&l.push("gruu"),l.push("ice","replaces");break;case D.UPDATE:this.ua.configuration.session_timers&&l.push("timer"),l.push("ice")}l.push("outbound");var u=this.ua.configuration.user_agent||D.USER_AGENT;return t=(t=(t+="Allow: ".concat(D.ALLOWED_METHODS,"\r\n"))+"Supported: ".concat(l,"\r\n"))+"User-Agent: ".concat(u,"\r\n"),this.body?(u=_.str_utf8_length(this.body),t=(t+="Content-Length: ".concat(u,"\r\n\r\n"))+this.body):t+="Content-Length: 0\r\n\r\n",t}},{key:"clone",value:function(){var t=new x(this.method,this.ruri,this.ua);return Object.keys(this.headers).forEach(function(e){t.headers[e]=this.headers[e].slice()},this),t.body=this.body,t.extraHeaders=_.cloneArray(this.extraHeaders),t.to=this.to,t.from=this.from,t.call_id=this.call_id,t.cseq=this.cseq,t}}]),x),C=(i(T,e),p=s(T),f(T,[{key:"cancel",value:function(e){this.transaction.cancel(e)}},{key:"clone",value:function(){var t=new T(this.ruri,this.ua);return Object.keys(this.headers).forEach(function(e){t.headers[e]=this.headers[e].slice()},this),t.body=this.body,t.extraHeaders=_.cloneArray(this.extraHeaders),t.to=this.to,t.from=this.from,t.call_id=this.call_id,t.cseq=this.cseq,t.transaction=this.transaction,t}}]),T),M=(f(k,[{key:"addHeader",value:function(e,t){t={raw:t};e=_.headerize(e),this.headers[e]?this.headers[e].push(t):this.headers[e]=[t]}},{key:"getHeader",value:function(e){e=this.headers[_.headerize(e)];if(e)return e[0]?e[0].raw:void 0}},{key:"getHeaders",value:function(e){var t=this.headers[_.headerize(e)],n=[];if(!t)return[];var i,o=y(t);try{for(o.s();!(i=o.n()).done;){var r=i.value;n.push(r.raw)}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"hasHeader",value:function(e){return!!this.headers[_.headerize(e)]}},{key:"parseHeader",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(e=_.headerize(e),this.headers[e]){if(!(t>=this.headers[e].length)){var n=this.headers[e][t],i=n.raw;if(n.parsed)return n.parsed;var o=v.parse(i,e.replace(/-/g,"_"));return-1===o?(this.headers[e].splice(t,1),void b('error parsing "'.concat(e,'" header field with value "').concat(i,'"'))):n.parsed=o}b('not so many "'.concat(e,'" headers present'))}else b('header "'.concat(e,'" not present'))}},{key:"s",value:function(e,t){return this.parseHeader(e,t)}},{key:"setHeader",value:function(e,t){t={raw:t};this.headers[_.headerize(e)]=[t]}},{key:"parseSDP",value:function(e){return!e&&this.sdp||(this.sdp=g.parse(this.body||"")),this.sdp}},{key:"toString",value:function(){return this.data}}]),k),w=(i(I,M),h=s(I),f(I,[{key:"reply",value:function(e,t,n,i,o,r){var s=[],a=this.getHeader("To");if(t=t||null,!(e=e||null)||e<100||699<e)throw new TypeError("Invalid status_code: ".concat(e));if(t&&"string"!=typeof t&&!(t instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(t));t=t||D.REASON_PHRASE[e]||"",n=_.cloneArray(n);var l="SIP/2.0 ".concat(e," ").concat(t,"\r\n");if(this.method===D.INVITE&&100<e&&e<=200){var u,c=y(this.getHeaders("record-route"));try{for(c.s();!(u=c.n()).done;){var f=u.value;l+="Record-Route: ".concat(f,"\r\n")}}catch(e){c.e(e)}finally{c.f()}}var d,h=y(this.getHeaders("via"));try{for(h.s();!(d=h.n()).done;){var p=d.value;l+="Via: ".concat(p,"\r\n")}}catch(e){h.e(e)}finally{h.f()}!this.to_tag&&100<e?a+=";tag=".concat(_.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(a+=";tag=".concat(this.to_tag)),l=(l=(l=(l+="To: ".concat(a,"\r\n"))+"From: ".concat(this.getHeader("From"),"\r\n"))+"Call-ID: ".concat(this.call_id,"\r\n"))+"CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n");var g,m=y(n);try{for(m.s();!(g=m.n()).done;){var v=g.value;l+="".concat(v.trim(),"\r\n")}}catch(e){m.e(e)}finally{m.f()}switch(this.method){case D.INVITE:this.ua.configuration.session_timers&&s.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&s.push("gruu"),s.push("ice","replaces");break;case D.UPDATE:this.ua.configuration.session_timers&&s.push("timer"),i&&s.push("ice"),s.push("replaces")}s.push("outbound"),this.method===D.OPTIONS?l=(l+="Allow: ".concat(D.ALLOWED_METHODS,"\r\n"))+"Accept: ".concat(D.ACCEPTED_BODY_TYPES,"\r\n"):405===e?l+="Allow: ".concat(D.ALLOWED_METHODS,"\r\n"):415===e&&(l+="Accept: ".concat(D.ACCEPTED_BODY_TYPES,"\r\n")),l+="Supported: ".concat(s,"\r\n"),i?(t=_.str_utf8_length(i),l=(l+="Content-Type: application/sdp\r\n")+"Content-Length: ".concat(t,"\r\n\r\n")+i):l+="Content-Length: ".concat(0,"\r\n\r\n"),this.server_transaction.receiveResponse(e,l,o,r)}},{key:"reply_sl",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=this.getHeaders("via");if(!e||e<100||699<e)throw new TypeError("Invalid status_code: ".concat(e));if(t&&"string"!=typeof t&&!(t instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(t));var i,t=t||D.REASON_PHRASE[e]||"",o="SIP/2.0 ".concat(e," ").concat(t,"\r\n"),r=y(n);try{for(r.s();!(i=r.n()).done;){var s=i.value;o+="Via: ".concat(s,"\r\n")}}catch(e){r.e(e)}finally{r.f()}t=this.getHeader("To");!this.to_tag&&100<e?t+=";tag=".concat(_.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(t+=";tag=".concat(this.to_tag)),o=(o=(o=(o=(o+="To: ".concat(t,"\r\n"))+"From: ".concat(this.getHeader("From"),"\r\n"))+"Call-ID: ".concat(this.call_id,"\r\n"))+"CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n"))+"Content-Length: ".concat(0,"\r\n\r\n"),this.transport.send(o)}}]),I),M=(i(A,M),d=s(A),A);function A(){var e;return u(this,A),(e=d.call(this)).headers={},e.status_code=null,e.reason_phrase=null,e}function I(e){var t;return u(this,I),(t=h.call(this)).ua=e,t.headers={},t.ruri=null,t.transport=null,t.server_transaction=null,t}function k(){u(this,k),this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null,this.sdp=null}function T(e,t,n,i,o){return u(this,T),(e=p.call(this,D.INVITE,e,t,n,i,o)).transaction=null,e}function x(e,t,n,i,o,r){if(u(this,x),!e||!t||!n)return null;i=i||{},this.ua=n,this.headers={},this.method=e,this.ruri=t,this.body=r,this.extraHeaders=_.cloneArray(o),i.route_set?this.setHeader("route",i.route_set):n.configuration.use_preloaded_route&&this.setHeader("route","<".concat(n.transport.sip_uri,";lr>")),this.setHeader("via",""),this.setHeader("max-forwards",D.MAX_FORWARDS);r=i.to_uri||t,o=i.to_tag?{tag:i.to_tag}:null,t=void 0!==i.to_display_name?i.to_display_name:null;this.to=new m(r,t,o),this.setHeader("to",this.to.toString());r=i.from_uri||n.configuration.uri,t={tag:i.from_tag||_.newTag()},o=void 0!==i.from_display_name?i.from_display_name:n.configuration.display_name||null,this.from=new m(r,o,t),this.setHeader("from",this.from.toString()),r=i.call_id||n.configuration.jssip_id+_.createRandomToken(15),this.call_id=r,this.setHeader("call-id",r),o=i.cseq||Math.floor(1e4*Math.random());this.cseq=o,this.setHeader("cseq","".concat(o," ").concat(e))}t.exports={OutgoingRequest:e,InitialOutgoingInviteRequest:C,IncomingRequest:w,IncomingResponse:M}},{"./Constants":2,"./Grammar":7,"./NameAddrHeader":10,"./Utils":26,debug:29,"sdp-transform":35}],20:[function(e,t,n){"use strict";var i=e("./Utils"),o=e("./Grammar"),r=e("debug")("JsSIP:ERROR:Socket");r.log=console.warn.bind(console),n.isSocket=function(t){if(Array.isArray(t))return!1;if(void 0===t)return r("undefined JsSIP.Socket instance"),!1;try{if(!i.isString(t.url))throw r("missing or invalid JsSIP.Socket url property"),new Error;if(!i.isString(t.via_transport))throw r("missing or invalid JsSIP.Socket via_transport property"),new Error;if(-1===o.parse(t.sip_uri,"SIP_URI"))throw r("missing or invalid JsSIP.Socket sip_uri property"),new Error}catch(t){return!1}try{["connect","disconnect","send"].forEach(function(e){if(!i.isFunction(t[e]))throw r("missing or invalid JsSIP.Socket method: ".concat(e)),new Error})}catch(t){return!1}return!0}},{"./Grammar":7,"./Utils":26,debug:29}],21:[function(e,t,n){"use strict";t.exports={T1:500,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4}},{}],22:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=f(i);return e=o?(e=f(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),n=this,!(t=e)||"object"!==r(t)&&"function"!=typeof t?c(n):t}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,h,p,g,m,v=e("events").EventEmitter,y=e("./Constants"),D=e("./SIPMessage"),_=e("./Timers"),b=e("debug")("JsSIP:NonInviteClientTransaction"),C=e("debug")("JsSIP:InviteClientTransaction"),M=e("debug")("JsSIP:AckClientTransaction"),w=e("debug")("JsSIP:NonInviteServerTransaction"),A=e("debug")("JsSIP:InviteServerTransaction"),I={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"},e=(a(O,v),m=u(O),o(O,[{key:"C",get:function(){return I}},{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"send",value:function(){var e=this;this.stateChanged(I.STATUS_TRYING),this.F=setTimeout(function(){e.timer_F()},_.TIMER_F),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){b("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.F),this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onTransportError()}},{key:"timer_F",value:function(){b("Timer F expired for transaction ".concat(this.id)),this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout()}},{key:"timer_K",value:function(){this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"receiveResponse",value:function(e){var t=e.status_code;if(t<200)switch(this.state){case I.STATUS_TRYING:case I.STATUS_PROCEEDING:this.stateChanged(I.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(e)}else switch(this.state){case I.STATUS_TRYING:case I.STATUS_PROCEEDING:this.stateChanged(I.STATUS_COMPLETED),clearTimeout(this.F),408===t?this.eventHandlers.onRequestTimeout():this.eventHandlers.onReceiveResponse(e),this.timer_K()}}}]),O),k=(a(j,v),g=u(j),o(j,[{key:"C",get:function(){return I}},{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"send",value:function(){var e=this;this.stateChanged(I.STATUS_CALLING),this.B=setTimeout(function(){e.timer_B()},_.TIMER_B),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){clearTimeout(this.B),clearTimeout(this.M),this.state!==I.STATUS_ACCEPTED&&(C("transport error occurred, deleting transaction ".concat(this.id)),this.eventHandlers.onTransportError()),this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_M",value:function(){C("Timer M expired for transaction ".concat(this.id)),this.state===I.STATUS_ACCEPTED&&(clearTimeout(this.B),this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"timer_B",value:function(){C("Timer B expired for transaction ".concat(this.id)),this.state===I.STATUS_CALLING&&(this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout())}},{key:"timer_D",value:function(){C("Timer D expired for transaction ".concat(this.id)),clearTimeout(this.B),this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"sendACK",value:function(e){var t=new D.OutgoingRequest(y.ACK,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});t.setHeader("from",this.request.getHeader("from")),t.setHeader("via",this.request.getHeader("via")),t.setHeader("to",e.getHeader("to")),this.transport.send(t),this.timer_D()}},{key:"cancel",value:function(e){var t;this.state===I.STATUS_PROCEEDING&&((t=new D.OutgoingRequest(y.CANCEL,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq})).setHeader("from",this.request.getHeader("from")),t.setHeader("via",this.request.getHeader("via")),t.setHeader("to",this.request.getHeader("to")),e&&t.setHeader("reason",e),this.transport.send(t))}},{key:"receiveResponse",value:function(e){var t=this,n=e.status_code;if(100<=n&&n<=199)switch(this.state){case I.STATUS_CALLING:this.stateChanged(I.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(e);break;case I.STATUS_PROCEEDING:this.eventHandlers.onReceiveResponse(e)}else if(200<=n&&n<=299)switch(this.state){case I.STATUS_CALLING:case I.STATUS_PROCEEDING:this.stateChanged(I.STATUS_ACCEPTED),this.M=setTimeout(function(){t.timer_M()},_.TIMER_M),this.eventHandlers.onReceiveResponse(e);break;case I.STATUS_ACCEPTED:this.eventHandlers.onReceiveResponse(e)}else if(300<=n&&n<=699)switch(this.state){case I.STATUS_CALLING:case I.STATUS_PROCEEDING:this.stateChanged(I.STATUS_COMPLETED),this.sendACK(e),this.eventHandlers.onReceiveResponse(e);break;case I.STATUS_COMPLETED:this.sendACK(e)}}}]),j),T=(a(N,v),p=u(N),o(N,[{key:"C",get:function(){return I}},{key:"send",value:function(){this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){M("transport error occurred for transaction ".concat(this.id)),this.eventHandlers.onTransportError()}}]),N),x=(a(S,v),h=u(S),o(S,[{key:"C",get:function(){return I}},{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"timer_J",value:function(){w("Timer J expired for transaction ".concat(this.id)),this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,w("transport error occurred, deleting transaction ".concat(this.id)),this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"receiveResponse",value:function(e,t,n,i){if(100===e)switch(this.state){case I.STATUS_TRYING:this.stateChanged(I.STATUS_PROCEEDING),this.transport.send(t)||this.onTransportError();break;case I.STATUS_PROCEEDING:this.last_response=t,this.transport.send(t)?n&&n():(this.onTransportError(),i&&i())}else if(200<=e&&e<=699)switch(this.state){case I.STATUS_TRYING:case I.STATUS_PROCEEDING:this.stateChanged(I.STATUS_COMPLETED),this.last_response=t,this.timer_J(),this.transport.send(t)?n&&n():(this.onTransportError(),i&&i())}}}]),S),v=(a(E,v),d=u(E),o(E,[{key:"C",get:function(){return I}},{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"timer_H",value:function(){A("Timer H expired for transaction ".concat(this.id)),this.state===I.STATUS_COMPLETED&&A("ACK not received, dialog will be terminated"),this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_I",value:function(){this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_L",value:function(){A("Timer L expired for transaction ".concat(this.id)),this.state===I.STATUS_ACCEPTED&&(this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,A("transport error occurred, deleting transaction ".concat(this.id)),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),clearTimeout(this.L),clearTimeout(this.H),this.stateChanged(I.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"resend_provisional",value:function(){this.transport.send(this.last_response)||this.onTransportError()}},{key:"receiveResponse",value:function(e,t,n,i){var o=this;if(100<=e&&e<=199&&this.state===I.STATUS_PROCEEDING&&(this.transport.send(t)||this.onTransportError(),this.last_response=t),100<e&&e<=199&&this.state===I.STATUS_PROCEEDING)null===this.resendProvisionalTimer&&(this.resendProvisionalTimer=setInterval(function(){o.resend_provisional()},_.PROVISIONAL_RESPONSE_INTERVAL));else if(200<=e&&e<=299)switch(this.state){case I.STATUS_PROCEEDING:this.stateChanged(I.STATUS_ACCEPTED),this.last_response=t,this.L=setTimeout(function(){o.timer_L()},_.TIMER_L),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case I.STATUS_ACCEPTED:this.transport.send(t)?n&&n():(this.onTransportError(),i&&i())}else 300<=e&&e<=699&&this.state===I.STATUS_PROCEEDING&&(null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(t)?(this.stateChanged(I.STATUS_COMPLETED),this.H=setTimeout(function(){o.timer_H()},_.TIMER_H),n&&n()):(this.onTransportError(),i&&i()))}}]),E);function E(e,t,n){var i;return s(this,E),(i=d.call(this)).type=I.INVITE_SERVER,i.id=n.via_branch,i.ua=e,i.transport=t,i.request=n,i.last_response="",n.server_transaction=c(i),i.state=I.STATUS_PROCEEDING,e.newTransaction(c(i)),i.resendProvisionalTimer=null,n.reply(100),i}function S(e,t,n){var i;return s(this,S),(i=h.call(this)).type=I.NON_INVITE_SERVER,i.id=n.via_branch,i.ua=e,i.transport=t,i.request=n,i.last_response="",n.server_transaction=c(i),i.state=I.STATUS_TRYING,e.newTransaction(c(i)),i}function N(e,t,n,i){s(this,N),(o=p.call(this)).id="z9hG4bK".concat(Math.floor(1e7*Math.random())),o.transport=t,o.request=n,o.eventHandlers=i;var o,n="SIP/2.0/".concat(t.via_transport);return n+=" ".concat(e.configuration.via_host,";branch=").concat(o.id),o.request.setHeader("via",n),o}function j(e,t,n,i){s(this,j),(o=g.call(this)).type=I.INVITE_CLIENT,o.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),o.ua=e,o.transport=t,o.request=n,o.eventHandlers=i,n.transaction=c(o);var o,i="SIP/2.0/".concat(t.via_transport);return i+=" ".concat(e.configuration.via_host,";branch=").concat(o.id),o.request.setHeader("via",i),o.ua.newTransaction(c(o)),o}function O(e,t,n,i){s(this,O),(o=m.call(this)).type=I.NON_INVITE_CLIENT,o.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),o.ua=e,o.transport=t,o.request=n,o.eventHandlers=i;var o,n="SIP/2.0/".concat(t.via_transport);return n+=" ".concat(e.configuration.via_host,";branch=").concat(o.id),o.request.setHeader("via",n),o.ua.newTransaction(c(o)),o}t.exports={C:I,NonInviteClientTransaction:e,InviteClientTransaction:k,AckClientTransaction:T,NonInviteServerTransaction:x,InviteServerTransaction:v,checkTransaction:function(e,t){var n,i=e._transactions;switch(t.method){case y.INVITE:if(n=i.ist[t.via_branch])return n.state===I.STATUS_PROCEEDING&&n.transport.send(n.last_response),!0;break;case y.ACK:if(!(n=i.ist[t.via_branch]))return!1;if(n.state===I.STATUS_ACCEPTED)return!1;if(n.state===I.STATUS_COMPLETED)return n.state=I.STATUS_CONFIRMED,n.timer_I(),!0;break;case y.CANCEL:return(n=i.ist[t.via_branch])?(t.reply_sl(200),n.state!==I.STATUS_PROCEEDING):(t.reply_sl(481),!0);default:if(n=i.nist[t.via_branch]){switch(n.state){case I.STATUS_TRYING:break;case I.STATUS_PROCEEDING:case I.STATUS_COMPLETED:n.transport.send(n.last_response)}return!0}}}}},{"./Constants":2,"./SIPMessage":19,"./Timers":21,debug:29,events:31}],23:[function(e,t,n){"use strict";function u(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return a(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=e("./Socket"),s=e("debug")("JsSIP:Transport"),l=e("debug")("JsSIP:ERROR:Transport"),e=e("./Constants"),c=(l.log=console.warn.bind(console),{STATUS_CONNECTED:0,STATUS_CONNECTING:1,STATUS_DISCONNECTED:2,SOCKET_STATUS_READY:0,SOCKET_STATUS_ERROR:1,recovery_options:{min_interval:e.CONNECTION_RECOVERY_MIN_INTERVAL,max_interval:e.CONNECTION_RECOVERY_MAX_INTERVAL}});function f(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:c.recovery_options,i=this,o=f;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");s("new()"),this._ua=e,this.status=c.STATUS_DISCONNECTED,this.socket=null,this.sockets=[],this.recovery_options=n,this.recover_attempts=0,this.recovery_timer=null,this.close_requested=!1;try{this.textDecoder=new TextDecoder("utf8")}catch(e){l("cannot use TextDecoder: ".concat(e))}if(void 0===t)throw new TypeError("Invalid argument. undefined 'sockets' argument");(t=t instanceof Array?t:[t]).forEach(function(e){if(!r.isSocket(e.socket))throw new TypeError("Invalid argument. invalid 'JsSIP.Socket' instance");if(e.weight&&!Number(e.weight))throw new TypeError("Invalid argument. 'weight' attribute is not a number");this.sockets.push({socket:e.socket,weight:e.weight||0,status:c.SOCKET_STATUS_READY})},this),this._getSocket()}t.exports=(i(f.prototype,[{key:"via_transport",get:function(){return this.socket.via_transport}},{key:"url",get:function(){return this.socket.url}},{key:"sip_uri",get:function(){return this.socket.sip_uri}},{key:"connect",value:function(){s("connect()"),this.isConnected()?s("Transport is already connected"):this.isConnecting()?s("Transport is connecting"):(this.close_requested=!1,this.status=c.STATUS_CONNECTING,this.onconnecting({socket:this.socket,attempts:this.recover_attempts}),this.close_requested||(this.socket.onconnect=this._onConnect.bind(this),this.socket.ondisconnect=this._onDisconnect.bind(this),this.socket.ondata=this._onData.bind(this),this.socket.connect()))}},{key:"disconnect",value:function(){s("close()"),this.close_requested=!0,this.recover_attempts=0,this.status=c.STATUS_DISCONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.socket.onconnect=function(){},this.socket.ondisconnect=function(){},this.socket.ondata=function(){},this.socket.disconnect(),this.ondisconnect({socket:this.socket,error:!1})}},{key:"send",value:function(e){if(s("send()"),!this.isConnected())return l("unable to send message, transport is not connected"),!1;e=e.toString();return s("sending message:\n\n".concat(e,"\n")),this.socket.send(e)}},{key:"isConnected",value:function(){return this.status===c.STATUS_CONNECTED}},{key:"isConnecting",value:function(){return this.status===c.STATUS_CONNECTING}},{key:"_get_number_of_sbc",value:function(){return this.sockets.length}},{key:"_switch_sbc",value:function(){var e=this.ondisconnect;this.ondisconnect=function(){},this.disconnect(),this.ondisconnect=e,this.close_requested=!1,this.sockets.forEach(function(e){this.socket===e.socket&&(e.status=c.SOCKET_STATUS_ERROR)},this),this._getSocket(),this.connect()}},{key:"_register_redirect",value:function(e){var t,n=null,i=u(this.sockets);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.socket.url===e){n=o.socket;break}}}catch(e){i.e(e)}finally{i.f()}if(null===n&&!e.includes(":",6)){e+=":443";var r,s=u(this.sockets);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(a.socket.url===e){n=a.socket;break}}}catch(e){s.e(e)}finally{s.f()}}if(null===n)return!1;var l=this.ondisconnect;return this.ondisconnect=function(){},this.disconnect(),this.ondisconnect=l,this.socket=n,this.connect(),!0}},{key:"_reconnect",value:function(){var e=this,t=(this.recover_attempts+=1,Math.floor(Math.random()*Math.pow(2,this.recover_attempts)+1));t<this.recovery_options.min_interval?t=this.recovery_options.min_interval:t>this.recovery_options.max_interval&&(t=this.recovery_options.max_interval),s("reconnection attempt: ".concat(this.recover_attempts,". next connection attempt in ").concat(t," seconds")),this.recovery_timer=setTimeout(function(){e.close_requested||e.isConnected()||e.isConnecting()||(e._getSocket(),e.connect())},1e3*t)}},{key:"_getSocket",value:function(){var t=[];if(this.sockets.forEach(function(e){e.status!==c.SOCKET_STATUS_ERROR&&(0===t.length?t.push(e):e.weight>t[0].weight?t=[e]:e.weight===t[0].weight&&t.push(e))}),0===t.length)return this.sockets.forEach(function(e){e.status=c.SOCKET_STATUS_READY}),void this._getSocket();var e=Math.floor(Math.random()*t.length);this.socket=t[e].socket}},{key:"_onConnect",value:function(){this.recover_attempts=0,this._ha_connect_time=void 0,this.status=c.STATUS_CONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.onconnect({socket:this})}},{key:"_onDisconnect",value:function(e,t,n){var i=this.status;if(this.status=c.STATUS_DISCONNECTED,this.ondisconnect({socket:this.socket,error:e,code:t,reason:n}),!this.close_requested){if(void 0!==this._ua.modes.sbc_ha_pairs_mode){if(i===c.STATUS_CONNECTED)return s("AC: SBC HA pairs mode: Reconnect to the same SBC "+this._ua.modes.sbc_ha_pairs_mode+" seconds left"),this._ha_connect_time=(new Date).getTime()+1e3*this._ua.modes.sbc_ha_pairs_mode,void this._connect2();if(void 0!==this._ha_connect_time){e=this._ha_connect_time-(new Date).getTime();if(0<e)return s("AC: SBC HA pairs mode: Repeat "+e/1e3+" seconds left"),void this._connect2();s("AC: SBC HA pairs mode: Failed"),this._ha_connect_time=void 0}}this.sockets.forEach(function(e){this.socket===e.socket&&(e.status=c.SOCKET_STATUS_ERROR)},this),this._reconnect()}}},{key:"_connect2",value:function(){var e,t=this,n=0;this._ha_last_connect&&(n=500<(e=(new Date).getTime()-this._ha_last_connect)?0:500-e),this.recovery_timer=setTimeout(function(){t.close_requested||t.isConnected()||t.isConnecting()||(t._ha_last_connect=(new Date).getTime(),t.connect())},n)}},{key:"_onData",value:function(e){if("\r\n"!==e){if("string"!=typeof e){try{e=this.textDecoder?this.textDecoder.decode(e):String.fromCharCode.apply(null,new Uint8Array(e))}catch(e){return void s("received binary message failed to be converted into string, message discarded")}s("received binary message:\n\n".concat(e,"\n"))}else s("received text message:\n\n".concat(e,"\n"));this.ondata({transport:this,message:e})}else s("received message with CRLF Keep Alive response")}}]),f)},{"./Constants":2,"./Socket":20,debug:29}],24:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n=u(i);return e=o?(e=u(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),n=this,!(t=e)||"object"!==r(t)&&"function"!=typeof t?l(n):t}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=e("events").EventEmitter,f=e("./Constants"),d=e("./Registrator"),h=e("./RTCSession"),p=e("./Message"),g=e("./Transactions"),m=e("./Transport"),v=e("./Utils"),y=e("./Exceptions"),D=e("./URI"),_=e("./Parser"),b=e("./SIPMessage"),C=e("./RequestSender"),M=e("./sanityCheck"),w=e("./Config"),A=e("debug")("JsSIP:UA"),I=e("debug")("JsSIP:ERROR:UA"),k=(I.log=console.warn.bind(console),{STATUS_INIT:0,STATUS_READY:1,STATUS_USER_CLOSED:2,STATUS_NOT_READY:3,CONFIGURATION_ERROR:1,NETWORK_ERROR:2});t.exports=function(){var e=i,t=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t);var n=a(i);function i(e){var t;if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");if((t=n.call(this)).modes={},t._cache={credentials:{}},t._configuration=Object.assign({},w.settings),t._dynConfiguration={},t._dialogs={},t._applicants={},t._sessions={},t._transport=null,t._contact=null,t._status=k.STATUS_INIT,t._error=null,t._transactions={nist:{},nict:{},ist:{},ict:{}},t._data={},t._closeTimer=null,void 0===e)throw new TypeError("Not enough arguments");try{t._loadConfig(e)}catch(e){throw t._status=k.STATUS_NOT_READY,t._error=k.CONFIGURATION_ERROR,e}return t._registrator=new d(l(t)),t}return e=[{key:"C",get:function(){return k}}],o((t=i).prototype,[{key:"C",get:function(){return k}},{key:"status",get:function(){return this._status}},{key:"contact",get:function(){return this._contact}},{key:"configuration",get:function(){return this._configuration}},{key:"transport",get:function(){return this._transport}},{key:"start",value:function(){A("start()"),this._status===k.STATUS_INIT?this._transport.connect():this._status===k.STATUS_USER_CLOSED?(A("restarting UA"),null!==this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null,this._transport.disconnect()),this._status=k.STATUS_INIT,this._transport.connect()):this._status===k.STATUS_READY?A("UA is in READY status, not restarted"):A("ERROR: connection is down, Auto-Recovery system is trying to reconnect"),this._dynConfiguration.register=this._configuration.register}},{key:"register",value:function(){A("register()"),this._dynConfiguration.register=!0,this._registrator.register()}},{key:"unregister",value:function(e){A("unregister()"),this._dynConfiguration.register=!1,this._registrator.unregister(e)}},{key:"registrator",value:function(){return this._registrator}},{key:"isRegistered",value:function(){return this._registrator.registered}},{key:"isConnected",value:function(){return this._transport.isConnected()}},{key:"call",value:function(e,t){A("call()");var n=new h(this);return n.connect(e,t),n}},{key:"sendMessage",value:function(e,t,n){A("sendMessage()");var i=new p(this);return i.send(e,t,n),i}},{key:"sendRequest",value:function(e,t,n,i,o,r,s){A("sendRequest()");e=new b.OutgoingRequest(e,this.normalizeTarget(t),this,n,i,o);new C(this,e,r,s).send()}},{key:"terminateSessions",value:function(e){for(var t in A("terminateSessions()"),this._sessions)this._sessions[t].isEnded()||this._sessions[t].terminate(e)}},{key:"stop",value:function(){var e=this;if(A("stop()"),this._dynConfiguration={},this._status!==k.STATUS_USER_CLOSED){this._registrator.close();var t,n,i=Object.keys(this._sessions).length;for(t in this._sessions)if(Object.prototype.hasOwnProperty.call(this._sessions,t)){A("closing session ".concat(t));try{this._sessions[t].terminate()}catch(e){}}for(n in this._applicants)if(Object.prototype.hasOwnProperty.call(this._applicants,n))try{this._applicants[n].close()}catch(e){}this._status=k.STATUS_USER_CLOSED,0===Object.keys(this._transactions.nict).length+Object.keys(this._transactions.nist).length+Object.keys(this._transactions.ict).length+Object.keys(this._transactions.ist).length&&0===i?this._transport.disconnect():this._closeTimer=setTimeout(function(){e._closeTimer=null,e._transport.disconnect()},2e3)}else A("UA already closed")}},{key:"normalizeTarget",value:function(e){return v.normalizeTarget(e,this._configuration.hostport_params)}},{key:"get",value:function(e){switch(e){case"authorization_user":return this._configuration.authorization_user;case"realm":return this._configuration.realm;case"ha1":return this._configuration.ha1;case"authorization_jwt":return this._configuration.authorization_jwt;default:return void I('get() | cannot get "%s" parameter in runtime',e)}}},{key:"set",value:function(e,t){switch(e){case"authorization_user":this._configuration.authorization_user=String(t);break;case"password":this._configuration.password=String(t);break;case"realm":this._configuration.realm=String(t);break;case"ha1":this._configuration.ha1=String(t),this._configuration.password=null;break;case"authorization_jwt":this._configuration.authorization_jwt=String(t);break;case"display_name":this._configuration.display_name=t;break;default:return I('set() | cannot set "%s" parameter in runtime',e),!1}return!0}},{key:"registerRedirect",value:function(e){return this._transport._register_redirect(e)}},{key:"switchSBC",value:function(){this._transport._get_number_of_sbc()<2?A("switchSBC: ignored, no other SBC set"):(this._registrator._unregistered(null,f.causes.CONNECTION_ERROR),this._transport._switch_sbc())}},{key:"getNumberOfSBC",value:function(){return this._transport._get_number_of_sbc()}},{key:"newTransaction",value:function(e){this._transactions[e.type][e.id]=e,this.emit("newTransaction",{transaction:e})}},{key:"destroyTransaction",value:function(e){delete this._transactions[e.type][e.id],this.emit("transactionDestroyed",{transaction:e})}},{key:"newDialog",value:function(e){this._dialogs[e.id]=e}},{key:"destroyDialog",value:function(e){delete this._dialogs[e.id]}},{key:"newMessage",value:function(e,t){this._applicants[e]=e,this.emit("newMessage",t)}},{key:"destroyMessage",value:function(e){delete this._applicants[e]}},{key:"newRTCSession",value:function(e,t){this._sessions[e.id]=e,this.emit("newRTCSession",t)}},{key:"destroyRTCSession",value:function(e){delete this._sessions[e.id]}},{key:"registered",value:function(e){this.emit("registered",e)}},{key:"unregistered",value:function(e){this.emit("unregistered",e)}},{key:"registrationFailed",value:function(e){this.emit("registrationFailed",e)}},{key:"receiveRequest",value:function(e){var t,n,i,o=e.method;if(e.ruri.user!==this._configuration.uri.user&&e.ruri.user!==this._contact.uri.user)return A("Request-URI does not point to us"),void(e.method!==f.ACK&&e.reply_sl(404));if(e.ruri.scheme!==f.SIPS){if(!g.checkTransaction(this,e)){if(o===f.INVITE?new g.InviteServerTransaction(this,this._transport,e):o!==f.ACK&&o!==f.CANCEL&&new g.NonInviteServerTransaction(this,this._transport,e),o===f.OPTIONS)e.reply(200);else if(o===f.MESSAGE){if(0===this.listeners("newMessage").length)return void e.reply(405);new p(this).init_incoming(e)}else if(o===f.SUBSCRIBE){if(0===this.listeners("newSubscribe").length)return void e.reply(405)}else if(o===f.INVITE&&!e.to_tag&&0===this.listeners("newRTCSession").length)return void e.reply(405);if(e.to_tag)(t=this._findDialog(e.call_id,e.from_tag,e.to_tag))?t.receiveRequest(e):o===f.NOTIFY?(n=this._findSession(e))?n.receiveRequest(e):(A("received NOTIFY request for a non existent subscription"),e.reply(481,"Subscription does not exist")):o!==f.ACK&&e.reply(481);else switch(o){case f.INVITE:window.RTCPeerConnection?e.hasHeader("replaces")?(i=e.replaces,(t=this._findDialog(i.call_id,i.from_tag,i.to_tag))?(n=t.owner).isEnded()?e.reply(603):n.receiveRequest(e):e.reply(481)):(n=new h(this)).init_incoming(e):(I("INVITE received but WebRTC is not supported"),e.reply(488));break;case f.BYE:e.reply(481);break;case f.CANCEL:(n=this._findSession(e))?n.receiveRequest(e):A("received CANCEL request for a non existent session");break;case f.ACK:break;case f.NOTIFY:this.emit("sipEvent",{event:e.event,request:e}),e.reply(200);break;case f.SUBSCRIBE:this.emit("newSubscribe",{event:e.event,request:e});break;default:e.reply(405)}}}else e.reply_sl(416)}},{key:"_findSession",value:function(e){var t=e.call_id,n=e.from_tag,e=e.to_tag,n=this._sessions[t+n],t=this._sessions[t+e];return n||t||null}},{key:"_findDialog",value:function(e,t,n){var i=this._dialogs[e+t+n];return i||(this._dialogs[e+n+t]||null)}},{key:"_loadConfig",value:function(e){try{w.load(this._configuration,e)}catch(e){throw e}0===this._configuration.display_name&&(this._configuration.display_name="0"),this._configuration.instance_id||(this._configuration.instance_id=v.newUUID()),this._configuration.jssip_id=v.createRandomToken(5);var t=this._configuration.uri.clone();t.user=null,this._configuration.hostport_params=t.toString().replace(/^sip:/i,"");try{this._transport=new m(this,this._configuration.sockets,{max_interval:this._configuration.connection_recovery_max_interval,min_interval:this._configuration.connection_recovery_min_interval}),this._transport.onconnecting=function(e){this.emit("connecting",e)}.bind(this),this._transport.onconnect=function(e){this._status!==k.STATUS_USER_CLOSED&&(this._status=k.STATUS_READY,this._error=null,this.emit("connected",e),this._dynConfiguration.register&&this._registrator.register())}.bind(this),this._transport.ondisconnect=function(e){for(var t=0,n=["nict","ict","nist","ist"];t<n.length;t++){var i,o=n[t];for(i in this._transactions[o])Object.prototype.hasOwnProperty.call(this._transactions[o],i)&&this._transactions[o][i].onTransportError()}this.emit("disconnected",e),this._registrator.onTransportClosed(),this._status!==k.STATUS_USER_CLOSED&&(this._status=k.STATUS_NOT_READY,this._error=k.NETWORK_ERROR)}.bind(this),this._transport.ondata=function(e){var t,n=e.transport,i=e.message;if((i=_.parseMessage(i,this))&&!(this._status===k.STATUS_USER_CLOSED&&i instanceof b.IncomingRequest)&&M(i,this,n))if(i instanceof b.IncomingRequest)i.transport=n,this.receiveRequest(i);else if(i instanceof b.IncomingResponse)switch(i.method){case f.INVITE:(t=this._transactions.ict[i.via_branch])&&t.receiveResponse(i);break;case f.ACK:break;default:(t=this._transactions.nict[i.via_branch])&&t.receiveResponse(i)}}.bind(this)}catch(e){throw I(e),new y.ConfigurationError("sockets",this._configuration.sockets)}delete this._configuration.sockets,this._configuration.authorization_user||(this._configuration.authorization_user=this._configuration.uri.user),this._configuration.registrar_server||((t=this._configuration.uri.clone()).user=null,t.clearParams(),t.clearHeaders(),this._configuration.registrar_server=t),this._configuration.no_answer_timeout*=1e3,this._configuration.contact_uri?this._configuration.via_host=this._configuration.contact_uri.host:this._configuration.contact_uri=new D("sip",v.createRandomToken(8),this._configuration.via_host,null,{transport:"ws"}),this._contact={pub_gruu:null,temp_gruu:null,uri:this._configuration.contact_uri,toString:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.anonymous||null,e=e.outbound||null,n="<";return n+=t?this.temp_gruu||"sip:anonymous@anonymous.invalid;transport=ws":this.pub_gruu||this.uri.toString(),!e||(t?this.temp_gruu:this.pub_gruu)||(n+=";ob"),n+">"}};var n,i,o=["authorization_user","password","realm","ha1","authorization_jwt","display_name","register"];for(n in this._configuration)Object.prototype.hasOwnProperty.call(this._configuration,n)&&(-1!==o.indexOf(n)?Object.defineProperty(this._configuration,n,{writable:!0,configurable:!1}):Object.defineProperty(this._configuration,n,{writable:!1,configurable:!1}));for(i in A("configuration parameters after validation:"),this._configuration)if(Object.prototype.hasOwnProperty.call(w.settings,i))switch(i){case"uri":case"registrar_server":A("- ".concat(i,": ").concat(this._configuration[i]));break;case"password":case"ha1":case"authorization_jwt":A("- ".concat(i,": NOT SHOWN"));break;default:A("- ".concat(i,": ").concat(JSON.stringify(this._configuration[i])))}}}]),o(t,e),i}()},{"./Config":1,"./Constants":2,"./Exceptions":6,"./Message":9,"./Parser":11,"./RTCSession":12,"./Registrator":17,"./RequestSender":18,"./SIPMessage":19,"./Transactions":22,"./Transport":23,"./URI":25,"./Utils":26,"./sanityCheck":28,debug:29,events:31}],25:[function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=e("./Constants"),l=e("./Utils"),o=e("./Grammar");function f(e,t,n,i){var o,r,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},l=this,u=f;if(!(l instanceof u))throw new TypeError("Cannot call a class as a function");if(!n)throw new TypeError('missing or invalid "host" parameter');for(o in this._parameters={},this._headers={},this._scheme=e||c.SIP,this._user=t,this._host=n,this._port=i,s)Object.prototype.hasOwnProperty.call(s,o)&&this.setParam(o,s[o]);for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&this.setHeader(r,a[r])}t.exports=(e=[{key:"parse",value:function(e){return-1!==(e=o.parse(e,"SIP_URI"))?e:void 0}}],i((t=f).prototype,[{key:"scheme",get:function(){return this._scheme},set:function(e){this._scheme=e.toLowerCase()}},{key:"user",get:function(){return this._user},set:function(e){this._user=e}},{key:"host",get:function(){return this._host},set:function(e){this._host=e.toLowerCase()}},{key:"port",get:function(){return this._port},set:function(e){this._port=0===e?e:parseInt(e,10)||null}},{key:"setParam",value:function(e,t){e&&(this._parameters[e.toLowerCase()]=null==t?null:t.toString())}},{key:"getParam",value:function(e){if(e)return this._parameters[e.toLowerCase()]}},{key:"hasParam",value:function(e){if(e)return!!this._parameters.hasOwnProperty(e.toLowerCase())}},{key:"deleteParam",value:function(e){var t;if(e=e.toLowerCase(),this._parameters.hasOwnProperty(e))return t=this._parameters[e],delete this._parameters[e],t}},{key:"clearParams",value:function(){this._parameters={}}},{key:"setHeader",value:function(e,t){this._headers[l.headerize(e)]=Array.isArray(t)?t:[t]}},{key:"getHeader",value:function(e){if(e)return this._headers[l.headerize(e)]}},{key:"hasHeader",value:function(e){if(e)return!!this._headers.hasOwnProperty(l.headerize(e))}},{key:"deleteHeader",value:function(e){var t;if(e=l.headerize(e),this._headers.hasOwnProperty(e))return t=this._headers[e],delete this._headers[e],t}},{key:"clearHeaders",value:function(){this._headers={}}},{key:"clone",value:function(){return new f(this._scheme,this._user,this._host,this._port,JSON.parse(JSON.stringify(this._parameters)),JSON.parse(JSON.stringify(this._headers)))}},{key:"toString",value:function(){var e,t,n=[],i="".concat(this._scheme,":");for(e in this._user&&(i+="".concat(l.escapeUser(this._user),"@")),i+=this._host,!this._port&&0!==this._port||(i+=":".concat(this._port)),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,e)&&(i+=";".concat(e),null!==this._parameters[e]&&(i+="=".concat(this._parameters[e])));for(t in this._headers)if(Object.prototype.hasOwnProperty.call(this._headers,t)){var o,r=function(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return a(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}(this._headers[t]);try{for(r.s();!(o=r.n()).done;){var s=o.value;n.push("".concat(t,"=").concat(s))}}catch(n){r.e(n)}finally{r.f()}}return 0<n.length&&(i+="?".concat(n.join("&"))),i}},{key:"toAor",value:function(e){var t="".concat(this._scheme,":");return this._user&&(t+="".concat(l.escapeUser(this._user),"@")),t+=this._host,e&&(this._port||0===this._port)&&(t+=":".concat(this._port)),t}}]),i(t,e),f)},{"./Constants":2,"./Grammar":7,"./Utils":26}],26:[function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return u(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=e("./Constants"),c=e("./URI"),i=e("./Grammar"),f=(n.str_utf8_length=function(e){return unescape(encodeURIComponent(e)).length},n.isFunction=function(e){return void 0!==e&&"[object Function]"===Object.prototype.toString.call(e)}),o=(n.isString=function(e){return void 0!==e&&"[object String]"===Object.prototype.toString.call(e)},n.isDecimal=function(e){return!isNaN(e)&&parseFloat(e)===parseInt(e,10)},n.isEmpty=function(e){return null===e||""===e||void 0===e||Array.isArray(e)&&0===e.length||"number"==typeof e&&isNaN(e)},n.hasMethods=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var o=0,r=n;o<r.length;o++){var s=r[o];if(f(e[s]))return!1}return!0},n.createRandomToken=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:32,n="",i=0;i<e;i++)n+=(Math.random()*t|0).toString(t);return n}),d=(n.newTag=function(){return o(10)},n.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},n.hostType=function(e){if(e)return-1!==(e=i.parse(e,"host"))?e.host_type:void 0},n.escapeUser=function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")});n.normalizeTarget=function(e,t){if(e){if(e instanceof c)return e;if("string"==typeof e){var n,i,o,r=e.split("@");switch(r.length){case 1:if(!t)return;n=e,i=t;break;case 2:n=r[0],i=r[1];break;default:n=r.slice(0,r.length-1).join("@"),i=r[r.length-1]}return n=n.replace(/^(sips?|tel):/i,""),/^[-.()]*\+?[0-9\-.()]+$/.test(n)&&(n=n.replace(/[-.()]/g,"")),e="".concat(s.SIP,":").concat(d(n),"@").concat(i),(o=c.parse(e))?o:void 0}}},n.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),i="",o=n.length,r=0;r<o;r++)0!==r&&(i+="-"),i+=n[r].charAt(0).toUpperCase()+n[r].substring(1);return i=t[i]?t[i]:i},n.sipErrorCause=function(e){for(var t in s.SIP_ERROR_CAUSES)if(-1!==s.SIP_ERROR_CAUSES[t].indexOf(e))return s.causes[t];return s.causes.SIP_FAILURE_CODE},n.getRandomTestNetIP=function(){return"192.0.2.".concat(Math.floor(254*Math.random()+1))},n.calculateMD5=function(e){function a(e,t){return e<<t|e>>>32-t}function l(e,t){var n=2147483648&e,i=2147483648&t,o=1073741824&e,r=1073741824&t,e=(1073741823&e)+(1073741823&t);return o&r?2147483648^e^n^i:o|r?1073741824&e?3221225472^e^n^i:1073741824^e^n^i:e^n^i}function t(e,t,n,i,o,r,s){return e=l(e,l(l(t&n|~t&i,o),s)),l(a(e,r),t)}function n(e,t,n,i,o,r,s){return e=l(e,l(l(t&i|n&~i,o),s)),l(a(e,r),t)}function i(e,t,n,i,o,r,s){return e=l(e,l(l(t^n^i,o),s)),l(a(e,r),t)}function o(e,t,n,i,o,r,s){return e=l(e,l(l(n^(t|~i),o),s)),l(a(e,r),t)}function r(e){for(var t="",n="",i=0;i<=3;i++)t+=(n="0".concat((e>>>8*i&255).toString(16))).substr(n.length-2,2);return t}for(var s,u,c,f,d=function(e){for(var t,n=e.length,i=n+8,i=16*((i-i%64)/64+1),o=new Array(i-1),r=0,s=0;s<n;)r=s%4*8,o[t=(s-s%4)/4]=o[t]|e.charCodeAt(s)<<r,s++;return o[t=(s-s%4)/4]=o[t]|128<<(r=s%4*8),o[i-2]=n<<3,o[i-1]=n>>>29,o}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(127<i&&i<2048?t+=String.fromCharCode(i>>6|192):t=(t+=String.fromCharCode(i>>12|224))+String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e)),h=1732584193,p=4023233417,g=2562383102,m=271733878,v=0;v<d.length;v+=16)h=t(s=h,u=p,c=g,f=m,d[v+0],7,3614090360),m=t(m,h,p,g,d[v+1],12,3905402710),g=t(g,m,h,p,d[v+2],17,606105819),p=t(p,g,m,h,d[v+3],22,3250441966),h=t(h,p,g,m,d[v+4],7,4118548399),m=t(m,h,p,g,d[v+5],12,1200080426),g=t(g,m,h,p,d[v+6],17,2821735955),p=t(p,g,m,h,d[v+7],22,4249261313),h=t(h,p,g,m,d[v+8],7,1770035416),m=t(m,h,p,g,d[v+9],12,2336552879),g=t(g,m,h,p,d[v+10],17,4294925233),p=t(p,g,m,h,d[v+11],22,2304563134),h=t(h,p,g,m,d[v+12],7,1804603682),m=t(m,h,p,g,d[v+13],12,4254626195),g=t(g,m,h,p,d[v+14],17,2792965006),h=n(h,p=t(p,g,m,h,d[v+15],22,1236535329),g,m,d[v+1],5,4129170786),m=n(m,h,p,g,d[v+6],9,3225465664),g=n(g,m,h,p,d[v+11],14,643717713),p=n(p,g,m,h,d[v+0],20,3921069994),h=n(h,p,g,m,d[v+5],5,3593408605),m=n(m,h,p,g,d[v+10],9,38016083),g=n(g,m,h,p,d[v+15],14,3634488961),p=n(p,g,m,h,d[v+4],20,3889429448),h=n(h,p,g,m,d[v+9],5,568446438),m=n(m,h,p,g,d[v+14],9,3275163606),g=n(g,m,h,p,d[v+3],14,4107603335),p=n(p,g,m,h,d[v+8],20,1163531501),h=n(h,p,g,m,d[v+13],5,2850285829),m=n(m,h,p,g,d[v+2],9,4243563512),g=n(g,m,h,p,d[v+7],14,1735328473),h=i(h,p=n(p,g,m,h,d[v+12],20,2368359562),g,m,d[v+5],4,4294588738),m=i(m,h,p,g,d[v+8],11,2272392833),g=i(g,m,h,p,d[v+11],16,1839030562),p=i(p,g,m,h,d[v+14],23,4259657740),h=i(h,p,g,m,d[v+1],4,2763975236),m=i(m,h,p,g,d[v+4],11,1272893353),g=i(g,m,h,p,d[v+7],16,4139469664),p=i(p,g,m,h,d[v+10],23,3200236656),h=i(h,p,g,m,d[v+13],4,681279174),m=i(m,h,p,g,d[v+0],11,3936430074),g=i(g,m,h,p,d[v+3],16,3572445317),p=i(p,g,m,h,d[v+6],23,76029189),h=i(h,p,g,m,d[v+9],4,3654602809),m=i(m,h,p,g,d[v+12],11,3873151461),g=i(g,m,h,p,d[v+15],16,530742520),h=o(h,p=i(p,g,m,h,d[v+2],23,3299628645),g,m,d[v+0],6,4096336452),m=o(m,h,p,g,d[v+7],10,1126891415),g=o(g,m,h,p,d[v+14],15,2878612391),p=o(p,g,m,h,d[v+5],21,4237533241),h=o(h,p,g,m,d[v+12],6,1700485571),m=o(m,h,p,g,d[v+3],10,2399980690),g=o(g,m,h,p,d[v+10],15,4293915773),p=o(p,g,m,h,d[v+1],21,2240044497),h=o(h,p,g,m,d[v+8],6,1873313359),m=o(m,h,p,g,d[v+15],10,4264355552),g=o(g,m,h,p,d[v+6],15,2734768916),p=o(p,g,m,h,d[v+13],21,1309151649),h=o(h,p,g,m,d[v+4],6,4149444226),m=o(m,h,p,g,d[v+11],10,3174756917),g=o(g,m,h,p,d[v+2],15,718787259),p=o(p,g,m,h,d[v+9],21,3951481745),h=l(h,s),p=l(p,u),g=l(g,c),m=l(m,f);return(r(h)+r(p)+r(g)+r(m)).toLowerCase()},n.closeMediaStream=function(e){if(e)try{if(e.getTracks){var t,n=l(e.getTracks());try{for(n.s();!(t=n.n()).done;)t.value.stop()}catch(e){n.e(e)}finally{n.f()}}else{var i,o=l(e.getAudioTracks());try{for(o.s();!(i=o.n()).done;)i.value.stop()}catch(e){o.e(e)}finally{o.f()}var r,s=l(e.getVideoTracks());try{for(s.s();!(r=s.n()).done;)r.value.stop()}catch(e){s.e(e)}finally{s.f()}}}catch(t){"function"!=typeof e.stop&&"object"!==a(e.stop)||e.stop()}},n.cloneArray=function(e){return e&&e.slice()||[]},n.cloneObject=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e&&Object.assign({},e)||t}},{"./Constants":2,"./Grammar":7,"./URI":25}],27:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=e("./Grammar"),r=e("debug")("JsSIP:WebSocketInterface"),s=e("debug")("JsSIP:ERROR:WebSocketInterface");function a(e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");r('new() [url:"%s"]',e),this._url=e,this._sip_uri=null,this._via_transport=null,this._ws=null;var t=o.parse(e,"absoluteURI");if(-1===t)throw s("invalid WebSocket URI: ".concat(e)),new TypeError("Invalid argument: ".concat(e));if("wss"!==t.scheme&&"ws"!==t.scheme)throw s("invalid WebSocket URI scheme: ".concat(t.scheme)),new TypeError("Invalid argument: ".concat(e));this._sip_uri="sip:".concat(t.host).concat(t.port?":".concat(t.port):"",";transport=ws"),this._via_transport=t.scheme.toUpperCase()}s.log=console.warn.bind(console),t.exports=(i(a.prototype,[{key:"via_transport",get:function(){return this._via_transport},set:function(e){this._via_transport=e.toUpperCase()}},{key:"sip_uri",get:function(){return this._sip_uri}},{key:"url",get:function(){return this._url}},{key:"connect",value:function(){if(r("connect()"),this.isConnected())r("WebSocket ".concat(this._url," is already connected"));else if(this.isConnecting())r("WebSocket ".concat(this._url," is connecting"));else{this._ws&&this.disconnect(),r("connecting to WebSocket ".concat(this._url));try{this._ws=new WebSocket(this._url,"sip"),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onOpen.bind(this),this._ws.onclose=this._onClose.bind(this),this._ws.onmessage=this._onMessage.bind(this),this._ws.onerror=this._onError.bind(this)}catch(e){this._onError(e)}}}},{key:"disconnect",value:function(){r("disconnect()"),this._ws&&(this._ws.onopen=function(){},this._ws.onclose=function(){},this._ws.onmessage=function(){},this._ws.onerror=function(){},this._ws.close(),this._ws=null)}},{key:"send",value:function(e){return r("send()"),this.isConnected()?(this._ws.send(e),!0):(s("unable to send message, WebSocket is not open"),!1)}},{key:"isConnected",value:function(){return this._ws&&this._ws.readyState===this._ws.OPEN}},{key:"isConnecting",value:function(){return this._ws&&this._ws.readyState===this._ws.CONNECTING}},{key:"_onOpen",value:function(){r("WebSocket ".concat(this._url," connected")),this.onconnect()}},{key:"_onClose",value:function(e){var t=e.wasClean,n=e.code,e=e.reason;r("WebSocket ".concat(this._url," closed")),!1===t&&r("WebSocket abrupt disconnection"),this.ondisconnect(!t,n,e)}},{key:"_onMessage",value:function(e){e=e.data;r("received WebSocket message"),this.ondata(e)}},{key:"_onError",value:function(e){s("WebSocket ".concat(this._url," error: "),e)}}]),a)},{"./Grammar":7,debug:29}],28:[function(e,t,n){"use strict";function u(e,t){var n,i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return a(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c,f,d,s=e("./Constants"),h=e("./SIPMessage"),l=e("./Utils"),i=e("debug")("JsSIP:sanityCheck"),p=[function(){for(var e=0,t=["from","to","call_id","cseq","via"];e<t.length;e++){var n=t[e];if(!c.hasHeader(n))return i("missing mandatory header field : ".concat(n,", dropping the response")),!1}}],g=[function(){if("sip"!==c.s("to").uri.scheme)return v(416),!1},function(){if(!c.to_tag&&c.call_id.substr(0,5)===f.configuration.jssip_id)return v(482),!1},function(){if(l.str_utf8_length(c.body)<c.getHeader("content-length"))return v(400),!1},function(){var e,t=c.from_tag,n=c.call_id,i=c.cseq;if(!c.to_tag)if(c.method===s.INVITE){if(f._transactions.ist[c.via_branch])return!1;for(var o in f._transactions.ist)if(Object.prototype.hasOwnProperty.call(f._transactions.ist,o)&&(e=f._transactions.ist[o]).request.from_tag===t&&e.request.call_id===n&&e.request.cseq===i)return v(482),!1}else{if(f._transactions.nist[c.via_branch])return!1;for(var r in f._transactions.nist)if(Object.prototype.hasOwnProperty.call(f._transactions.nist,r)&&(e=f._transactions.nist[r]).request.from_tag===t&&e.request.call_id===n&&e.request.cseq===i)return v(482),!1}}],m=[function(){if(1<c.getHeaders("via").length)return i("more than one Via header field present in the response, dropping the response"),!1},function(){if(l.str_utf8_length(c.body)<c.getHeader("content-length"))return i("message body length is lower than the value in Content-Length header field, dropping the response"),!1}];function v(e){var t,n=c.getHeaders("via"),i="SIP/2.0 ".concat(e," ").concat(s.REASON_PHRASE[e],"\r\n"),o=u(n);try{for(o.s();!(t=o.n()).done;){var r=t.value;i+="Via: ".concat(r,"\r\n")}}catch(e){o.e(e)}finally{o.f()}n=c.getHeader("To"),c.to_tag||(n+=";tag=".concat(l.newTag())),i=(i=(i=(i+="To: ".concat(n,"\r\n"))+"From: ".concat(c.getHeader("From"),"\r\n"))+"Call-ID: ".concat(c.call_id,"\r\n"))+"CSeq: ".concat(c.cseq," ").concat(c.method,"\r\n"),d.send(i+="\r\n")}t.exports=function(e,t,n){c=e,f=t,d=n;var i,o=u(p);try{for(o.s();!(i=o.n()).done;)if(!1===(0,i.value)())return!1}catch(e){o.e(e)}finally{o.f()}if(c instanceof h.IncomingRequest){var r,s=u(g);try{for(s.s();!(r=s.n()).done;)if(!1===(0,r.value)())return!1}catch(e){s.e(e)}finally{s.f()}}else if(c instanceof h.IncomingResponse){var a,l=u(m);try{for(l.s();!(a=l.n()).done;)if(!1===(0,a.value)())return!1}catch(e){l.e(e)}finally{l.f()}}return!0}},{"./Constants":2,"./SIPMessage":19,"./Utils":26,debug:29}],29:[function(n,o,i){!function(t){!function(){i.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),this.useColors){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");let t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(n=t))}),e.splice(n,0,i)}},i.save=function(e){try{e?i.storage.setItem("debug",e):i.storage.removeItem("debug")}catch(e){}},i.load=function(){let e;try{e=i.storage.getItem("debug")}catch(e){}return e=!e&&void 0!==t&&"env"in t?t.env.DEBUG:e},i.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},i.storage=function(){try{return localStorage}catch(e){}}(),i.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],i.log=console.debug||console.log||(()=>{}),o.exports=n("./common")(i);const e=o.exports["formatters"];e.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}.call(this)}.call(this,n("_process"))},{"./common":30,_process:33}],30:[function(e,t,n){t.exports=function(t){function a(e){let n,t=null;function s(...o){if(s.enabled){const r=s,e=Number(new Date),t=e-(n||e);r.diff=t,r.prev=n,r.curr=e,n=e,o[0]=a.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");let i=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";i++;const n=a.formatters[t];if("function"==typeof n){const a=o[i];e=n.call(r,a),o.splice(i,1),i--}return e}),a.formatArgs.call(r,o),(r.log||a.log).apply(r,o)}}return s.namespace=e,s.useColors=a.useColors(),s.color=a.selectColor(e),s.extend=i,s.destroy=a.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===t?a.enabled(e):t,set:e=>{t=e}}),"function"==typeof a.init&&a.init(s),s}function i(e,t){const n=a(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names.map(n),...a.skips.map(n).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){let t;a.save(e),a.names=[],a.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=a.skips.length;t<n;t++)if(a.skips[t].test(e))return!1;for(t=0,n=a.names.length;t<n;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=e("ms"),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return a.colors[Math.abs(n)%a.colors.length]},a.enable(a.load()),a}},{ms:32}],31:[function(e,t,n){"use strict";var i="object"==typeof Reflect?Reflect:null,l=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},o=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},r=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(o,r){return new Promise(function(e,t){function n(e){o.removeListener(r,i),t(e)}function i(){"function"==typeof o.removeListener&&o.removeListener("error",n),e([].slice.call(arguments))}m(o,r,i,{once:!0}),"error"!==r&&"function"==typeof o.on&&m(o,"error",n,{once:!0})})},(s.EventEmitter=s).prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,i){var o,r;return u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener||n),o=e._events),r=o[t]),void 0===r?(r=o[t]=n,++e._eventsCount):("function"==typeof r?r=o[t]=i?[n,r]:[r,n]:i?r.unshift(n):r.push(n),0<(o=c(e))&&r.length>o&&!r.warned&&(r.warned=!0,(i=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=r.length,console&&console.warn&&console.warn(i))),e}function d(e,t,n){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e);return t.listener=n,e.wrapFn=t}function h(e,t,n){e=e._events;if(void 0===e)return[];e=e[t];{if(void 0===e)return[];if("function"==typeof e)return n?[e.listener||e]:[e];if(n){for(var i=e,o=new Array(i.length),r=0;r<o.length;++r)o[r]=i[r].listener||i[r];return o}return g(e,e.length)}}function p(e){var t=this._events;if(void 0!==t){t=t[e];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function m(n,i,o,r){if("function"==typeof n.on)r.once?n.once(i,o):n.on(i,o);else{if("function"!=typeof n.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n);n.addEventListener(i,function e(t){r.once&&n.removeEventListener(i,e),o(t)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if((r=0<t.length?t[0]:r)instanceof Error)throw r;i=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw i.context=r,i}var r=o[e];if(void 0===r)return!1;if("function"==typeof r)l(r,this,t);else for(var s=r.length,a=g(r,s),n=0;n<s;++n)l(a[n],this,t);return!0},s.prototype.on=s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var n,i,o,r,s;if(u(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,r=n.length-1;0<=r;r--)if(n[r]===t||n[r].listener===t){s=n[r].listener,o=r;break}if(o<0)return this;if(0===o)n.shift();else{var a=n;var l=o;for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},s.prototype.removeAllListeners=function(e){var t,n;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){for(var i,o=Object.keys(n),r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return 0<this._eventsCount?o(this._events):[]}},{}],32:[function(e,t,n){function o(e,t,n,i){t=1.5*n<=t;return Math.round(e/n)+" "+i+(t?"s":"")}t.exports=function(e,t){t=t||{};var n=typeof e;if(!("string"==n&&0<e.length)){if("number"==n&&isFinite(e))return t.long?(n=e,864e5<=(t=Math.abs(n))?o(n,t,864e5,"day"):36e5<=t?o(n,t,36e5,"hour"):6e4<=t?o(n,t,6e4,"minute"):1e3<=t?o(n,t,1e3,"second"):n+" ms"):(t=e,864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}n=e;if(!(100<(n=String(n)).length)){n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(n){var i=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}},{}],33:[function(e,t,n){var i,o,t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return(i=setTimeout)(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}try{i="function"==typeof setTimeout?setTimeout:r}catch(e){i=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return(o=clearTimeout)(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],34:[function(e,t,n){var i=t.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s",t=(t+=null!=e.raddr?" raddr %s rport %d":"%v%v")+(null!=e.tcptype?" tcptype %s":"%v");return null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return(t=(t=(t+=null!=e.id?"id=%s %s":"%v%s")+(null!=e.mediaClockValue?"=%s":""))+(null!=e.rateNumerator?" rate=%s":""))+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(i).forEach(function(e){i[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},{}],35:[function(e,t,n){var i=e("./parser"),e=e("./writer");n.write=e,n.parse=i.parse,n.parseParams=i.parseParams,n.parseFmtpConfig=i.parseFmtpConfig,n.parsePayloads=i.parsePayloads,n.parseRemoteCandidates=i.parseRemoteCandidates,n.parseImageAttributes=i.parseImageAttributes,n.parseSimulcastStreamList=i.parseSimulcastStreamList},{"./parser":36,"./writer":37}],36:[function(e,t,n){function p(e){return String(Number(e))===e?Number(e):e}function i(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=p(n[1]):1===n.length&&1<t.length&&(e[n[0]]=void 0),e}var g=e("./grammar"),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);n.parse=function(e){var t={},d=[],h=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach(function(e){var t=e[0],n=e.slice(2);"m"===t&&(d.push({rtp:[],fmtp:[]}),h=d[d.length-1]);for(var i=0;i<(g[t]||[]).length;i+=1){var o=g[t][i];if(o.reg.test(n)){var r=h;var s=n;var a=o.name&&o.names,a=(o.push&&!r[o.push]?r[o.push]=[]:a&&!r[o.name]&&(r[o.name]={}),o.push?{}:a?r[o.name]:r),l=s.match(o.reg),u=a,c=o.names,s=o.name;if(s&&!c)u[s]=p(l[1]);else for(var f=0;f<c.length;f+=1)null!=l[f+1]&&(u[c[f]]=p(l[f+1]));o.push&&r[o.push].push(a);return}}}),t.media=d,t};n.parseParams=function(e){return e.split(/;\s?/).reduce(i,{})},n.parseFmtpConfig=n.parseParams,n.parsePayloads=function(e){return e.toString().split(" ").map(Number)},n.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(p),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},n.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(i,{})})},n.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,n=!1;return"~"!==e[0]?t=p(e):(t=p(e.substring(1,e.length)),n=!0),{scid:t,paused:n}})})}},{"./grammar":34}],37:[function(e,t,n){function r(e,t,n){var i=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var r=t.names[o];t.name?i.push(n[t.name][r]):i.push(n[t.names[o]])}else i.push(n[t.name]);return function(e){var n=1,i=arguments,o=i.length;return e.replace(a,function(e){if(o<=n)return e;var t=i[n];switch(n+=1,e){case"%%":return"%";case"%s":return String(t);case"%d":return Number(t);case"%v":return""}})}.apply(null,i)}var s=e("./grammar"),a=/%[sdv%]/g,l=["v","o","s","i","u","e","p","c","b","t","r","z","a"],u=["i","c","b","a"];t.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var n=t.outerOrder||l,i=t.innerOrder||u,o=[];return n.forEach(function(n){s[n].forEach(function(t){t.name in e&&null!=e[t.name]?o.push(r(n,t,e)):t.push in e&&null!=e[t.push]&&e[t.push].forEach(function(e){o.push(r(n,t,e))})})}),e.media.forEach(function(e){o.push(r("m",s.m[0],e)),i.forEach(function(n){s[n].forEach(function(t){t.name in e&&null!=e[t.name]?o.push(r(n,t,e)):t.push in e&&null!=e[t.push]&&e[t.push].forEach(function(e){o.push(r(n,t,e))})})})}),o.join("\r\n")+"\r\n"}},{"./grammar":34}],38:[function(e,t,n){t.exports={name:"jssip",title:"JsSIP",description:"the Javascript SIP library",version:"3.7.5",homepage:"https://jssip.net",author:"JosĂŠ Luis MillĂĄn <jmillan@aliax.net> (https://github.com/jmillan)",contributors:["IĂąaki Baz Castillo <ibc@aliax.net> (https://github.com/ibc)"],types:"lib/JsSIP.d.ts",main:"lib-es5/JsSIP.js",keywords:["sip","websocket","webrtc","node","browser","library"],license:"MIT",repository:{type:"git",url:"https://github.com/versatica/JsSIP.git"},bugs:{url:"https://github.com/versatica/JsSIP/issues"},dependencies:{"@types/debug":"^4.1.5","@types/node":"^14.14.34",debug:"^4.3.1",events:"^3.3.0","sdp-transform":"^2.14.1"},devDependencies:{"@babel/core":"^7.13.10","@babel/preset-env":"^7.13.10","ansi-colors":"^3.2.4",browserify:"^16.5.1",eslint:"^5.16.0","fancy-log":"^1.3.3",gulp:"^4.0.2","gulp-babel":"^8.0.0","gulp-eslint":"^5.0.0","gulp-expect-file":"^1.0.2","gulp-header":"^2.0.9","gulp-nodeunit-runner":"^0.2.2","gulp-plumber":"^1.2.1","gulp-rename":"^1.4.0","gulp-uglify-es":"^1.0.4",pegjs:"^0.7.0","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},scripts:{lint:"gulp lint",test:"gulp test",prepublishOnly:"gulp babel"}}},{}]},{},[8])(8)});class AudioCodesUA{constructor(){return this._isInitialized=!1,this.serverConfig={},this.account={user:null,userAuth:null,displayName:null,password:null,registerExpires:600,useSessionTimer:!1},this.constraints={chrome:{audio:!0,video:!0},firefox:{audio:!0,video:!0},safari:{audio:!0,video:!0},ios_safari:{audio:!0,video:!0},other:{audio:!0,video:!0}},this.chromiumBased=[{n:"Edge",s:"edg/"},{n:"Opera",s:"opr/"},{n:"Samsung",s:"samsungbrowser/"},{n:"Yandex",s:"yabrowser/"}],this.modes={video_call_audio_answer_firefox_fix:!0,video_call_audio_answer_safari_fix:!0,ice_timeout_fix:2e3,chrome_rtp_timeout_fix:13,sbc_ha_pairs_mode:void 0,ringing_header_mode:void 0},this.listeners={},this.registerExtraHeaders=null,this.jssipUA=null,this.browser="",this.browserVersion=0,this.browserName="",this.reconnectMin=2,this.reconnectMax=30,this.u17=void 0,this.activeCalls=0,this.wsSocket=null,this.wsOnMessage=null,this.wsPingMs=0,this.wsOrigPingMs=0,this.wsThrottlingPingMs=0,this.wsVisibility=!1,this.wsCall=!1,this.wsLog=0,this.wsPongTimeout=!0,this.wsIsThrottling=!1,this.wsPingJob=null,this.wsPingTime=null,this.wsNextPingTime=null,this.wsPongReceived=!1,this.wsPongSupported=null,this.wsPongTimeoutTime=null,this.wsPongDelays=null,this.wsPongDelaysIx=0,this.wsPongReport=0,this.wsPongReportCounter=0,this.wsPongDist=!1,this.dtmfUseWebRTC=!0,this.dtmfDuration=250,this.dtmfInterToneGap=250,this.enableAddVideo=!1,this.oauthToken=null,this.oauthTokenUseInInvite=!0,this.networkPriority=void 0,AudioCodesUA.ac_log=console.log,void 0===AudioCodesUA.instance&&(AudioCodesUA.instance=this),this._detectBrowser(),this.webrtcapi=AudioCodesWebRTCWrapper,this.replacedCall=null,this.AUDIO=Symbol("audio"),this.VIDEO=Symbol("video"),this.RECVONLY_VIDEO=Symbol("recvonly_video"),AudioCodesUA.instance}version(){return"1.14.1"}getBrowserName(){return this.browserName}getBrowser(){return this.browser}getBrowserVersion(){return this.browserVersion}getWR(){return this.webrtcapi}checkAvailableDevices(){return this.getWR().checkAvailableDevices()}getServerAddress(){if(null===this.wsSocket)return null;let e=this.wsSocket.url;return e=e.endsWith("/")?e.slice(0,-1):e}setOAuthToken(e,t=!0){this.oauthToken=e,this.oauthTokenUseInInvite=t,this.setRegisterExtraHeaders(this.registerExtraHeaders)}setUserAgent(e){this.u17=e}setChromeAudioConstraints(e){AudioCodesUA.ac_log("AC: setChromeAudioConstraints= "+e);let t,n=e.split(",").map(e=>e.trim()).filter(e=>0<e.length);if(0===n.length)t=!0;else{t={};for(var i of n)t[i]=!0}this.setConstraints("chrome","audio",t)}setConstraints(e,t,n){if(AudioCodesUA.ac_log("AC: setConstraints "+e+" "+t,n),void 0===this.constraints[e])throw"Unsupported browser: "+e;if(void 0===this.constraints[e][t])throw"Wrong type: "+t;this.constraints[e][t]=n}setBrowsersConstraints(e){for(var t of Object.keys(e)){var n=e[t];void 0!==n.audio&&this.setConstraints(t,"audio",n.audio),void 0!==n.video&&this.setConstraints(t,"video",n.video)}}setServerConfig(e,t,n=[]){this.serverConfig={addresses:e,domain:t,iceServers:this._convertIceList(n)},AudioCodesUA.ac_log("AC: setServerConfig()",this.serverConfig)}setReconnectIntervals(e,t){AudioCodesUA.ac_log("AC: setReconnectIntervals min="+e+" max="+t),this.reconnectMin=e,this.reconnectMax=t}setAccount(e,t,n,i){null!=t&&0!==t.length||(t=void 0),null!=i&&0!==i.length||(i=e);let o=this.account;o.user=e,o.displayName=t,o.password=n,o.authUser=i}setRegisterExpires(e){AudioCodesUA.ac_log("AC: setRegisterExpires="+e),this.account.registerExpires=e}setUseSessionTimer(e){AudioCodesUA.ac_log("AC: setUseSessionTimer="+e),this.account.useSessionTimer=e}setDtmfOptions(e,t=null,n=null){AudioCodesUA.ac_log(`AC: setDtmfOptions useWebRTC=${e} duration=${t} interToneGap=`+n),this.dtmfUseWebRTC=e,null!==t&&(this.dtmfDuration=t),null!==n&&(this.dtmfInterToneGap=n)}setEnableAddVideo(e){AudioCodesUA.ac_log("AC: setEnableAddVideo="+e),this.enableAddVideo=e}getEnableAddVideo(){return this.enableAddVideo}getAccount(){return this.account}setListeners(e){AudioCodesUA.ac_log("AC: setListeners()");for(var t of["loginStateChanged","outgoingCallProgress","callTerminated","callConfirmed","callShowStreams","incomingCall","callHoldStateChanged"])if(!(t in e))throw"listener missed method: "+t;this.listeners=e}static getSessionStatusName(e){switch(e){case 0:return"NULL (0)";case 1:return"INVITE_SENT (1)";case 2:return"1XX_RECEIVED (2)";case 3:return"INVITE_RECEIVED (3)";case 4:return"WAITING_FOR_ANSWER (4)";case 5:return"ANSWERED (5)";case 6:return"WAITING_FOR_ACK (6)";case 7:return"CANCELED (7)";case 8:return"TERMINATED (8)";case 9:return"CONFIRMED (9)";default:return"Unknown ("+e+")"}}setJsSipLogger(e){JsSIP.debug.log=e}setAcLogger(e){AudioCodesUA.ac_log=e}isInitialized(){return this._isInitialized}setModes(e={}){AudioCodesUA.ac_log("AC: setModes() "+JSON.stringify(e)),Object.assign(this.modes,e),this._normalizeModes()}_normalizeModes(){function e(e,t){return"number"==typeof e&&e<=t?void 0:e}let t=this.modes;t.sbc_ha_pairs_mode=e(t.sbc_ha_pairs_mode,0),t.chrome_rtp_timeout_fix=e(t.chrome_rtp_timeout_fix,0)}init(n=!0){if(AudioCodesUA.ac_log("AC: init() autoLogin="+n),!this._isInitialized){this._isInitialized=!0,JsSIP.debug.enable("JsSIP:*"),JsSIP.debug.formatArgs=function(){};let e=[];for(var i of this.serverConfig.addresses)i instanceof Array?e.push({socket:new JsSIP.WebSocketInterface(i[0]),weight:i[1]}):e.push(new JsSIP.WebSocketInterface(i));let t={sockets:e,uri:"sip:"+this.account.user+"@"+this.serverConfig.domain,contact_uri:"sip:"+this.account.user+"@"+this._randomToken(12)+".invalid;transport=ws",authorization_user:this.account.authUser,password:this.account.password,register:n,session_timers:this.account.useSessionTimer,register_expires:this.account.registerExpires,user_agent:this.u17,connection_recovery_min_interval:this.reconnectMin,connection_recovery_max_interval:this.reconnectMax};this.account.displayName&&0<this.account.displayName.length&&(t.display_name=this.account.displayName),this.jssipUA=new JsSIP.UA(t),this.setRegisterExtraHeaders(this.registerExtraHeaders),this._setUACallbacks(),AudioCodesUA.ac_log("AC: applied SDK modes: "+JSON.stringify(this.modes,(e,t)=>void 0===t?"<undefined>":t)),this.jssipUA.modes=this.modes,this.jssipUA.start()}}deinit(){this._isInitialized=!1,this.jssipUA&&this.jssipUA.stop()}setRegisterExtraHeaders(t){if(this.registerExtraHeaders=t,this.jssipUA){let e=null!==t?t:[];null!==this.oauthToken&&(e=e.slice()).push("Authorization: Bearer "+this.oauthToken),this.jssipUA.registrator().setExtraHeaders(e)}}login(){AudioCodesUA.ac_log("AC: login()"),this.jssipUA.register()}logout(){AudioCodesUA.ac_log("AC: logout()"),this.jssipUA.isRegistered()&&this.jssipUA.unregister()}switchSBC(){AudioCodesUA.ac_log("AC: switchSBC()"),this.jssipUA.switchSBC()}getNumberOfSBC(){return this.jssipUA.getNumberOfSBC()}setWebSocketKeepAlive(e,t=!0,n=!0,i=0,o=!1){if(AudioCodesUA.ac_log("AC: setWebSocketKeepAlive pingInterval="+e+" pongTimeout="+t+" timerThrottlingBestEffort="+JSON.stringify(n)+" pongReport="+i+" pongDist="+o),"number"!=typeof e||"boolean"!=typeof t)throw"setWebSocketKeepAlive: wrong type of 1st or 2nd argument";this.wsPingMs=this.wsOrigPingMs=1e3*e,this.wsPongTimeout=t,this.wsPongReport=i,this.wsPongDist=o,this.wsPongReportCounter=0;t=(e=!(this.wsIsThrottling=!1)===n?{log:0,chrome:{interval:62,visibility:!0,call:!0,log:1}}:!1===n?{log:0}:n)[this.browser];this.wsThrottlingPingMs=t&&void 0!==t.interval?1e3*t.interval:0,this.wsVisibility=!(!t||void 0===t.visibility)&&t.visibility,this.wsCall=!(!t||void 0===t.call)&&t.call,this.wsLog=(t&&void 0!==t.log?t:e).log,this.wsPongDelays=new Array(0<this.wsPongReport?this.wsPongReport:50),(this.wsPongDelaysIx=0)!==this.wsOrigPingMs&&0!==this.wsThrottlingPingMs&&this.wsVisibility&&document.addEventListener("visibilitychange",this._onVisibilityChange.bind(this))}_pingLog(){return` (ping=${this.wsPingMs/1e3} sec)`}_visibilityLog(e){let t="AC: keep-alive: Page is "+(document.hidden?"hidden":"visible");document.hidden&&(this.wsCall&&(t+=", "+(0===this.activeCalls?"no active call":"active call")),t+=" and "+(this.wsIsThrottling?"was":"was not")+" trottling"),e&&(t+=this._pingLog()),AudioCodesUA.ac_log(t)}_activeCallsLog(e){let t="AC: keep-alive: "+(0===this.activeCalls?"Call ended":"Call started");0===this.activeCalls&&(this.wsVisibility&&(t+=", page is "+(document.hidden?"hidden":"visible")),t+=" and "+(this.wsIsThrottling?"was":"was not")+" trottling"),e&&(t+=this._pingLog()),AudioCodesUA.ac_log(t)}_onActiveCallsChange(e){if(this.activeCalls+=e,this.wsCall&&0!==this.wsPingMs&&0!==this.wsThrottlingPingMs)if(this.activeCalls<0&&AudioCodesUA.ac_log("Warning: keep-alive: activeCalls < 0"),0===this.activeCalls){if((!this.wsVisibility||document.hidden)&&this.wsIsThrottling&&this.wsPingMs<this.wsThrottlingPingMs)return this.wsPingMs=this.wsThrottlingPingMs,void this._activeCallsLog(!0);2<=this.wsLog&&this._activeCallsLog(!1)}else if(1===this.activeCalls&&0<e){if(this.wsPingMs>this.wsOrigPingMs)return this.wsPingMs=this.wsOrigPingMs,void this._activeCallsLog(!0);2<=this.wsLog&&this._activeCallsLog(!1)}}_onVisibilityChange(){if(this.wsVisibility&&0!==this.wsPingMs&&0!==this.wsThrottlingPingMs)if(document.hidden){if(this.wsCall&&0===this.activeCalls&&this.wsIsThrottling&&this.wsPingMs<this.wsThrottlingPingMs)return this.wsPingMs=this.wsThrottlingPingMs,void this._visibilityLog(!0);2<=this.wsLog&&this._visibilityLog(!1)}else{if(this.wsPingMs>this.wsOrigPingMs)return this.wsPingMs=this.wsOrigPingMs,void this._visibilityLog(!0);2<=this.wsLog&&this._visibilityLog(!1)}}_onMessageHook(e){"\r\n"===e.data?this._onPong():this.wsOnMessage(e)}_onPong(){let e;this.wsPongReceived=!0,null===this.wsPongSupported&&(AudioCodesUA.ac_log("AC: keep-alive: Server supports CRLF pong"),this.wsPongSupported=!0),null!==this.wsPongTimeoutTime?(e=Date.now()-this.wsPongTimeoutTime,this.wsPongTimeoutTime=null,AudioCodesUA.ac_log("AC: keep-alive: Received pong that exceeded the timeout, delay="+e)):e=Date.now()-this.wsPingTime,this.wsPongDelays[this.wsPongDelaysIx]=e,this.wsPongDelaysIx=this.wsPongDelaysIx+1,this.wsPongDelaysIx===this.wsPongDelays.length&&(this.wsPongDelaysIx=0),0<this.wsPongReport&&this.wsPongReportCounter++}_onPongTimeout(e){if(AudioCodesUA.ac_log(`AC: keep-alive: Pong timeout (not received within ${e/1e3} seconds)`),AudioCodesUA.ac_log("AC: keep-alive: Previous pongs statistics: "+this._createPongReport(!0)),this.wsPongTimeout){AudioCodesUA.ac_log("AC: keep-alive: Close websocket connection"),this._stopWsKeepAlive();try{this.wsSocket.close()}catch(e){AudioCodesUA.ac_log("AC: Close websocket error",e)}}else AudioCodesUA.ac_log("AC: keep-alive: Warning: websocket is not closed, because pongTimeout=false")}_sendPing(){try{var e=Date.now();if(null!==this.wsPingTime){var t=e-this.wsNextPingTime,n=(3<=this.wsLog&&AudioCodesUA.ac_log("AC: keep-alive: timer deviation (ms): "+t),this.wsPingMs);if(1e4<=Math.abs(t)&&((0<this.wsLog||!this.wsIsThrottling)&&(AudioCodesUA.ac_log(`AC: keep-alive detected timer throttling: ${Math.round(t/1e3)} seconds `+(0<t?"later":"earlier")),0===this.wsLog&&AudioCodesUA.ac_log("AC: keep-alive: The next timer throttling will not be shown in the logs, because log==0")),this.wsIsThrottling=!0,this.wsPingMs<this.wsThrottlingPingMs&&(this.wsPingMs=this.wsThrottlingPingMs,AudioCodesUA.ac_log("AC: keep-alive: ping interval increased"+this._pingLog()))),null!==this.wsPongSupported||this.wsPongReceived||(AudioCodesUA.ac_log("AC: keep-alive: Server does not support CRLF pong."),this.wsPongSupported=!1),this.wsPongSupported&&!this.wsPongReceived&&null===this.wsPongTimeoutTime){if(this._onPongTimeout(n),this.wsPongTimeout)return;this.wsPongTimeoutTime=this.wsPingTime}}this.wsPingTime=e,this.wsNextPingTime=this.wsPingTime+this.wsPingMs,this.wsPongReceived=!1,this.wsSocket.readyState===WebSocket.OPEN?this.wsSocket.send("\r\n\r\n"):AudioCodesUA.ac_log("AC: keep-alive: Warning: Cannot send Ping, websocket state="+this.wsSocket.readyState),this.wsPingJob=setTimeout(this._sendPing.bind(this),this.wsPingMs),0<this.wsPongReport&&this.wsPongReportCounter>=this.wsPongReport&&(this.wsPongReportCounter=0,AudioCodesUA.ac_log("AC: keep-alive: Pong statistics: "+this._createPongReport(this.wsPongDist)))}catch(e){AudioCodesUA.ac_log("AC: keep-alive: send ping error",e)}}_startWsKeepAlive(e){this.wsSocket=e,0!==this.wsPingMs&&(this.wsOnMessage=e.onmessage,e.onmessage=this._onMessageHook.bind(this),this._stopWsKeepAlive(),this.wsPingTime=null,this.wsPingJob=setTimeout(this._sendPing.bind(this),this.wsPingMs))}_stopWsKeepAlive(){null!==this.wsPingJob&&(clearTimeout(this.wsPingJob),this.wsPingJob=null)}_createPongReport(t){let n,i="",o=!1,r=1e6,s=0,a=(t&&(n=new Array(this.wsPingMs/1e3*4).fill(0)),0);for(let e=0;e<this.wsPongDelays.length;e++){var l=this.wsPongDelays[e];if(void 0!==l&&(a++,l<r&&(r=l),l>s&&(s=l),t)){let e=Math.floor(l/250);e>=n.length&&(e=n.length-1,o=!0),n[e]++}}if(t){i="\r\npongs distribution (1/4 second step): ";for(let e=0;e<n.length;e++)i+=n[e].toString(),e!==n.length-1&&(i+=(e+1)%4==0?",":" ");o&&(i+=" (+)")}return`pongs=${a} delay=${r}..${s} ms`+i}_setUACallbacks(){this.jssipUA.on("connected",e=>{AudioCodesUA.ac_log('AC>>: loginStateChanged: isLogin=false "connected"'),this._startWsKeepAlive(e.socket.socket._ws),this.listeners.loginStateChanged(!1,"connected",null)}),this.jssipUA.on("disconnected",()=>{this._stopWsKeepAlive(),AudioCodesUA.ac_log('AC>>: loginStateChanged: isLogin=false "disconnected"'),this.listeners.loginStateChanged(!1,"disconnected",null)}),this.jssipUA.on("registered",e=>{AudioCodesUA.ac_log('AC>>: loginStateChanged: isLogin=true "login"'),this.listeners.loginStateChanged(!0,"login",e.response)}),this.jssipUA.on("unregistered",e=>{AudioCodesUA.ac_log('AC>>: loginStateChanged: isLogin=false "logout"'),this.listeners.loginStateChanged(!1,"logout",e.response)}),this.jssipUA.on("registrationFailed",e=>{if(e.response&&300<=e.response.status_code&&e.response.status_code<400)if(this.jssipUA.registerRedirect){var n=e.response.parseHeader("contact");if(n){let e=n.uri,t="wss://"+e.host;if(e.port&&443!==e.port&&(t+=":"+e.port.toString()),AudioCodesUA.ac_log('AC>>: loginStateChanged: isLogin=false "redirection" '+t),this.jssipUA.registerRedirect(t))return;AudioCodesUA.ac_log("AC: redirect url missed in server addresses, please see setServerConfig()")}else AudioCodesUA.ac_log('AC: 3xx response without "Contact" is ignored')}else AudioCodesUA.ac_log("AC: REGISTER 3xx redirection is not supported in the original JsSIP");AudioCodesUA.ac_log('AC>>: loginStateChanged: isLogin=false "login failed"'),this.listeners.loginStateChanged(!1,"login failed",e.response||null)}),this.jssipUA.on("newMessage",e=>{"remote"===e.originator&&(AudioCodesUA.ac_log("AC>>: incomingMessage",e),this.listeners.incomingMessage&&this.listeners.incomingMessage(null,AudioCodesUA.instance._get_from(e.request),AudioCodesUA.instance._get_content_type(e.request),e.request.body,e.request))}),this.jssipUA.on("sipEvent",e=>{this.listeners.incomingNotify&&(AudioCodesUA.ac_log("AC>>: incoming out of dialog NOTIFY",e),this.listeners.incomingNotify(null,e.event?e.event.event:null,AudioCodesUA.instance._get_from(e.request),AudioCodesUA.instance._get_content_type(e.request),e.request.body,e.request))}),this.jssipUA.on("newRTCSession",function(o){AudioCodesUA.ac_log(`AC: event ${"remote"===o.originator?"incoming":"outgoing"} "newRTCSession"`,o);let e,r=new AudioCodesSession(o.session);if(r.js_session.on("sipEvent",function(e){var t;AudioCodesUA.instance.listeners.incomingNotify&&(t=this.data.ac_session,AudioCodesUA.ac_log("AC>>: incoming NOTIFY",t,e),e.taken=AudioCodesUA.instance.listeners.incomingNotify(t,e.event?e.event.event:null,AudioCodesUA.instance._get_from(e.request),AudioCodesUA.instance._get_content_type(e.request),e.request.body,e.request))}),r.js_session.on("newInfo",function(e){var t;AudioCodesUA.instance.listeners.incomingInfo&&"local"!==e.originator&&(t=this.data.ac_session,AudioCodesUA.ac_log("AC>>: incoming INFO",t,e),AudioCodesUA.instance.listeners.incomingInfo(t,AudioCodesUA.instance._get_from(e.request),AudioCodesUA.instance._get_content_type(e.request),e.request.body,e.request))}),r.js_session.on("replaces",function(e){AudioCodesUA.instance.replacedCall=this.data.ac_session,AudioCodesUA.ac_log("AC>>: incoming INVITE with Replaces. This call will be replaced:",this.data.ac_session),e.accept()}),r.js_session.on("sdp",function(e){AudioCodesUA.instance._sdp_checking(this,e)}),r.js_session.on("connecting",function(){}),r.js_session.on("reinvite",function(t){if(AudioCodesUA.instance.listeners.callIncomingReinvite){let e=this.data.ac_session;AudioCodesUA.ac_log("AC>>: callIncomingReinvite start"),AudioCodesUA.instance.listeners.callIncomingReinvite(e,!0,t.request),t.callback=function(){AudioCodesUA.ac_log("AC>>: callIncomingIncomingReinvite end"),AudioCodesUA.instance.listeners.callIncomingReinvite(e,!1,null)}}}),r.js_session.on("hold",function(e){var t=this.data.ac_session,e="remote"===e.originator;AudioCodesUA.ac_log(`AC>>: callHoldStateChanged isHold=true isRemote=${e} session:`,t),AudioCodesUA.instance.listeners.callHoldStateChanged(t,!0,e)}),r.js_session.on("unhold",function(e){var t=this.data.ac_session,e="remote"===e.originator;AudioCodesUA.ac_log(`AC>>: callHoldStateChanged isHold=false isRemote=${e} session:`,t),AudioCodesUA.instance.listeners.callHoldStateChanged(t,!1,e)}),r.js_session.on("progress",function(e){var t;"remote"===e.originator&&(t=this.data.ac_session,AudioCodesUA.ac_log("AC>>: outgoingCallProgress",t),AudioCodesUA.instance.listeners.outgoingCallProgress(t,e.response))}),r.js_session.on("failed",function(t){let e=this.data.ac_session,n=null;if("Redirected"===t.cause&&t.message&&t.message.headers){let e=t.message.parseHeader("Contact");e&&(n=e.uri.toString())}AudioCodesUA.ac_log("AC>>: callTerminated (failed)",e,t.cause,n),AudioCodesUA.instance.listeners.callTerminated(e,t.message,t.cause,n)}),r.js_session.on("accepted",function(e){let t=this.data.ac_session;t.data._accepted=!0,"remote"===e.originator&&(t.data._ok_response=e.response)}),"remote"===o.originator&&null!==AudioCodesUA.instance.replacedCall&&r.js_session.removeAllListeners("confirmed"),r.js_session.on("confirmed",function(){let e,t=this.data.ac_session,n=null;e="_ok_response"in t.data?(n=t.data._ok_response,delete t.data._ok_response,"ACK sent"):"ACK received",r.data._video_call_audio_answer_firefox&&(r.data._video_call_audio_answer_firefox=!1,AudioCodesUA.ac_log("AC: [video call/audio answer] Firefox workaround. Send re-INVITE"),r.sendReInvite({showStreams:!0})),AudioCodesUA.ac_log("AC>>: callConfirmed",t,e),AudioCodesUA.instance._onActiveCallsChange.call(AudioCodesUA.instance,1),AudioCodesUA.instance.listeners.callConfirmed(t,n,e)}),r.js_session.on("ended",function(e){let t=this.data.ac_session;t.data._screenSharing&&t._onEndedScreenSharing.call(t,"call terminated"),AudioCodesUA.ac_log("AC>>: callTerminated (ended)",t,e.cause),AudioCodesUA.instance._onActiveCallsChange.call(AudioCodesUA.instance,-1),AudioCodesUA.instance.listeners.callTerminated(t,e.message,e.cause)}),r.js_session.on("refer",function(e){if(AudioCodesUA.instance.listeners.transfereeCreatedCall){let t=this.data.ac_session;var n;!AudioCodesUA.instance.listeners.transfereeRefer||AudioCodesUA.instance.listeners.transfereeRefer(t,e.request)?(AudioCodesUA.ac_log("AC>>: incoming REFER accepted"),n=t.isScreenSharing()?t.doesScreenSharingReplaceCamera():t.hasSendVideo(),n=AudioCodesUA.instance._callOptions(n,!0),e.accept(e=>{e.data._created_by_refer=t},n)):(AudioCodesUA.ac_log("AC>>: incoming REFER rejected"),e.reject())}else AudioCodesUA.ac_log("AC>>: incoming REFER rejected, because transfereeCreatedCall is not set"),e.reject()}),r._setEnabledReceiveVideo(AudioCodesUA.instance.enableAddVideo),r.js_session.connection?(AudioCodesUA.instance._set_connection_listener(r),AudioCodesUA.ac_log('AC: connection exists, set "track" listener')):(AudioCodesUA.ac_log("AC: peer connection does not exist, wait creation"),r.js_session.on("peerconnection",()=>{AudioCodesUA.instance._set_connection_listener(r),AudioCodesUA.ac_log('AC: [event connection] connection created, set "track" listener')})),e="remote"===o.originator?o.request.from:o.request.to,r.data._user=e.uri.user,r.data._host=e.uri.host,r.data._display_name=e.display_name,r.data._create_time=new Date,"remote"===o.originator){let t,n,i,e=null;if(null!==AudioCodesUA.instance.replacedCall&&(e=AudioCodesUA.instance.replacedCall,AudioCodesUA.instance.replacedCall=null),o.request.body){i=!0;let e=new AudioCodesSDP(o.request.body);[t,n]=e.getMediaDirection("video",!0)}else i=!1,t=n=!0,AudioCodesUA.ac_log("AC: warning incoming INVITE without SDP");r._setVideoState(t,n),AudioCodesUA.ac_log(`AC>>: incomingCall ${r.hasVideo()?"video":"audio"} from "${r.data._display_name}" `+r.data._user,r,e),AudioCodesUA.instance.listeners.incomingCall(r,o.request,e,i)}else r.js_session.data._created_by_refer?(AudioCodesUA.ac_log("AC>>: outgoing call created by REFER"),r.data._created_by_refer=r.js_session.data._created_by_refer,AudioCodesUA.instance.listeners.transfereeCreatedCall(r)):AudioCodesUA.ac_log("AC>>: outgoing call created by phone.call()")})}_get_from(e){return{user:e.from.uri.user,host:e.from.uri.host,displayName:e.from.display_name||null}}_get_content_type(e){e=e.headers["Content-Type"];return e&&0<e.length?e[0].parsed:null}_set_connection_listener(i){AudioCodesUA.instance.getWR().connection.addEventListener(i.js_session.connection,"track",n=>{var e,t;AudioCodesUA.ac_log('AC>>: "track"  event kind: '+n.track.kind,n),0<n.streams.length?(e=n.streams[0],AudioCodesUA.ac_log("AC: set call remote stream: "+e.id,i),i.data._remoteMediaStream=e):AudioCodesUA.ac_log('AC: Warning "track" event without stream'),"video"===n.track.kind?i.hasEnabledReceiveVideo()||(i.data._video_call_audio_answer_safari&&(n.track.onmute=()=>{AudioCodesUA.ac_log('AC: [video call/audio answer] Safari fix. Fired video track "mute" event.  Call callShowStream'),n.track.onmute=null;var e=i.getRTCLocalStream(),t=i.getRTCRemoteStream();AudioCodesUA.ac_log("AC>>: callShowStreams",i,e,t),AudioCodesUA.instance.listeners.callShowStreams(i,e,t)},AudioCodesUA.ac_log('AC: [video call/audio answer] Safari fix. Set video track "mute" event listener'),i.data._video_call_audio_answer_safari=!1),AudioCodesUA.ac_log('AC>>: event "track" video and !hasEnabledReceiveVideo therefore change transceiver direction.',i),null!==(e=AudioCodesUA.instance.getWR().connection.getTransceiver(i.js_session.connection,"video"))&&(t=i.hasEnabledSendVideo()?"sendonly":"inactive",AudioCodesUA.instance.getWR().transceiver.setDirection(e,t))):(e=i.getRTCLocalStream(),t=i.getRTCRemoteStream(),AudioCodesUA.ac_log("AC>>: callShowStreams",i,e,t),AudioCodesUA.instance.listeners.callShowStreams(i,e,t))})}_sdp_checking(e,t){let n,i,o,r=t.originator+" "+t.type,s=e.data.ac_session;try{n=new AudioCodesSDP(t.sdp),[i,o]=n.getMediaDirection("video","remote"===t.originator)}catch(t){return void AudioCodesUA.ac_log("AC: cannot parse SDP",t)}var a=s.data._initial;switch("answer"===t.type&&(s.data._initial=!1),AudioCodesUA.ac_log(`AC: Event "sdp" ${a?"initial":""} ${r}   Session state:`+AudioCodesUA.getSessionStatusName(e._status)),r){case"remote offer":break;case"remote answer":if(s.isLocalHold()||s.isRemoteHold())break;s._setVideoState(i,o);break;case"local offer":AudioCodesUA.instance.networkPriority&&AudioCodesUA.instance._set_senders_dscp(e);break;case"local answer":if(s.isLocalHold()||s.isRemoteHold())break;AudioCodesUA.instance.networkPriority&&AudioCodesUA.instance._set_senders_dscp(e),s._setVideoState(i,o)}}_set_senders_dscp(e){var t;"chrome"===AudioCodesUA.instance.browser&&(AudioCodesUA.ac_log("AC: _set_senders_dscp()"),t=AudioCodesUA.instance.networkPriority,AudioCodesUA.instance._set_dscp(e,"audio",t),AudioCodesUA.instance._set_dscp(e,"video",t))}_set_dscp(e,i,o){let t=e.connection,r=AudioCodesUA.instance.getWR().connection.getTransceiver(t,i);return r||"video"!==i?Promise.resolve().then(()=>{var e=r.sender.getParameters();if(!e)throw"getParameters returns undefined";let t=e.encodings;if(!t)throw"encodings is undefined";if(0===t.length)throw"encodings is empty array";var n=t[0].networkPriority;if(n)return n===o||(t[0].networkPriority=o,r.sender.setParameters(e).then(()=>(AudioCodesUA.ac_log(`AC: DSCP: ${i} "${o}"`),!0)));throw"networkPriority is undefined"}).catch(e=>(AudioCodesUA.ac_log(`AC: DSCP: ${i} error: `+e),!1)):Promise.resolve(!1)}_convertIceList(e){let t=[];for(var n of e)"string"==typeof n&&(n={urls:"stun:"+n}),t.push(n);return t}_randomToken(t){let n="";for(let e=0;e<t;e++)n+=Math.floor(36*Math.random()).toString(36);return n}_detectBrowser(){try{let e=navigator.userAgent;if(this.browser="other",this.browserName=e,this.browserVersion=0,navigator.mozGetUserMedia)this.browser="firefox",this.browserName=e.match(/Firefox\/([.\d]+)$/)[0],this.browserVersion=parseInt(e.match(/Firefox\/(\d+)\./)[1],10);else if(navigator.webkitGetUserMedia){this.browser="chrome",this.browserName=e.match(/Chrom(e|ium)\/([.\d]+)/)[0],this.browserVersion=parseInt(e.match(/Chrom(e|ium)\/(\d+)\./)[2],10);let t=e.toLowerCase();for(let e=0;e<this.chromiumBased.length;e++){var n=this.chromiumBased[e].s,i=t.indexOf(n);if(-1!==i){var o=t.substring(i+n.length).match(/([.\d]+)/)[1];this.browserName+=" ("+this.chromiumBased[e].n+"/"+o+")";break}}}else window.safari?(this.browser="safari",this.browserName="Safari/"+e.match(/Version\/([.\d]+)/)[1],this.browserVersion=parseInt(e.match(/Version\/(\d+)\./)[1],10)):-1!==e.indexOf("Edge/")&&(this.browser="other",this.browserName=e.match(/Edge\/([.\d]+)/)[0],this.browserVersion=parseInt(e.match(/Edge\/(\d+).(\d+)$/)[2],10));/iPad|iPhone|iPod/.test(e)&&(this.browser="ios_safari",this.browserName=e,this.browserVersion=parseInt(e.match(/Version\/(\d+)\./)[1],10))}catch(e){AudioCodesUA.ac_log("AC: Browser detection error",e),this.browser="other",this.browserName=navigator.userAgent,this.browserVersion=0}}_callOptions(e,t,n=null,i=null){let o={};if("chrome"===this.browser&&this.networkPriority){const e={rtcConstraints:{optional:[{googDscp:!0}]}};Object.assign(o,e)}return null!==i&&Object.assign(o,i),o.mediaConstraints={audio:this.constraints[this.browser].audio},e&&(o.mediaConstraints.video=this.constraints[this.browser].video),void 0===o.pcConfig&&(o.pcConfig={}),o.pcConfig.iceServers=this.serverConfig.iceServers,null!==n&&(n=n.slice()),null!==this.oauthToken&&this.oauthTokenUseInInvite&&t&&(n=null===n?[]:n).push("Authorization: Bearer "+this.oauthToken),null!==n&&(o.extraHeaders=n),o}call(e,t,n=null,i=null){if(!1===e?e=AudioCodesUA.instance.AUDIO:!0===e&&(e=AudioCodesUA.instance.VIDEO),"symbol"!=typeof e||![AudioCodesUA.instance.AUDIO,AudioCodesUA.instance.VIDEO].includes(e))throw"Illegal videoOption="+e.toString();AudioCodesUA.ac_log(`AC: call ${e.description} to `+t);let o=this._callOptions(e===AudioCodesUA.instance.VIDEO,!0,n,i),r=this.jssipUA.call(t,o),s=(o.mediaStream&&(r._localMediaStreamLocallyGenerated=!0),r.data.ac_session);return s._setEnabledSendVideo(e===AudioCodesUA.instance.VIDEO),e===AudioCodesUA.instance.VIDEO&&s._setEnabledReceiveVideo(!0),s}sendMessage(e,i,o="text/plain"){return AudioCodesUA.ac_log(`AC: sendMessage to: ${e} "${i}"`),new Promise((t,n)=>{this.jssipUA.sendMessage(e,i,{contentType:o,eventHandlers:{succeeded:e=>t(e),failed:e=>n(e)}})})}isScreenSharingSupported(){return AudioCodesUA.instance.getWR().hasDisplayMedia()}openScreenSharing(){return this.isScreenSharingSupported()?(AudioCodesUA.ac_log("AC: openScreenSharing()"),AudioCodesUA.instance.getWR().getDisplayMedia().then(e=>e).catch(e=>{throw AudioCodesUA.ac_log("AC: openScreenSharing() error",e),e})):(AudioCodesUA.ac_log("AC: openScreenSharing: screen sharing is not supported in the browser"),Promise.reject("Screen sharing is not supported"))}closeScreenSharing(t){if(AudioCodesUA.ac_log("AC: closeScreenSharing()"),t){t=t.getVideoTracks();if(0!=t.length){let e=t[0];"live"===e.readyState&&(e.stop(),e.dispatchEvent(new Event("ended")))}}}setNetworkPriority(e){if(AudioCodesUA.ac_log("AC: setNetworkPriority="+e),void 0!==e&&"high"!==e&&"medium"!==e&&"low"!==e&&"very-low"!==e)throw"setNetworkPriority: illegal value";this.networkPriority=e}}class AudioCodesSession{constructor(e){this.js_session=e,this.data={_user:null,_display_name:null,_create_time:null,_initial:!0,_remoteMediaStream:null,_wasUsedSendVideo:!1,_screenSharing:null,_video:{send:!1,receive:!1,enabledSend:!1,enabledReceive:!1}},e.data.ac_session=this}getRTCPeerConnection(){return this.js_session.connection}getRTCLocalStream(){return this.js_session._localMediaStream}getRTCRemoteStream(){return this.data._remoteMediaStream}isEstablished(){return this.js_session.isEstablished()}isTerminated(){return this.js_session.isEnded()}isOutgoing(){return"outgoing"===this.js_session.direction}isAudioMuted(){return this.js_session.isMuted().audio}isVideoMuted(){return this.js_session.isMuted().video}wasAccepted(){return!0===this.data._accepted}getReplacesHeader(){if(!this.js_session.isEstablished()||!this.js_session._dialog)return AudioCodesUA.ac_log("getReplacesHeader(): call is not established"),null;var e=this.js_session._dialog.id;return`${e.call_id};to-tag=${e.remote_tag};from-tag=`+e.local_tag}muteAudio(e){AudioCodesUA.ac_log(`AC: muteAudio() arg=${e} `),e?this.js_session.mute({audio:!0,video:!1}):this.js_session.unmute({audio:!0,video:!1})}muteVideo(e){AudioCodesUA.ac_log(`AC: muteVideo() arg=${e} `),e?this.js_session.mute({audio:!1,video:!0}):this.js_session.unmute({audio:!1,video:!0})}sendDTMF(e){let t=AudioCodesUA.instance.dtmfUseWebRTC;t&&["safari","ios_safari"].includes(AudioCodesUA.instance.browser)&&void 0===AudioCodesUA.instance.getWR().connection.getDTMFSender(this.js_session.connection)&&(t=!1),AudioCodesUA.ac_log(`AC: sendDTMF() tone=${e} `+(t?"[RFC2833]":"[INFO]"));var n={duration:AudioCodesUA.instance.dtmfDuration,interToneGap:AudioCodesUA.instance.dtmfInterToneGap,transportType:t?"RFC2833":"INFO"};this.js_session.sendDTMF(e,n)}sendInfo(e,t,n=null){AudioCodesUA.ac_log("AC: sendInfo()",e,t,n),this.js_session.sendInfo(t,e,null!==n?{extraHeaders:n}:void 0)}duration(){let e=this.js_session.start_time;if(!e)return 0;let t=this.js_session.end_time;return t=t||new Date,Math.floor((t.getTime()-e.getTime())/1e3)}hasSendVideo(){return this.data._video.send}hasReceiveVideo(){return this.data._video.receive}hasVideo(){return this.hasSendVideo()&&this.hasReceiveVideo()}getVideoState(){return this.hasSendVideo()&&this.hasReceiveVideo()?"sendrecv":this.hasSendVideo()?"sendonly":this.hasReceiveVideo()?"recvonly":"inactive"}_setVideoState(e,t){AudioCodesUA.ac_log(`AC: _setVideoState(send=${e}, receive=${t})`),this.data._video.send=e,this.data._video.receive=t}hasEnabledSendVideo(){return this.data._video.enabledSend}hasEnabledReceiveVideo(){return this.data._video.enabledReceive}getEnabledVideoState(){return this.hasEnabledSendVideo()&&this.hasEnabledReceiveVideo()?"sendrecv":this.hasEnabledSendVideo()?"sendonly":this.hasEnabledReceiveVideo()?"recvonly":"inactive"}_setEnabledSendVideo(e){AudioCodesUA.ac_log(`AC: _setEnabledSendVideo(${e})`),this.data._video.enabledSend=e}_setEnabledReceiveVideo(e){AudioCodesUA.ac_log(`AC: _setEnabledReceiveVideo(${e})`),this.data._video.enabledReceive=e}answer(e,n=null,i=null){if(this.data._answer_called)AudioCodesUA.ac_log("AC: answer() is already called. [Ignored]");else{if(!(this.data._answer_called=!0)===e?e=AudioCodesUA.instance.AUDIO:!0===e&&(e=AudioCodesUA.instance.VIDEO),"symbol"!=typeof e||![AudioCodesUA.instance.AUDIO,AudioCodesUA.instance.RECVONLY_VIDEO,AudioCodesUA.instance.VIDEO].includes(e))throw"Illegal videoOption="+e.toString();var o,r,s;switch(AudioCodesUA.ac_log(`AC: ${e.description} answer`),this.hasVideo()||e!==AudioCodesUA.instance.RECVONLY_VIDEO&&e!==AudioCodesUA.instance.VIDEO||(AudioCodesUA.ac_log('AC: incoming INVITE without video, so answer can be only "audio"'),e=AudioCodesUA.instance.AUDIO),this.hasVideo()&&e===AudioCodesUA.instance.AUDIO&&(o=(s=AudioCodesUA.instance).browser,r=s.modes,s=s.browserVersion,"firefox"===o&&r.video_call_audio_answer_firefox_fix?this.data._video_call_audio_answer_firefox=!0:"safari"!==o&&"ios_safari"!==o||(!0===r.video_call_audio_answer_safari_fix&&s<14||"force"===r.video_call_audio_answer_safari_fix)&&(this.data._video_call_audio_answer_safari=!0)),e){case AudioCodesUA.instance.AUDIO:this._setEnabledSendVideo(!1),this._setEnabledReceiveVideo(!this.hasVideo()&&AudioCodesUA.instance.enableAddVideo),this._setVideoState(!1,!1);break;case AudioCodesUA.instance.VIDEO:this._setEnabledSendVideo(!0),this._setEnabledReceiveVideo(!0),this._setVideoState(!0,!0);break;case AudioCodesUA.instance.RECVONLY_VIDEO:this._setEnabledSendVideo(!1),this._setEnabledReceiveVideo(!0),this._setVideoState(!1,!0)}let t=AudioCodesUA.instance._callOptions(e===AudioCodesUA.instance.VIDEO,!1,n,i);Promise.resolve().then(()=>t.mediaStream||AudioCodesUA.instance.getWR().getUserMedia(t.mediaConstraints)).then(e=>{t.mediaStream=e,this.js_session._localMediaStreamLocallyGenerated=!0,AudioCodesUA.ac_log("AC: answer options:",t),this.js_session.answer(t)}).catch(e=>{AudioCodesUA.ac_log("AC: getUserMedia failure",e),this.reject(488)})}}reject(t=486,n=null){AudioCodesUA.ac_log("AC: reject()");try{let e={status_code:t};n&&(e.extraHeaders=n),this.js_session.terminate(e)}catch(t){AudioCodesUA.ac_log("AC: call reject error:",t)}}terminate(){AudioCodesUA.ac_log("AC: terminate()");try{this.js_session.terminate()}catch(e){AudioCodesUA.ac_log("AC: call terminate error:",e)}}redirect(t,n=302,i=null){AudioCodesUA.ac_log("AC: redirect() callTo=%s",t);try{let e={status_code:n,extraHeaders:["Contact: "+AudioCodesUA.instance.jssipUA.normalizeTarget(t)]};i&&e.extraHeaders.push(...i),this.js_session.terminate(e)}catch(t){AudioCodesUA.ac_log("AC: call redirect error:",t)}}isLocalHold(){return this.js_session.isOnHold().local}isRemoteHold(){return this.js_session.isOnHold().remote}isReadyToReOffer(){return this.js_session._isReadyToReOffer()}hold(n){return AudioCodesUA.ac_log(`AC: hold(${n})`),new Promise((e,t)=>{(n?this.js_session.hold:this.js_session.unhold).call(this.js_session,{},()=>{AudioCodesUA.ac_log("AC: hold()/unhold() is completed"),e()})||(AudioCodesUA.ac_log("AC: hold()/unhold() failed"),t())})}enableReceiveVideo(e){this._setEnabledReceiveVideo(e);var t,n=this.getRTCPeerConnection(),n=AudioCodesUA.instance.getWR().connection.getTransceiver(n,"video");return null!==n&&(t=this.getEnabledVideoState(),AudioCodesUA.instance.getWR().transceiver.setDirection(n,t)),AudioCodesUA.ac_log(`AC: enableReceiveVideo(${e}) `+(null!==n?"":"No video transceiver")),null!==n}startSendingVideo(e={}){let n=e&&!1!==e.enabledReceiveVideo;return this.hasEnabledSendVideo()?(AudioCodesUA.ac_log("AC: startSendingVideo(). Already started"),Promise.reject("video already started")):(AudioCodesUA.ac_log("AC: startSendingVideo()"),AudioCodesUA.instance.getWR().getUserMedia({video:!0}).catch(e=>{throw AudioCodesUA.ac_log("AC: startSendingVideo() getUserMedia failure",e),e}).then(e=>{var e=e.getVideoTracks()[0],t=(this.getRTCLocalStream().addTrack(e),this._setEnabledSendVideo(!0),this._setEnabledReceiveVideo(n),this.data._wasUsedSendVideo);return AudioCodesUA.instance.getWR().connection.addVideo(this.getRTCPeerConnection(),this.getRTCLocalStream(),e,this.hasEnabledReceiveVideo(),t).catch(e=>{throw AudioCodesUA.ac_log("AC: startSendingVideo(). Adding video error",e),e})}).then(()=>this._renegotiate(e)))}stopSendingVideo(e={}){return this.hasEnabledSendVideo()?(AudioCodesUA.ac_log("AC: stopSendingVideo()"),AudioCodesUA.instance.getWR().connection.removeVideo(this.getRTCPeerConnection(),this.getRTCLocalStream()).catch(e=>{throw AudioCodesUA.ac_log("AC: stopSendingVideo(). Remove video error",e),e}).then(()=>(this._setEnabledSendVideo(!1),this.data._wasUsedSendVideo=!0,this._renegotiate(e)))):(AudioCodesUA.ac_log("AC: stopSendingVideo(). Already stopped"),Promise.reject("video already stopped"))}_doRenegotiate(t){return this.js_session.isEnded()?Promise.reject("call is ended"):new Promise(e=>{if(!this.js_session.renegotiate(t,()=>e(!0)))return e(!1)})}_renegotiate(t,n=30,i=500){return AudioCodesUA.ac_log("AC: _renegotiate() attemptsLeft="+n),this._doRenegotiate(t).then(e=>{if(e)return AudioCodesUA.ac_log("AC: Renegotiation success"),!0;if(n<=1)throw"Too many attempts";return new Promise(e=>setTimeout(e,i)).then(()=>this._renegotiate(t,n-1,i))}).catch(e=>{throw AudioCodesUA.ac_log("AC: Renegotiation failed",e),e})}sendReInvite(n={}){return AudioCodesUA.ac_log("AC: sendReInvite()"),this._renegotiate(n).then(()=>{var e,t;n.showStreams&&(e=this.getRTCLocalStream(),t=this.getRTCRemoteStream(),AudioCodesUA.ac_log("AC>>: [after send re-INVITE] callShowStreams",this,e,t),AudioCodesUA.instance.listeners.callShowStreams(this,e,t))})}startScreenSharing(e,t={localScreenSharing:!0,enabledReceiveVideo:!0,separateVideo:!1}){if(AudioCodesUA.ac_log("AC: startScreenSharing"),!e)return Promise.reject("missed stream argument");if(this.data._screenSharing)return Promise.reject("the call is already using screen-sharing");let n=t&&!1!==t.enabledReceiveVideo,i=e.getVideoTracks()[0],o=void 0;t.localScreenSharing&&(o=this._onEndedScreenSharingTrack.bind(this),i.addEventListener("ended",o)),this.data._screenSharing={stream:e,onended:o,hadSendVideo:this.hasSendVideo()};t=this.data._wasUsedSendVideo;return this._setEnabledSendVideo(!0),this._setEnabledReceiveVideo(n),AudioCodesUA.instance.getWR().connection.addVideo(this.getRTCPeerConnection(),this.getRTCLocalStream(),i,this.hasEnabledReceiveVideo(),t).catch(e=>{throw AudioCodesUA.ac_log("AC: startScreenSharing() error",e),this.data._screenSharing=null,e}).then(()=>this._renegotiate({extraHeaders:["X-Screen-Sharing: on"]}))}stopScreenSharing(){return AudioCodesUA.ac_log("AC: stopScreenSharing"),this.data._screenSharing?this._onEndedScreenSharing("called stopScreenSharing()"):Promise.reject("the call does not use screen-sharing")}isScreenSharing(){return!!this.data._screenSharing}doesScreenSharingReplaceCamera(){var e=this.data._screenSharing;return e&&e.hadSendVideo}_onEndedScreenSharingTrack(){return this._onEndedScreenSharing("track ended")}_onEndedScreenSharing(e){let i=this.data._screenSharing,t=(this.data._screenSharing=null,i.stream),n=i.onended;return t&&n&&t.getVideoTracks()[0].removeEventListener("ended",n),Promise.resolve().then(()=>{var e,t,n;if(!this.isTerminated())return e=this.getRTCPeerConnection(),t=this.getRTCLocalStream(),n={extraHeaders:["X-Screen-Sharing: off"]},i.hadSendVideo?(AudioCodesUA.ac_log("AC: screen sharing stopped - restore previously sending video track"),AudioCodesUA.instance.getWR().connection.replaceSenderTrack(e,"video",t),this._renegotiate(n)):(AudioCodesUA.ac_log("AC: screen sharing stopped - stop send video"),this.stopSendingVideo(n))}).then(()=>{AudioCodesUA.instance.listeners.callScreenSharingEnded&&(AudioCodesUA.ac_log(`AC>>: callScreenSharingEnded "${e}"`,this,t),AudioCodesUA.instance.listeners.callScreenSharingEnded(this,t))})}setRemoteHoldState(){this.js_session._remoteHold=!0}sendRefer(e,t=null){if(!AudioCodesUA.instance.listeners.transferorNotification)throw"transferorNotification missed in phone.setListeners()";let n=this,i={eventHandlers:{requestSucceeded(){AudioCodesUA.ac_log("AC>>: transferorNotification progress [REFER accepted]"),AudioCodesUA.instance.listeners.transferorNotification(n,0)},requestFailed(){AudioCodesUA.ac_log("AC>>: transferorNotification failed [REFER failed]"),AudioCodesUA.instance.listeners.transferorNotification(n,-1)},trying(){AudioCodesUA.ac_log("AC>>: transferorNotification progress [NOTIFY 1xx]"),AudioCodesUA.instance.listeners.transferorNotification(n,0)},progress(){AudioCodesUA.ac_log("AC>>: transferorNotification progress [NOTIFY 1xx]"),AudioCodesUA.instance.listeners.transferorNotification(n,0)},accepted(){AudioCodesUA.ac_log("AC>>: transferorNotification success [NOTIFY 2xx]"),AudioCodesUA.instance.listeners.transferorNotification(n,1)},failed(){AudioCodesUA.ac_log("AC>>: transferorNotification failed [NOTIFY >= 300]"),AudioCodesUA.instance.listeners.transferorNotification(n,-1)}}};null!==t&&(i.replaces=t.js_session),this.js_session.refer(e,i)}}class AudioCodesSDP{constructor(e){this.start=[],this.media=[];let t=e.split("\n").map(e=>e.trim()).filter(e=>0<e.length),n=this.start;for(var i of t)i.startsWith("m=")&&(n=[],this.media.push(n)),n.push(i)}getMedia(e){for(var t of this.media)if(0<t.length&&t[0].startsWith("m="+e))return t;return null}checkSendRecv(e){switch(e){case"a=sendrecv":return"sendrecv";case"a=sendonly":return"sendonly";case"a=recvonly":return"recvonly";case"a=inactive":return"inactive";default:return null}}getMediaDirectionValue(e){let t,n=this.getMedia(e);if(null===n)return null;let i="sendrecv";for(var o of this.start)if(null!==(t=this.checkSendRecv(o))){i=t;break}for(var r of n)if(null!==(t=this.checkSendRecv(r))){i=t;break}return i}getMediaDirection(e,t){var n=this.getMediaDirectionValue(e);switch(n){case"sendrecv":return[!0,!0,n];case"sendonly":return t?[!1,!0,n]:[!0,!1,n];case"recvonly":return t?[!0,!1,n]:[!1,!0,n];case null:case"inactive":return[!1,!1,n]}}toString(){let e=this.start;for(var t of this.media)e=e.concat(t);return e.join("\r\n")+"\r\n"}}let AudioCodesWebRTCWrapper={getUserMedia:e=>(AudioCodesUA.ac_log("[webrtc] getUserMedia constraints",e),navigator.mediaDevices.getUserMedia(e)),hasDisplayMedia:()=>navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia,getDisplayMedia:()=>(AudioCodesUA.ac_log("[webrtc] getDisplayMedia"),navigator.mediaDevices.getDisplayMedia({video:!0})),checkAvailableDevices(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return Promise.reject("WebRTC is not supported");let t=!1,n=!1,i=!1;return navigator.mediaDevices.enumerateDevices().then(e=>(e.forEach(function(e){switch(e.kind){case"videoinput":t=!0;break;case"audioinput":n=!0;break;case"audiooutput":i=!0}}),(i=void 0===navigator.webkitGetUserMedia?!0:i)?n?Promise.resolve(t):Promise.reject("Missing a microphone! Please connect one and reload"):Promise.reject("Missing a speaker! Please connect one and reload")))},transceiver:{setDirection(e,t){let n="";null!==e.sender.track?n=e.sender.track.kind:null!==e.receiver.track&&(n=e.receiver.track.kind),AudioCodesUA.ac_log(`[webrtc] set ${n} transceiver direction=`+t),e.direction=t}},stream:{getInfo(e){function t(e){return 0<e.length?e[0].enabled.toString():"-"}return null===e?Promise.resolve("stream is null"):Promise.resolve(`audio: ${t(e.getAudioTracks())} video: `+t(e.getVideoTracks()))}},connection:{getTransceiversInfo(e){function t(e){return null===e?"none":`d=${e.direction} c=`+e.currentDirection}var n=e.getTransceivers(),i=AudioCodesUA.instance.getWR().connection.getTransceiver(e,"audio"),e=AudioCodesUA.instance.getWR().connection.getTransceiver(e,"video");return Promise.resolve(`(${n.length}) audio ${t(i)} video `+t(e))},getTransceiver(e,t){for(var n of e.getTransceivers()){if(null!==n.sender&&null!==n.sender.track&&n.sender.track.kind===t)return n;if(null!==n.receiver&&null!==n.receiver.track&&n.receiver.track.kind===t)return n}return null},addEventListener:(e,t,n)=>(AudioCodesUA.ac_log("[webrtc] Connection addEventListener "+t),"track"!==t?Promise.reject("Wrong event name: "+t):(e.addEventListener(t,n),Promise.resolve())),getDTMFSender(e){e=e.getSenders().find(e=>e.track&&"audio"===e.track.kind);if(e&&e.dtmf)return e.dtmf},addVideo(e,t,n,i,o){AudioCodesUA.ac_log("[webrtc] Connection addVideo");let r=AudioCodesUA.instance.getWR().connection.getTransceiver(e,"video");return null!==r&&(i=i?"sendrecv":"sendonly",AudioCodesUA.instance.getWR().transceiver.setDirection(r,i)),null===r||null===r.sender.track&&!o?(AudioCodesUA.ac_log("[webrtc] addVideo (connection addTrack)"),e.addTrack(n,t),Promise.resolve(!0)):(AudioCodesUA.ac_log("[webrtc] addVideo (video transceiver sender replaceTrack)"),r.sender.replaceTrack(n).then(()=>!1))},removeVideo(e,t){AudioCodesUA.ac_log("[webrtc] Connection removeVideo");var n=AudioCodesUA.instance.getWR().connection.getTransceiver(e,"video");if(null===n)return Promise.reject("no video transceiver found");if(e.removeTrack(n.sender),t)for(var i of t.getVideoTracks())t.removeTrack(i),i.stop();return Promise.resolve()},replaceSenderTrack(e,t,n){AudioCodesUA.ac_log("[webrtc] ReplaceSenderTrack "+t);let i=null;for(var o of e.getSenders())if(null!==o.track&&o.track.kind===t){i=o;break}if(null===i)return Promise.reject(`No ${t} sender`);e="audio"===t?n.getAudioTracks():n.getVideoTracks();return 0===e.length?Promise.reject(`No ${t} track`):i.replaceTrack(e[0])},getStats(e,i){let o="";return e.getStats(null).then(e=>(e.forEach(t=>{if(i.includes(t.type)){o+=" {";let e=!0;for(var n of Object.keys(t))e?e=!1:o+=",",o+=n+"="+t[n];o+="} \r\n"}}),o))}}};"use strict";class AudioPlayer{constructor(e=!0){this.logger=console.log,this.audioCtx=null,this.sounds={},this.source=null,this.resolve=null,this.gain=null,this.streamDestination=null,this.dtmfTones={1:[{f:[697,1209],t:.2}],2:[{f:[697,1336],t:.2}],3:[{f:[697,1477],t:.2}],4:[{f:[770,1209],t:.2}],5:[{f:[770,1336],t:.2}],6:[{f:[770,1477],t:.2}],7:[{f:[852,1209],t:.2}],8:[{f:[852,1336],t:.2}],9:[{f:[852,1477],t:.2}],"*":[{f:[941,1209],t:.2}],0:[{f:[941,1336],t:.2}],"#":[{f:[941,1477],t:.2}]},this.browser=this._browser(),this.encodings={chrome:["mp3","aac","ogg"],firefox:["mp3","aac","ogg"],safari:["mp3","aac"],ios_safari:["mp3","aac"],other:["mp3","aac","ogg"]}[this.browser],e&&(this.createCtx(),this.isDisabled()&&console.log("AudioPlayer: AudioContext is suspended [Autoplay Policy]"))}_browser(){return/iPad|iPhone|iPod/.test(navigator.userAgent)?"ios_safari":navigator.mozGetUserMedia?"firefox":navigator.webkitGetUserMedia?"chrome":window.safari?"safari":"other"}createCtx(){try{this.audioCtx=new(window.AudioContext||window.webkitAudioContext)}catch(e){this.logger("AudioPlayer: cannot create audioContext",e)}}init(e,t=void 0){this.logger=e,this.logger(`AudioPlayer: init  (${this.browser})`),void 0!==t&&(this.audioCtx=t),"safari"!==this.browser&&"ios_safari"!==this.browser||this._setDecodeAudioDataShim(this.audioCtx)}_setDecodeAudioDataShim(i){let o=i.decodeAudioData;i.decodeAudioData=e=>new Promise((t,n)=>{o.call(i,e,e=>t(e),e=>n(e))})}_setStartRenderingShim(e){let n=e.startRendering;e.startRendering=()=>new Promise(t=>{e.oncomplete=e=>{t(e.renderedBuffer)},n.call(e)})}isDisabled(){switch(this.browser){case"chrome":case"safari":case"ios_safari":return this.isSuspended();default:return!1}}enable(){switch(this.browser){case"chrome":case"safari":case"ios_safari":return this.resume();default:return Promise.resolve()}}isSuspended(){return"suspended"===this.audioCtx.state}resume(){return this.audioCtx.resume()}suspend(){return this.audioCtx.suspend()}play(l){return this.audioCtx?this.isDisabled()&&l.dropDisabled?Promise.resolve("drop sound for disabled"):new Promise((i,o)=>{this.stop(),this.resolve=i;try{var r=this.sounds[l.name];if(!r)return this.logger("AudioPlayer: no sound: "+l.name),void o("No sound");this.logger("AudioPlayer: play:",l),this.source=this.audioCtx.createBufferSource(),this.source.buffer=r,this.source.onended=e=>{this.logger("AudioPlayer: onended "+l.name),i(!0)},this.source.onerror=e=>{this.logger("AudioPlayer: onerror callback",e),this._releaseResources(),o("onerror callback")},this.gain=this.audioCtx.createGain();var s=l.volume||1,a=(this.gain.gain.setValueAtTime(s,this.audioCtx.currentTime),this.source.connect(this.gain),l.streamDestination?(this.streamDestination=l.streamDestination,this.gain.connect(this.streamDestination)):(this.streamDestination=null,this.gain.connect(this.audioCtx.destination)),l.clipStart||0);let e=l.clipEnd||null,t=(!0!==l.loop&&!l.repeat||(this.source.loop=!0,this.source.loopStart=a,e&&(this.source.loopEnd=e)),null),n=(l.duration?t=l.duration:l.repeat?(null===e&&(e=this.source.buffer.duration),t=(e-a)*l.repeat):null!==e&&(t=e-a),0);l.startDelay&&(n=this.audioCtx.currentTime+l.startDelay,t&&(t+=l.startDelay)),this.source.start(n,a),t&&this.source.stop(this.audioCtx.currentTime+t)}catch(e){this.logger("AudioPlayer: play error",e),o(e)}}):Promise.reject("No audio context")}_releaseResources(){this.source&&this.logger("AudioPlayer: release resources");try{this.source&&this.source.stop()}catch(e){}try{this.gain&&this.gain.disconnect(),this.source&&this.source.disconnect(),this.streamDestination&&this.streamDestination.disconnect(),this.gain=null,this.source=null,this.streamDestination=null}catch(e){this.logger("AudioPlayer: release resources error",e)}}stop(){this._releaseResources(),this.resolve&&(this.resolve("stopped externally"),this.resolve=null)}async downloadSounds(e,t,n=this.encodings,i=!1){this.logger("AudioPlayer: downloadSounds",t);for(var o of t)await this.downloadSound(e,o,n,i)}async downloadSound(n,e,t=this.encodings,i=!1){let o=null,r,s;e instanceof Object?(r=Object.keys(e)[0],s=e[r]):r=s=e;for(var a of t){a=s+"."+a;let t=null;var l=Date.now();try{let e=await fetch(n+a,{credentials:"same-origin"});t=await e.arrayBuffer()}catch(e){continue}var u=Date.now();try{if(o=await this.audioCtx.decodeAudioData(t),!i)break;var c=Date.now();this.logger("AudioPlayer [test] "+a+" is downloaded (%s) and decoded (%s)",((u-l)/1e3).toFixed(3),((c-u)/1e3).toFixed(3))}catch(e){this.logger("AudioPlayer: decoding error: "+s,e);continue}}return null!==o?this.sounds[r]=o:this.logger("AudioPlayer: Cannot download & decode: "+s),o}generateTone(r,s){function a(e){return void 0===e?[]:Array.isArray(e)?e:[e]}try{let e=0,t=0;for(var l of s)e+=l.t,t=Math.max(t,a(l.f).length);var u,c=this.audioCtx.sampleRate,f=c*e;let n=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,f,c),i=("safari"!==this.browser&&"ios_safari"!==this.browser||this._setStartRenderingShim(n),new Array(t));for(let e=0;e<i.length;e++)i[e]=n.createOscillator(),i[e].connect(n.destination);let o=0;for(let e=0,t=s.length;e<t;e++){var d=s[e],h=a(d.f);for(let e=0;e<i.length;e++){var p=e<h.length?h[e]:0;i[e].frequency.setValueAtTime(p,n.currentTime+o)}o+=d.t}for(u of i)u.start(0),u.stop(n.currentTime+e);return n.startRendering().then(e=>{for(var t of i)t.disconnect();this.sounds[r]=e})}catch(e){return this.logger("AudioPlayer: cannot generate tone",e),Promise.reject(e)}}async generateTonesSuite(e){for(const t in e)await this.generateTone(t,e[t])}generateTones(e,t){return this.generateTonesSuite(Object.assign({ringingTone:e,busyTone:t},this.dtmfSuite))}}let c2c_serverConfig={domain:"192.168.1.241",addresses:["ws://192.168.1.241:8088"],iceServers:["sbc-audiocodes-azure.kore.ai:3478"]},c2c_config={call:"Kore_WebRTC",caller:"Anonymous",callerDN:"Anonymous",type:"audio",videoSize:{width:"320px",height:"240px"},messageDisplayTime:5,restoreCallMaxDelay:20,keepAlivePing:15,keepAlivePong:15,keepAliveStats:60,keepAliveDist:!1},c2c_soundConfig={generateTones:{ringingTone:[{f:400,t:1.5},{t:3.5}],busyTone:[{f:400,t:.5},{t:.5}],disconnectTone:[{f:400,t:.5},{t:.5}]},play:{outgoingCallProgress:{name:"ringingTone",loop:!0,volume:.2},busy:{name:"busyTone",volume:.2,repeat:4},disconnect:{name:"disconnectTone",volume:.2,repeat:3}}},c2c_phone=new AudioCodesUA,c2c_audioPlayer=new AudioPlayer,c2c_activeCall=null,c2c_restoreCall=null,c2c_sbcDisconnectCounter=0;const c2c_sbcDisconnectCounterMax=5;let c2c_messageId=0;function c2c_init(){if(c2c_phone.setAcLogger(c2c_ac_log),c2c_phone.setJsSipLogger(c2c_js_log),c2c_ac_log("------ Date: %s -------",(new Date).toDateString()),c2c_ac_log("Browser: "+c2c_phone.getBrowserName()+" Internal name: "+c2c_phone.getBrowser()),c2c_ac_log("SIP: %s",JsSIP.C.USER_AGENT),c2c_ac_log("AudioCodes API: %s",c2c_phone.version()),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return c2c_info("No WebRTC"),void c2c_disableWidget("WebRTC API is not supported in this browser !");"https:"!==location.protocol&&"file:"!==location.protocol&&c2c_ac_log('Warning: for the URL used "'+location.protocol+'" protocol'),window.addEventListener("beforeunload",c2c_onBeforeUnload),c2c_setButtonForCall(),c2c_audioPlayer.init(c2c_ac_log),c2c_audioPlayer.generateTonesSuite(c2c_soundConfig.generateTones).then(()=>{c2c_ac_log("audioPlayer: tones are generated")}).catch(e=>{c2c_ac_log("audioPlayer: error during tone generation",e)});var e=localStorage.getItem("c2c_restoreCall");null!==e&&(localStorage.removeItem("c2c_restoreCall"),c2c_restoreCall=JSON.parse(e),(e=Math.ceil(Math.abs(c2c_restoreCall.time-(new Date).getTime())/1e3))>c2c_config.c2c_restoreCallMaxDelay?(c2c_ac_log("No restore call, delay is too long ("+e+" seconds)"),c2c_restoreCall=null):(c2c_ac_log("Trying to restore call",c2c_restoreCall),c2c_call()))}function c2c_timestamp(){let e=new Date;var t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)+"."+("00"+e.getMilliseconds()).slice(-3)+" "}function c2c_ac_log(){let e=[].slice.call(arguments);console.log.apply(console,[c2c_timestamp()+" c2c: %c"+e[0]].concat(["color: BlueViolet;"],e.slice(1)))}function c2c_js_log(){let e=[].slice.call(arguments);console.log.apply(console,[c2c_timestamp()+" jssip: "+e[0]].concat(e.slice(1)))}function c2c_searchServerAddress(n,i){i=i.toLowerCase();for(let t=0;t<n.length;t++){var o=n[t];let e=o instanceof Array?o[0]:o;if(e.toLowerCase()===i)return t}return-1}function c2c_initSIP(e){var t;null!==c2c_restoreCall&&(-1!==(t=c2c_searchServerAddress(c2c_serverConfig.addresses,c2c_restoreCall.address))?(c2c_ac_log('Page reloading, raise priority of previously connected server: "'+c2c_restoreCall.address+'"'),c2c_serverConfig.addresses[t]=[c2c_restoreCall.address,1e3]):c2c_ac_log("Cannot find previously connected server: "+c2c_restoreCall.address+" in configuration")),c2c_phone.setServerConfig(c2c_serverConfig.addresses,c2c_serverConfig.domain,c2c_serverConfig.iceServers),c2c_phone.setAccount(e.user,e.displayName,e.password),c2c_phone.setWebSocketKeepAlive(c2c_config.keepAlivePing,c2c_config.keepAlivePong,c2c_config.keepAliveStats,c2c_config.keepAliveDist),c2c_phone.setListeners({loginStateChanged:function(e,t){switch(t){case"connected":if(c2c_ac_log("phone>>> loginStateChanged: connected"),null!==c2c_activeCall){c2c_ac_log("phone: active call exists (SBC might have switched over to secondary)");break}null!==c2c_restoreCall?(c2c_ac_log("send INVITE with Replaces to restore call"),c2c_makeCall(c2c_restoreCall.callTo,"sendrecv"===c2c_restoreCall.video||"sendonly"===c2c_restoreCall.video?c2c_phone.VIDEO:c2c_phone.AUDIO,["Replaces: "+c2c_restoreCall.replaces])):c2c_makeCall(c2c_config.call,"video"===c2c_config.type?c2c_phone.VIDEO:c2c_phone.AUDIO);break;case"disconnected":c2c_ac_log("phone>>> loginStateChanged: disconnected"),c2c_phone.isInitialized()&&c2c_sbcDisconnectCounter++>=c2c_sbcDisconnectCounterMax&&(c2c_ac_log("phone: SBC connection failed !"),c2c_info("SBC connection is failed",!0),c2c_phone.deinit());break;case"login failed":c2c_ac_log("phone>>> loginStateChanged: login failed");break;case"login":c2c_ac_log("phone>>> loginStateChanged: login");break;case"logout":c2c_ac_log("phone>>> loginStateChanged: logout")}},outgoingCallProgress:function(e,t){c2c_ac_log("phone>>> outgoing call progress"),c2c_setButtonForHangup(!1),c2c_info("Ringing",!0),c2c_audioPlayer.play(c2c_soundConfig.play.outgoingCallProgress)},callTerminated:function(e,t,n,i){if(c2c_ac_log("phone>>> call terminated callback, cause=%o",n),c2c_activeCall=null,"Redirected"===n)return c2c_ac_log("Redirect call to %s",i),void c2c_makeCall(i,"video"===c2c_config.type?c2c_phone.VIDEO:c2c_phone.AUDIO);c2c_info(n,!0),c2c_audioPlayer.stop(),e.isOutgoing()&&!e.wasAccepted()?c2c_audioPlayer.play(c2c_soundConfig.play.busy):c2c_audioPlayer.play(c2c_soundConfig.play.disconnect),c2c_phone.deinit(),c2c_setButtonForStopCalling(),c2c_setButtonForCall(),c2c_setCallOpen(!1),document.getElementById("c2c_remote_video").style.display="none",c2c_restoreCall=null},callConfirmed:function(e,t,n){if(c2c_ac_log("phone>>> callConfirmed"),c2c_setButtonForStopCalling(),c2c_setButtonForHangup(),c2c_setCallOpen(!0),c2c_info("Call is established",!0),null!==c2c_restoreCall&&c2c_restoreCall.hold.includes("remote")&&(c2c_ac_log("Restore remote hold"),c2c_info("Hold"),c2c_activeCall.setRemoteHoldState()),c2c_activeCall.hasReceiveVideo()){let e=document.getElementById("c2c_remote_video");e.style.display="block",e.style.width=c2c_config.videoSize.width,e.style.height=c2c_config.videoSize.height}},callShowStreams:function(e,t,n){c2c_ac_log("phone>>> callShowStreams"),c2c_audioPlayer.stop();let i=document.getElementById("c2c_remote_video");i.srcObject=n},incomingCall:function(e,t){c2c_ac_log("phone>>> incomingCall"),e.reject()},callHoldStateChanged:function(e,t,n){c2c_ac_log("phone>>> callHoldStateChanged"),e.isRemoteHold()?c2c_info("Hold"):c2c_info("Unhold",!0)},callIncomingReinvite:function(e,t,n){if(!t){let e=document.getElementById("c2c_remote_video");c2c_activeCall.hasReceiveVideo()?(e.style.display="block",e.style.width=c2c_config.videoSize.width,e.style.height=c2c_config.videoSize.height):e.style.display="none"}}}),c2c_sbcDisconnectCounter=0,c2c_phone.setEnableAddVideo("video"===c2c_config.type),c2c_phone.init(!1)}function c2c_onBeforeUnload(){var e;c2c_ac_log("phone>>> beforeunload event"),null!==c2c_phone&&c2c_phone.isInitialized()&&null!==c2c_activeCall&&(c2c_activeCall.isEstablished()?(e={callTo:c2c_activeCall.data._user,video:c2c_activeCall.getVideoState(),replaces:c2c_activeCall.getReplacesHeader(),time:(new Date).getTime(),hold:(c2c_activeCall.isLocalHold()?"local":"")+(c2c_activeCall.isRemoteHold()?"remote":""),address:c2c_phone.getServerAddress()},localStorage.setItem("c2c_restoreCall",JSON.stringify(e))):c2c_activeCall.terminate())}function c2c_setButtonForCall(){let e=document.getElementById("c2c_button");e.onclick=c2c_call,e.className="c2c_button_call",e.querySelector("span").innerText="Call",e.querySelector("svg").setAttribute("class","c2c_icon_call")}function c2c_setButtonForHangup(e=!0){let t=document.getElementById("c2c_button");t.onclick=c2c_hangup,t.className="c2c_button_hangup",t.querySelector("span").innerText="Hangup",e&&t.querySelector("svg").setAttribute("class","c2c_icon_hangup")}function c2c_setButtonForCalling(){let e=document.getElementById("c2c_button");e.onclick=()=>{c2c_ac_log("ignored [call already pressed]")},e.querySelector("svg").setAttribute("class","c2c_icon_calling")}function c2c_setButtonForStopCalling(){document.querySelector("#c2c_button svg").setAttribute("class","c2c_icon_hangup")}function c2c_setCallOpen(e){document.getElementById("c2c_div").className=e?"c2c_div_call_established":""}function c2c_disableWidget(e){c2c_ac_log(e),document.getElementById("c2c_button").disabled=!0,document.getElementById("c2c_div").className="c2c_div_disabled",document.querySelector("#c2c_button svg").setAttribute("class","c2c_icon_disabled")}function c2c_info(e,t=!1){let n=document.getElementById("c2c_span_message");var i;n.innerText=e,n.dataset.id=++c2c_messageId,t&&(i=n.dataset.id,setTimeout(()=>{n.dataset.id===i&&(n.innerText="")},1e3*c2c_config.messageDisplayTime))}function c2c_call(){c2c_info("Connecting",!0),c2c_audioPlayer.stop(),c2c_setButtonForCalling(),c2c_enableSound().then(()=>c2c_phone.checkAvailableDevices()).then(()=>{c2c_initSIP({user:c2c_config.caller,displayName:c2c_config.callerDN,password:""})}).catch(e=>{c2c_ac_log("Check available devices error:",e),c2c_info(e,!0),c2c_setButtonForCall()})}function c2c_makeCall(e,t,n=null){if(null!==c2c_activeCall)throw"Already exists active call";c2c_info("Calling",!0),c2c_activeCall=c2c_phone.call(t,e,n)}function c2c_hangup(){c2c_enableSound(),null!==c2c_activeCall&&(c2c_activeCall.terminate(),c2c_activeCall=null)}function c2c_enableSound(){return c2c_audioPlayer.isDisabled()?(c2c_ac_log("Let enable sound..."),c2c_audioPlayer.enable().then(()=>{c2c_ac_log("Sound is enabled")}).catch(e=>{c2c_ac_log("Cannot enable sound",e)})):Promise.resolve()}function AgentDesktop(o,e){this.authResponse=null,console.log("agentdesktop uuId",o),userIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAu6SURBVHgB7Z3PbxvHFcff7HIp6pdL90eMomlLFz0WMA20coscTB/aUwtbf4Hlooe2F4u33mzdeiN1DxD5L7CNognQi+hD0EYJEObYooCZoEWaNLZpixLFH7sv83a5Eknzxy65P95Q+wEiSiRjDve7782bN29mBCwApY8xC52jHICeF0K/AghZ+bT8G3O9t2R7/w1TAxB1+VgHxDqC9Qk9gi6qkMpUi1ft15RGgIKUPmwWwEQS87r8BnmwxQyFmrxZqojmExK9+LPlCiiGEgLbFtpqbvUELcBoa4wCaelQQWE9BhMqxV8s14A5bAU+FVVL3ZSutgAsERUE8wEYmUdc3Tk7gcn9CtBvyr5wC+Kz1BkQewjt3eLGWhUYwUZgW1jU7/G1Vq84Vl3cWN4DBsQu8OII+xo1GZXvxC10bAIvsLDD1GRQdieuCDxygUt/b+aEppXkJ9+Cc4Xso01zJ+rIW4MI2T1o3xW69vH5E5fALfrupX+cbEOERGLBttXq+jvnwB17pYamdSMKaw7dgk+tNhG3n1xU1hyaBVOiQnQ79+R4NlKXpBwoytvX0kUIiVAE7rnkh7L1eUjwQmguO3AXXXq/kZfuZz8R1xfksvfJMCBgAhW49FHrljAMKW5oszuLjNMvf9AKdIQRmMC7H3VvCwukW1Ypf8yOrBDwkK4lBEQgfTA1CC1zDxICQ2j61t2fph7AnMwtcCJueAQh8lwC232u45YTQgIRNovXlh7BjMwssDMUogRG0ueGTB07nRvFt2abZ54pyOqJS9FyIm74ZOXI5OGsQ6iZBO6Jm4OEqLATR3YZk098C1z+sF2CRNwYwLxoy9SvT3wJTBMHSW45RgRu+52g8BxkJUEVG+oyb33Va97aswUnQRUbss7cujc8WTC5ZgQsgyJYCPCyhXDSReiYAM0uPYdg4tl7DE1AWgfIpABWDQHLKQGGDsqAFhaLP89M1WSqwKq4ZhL1+QnCoRT2qIMwCyR0NiNgzVBCbE+uOgVTkOJS5MZWXBL2q2OEZ01rwEJngW4M9+YgoS+taJyFztrFiwCbk9400YKd0la772XJsybCl0fzCzsOcuHZJQ3eWOW7hKtXKFAZ9/rEIEuK67kzjxLqV5/WLfi8EZ64RFt+zpfHFvzruWl/JkdkwDVxbDxW4NJBcwsYJjSO2gj/fmHO3M/OAgn99KUJr1rRfaZ3sCDjpMK4V8cKLEDznTUJm7oMop6+DNdqx0Eif/bKstvAjUlWPFJgjtZLF/Y/hxbEDbWBn8jjrXikwAL0wEpGguCkCyzEdaG2RNlFeGGcFb8mcOmgnedUpN6xXSO/COcz2VXwCrxGW/FrAgvAu8AIspY2wwiW4gBOXsVGF69VZA4M8OzVCJ32C2DCC9nX/ZfbRRzie+saXMywGSfX0Uhf7t9OYtCCOyesVv39/5i3uMT/GvFE9WPIQqu11f/EgMCcgiuyXo6ueRgS9xmjG1GmL2/2/30qsFPzwye4UsF6XShlygcZbPWV9pxZsG7vP8WCV201rNeFrJjVsKnPTZ8KLMSgaccJz5TgZJglPwruL2cWjHws+FBBgTndlEIT193fbYHtvR+ZzPlS1opRVOoZajO1nQlZN+nhWLDJZy3vUUed4GqYozajtgtha2oLLPOY14EJKgVXw3DSF3r9sGPBCGwsWGEDZpWblv3wFfuRW3qSKjW4zdR4hYr2Lmcj3XpsIjJteVGD7kmyl8aicnyU0zgFWAkBY+h5TUZbyWqFhUXkNZmcvgKMMPh0Yb7RmVXXCtC+oQHysuC0QstHhslMXUYQObIPFshKYIObGfggk+LWdpQCIy+BLyypK/AyO4HtRIfIASPIgGnln2pkdJYL1hiNyvu4mAHlWE0DR3gKfGFJvVD628s828yyVe6ibFVYZbyemK2pcF6yOQzntpLALI9kI6tQwYovpHm3UwqMbI9QfXNdY5cdGua7a6zjhRrr1lG/9sYq3yaSa2a+l0ddXj2tBoz51jJPF7guEzJvrHCP9kVdQzQ/Beb8QKbMOSU/qC3fX+c/lEPLeknTheyPMad++EdZHiJTG6gtSiTbBFZpwp/VebfjoL4ubpFpMsFugyozXihdNOi6EgITdGF//E3N3sMqaugzlRKXQKymwDBq0GmDKpC7puHTcgrtDdA6VrgFepoQcGmVgj0FKxEymaptCuWDk6fcZpW8QGWqXxyHtymKArvdTaK2vbF02alBEKIKqN4m33ThyZovrQQnNFkszWbRvLRK+fBh0MJP6NEWGE3zidB0Zc/07Reaaqpp+Wmj7eww6wUSdTnliErbMSg4HT2KCv1wLBiFMoHWJEjorC5OgzDaTpiWk5z0CundVRMkYFp3hFxLq1lgMBV0Rken36x80KLVDUkJ7WJQl/3vRfrlLDQUjkknqI/sf5+4v58KTP0wJCwGGp6elHZmwUvLe5CwGJhn3vhUYGfzLFGBBMURlf5t/gfSM2h1H0OC0iCYA6eVDubfHDfNfnYpYQJGZuCk0gGByU0j4Fzn1SbEidjr36eSeD2DbuLMZ9UmxAt22rvDz41M4ZQP2vuctjWch05vTyZ6cLdnohkpt5hP5cVug4jK9kb6xvCzIxc8yjHxjtC1AigCpSTpdLNJJ51Nwl4PJX+kNSfdSZMMzqlo6og/HFy5jP0GnK2YTl5pms6OeCRqWBunkfAkMhXYrRmsBbenBke9MHbJMjcrJlFploimBKPaCc/dZNTd9YesesVwZpw4TSUiWDvjXpvYyrit2D22jvaODrtywy8k9ndWNA7nHI61XmLipgNxWTH1o181rUit1S+0I5973ECclR9oWncmvT7Vz5Q/aD2U74qkGCDsEpywiV5osScj54kCT902BC2r2LPi0OaKyft+ceScIKoydGPWT8yohK6Th532pqmlgpS4lvOLU/+hWaHt8P/5zFRe3H6cI/hMO3YIC9LEyzHvnkPBoAMucsccTxALGoq2qV4sYGueGFj147nYV7oD8vWBTETQHR71CaJxQd8xYGumk79veH2zZ4GDctWfN5xDJlXc1X1W3IibzjueF6+u2cX3aL10cFIWIHwff+eeQdjks+19LFA27IcXZnPZcqZvt7iR2fbz//hfj2Es3Zc/fZXZdnoHLJ93cQlKrdK1mGHz8JpfcQnfAttzxqa1SR/o5f10UAX1typv1R807oniJLZHan763X5mTqiW3m/khWHIyHr8+JjEfVo3z1V/6weazKAd4qdMYpBBXfXT7/Yz85K54ltrVTkjNzaLkog7Hbo2dITBJEumazyruMRcayKL15YejcqF2n1uIq4nXJFH9clylugOXWOYg7kXvcq7a69fZDegSsT1ji3yUOBli7sxf616IKuaXZGtXkOTgMo/dM0+feXkB4ISlwhs2TqJ/LzV3eyaSdntrDS7Vv1QXsOgxCUCL0vYeq+Z0y3cl/9wDhI8Iw23tm5Ym+VfrQW6lDeUuhMSeQlw37QSkb2g61C9uCQ2/3xj9mh5HKEWFv3+3Ua5i5rvtOZ5Qs637/7kzdX7wwXrQRF65dgf3j3eloHDPStZXD6AzCvX19Nip/zLlTKESCSlgeSyswbsN1qYgwRSt9LtiDt7m8G75GEirf0879ZMVitQ7Lz963Cttp/Ii3vtKNu07gshbsM5QgZSj2QgVQwjkJpEbNXbf9pvFl618B05wM/BIiPdMaC58/Zv1isQA7GX5//2r40tAdq9hRs3xyysC5v1F398r7HVNvXbIBRf1chEWBd2q6m2/9bIH7bFtq5pt73uVBc3aJ97IR4Iy3zERVgXtsvlth5iVksf3dKQsVVLa7U067HVWt3b2+S5sboSC2Ap8tYss6CDdtMCLAiI50hcslQNRCUlrCdNxqL2o84K5z5+95fDgqWLvI7adTmmzocVoKFzLE3VlIJqJla5uV8vKCnwMOTOU6lG3pCid0yRFZq4gvbB11YWhfx7xA3Q6zdtC5TJh5oQUJPe4aWci63qUtROe7WmgoVO42tTkUVXGt3SOQAAAABJRU5ErkJggg==",rejectIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMCSURBVHgBxZjPaxNBFMffzG43oFCSo1gwMW3BUxPwR/HSBKwUT/XeYIX2asV/IO1/YC+CtFBLejdHaYXGW7ViVy8e2pL14k0SCoLdpDu+t/lhkmbNTDY/vpDsJHmb/fDezLz3hoGi8tOJsFPW50FjUyBYAgQEgeGLJKCIYwtHFjjOB7tczt4yc5bK/zNZw5M7s4sc4IlgCKEmUwixPn6490bGuCPQ8e0HCc75Fg7D4E8Wgq11AvMEOoolgsERI+0weA69lGAvz0rna3EzVwRZoO+xRNgwjLc4jEF/ZNm2nWw3v5gHzD74D1FXUE1AFKZRwzgaAExN5hlCNYaPN/5Kc2aAMKTY6Egg3fhF3UO0rBljWzAEOY6TnPj8PkfjuocQJg1DUnVbqYzpjbwDgw1Vq8JVhgoQemdF9k5jMiprqmRLWcC90jIHyf0mMHkTxjKvILSc6mgbWl5wbWWhKCX9vP/ohvZibHwRXTQnc9PFr0L1YSlyK/z58s0TJrSUgsLGDvzey4GsbCF+6KDxGczS0ips7vyDos8bGU+YwmYGVIRhm9IRJgyK8oLyA+NKiEQFSLoI8YaiYsgXTEVBvV5cdaHLnvIF4wJx8CvmMe5SerXs7MpLjXPGDZnHRFdQkUJGmVYZyGsC+4ISYGnPrkfjTLEQ84Kp7Uud9ilPHgYftZVrkbDsxvg/mF5A4W79mnNdz8reQKlDZmnT6qOQhZYWlPKZzljWXRcn92b3mZBrbwITUTg/PpUxVbLF+WNGD3fjlWXvwDZISvoBirYCxDpd6zvH6d2HeRheTWRFP+1GaFDfGLGMfApDEjWQtXEdiGpaanlhwGpts5tSh1YqrWIMTRicLO1qabXxiyagCPZHjPPHZAgDgMHiPhnJNbfUl5Jr5OCda9hnKNOFwWe1/tA227tQth3vx5yi/+RX7LYwpI4FQ7WB7EVHa9FKrjWEXlI6sKq2S0qJGD2Sw8t2zw6sWpWfnsMjvfI8tpszQF6rlMCNR3r4QogL8ZXr5WzkQO1I7y91mFsdhEgKrAAAAABJRU5ErkJggg==",acceptIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMfSURBVHgBxZg/TBNRHMe/v1cQCTGpCerg4AHGlEXEwZWDiDLS4GBjohJjIokJRF2IA7Az2NGpEmM6GRwN/isxDsACLt6kNyhBoqYJktIW7vl+154tWuiV67Xfpb+7+11/n7zfu997v0eoUKGYrlFTw6Ak6gJIJ2kFlR3kZyRl0hJkKssUljUvafuFEUmYlfw/uXUMPeu/CYEbytRRgSRhmXYQNa69euLGvyxQ6OlFHQ0UU6YGbzJhYaoc2J5AWkwPNjcfmpBSjqGKIqJHqVRmyhxOJEs+L3UzFNc1SY2zJHEO/sgEsr2l5heVggEa38F7ig4EJYovOE01grHDcRZyMfcA4jlTIxhbPCXyMQv3HCP/WcdQF0mVutcJtgojJDCBuoliBQzkR6eGqSohLc+QA1LVdBT1Vm4VgODPnMi3eoOTLSewODSLULC9nKve+bzvlCDZMAifxDAzfdN48/UDjOTn8i+kRVhYAj3wQQ7M0voKxhemXb3DOwgBizRUWQeByUsXAlJDFeUBRi28CApnc7WfjjS24MLxs+XcPMGwpFRAbhw7j562A4Xb+uEXjKPAsaH2MTVWh/dz+rb53V5jxs+PYCPzGys/DV9gVMqSgdYrHXeUXTZti+sfbah7Xbfs6yV1XQzDoLfnH8KL1ObNCLQOdXTDZWFkKA58Pw+1qkbOgbn+9gEyVhZeJEELnDJNoQ24fYnTtbq5Zqcv3H4ZP1K/bJiN7Ca8Skj5WKXszJpiq2jfzFWXoZoCh3D3/WRVYGxRw4i9HwrF+3mXqKOOUvNn+dPVuW7ns59BnaW6myj/FnaM8UtfUOWq7V5kGpG5NraKCqM1jLpJTjnWXyDe06o+PYoaSy0XUSNS6GZ3LR2p9M6kclhGzURmOp2dLL6zC4jbW6JAmB1RAxgVvvfflvq/xdWIvLQd/YTiExGOkYu1WyVXe3bc2sp0+zGneM6kU9mSMKzyxzFxbk9owntJ4BG3hp2GcE8vuBSDqeI1qipqhR2KTKgwM8VfUlWACmADGsntQZXsHsuCJkDq0AD5Iz0kla0mqaVKCK0c5EjvD7WHTOQEQMMGAAAAAElFTkSuQmCC",e&&(this.authResponse=e,autoStartCobrowse());var l=this;function n(){var e;overrideFlag||((e=document.getElementsByClassName("close-btn"))&&0<e.length?(koreJquery(".close-btn").off("click").on("click",function(e){koreJquery("#smartassist-menu").show()}),overrideFlag=!0):console.log("close button not found"))}this.phone=new AudioCodesUA,this.activeCall=null,this.callDetails=null,this.callAccepted=!1,this.callMuted=!1,this.showPhonePanel=!1,this.showVideo=!1,this.screenSharingStream=null,this.agentProfileIcon=null,this.phoneConfig={reconnectIntervalMin:2,reconnectIntervalMax:30,registerExpires:600,useSessionTimer:!1,keepAlivePing:10,keepAlivePong:10,keepAliveStats:60,keepAliveDist:!1,restoreCall:!0,restoreServer:!0,restoreCallMaxDelay:20,dtmfUseWebRTC:!0,dtmfDuration:null,dtmfInterToneGap:null,avoidTwoWayHold:!0,enableAddVideo:!0,addLoggerTimestamp:!0,useWebrtcTracer:!1,audioAutoAnswerNoSdp:!0,switchSbcAtInvite5xx:!0,modes:{ice_timeout_fix:2e3,chrome_rtp_timeout_fix:13,sbc_ha_pairs_mode:void 0,ringing_header_mode:"Allow-Events: talk,hold,conference"},constraints:{chrome:{audio:{echoCancellation:!0}},firefox:{audio:{echoCancellation:!0}},safari:{audio:{echoCancellation:!0}},ios_safari:{audio:{echoCancellation:!0}}},version:"18-Nov-2020"},this.callTerminated=function(){koreJquery("#callcontainer").empty(),this.removeAudoVideoContainer(),this.disableMinimizeButton(!1)},this.showFooterButtons=function(t,e){var n=null,i=(t&&(n=`<div class="footer-btn-a-v-attch">
                <div id="closecall" class="btn_actions enable-audio">
                    <img title="End Call" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDIwIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMTguMjYzOSA3LjU0OTg5QzE4Ljk3NyA3LjU0OTg5IDE5LjU1NTEgNi45NzE3NyAxOS41NTUxIDYuMjU4NjJMMTkuNTU1MSA0LjY2NTQ4QzE5LjU1NTEgMy4wODM3IDE4LjQ5NTkgMS42ODA4NiAxNi45NjQyIDEuMjgwMDVDMTUuMjUzNiAwLjgyOTEzNyAxMy45NDAyIDAuNTQ2NDIgOS42Mjc5IDAuNTQ5OTk5QzUuMzE1NTkgMC41NDY0MjEgNC40MzUyMyAwLjgzOTg3MyAyLjc0OTY3IDEuMjgwMDVDMS4yMTQ0MiAxLjY4NDQ0IDAuMTU4NzEyIDMuMDgzNyAwLjE2MjI5IDQuNjYxOUwwLjE2MDMxNSA2LjI1NjE5QzAuMTU5NDMgNi45NzAyOSAwLjczODMxNyA3LjU0OTUyIDEuNDUyNDIgNy41NDkwNkw0LjQ0NzQzIDcuNTQ3MTRDNS4xNjAyNSA3LjU0NjY5IDUuNzM3ODcgNi45Njg3IDUuNzM3ODcgNi4yNTU4N0w1LjczNzg3IDUuMjc3NDNDNS45MzQ3IDUuMjAyMjggNi4yNDYwNCA1LjEwNTY2IDYuNjMyNTQgNS4wMTk3N0M3LjQzMDU5IDQuODQ0NDEgOC41MjkyNCA0LjY5NzY5IDkuNjI3OSA0LjcwMTI3QzEwLjcyNjUgNC42OTc2OSAxMS45NDY5IDQuODQ0NDEgMTIuODcwMiA1LjAyMzM1QzEzLjMyNDcgNS4xMTI4MSAxMy43MTgzIDUuMjEzMDIgMTMuOTU4MSA1LjI5NTMzQzEzLjk2ODggNS4yOTg5MSAxMy45Njg4IDUuMjk4OSAxMy45Nzk2IDUuMzAyNDhWNi4yNTg2MkMxMy45Nzk2IDYuOTcxNzcgMTQuNTU3NyA3LjU0OTg5IDE1LjI3MDggNy41NDk4OUwxOC4yNjM5IDcuNTQ5ODlaTTE4LjI1OTcgNi4yNTQ0MUwxNS4yNzUxIDYuMjU0NDFMMTUuMjcxNSA0Ljk0MTA0QzE1LjI3MTUgNC42NjkwNiAxNS4xMzU1IDQuNTA0NDQgMTUuMDQ2IDQuNDIyMTNDMTQuOTYzNyA0LjMzOTgyIDE0Ljg5MjEgNC4yOTY4OCAxNC44MjQxIDQuMjU3NTFDMTQuNjgxIDQuMTc4NzggMTQuNTQxNCA0LjEyNTEgMTQuMzczMiA0LjA2NDI2QzE0LjA0MDQgMy45NTMzMiAxMy42MTQ1IDMuODQ5NTQgMTMuMTEzNSAzLjc0OTM0QzEyLjExODcgMy41NTYwOSAxMC44MzM5IDMuNDAyMjEgOS42Mjc4OSAzLjM5ODYzQzguNDIxODggMy40MDIyMSA3LjI0ODA3IDMuNTU5NjcgNi4zNTM0IDMuNzYwMDhDNS45MDYwNyAzLjg1NjcgNS41MzM4OSAzLjk2NDA2IDUuMjQwNDMgNC4wNzg1OEM1LjA5MDEzIDQuMTM1ODQgNC45NjEzIDQuMTkzMDkgNC44Mjg4OSA0LjI4MjU2QzQuNzY0NDcgNC4zMjU1IDQuNjk2NDggNC4zNzkxOSA0LjYyMTMyIDQuNDY4NjVDNC41NDI1OSA0LjU1NDU0IDQuNDQyMzkgNC43MTIgNC40NDIzOSA0Ljk0MTA0TDQuNDQyMzkgNi4yNTA4M0wxLjQ1NDE5IDYuMjU0NDFWNC42NTgzMkMxLjQ1NDE5IDMuNjYzNDUgMi4xMTYyNSAyLjc4NjY3IDMuMDc4OTEgMi41MzI1OUM0Ljc5MzEgMi4wODUyNSA1LjM3Mjg1IDEuODQxOSA5LjYyNzkgMS44MzgzMkMxMy44ODI5IDEuODQxOSAxNC45NDU4IDIuMDg4ODMgMTYuNjM0OSAyLjUzMjU5QzE3LjU5NzYgMi43ODY2NyAxOC4yNTk3IDMuNjYzNDUgMTguMjU5NyA0LjY1ODMyTDE4LjI1OTcgNi4yNTQ0MVoiIGZpbGw9IndoaXRlIi8+DQo8L3N2Zz4NCg==" />						
                </div>		
                <div id="muteaudio" class="btn_actions mute-audio">
                    <img title="Mute Audio" class="mute-img" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAxNCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik03LjAwMDA2IDAuODMyMDMxQzQuOTM2NDMgMC44MzIwMzEgMy4yNTAwNiAyLjUxODQgMy4yNTAwNiA0LjU4MjAzVjEwLjgzMkMzLjI1MDA2IDEyLjg5NTcgNC45MzY0MyAxNC41ODIgNy4wMDAwNiAxNC41ODJDOS4wNjM3IDE0LjU4MiAxMC43NTAxIDEyLjg5NTcgMTAuNzUwMSAxMC44MzJWNC41ODIwM0MxMC43NTAxIDIuNTE4NCA5LjA2MzcgMC44MzIwMzEgNy4wMDAwNiAwLjgzMjAzMVpNNy4wMDAwNiAyLjA4MjAzQzguMzg4MSAyLjA4MjAzIDkuNTAwMDYgMy4xOTQgOS41MDAwNiA0LjU4MjAzVjEwLjgzMkM5LjUwMDA2IDEyLjIyMDEgOC4zODgxIDEzLjMzMiA3LjAwMDA2IDEzLjMzMkM1LjYxMjAzIDEzLjMzMiA0LjUwMDA2IDEyLjIyMDEgNC41MDAwNiAxMC44MzJWNC41ODIwM0M0LjUwMDA2IDMuMTk0IDUuNjEyMDMgMi4wODIwMyA3LjAwMDA2IDIuMDgyMDNaTTEuMzY1MyA4LjczOTc0QzEuMTk5NjggOC43NDIzMyAxLjA0MTg2IDguODEwNTUgMC45MjY1MDQgOC45Mjk0MkMwLjgxMTE0OCA5LjA0ODI4IDAuNzQ3Njg5IDkuMjA4MDggMC43NTAwNjQgOS4zNzM3VjEwLjgzMkMwLjc1MDA2NCAxNC4wNjU2IDMuMjIyNTggMTYuNzM1NCA2LjM3NTA2IDE3LjA1MDNWMTguOTU3QzYuMzczODkgMTkuMDM5OCA2LjM4OTE5IDE5LjEyMjEgNi40MjAwOCAxOS4xOTg5QzYuNDUwOTYgMTkuMjc1OCA2LjQ5NjgxIDE5LjM0NTcgNi41NTQ5NyAxOS40MDQ3QzYuNjEzMTIgMTkuNDYzNyA2LjY4MjQxIDE5LjUxMDUgNi43NTg4MiAxOS41NDI1QzYuODM1MjMgMTkuNTc0NSA2LjkxNzI0IDE5LjU5MDkgNy4wMDAwNiAxOS41OTA5QzcuMDgyODkgMTkuNTkwOSA3LjE2NDkgMTkuNTc0NSA3LjI0MTMxIDE5LjU0MjVDNy4zMTc3MiAxOS41MTA1IDcuMzg3MDEgMTkuNDYzNyA3LjQ0NTE2IDE5LjQwNDdDNy41MDMzMiAxOS4zNDU3IDcuNTQ5MTcgMTkuMjc1OCA3LjU4MDA1IDE5LjE5ODlDNy42MTA5MyAxOS4xMjIxIDcuNjI2MjQgMTkuMDM5OCA3LjYyNTA2IDE4Ljk1N1YxNy4wNTAzQzEwLjc3NzUgMTYuNzM1NCAxMy4yNTAxIDE0LjA2NTYgMTMuMjUwMSAxMC44MzJWOS4zNzM3QzEzLjI1MTIgOS4yOTA4OCAxMy4yMzU5IDkuMjA4NjUgMTMuMjA1MSA5LjEzMTc5QzEzLjE3NDIgOS4wNTQ5NCAxMy4xMjgzIDguOTg0OTkgMTMuMDcwMiA4LjkyNjAxQzEzLjAxMiA4Ljg2NzAzIDEyLjk0MjcgOC44MjAxOSAxMi44NjYzIDguNzg4MjJDMTIuNzg5OSA4Ljc1NjI2IDEyLjcwNzkgOC43Mzk3OSAxMi42MjUxIDguNzM5NzlDMTIuNTQyMiA4LjczOTc5IDEyLjQ2MDIgOC43NTYyNiAxMi4zODM4IDguNzg4MjJDMTIuMzA3NCA4LjgyMDE5IDEyLjIzODEgOC44NjcwMyAxMi4xOCA4LjkyNjAxQzEyLjEyMTggOC45ODQ5OSAxMi4wNzYgOS4wNTQ5NCAxMi4wNDUxIDkuMTMxNzlDMTIuMDE0MiA5LjIwODY1IDExLjk5ODkgOS4yOTA4OCAxMi4wMDAxIDkuMzczN1YxMC44MzJDMTIuMDAwMSAxMy41NzU5IDkuODA4MjYgMTUuNzg4MiA3LjA3NDEyIDE1LjgyOEM3LjA0NjMyIDE1LjgyNDUgNy4wMTgzMiAxNS44MjI4IDYuOTkwMyAxNS44MjMxQzYuOTY3NDQgMTUuODIzNSA2Ljk0NDYyIDE1LjgyNTEgNi45MjE5NCAxNS44MjhDNC4xODk3IDE1Ljc4NiAyLjAwMDA2IDEzLjU3NDYgMi4wMDAwNiAxMC44MzJWOS4zNzM3QzIuMDAxMjYgOS4yOTAwNCAxLjk4NTY2IDkuMjA3IDEuOTU0MTcgOS4xMjk0OUMxLjkyMjY5IDkuMDUxOTggMS44NzU5NiA4Ljk4MTU4IDEuODE2NzcgOC45MjI0NkMxLjc1NzU3IDguODYzMzQgMS42ODcxMSA4LjgxNjcxIDEuNjA5NTYgOC43ODUzMkMxLjUzMjAxIDguNzUzOTQgMS40NDg5NSA4LjczODQ0IDEuMzY1MyA4LjczOTc0WiIgZmlsbD0id2hpdGUiLz4NCjwvc3ZnPg0K" />						
                    <img title="Unmute Audio" class="un-mute" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxNyAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik04LjUwMDUyIDAuNzkyOTY5QzEwLjQ2MzkgMC43OTI5NjkgMTIuMDYzIDIuMzkyMTQgMTIuMDYzIDQuMzU1NDdWMTAuMjkzQzEyLjA2MyAxMC4zNzYxIDEyLjA1OTIgMTAuNDU4OSAxMi4wNTUzIDEwLjUzOEwxMC44NzU1IDkuMzU5MDVWNC4zNTU0N0MxMC44NzU1IDQuMjczNTggMTAuODcxMyA0LjE5MjQ4IDEwLjg2MzEgNC4xMTI3MUMxMC43NDE0IDIuOTE2MTUgOS43Mjg4NCAxLjk4MDQ3IDguNTAwNTIgMS45ODA0N0M3LjE5MDMxIDEuOTgwNDcgNi4xMjU1MiAzLjA0NTI2IDYuMTI1NTIgNC4zNTU0N1Y0LjYwOTA1TDUuMDM2OTcgMy41MjA1MUM1LjQxMzAyIDEuOTU2OTcgNi44MjYxNCAwLjc5Mjk2OSA4LjUwMDUyIDAuNzkyOTY5Wk0xLjE4OTIgMS41NzkyMkMxLjM0MzQgMS41ODM3MiAxLjQ4OTggMS42NDgwNCAxLjU5NzQgMS43NTg1OUwxMi41NzE3IDEyLjczMjlDMTIuODA1OCAxMi4zNDMzIDEyLjk4NTEgMTEuOTE3OCAxMy4wOTk4IDExLjQ2NUMxMy4xMjcyIDExLjM1OTggMTMuMTUwOSAxMS4yNTM0IDEzLjE3MDkgMTEuMTQ1N0MxMy4xODg3IDExLjA0NzEgMTMuMjA0MSAxMC45NDc5IDEzLjIxNTcgMTAuODQ3M0MxMy4yMjA4IDEwLjgwMzkgMTMuMjI1NyAxMC43NjA0IDEzLjIyOTYgMTAuNzE2NkMxMy4yNDE5IDEwLjU3NjkgMTMuMjUwNSAxMC40MzYgMTMuMjUwNSAxMC4yOTNWOC45MDc1NUMxMy4yNDk0IDguODI4MDggMTMuMjY0MiA4Ljc0OTE5IDEzLjI5NDEgOC42NzU1NkMxMy4zMjQgOC42MDE5MiAxMy4zNjg0IDguNTM1MDQgMTMuNDI0NiA4LjQ3ODg4QzEzLjQ4MDkgOC40MjI3MiAxMy41NDc4IDguMzc4NDEgMTMuNjIxNSA4LjM0ODZDMTMuNjk1MiA4LjMxODc4IDEzLjc3NDEgOC4zMDQwNiAxMy44NTM1IDguMzA1M0MxNC4wMTA5IDguMzA3NzYgMTQuMTYwOCA4LjM3MjU2IDE0LjI3MDQgOC40ODU0OUMxNC4zOCA4LjU5ODQxIDE0LjQ0MDMgOC43NTAyMSAxNC40MzggOC45MDc1NVYxMC4yOTNDMTQuNDM4IDEwLjQ4NTkgMTQuNDI4NCAxMC42NzYzIDE0LjQxMDIgMTAuODY0M0MxNC4zNTU1IDExLjQzNjcgMTQuMjE5OSAxMS45ODU0IDE0LjAxNDQgMTIuNDk3OUwxNC4wMDk3IDEyLjQ5MzJDMTMuODUzMiAxMi44Nzk2IDEzLjY1NDEgMTMuMjQzNCAxMy40MjI5IDEzLjU4NDFMMTYuMjQzMiAxNi40MDQ0QzE2LjMwMDIgMTYuNDU5MSAxNi4zNDU3IDE2LjUyNDcgMTYuMzc3MSAxNi41OTcyQzE2LjQwODQgMTYuNjY5NyAxNi40MjQ5IDE2Ljc0NzcgMTYuNDI1OCAxNi44MjY3QzE2LjQyNjYgMTYuOTA1NyAxNi40MTE2IDE2Ljk4NDEgMTYuMzgxNyAxNy4wNTcyQzE2LjM1MTkgMTcuMTMwMyAxNi4zMDc3IDE3LjE5NjggMTYuMjUxOSAxNy4yNTI2QzE2LjE5NiAxNy4zMDg1IDE2LjEyOTYgMTcuMzUyNyAxNi4wNTY0IDE3LjM4MjVDMTUuOTgzMyAxNy40MTI0IDE1LjkwNDkgMTcuNDI3MyAxNS44MjU5IDE3LjQyNjVDMTUuNzQ2OSAxNy40MjU3IDE1LjY2ODkgMTcuNDA5MiAxNS41OTY0IDE3LjM3NzhDMTUuNTIzOSAxNy4zNDY1IDE1LjQ1ODMgMTcuMzAxIDE1LjQwMzYgMTcuMjQ0TDEyLjY2OTkgMTQuNTEwM0MxMS43MzAyIDE1LjQ0MTUgMTAuNDgxNCAxNi4wNTc2IDkuMDk0MjcgMTYuMTk2NVYxOC4wMTE3QzkuMDk1MzggMTguMDkwNCA5LjA4MDg0IDE4LjE2ODUgOS4wNTE1IDE4LjI0MTVDOS4wMjIxNiAxOC4zMTQ1IDguOTc4NjEgMTguMzgxIDguOTIzMzYgMTguNDM3QzguODY4MTIgMTguNDkzMSA4LjgwMjI5IDE4LjUzNzUgOC43Mjk3IDE4LjU2NzlDOC42NTcxMSAxOC41OTgzIDguNTc5MiAxOC42MTM5IDguNTAwNTIgMTguNjEzOUM4LjQyMTgzIDE4LjYxMzkgOC4zNDM5MyAxOC41OTgzIDguMjcxMzQgMTguNTY3OUM4LjE5ODc1IDE4LjUzNzUgOC4xMzI5MiAxOC40OTMxIDguMDc3NjcgMTguNDM3QzguMDIyNDMgMTguMzgxIDcuOTc4ODcgMTguMzE0NSA3Ljk0OTUzIDE4LjI0MTVDNy45MjAxOSAxOC4xNjg1IDcuOTA1NjUgMTguMDkwNCA3LjkwNjc3IDE4LjAxMTdWMTYuMjAwM0M0LjkxMDk0IDE1LjkwMTMgMi41NjMwMiAxMy4zNjYxIDIuNTYzMDIgMTAuMjkzVjguOTA3NTVDMi41NjMwMiA4LjU3OTAxIDIuODI4MjMgOC4zMTM4IDMuMTU2NzcgOC4zMTM4QzMuNDg1MzEgOC4zMTM4IDMuNzUwNTIgOC41NzkwMSAzLjc1MDUyIDguOTA3NTVWMTAuMjkzQzMuNzUwNTIgMTIuODg5MSA1Ljg0MTU4IDE1LjAwMSA4LjQyODYyIDE1LjAzOTlDOC40Mzg5IDE1LjAzODYgOC40NDkyMSAxNS4wMzc1IDguNDU5NTQgMTUuMDM2OEM4LjQ2MDU3IDE1LjAzNjUgOC40NjE2IDE1LjAzNjMgOC40NjI2MyAxNS4wMzZDOC40NjYyNCAxNS4wMzYgOC40Njk4NSAxNS4wMzYgOC40NzM0NiAxNS4wMzZDOC40ODU1NSAxNS4wMzUxIDguNDk3NjcgMTUuMDM0NiA4LjUwOTc5IDE1LjAzNDVDOC41MTM5MiAxNS4wMzQ3IDguNTE4MDQgMTUuMDM0OSA4LjUyMjE2IDE1LjAzNTJDOC41MjYyOSAxNS4wMzU1IDguNTMwNDEgMTUuMDM1NyA4LjUzNDUzIDE1LjAzNkM4Ljk5OTc2IDE1LjAzMjYgOS40NDczOSAxNC45NjAyIDkuODcxMjQgMTQuODMzNUM5LjkwNTIgMTQuODIzMiA5LjkzOTY2IDE0LjgxNDMgOS45NzMzIDE0LjgwMzNDMTAuMDgyOSAxNC43Njc4IDEwLjE4OTggMTQuNzI2NSAxMC4yOTU3IDE0LjY4MzVDMTAuMzQ5MiAxNC42NjE1IDEwLjQwMjQgMTQuNjM5MyAxMC40NTQ5IDE0LjYxNTRDMTAuNTQxMyAxNC41NzY2IDEwLjYyNjYgMTQuNTM1NSAxMC43MTAxIDE0LjQ5MTdDMTAuNzg1NCAxNC40NTE5IDEwLjg1OTEgMTQuNDA5NCAxMC45MzIgMTQuMzY1N0MxMC45OTQxIDE0LjMyODggMTEuMDU2NSAxNC4yOTI1IDExLjExNjcgMTQuMjUyOEMxMS4yMzIgMTQuMTc2NCAxMS4zNDM2IDE0LjA5NTMgMTEuNDUxNSAxNC4wMDkzQzExLjQ2NzQgMTMuOTk2OCAxMS40ODQ1IDEzLjk4NTcgMTEuNTAwMiAxMy45NzNDMTEuNjE1OCAxMy44Nzg0IDExLjcyNSAxMy43NzY0IDExLjgzMTEgMTMuNjcxNUwxMC45ODkyIDEyLjgyOTVDMTAuMzQ2IDEzLjQ2MDcgOS40NzAzOSAxMy44NTU1IDguNTAwNTIgMTMuODU1NUM2LjUzNzE4IDEzLjg1NTUgNC45MzgwMiAxMi4yNTYzIDQuOTM4MDIgMTAuMjkzVjYuNzc4NEwwLjc1NzggMi41OTgxOUMwLjY3MjE0MiAyLjUxNDc2IDAuNjEzNjYzIDIuNDA3NDIgMC41OTAwMTggMi4yOTAyMUMwLjU2NjM3NCAyLjE3MyAwLjU3ODY2MyAyLjA1MTM5IDAuNjI1Mjc5IDEuOTQxMjhDMC42NzE4OTYgMS44MzExNyAwLjc1MDY2OCAxLjczNzcgMC44NTEyODUgMS42NzMxQzAuOTUxOTAxIDEuNjA4NSAxLjA2OTY4IDEuNTc1NzggMS4xODkyIDEuNTc5MjJaTTYuMTI1NTIgNy45NjU5VjEwLjI5M0M2LjEyNTUyIDExLjYwMzIgNy4xOTAzMSAxMi42NjggOC41MDA1MiAxMi42NjhDOS4xNDQ1MiAxMi42NjggOS43Mjc4OCAxMi40MTIgMTAuMTU1IDExLjk5NTRMNi4xMjU1MiA3Ljk2NTlaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9zdmc+DQo=" />						                        
                </div>`,e&&(n+=`
                <div id="videobuttons" class="btn_actions enable-video active-">
                    <img class="video-unmute" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxOCAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xNy43NSAwLjkzNTU3N0MxNy43NSAwLjQ1Njc0IDE3LjI5ODIgMC4xNTU3NjIgMTYuOTMzNiAwLjM5MTc1M0wxMy4zNzUgMi42OTUzMVYxLjg3NUMxMy4zNzUgMC44NDQ3MjYgMTIuNjM1OSAwIDExLjczNDQgMEgxLjg5MDYyQzAuOTg5MTM2IDAgMC4yNSAwLjg0NDcyNiAwLjI1IDEuODc1VjguMTI1QzAuMjUgOS4xNTUyNyAwLjk4OTEzNiAxMCAxLjg5MDYyIDEwSDExLjczNDRDMTIuNjM1OSAxMCAxMy4zNzUgOS4xNTUyNyAxMy4zNzUgOC4xMjVWNy4zMDQ2OUwxNi45MzM2IDkuNjA4MjVDMTcuMjk4MiA5Ljg0NDI0IDE3Ljc1IDkuNTQzMjYgMTcuNzUgOS4wNjQ0MlYwLjkzNTU3N1pNMS44OTA2MiAxLjI1SDExLjczNDRDMTIuMDQyIDEuMjUgMTIuMjgxMiAxLjUyMzQ0IDEyLjI4MTIgMS44NzVWOC4xMjVDMTIuMjgxMiA4LjQ3NjU2IDEyLjA0MiA4Ljc1IDExLjczNDQgOC43NUgxLjg5MDYyQzEuNTgzMDEgOC43NSAxLjM0Mzc1IDguNDc2NTYgMS4zNDM3NSA4LjEyNVYxLjg3NUMxLjM0Mzc1IDEuNTIzNDQgMS41ODMwMSAxLjI1IDEuODkwNjIgMS4yNVpNMTYuNjU2MiAyLjAxMTcyVjcuOTg4MjhMMTMuMzc1IDUuODY0MjZWNC4xMzU3NEwxNi42NTYyIDIuMDExNzJaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9zdmc+DQo=" />						
                    <img class="video-mute" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxOCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0zLjYxNzA2IDAuOTY3MjAzQzMuNDA0NDggMC43MjQ0MTUgMy4wNTk5NCAwLjcyNDQ4MyAyLjg0NzQzIDAuOTY3MzU1QzIuNjM1MDkgMS4yMTAwMiAyLjYzNDgzIDEuNjAzMzcgMi44NDY4NCAxLjg0NjQxTDMuODUxNjggMi45OTgzNEgxLjg5MDYyQzAuOTg5MTM2IDIuOTk4MzQgMC4yNSAzLjg0MzA3IDAuMjUgNC44NzMzNFYxMS4xMjMzQzAuMjUgMTIuMTUzNiAwLjk4OTEzNiAxMi45OTgzIDEuODkwNjIgMTIuOTk4M0gxMS43MzQ0QzExLjk4NjUgMTIuOTk4MyAxMi4yMjU3IDEyLjkzIDEyLjQzOTMgMTIuODEyOEwxNC4zNzUgMTUuMDI5MUMxNC41ODk1IDE1LjI3NDcgMTQuOTM3NyAxNS4yNzQ5IDE1LjE1MjUgMTUuMDI5NUMxNS4zNjcxIDE0Ljc4NDIgMTUuMzY3IDE0LjM4NjQgMTUuMTUyMyAxNC4xNDEyTDMuNjE3MDYgMC45NjcyMDNaTTE3Ljc1IDMuOTM0ODNDMTcuNzUgMy40NTU3OSAxNy4yOTc4IDMuMTU0ODQgMTYuOTMzMyAzLjM5MTI0TDEzLjM3NSA1LjY5ODU0VjQuODczMzRDMTMuMzc1IDMuODM4MTkgMTIuNjQwMSAyLjk5ODM0IDExLjczNDQgMi45OTgzNEg2LjkwMjIyTDcuOTk1OTcgNC4yNDgzNEgxMS43MzQ0QzEyLjAzNzcgNC4yNDgzNCAxMi4yODEyIDQuNTI2NjYgMTIuMjgxMiA0Ljg3MzM0VjkuMDkyMDlMMTMuMzc1IDEwLjM0MjFMMTYuOTM2NCAxMi42MTU3QzE3LjMwMSAxMi44NDg0IDE3Ljc1IDEyLjU0NzIgMTcuNzUgMTIuMDdWMy45MzQ4M1pNMS44OTA2MiA0LjI0ODM0SDQuOTQ1NDRMMTEuNTA3OSAxMS43NDgzSDEuODkwNjJDMS41ODMwMSAxMS43NDgzIDEuMzQzNzUgMTEuNDc0OSAxLjM0Mzc1IDExLjEyMzNWNC44NzMzNEMxLjM0Mzc1IDQuNTIxNzggMS41ODMwMSA0LjI0ODM0IDEuODkwNjIgNC4yNDgzNFpNMTYuNjU2MiA1LjAxMDA2VjEwLjk4NjZMMTMuMzc1IDguODk2NzhWNy4xMzQwOUwxNi42NTYyIDUuMDEwMDZaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9zdmc+DQo=" />
                </div>`),n+="</div>"),koreJquery("#callbuttons")),o=(i.empty(),i.append(n),koreJquery("#muteaudio"));o.off("click").on("click",function(e){var t=l.activeCall.isAudioMuted();l.activeCall.muteAudio(!t),t?o.removeClass("active-"):o.addClass("active-")});koreJquery("#closecall").off("click").on("click",function(e){t&&l.activeCall.terminate()});var r,s=!0;e&&(r=koreJquery("#videobuttons")).off("click").on("click",function(e){if(l.activeCall){s=!s;let e=document.getElementById("local_video_tmp").srcObject;e.getVideoTracks().forEach(e=>e.enabled=s),s?(koreJquery("#local_video_tmp").show(),r.addClass("active-"),koreJquery("#agentyou").hide()):(r.removeClass("active-"),koreJquery("#local_video_tmp").hide(),koreJquery("#agentyou").show())}else console.log("there is no active call, hence cannot toggle send video")})},this.fullScreen=!1,this.callConnected=function(e,t){var s=`<div do-not-mutate="true" class="video-audio-chat-container">
            <div class="video-chat-">
                <div class="video-name-title">${t}</div>
                <div id ='audiovideocallcontainer'></div>
            </div>
            <div id="callbuttons"></div>
        </div>`,t=e?"video":"audio",a=`<div id="video_view" class="video-view- audio-view-">
            <div class="agent-profile-img">
                <img style='height: 30px; width:30px; top:0px;left:0px;position: absolute; border-radius: 50%;'
                    src="${l.agentProfileIcon}"> 
            </div>
            <div class="title">Connected ${t} Call...</div>
            <div class="audio-info">Disconnecting ${t} call doesn't end conversation</div>
        </div>`,e=document.getElementById("callcontainer");e&&(e.remove(),e=null),e||((e=document.createElement("div")).id="callcontainer",document.getElementById("agentcontainer").appendChild(e)),setTimeout(()=>{var n=koreJquery("#callcontainer"),n=(n.empty(),n.append(s),koreJquery("#audiovideocallcontainer"));if(n.empty(),l.callDetails.videoCall){n.append(`<div id="video_view" class="video-view-">
            <video id="remote_video_tmp" autoplay="autoplay" playsinline style="display: block;"></video>
            <div class="action-minimize-audio-control">
                <div id="maximizevideo" class="maximize-video">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC44NTQ4IDEwLjQwMTRDMTUuMTkxNCAxMC40MDE0IDE1LjQ2NzcgMTAuNjU5MSAxNS40OTc0IDEwLjk4NzlMMTUuNSAxMS4wNDY2VjEzLjMzMTVDMTUuNSAxNC40OTk5IDE0LjU3NTkgMTUuNDUyNSAxMy40MTg4IDE1LjQ5ODNMMTMuMzMxNSAxNS41SDExLjA0NjZDMTAuNjkwMyAxNS41IDEwLjQwMTQgMTUuMjExMiAxMC40MDE0IDE0Ljg1NDhDMTAuNDAxNCAxNC41MTgzIDEwLjY1OTEgMTQuMjQyIDEwLjk4NzkgMTQuMjEyM0wxMS4wNDY2IDE0LjIwOTdIMTMuMzMxNUMxMy43OTU0IDE0LjIwOTcgMTQuMTc1MyAxMy44NSAxNC4yMDc1IDEzLjM5NDNMMTQuMjA5NyAxMy4zMzE1VjExLjA0NjZDMTQuMjA5NyAxMC42OTAzIDE0LjQ5ODUgMTAuNDAxNCAxNC44NTQ4IDEwLjQwMTRaTTEuMTQ1MTYgMTAuNDAxNEMxLjQ4MTY4IDEwLjQwMTQgMS43NTgwMiAxMC42NTkxIDEuNzg3NjkgMTAuOTg3OUwxLjc5MDMyIDExLjA0NjZWMTMuMzMxNUMxLjc5MDMyIDEzLjc5NTQgMi4xNTAwMyAxNC4xNzUzIDIuNjA1NzUgMTQuMjA3NUwyLjY2ODQ2IDE0LjIwOTdINC45NTM0MUM1LjMwOTcyIDE0LjIwOTcgNS41OTg1NyAxNC40OTg1IDUuNTk4NTcgMTQuODU0OEM1LjU5ODU3IDE1LjE5MTQgNS4zNDA5MiAxNS40Njc3IDUuMDEyMTMgMTUuNDk3NEw0Ljk1MzQxIDE1LjVIMi42Njg0NkMxLjUwMDA2IDE1LjUgMC41NDc0OTQgMTQuNTc1OSAwLjUwMTcyMiAxMy40MTg4TDAuNSAxMy4zMzE1VjExLjA0NjZDMC41IDEwLjY5MDMgMC43ODg4NDkgMTAuNDAxNCAxLjE0NTE2IDEwLjQwMTRaTTQuOTUzNDEgMC41QzUuMzA5NzIgMC41IDUuNTk4NTcgMC43ODg4NDkgNS41OTg1NyAxLjE0NTE2QzUuNTk4NTcgMS40ODE2OCA1LjM0MDkyIDEuNzU4MDIgNS4wMTIxMyAxLjc4NzY5TDQuOTUzNDEgMS43OTAzMkgyLjY2ODQ2QzIuMjA0NTYgMS43OTAzMiAxLjgyNDY4IDIuMTUwMDMgMS43OTI1MyAyLjYwNTc1TDEuNzkwMzIgMi42Njg0NlY0Ljk1MzQxQzEuNzkwMzIgNS4zMDk3MiAxLjUwMTQ3IDUuNTk4NTcgMS4xNDUxNiA1LjU5ODU3QzAuODA4NjQ0IDUuNTk4NTcgMC41MzIzMDMgNS4zNDA5MiAwLjUwMjYzNyA1LjAxMjEzTDAuNSA0Ljk1MzQxVjIuNjY4NDZDMC41IDEuNTAwMDYgMS40MjQwNyAwLjU0NzQ5NCAyLjU4MTI0IDAuNTAxNzIyTDIuNjY4NDYgMC41SDQuOTUzNDFaTTEzLjMzMTUgMC41QzE0LjQ5OTkgMC41IDE1LjQ1MjUgMS40MjQwNyAxNS40OTgzIDIuNTgxMjRMMTUuNSAyLjY2ODQ2VjQuOTUzNDFDMTUuNSA1LjMwOTcyIDE1LjIxMTIgNS41OTg1NyAxNC44NTQ4IDUuNTk4NTdDMTQuNTE4MyA1LjU5ODU3IDE0LjI0MiA1LjM0MDkyIDE0LjIxMjMgNS4wMTIxM0wxNC4yMDk3IDQuOTUzNDFWMi42Njg0NkMxNC4yMDk3IDIuMjA0NTYgMTMuODUgMS44MjQ2OCAxMy4zOTQzIDEuNzkyNTNMMTMuMzMxNSAxLjc5MDMySDExLjA0NjZDMTAuNjkwMyAxLjc5MDMyIDEwLjQwMTQgMS41MDE0NyAxMC40MDE0IDEuMTQ1MTZDMTAuNDAxNCAwLjgwODY0NCAxMC42NTkxIDAuNTMyMzAzIDEwLjk4NzkgMC41MDI2MzdMMTEuMDQ2NiAwLjVIMTMuMzMxNVoiIGZpbGw9IiMyMDIxMjQiLz4KPC9zdmc+Cg==" />
                </div>
            </div>
            <div id="showselfvideocontainer" class="show-self-video-container">
                <div class="show-self-video">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwIDAuMzk4NDM4QzYuNTcxODggMC4zOTg0MzggMy42OTY4OCAyLjgxMDk0IDIuOTc1IDYuMDIzNDRDMy4wNDg0NCA2LjAxNTYyIDMuMTI1IDUuOTk4NDQgMy4yIDUuOTk4NDRDMy40MDQ2OSA1Ljk5ODQ0IDMuNjAxNTYgNi4wNDA2MyAzLjc4NzUgNi4wOTg0NEM0LjQ2NTYzIDMuMjkzNzUgNi45ODkwNiAxLjE5ODQ0IDEwIDEuMTk4NDRDMTMuMDA5NCAxLjE5ODQ0IDE1LjUzNDQgMy4yOTM3NSAxNi4yMTI1IDYuMDk4NDRDMTYuMzk4NCA2LjA0MDYzIDE2LjU5MzggNS45OTg0NCAxNi44IDUuOTk4NDRDMTYuODc1IDUuOTk4NDQgMTYuOTUxNiA2LjAxNTYyIDE3LjAyNSA2LjAyMzQ0QzE2LjMwMzEgMi44MTA5NCAxMy40MjY2IDAuMzk4NDM4IDEwIDAuMzk4NDM4Wk0zLjIgNi43OTg0NEMyLjUzOTA2IDYuNzk4NDQgMiA3LjMzNzUgMiA3Ljk5ODQ0VjEzLjk5ODRDMiAxNC42NTk0IDIuNTM5MDYgMTUuMTk4NCAzLjIgMTUuMTk4NEMzLjg2MDk0IDE1LjE5ODQgNC40IDE0LjY1OTQgNC40IDEzLjk5ODRWNy45OTg0NEM0LjQgNy4zMzc1IDMuODYwOTQgNi43OTg0NCAzLjIgNi43OTg0NFpNMTYuOCA2Ljc5ODQ0QzE2LjEzOTEgNi43OTg0NCAxNS42IDcuMzM3NSAxNS42IDcuOTk4NDRWMTMuOTk4NEMxNS42IDE0LjY1OTQgMTYuMTM5MSAxNS4xOTg0IDE2LjggMTUuMTk4NEMxNy40NjA5IDE1LjE5ODQgMTggMTQuNjU5NCAxOCAxMy45OTg0VjcuOTk4NDRDMTggNy4zMzc1IDE3LjQ2MDkgNi43OTg0NCAxNi44IDYuNzk4NDRaTTEuMiA4LjA0ODQ0QzAuNDc4MTI1IDguNjI4MTMgMCA5LjcxNTYyIDAgMTAuOTk4NEMwIDEyLjI4MTIgMC40NzgxMjUgMTMuMzY4OCAxLjIgMTMuOTQ4NFY4LjA0ODQ0Wk0xOC44IDguMDQ4NDRWMTMuOTQ4NEMxOS41MjE5IDEzLjM2ODggMjAgMTIuMjgxMiAyMCAxMC45OTg0QzIwIDkuNzE1NjIgMTkuNTIxOSA4LjYyODEzIDE4LjggOC4wNDg0NFpNMTYuMjM3NSAxNS45MTA5QzE1Ljg4NDQgMTYuOTk2OSAxNC45NjcyIDE3LjU5ODQgMTMuNiAxNy41OTg0SDEzLjE2MjVDMTMuMTg5MSAxNy43MjgxIDEzLjIgMTcuODYwOSAxMy4yIDE3Ljk5ODRDMTMuMiAxOC4xMzU5IDEzLjE4OTEgMTguMjY4NyAxMy4xNjI1IDE4LjM5ODRIMTMuNkMxNS4zOTY5IDE4LjM5ODQgMTYuNjQwNiAxNy40OTUzIDE3LjA1IDE1Ljk3MzRDMTYuOTY1NiAxNS45ODQ0IDE2Ljg4NTkgMTUuOTk4NCAxNi44IDE1Ljk5ODRDMTYuNjAzMSAxNS45OTg0IDE2LjQxNzIgMTUuOTY0MSAxNi4yMzc1IDE1LjkxMDlaTTkuMiAxNi43OTg0QzguNTM5MDYgMTYuNzk4NCA4IDE3LjMzNzUgOCAxNy45OTg0QzggMTguNjU5NCA4LjUzOTA2IDE5LjE5ODQgOS4yIDE5LjE5ODRIMTEuMkMxMS44NjA5IDE5LjE5ODQgMTIuNCAxOC42NTk0IDEyLjQgMTcuOTk4NEMxMi40IDE3LjMzNzUgMTEuODYwOSAxNi43OTg0IDExLjIgMTYuNzk4NEg5LjJaIiBmaWxsPSIjMjAyMTI0Ii8+Cjwvc3ZnPgo=" />
                </div>
            </div>
            <div id="selfvideocontainer" class="self-video-container">
            <div class="self-video">
                <div id="agentyou" class="video-user-alphabet">YOU</div>
                <video id="local_video_tmp" autoplay="autoplay" playsinline style="display: block;"></video>
            </div>
            <div id="closeselfvideo" class="close-video">
                <img width: 10px; style='height: 10px;top:-5px;left:-9px;position: absolute;' 
                     src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACuSURBVHgBnZLBDcMgDEWdsoBLF6AVvXeEbla6Ta7doJmgC/SQY08pGxAHJZGVGIiChLCNH/4yBqBlzPUGG9eUq6JRhQ9qDf7fNVnoYh901Iinl/K++yHqigIuB0cogKP9bNtvzSRYZ842jK+uoHhHObIUAU5Bijsk+81l41HfmTy5mlg5I+8AcjSIdkpqrMa6R24DhW7P0FJerttJqAgX/0mCh5ErQSt4mu09Q94DEcdaRcYvY1cAAAAASUVORK5CYII=" />
            </div>
            </div>
        </div>
       `),koreJquery("#agentyou").hide();var i=document.getElementById("local_video"),o=(i.srcObject=i.srcObject,i.volume=0,document.getElementById("local_video_tmp"));o&&(o.srcObject=i.srcObject,o.volume=0);let e=document.getElementById("remote_video"),t=(e.volume=.5,document.getElementById("remote_video_tmp"));e&&t&&(t.srcObject=e.srcObject,t.volume=.5),koreJquery("#selfvideocontainer").draggable({containment:".video-audio-chat-container"}),koreJquery("#selfvideocontainer").css({top:"65px",right:"15px",left:""}),n.css({position:"absolute",width:"90%",height:"74%",top:"24%","background-color":"black"});var r=koreJquery("#showselfvideocontainer").hide();koreJquery("#closeselfvideo").off("click").on("click",function(e){koreJquery("#selfvideocontainer").hide(),r.show()}),r.off("click").on("click",function(e){koreJquery("#selfvideocontainer").show(),r.hide()}),koreJquery("#maximizevideo").off("click").on("click",function(e){var t=document.getElementById("audiovideocallcontainer");l.fullScreen?(l.fullScreen=!1,document.exitFullscreen(),koreJquery("#selfvideocontainer").draggable({containment:".video-audio-chat-container"}),koreJquery("#selfvideocontainer").css({top:"65px",right:"15px",left:""})):(koreJquery("#selfvideocontainer").css({top:"174px",right:"15px",left:""}),koreJquery("#selfvideocontainer").draggable({containment:"document"}),l.fullScreen=!0,t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen())})}else n.append(a);l.disableMinimizeButton(!0),l.showFooterButtons(!0,l.callDetails.videoCall)},1e3)},this.disableMinimizeButton=function(e){var t=document.getElementsByClassName("minimize-btn");t&&0<t.length&&(t[0].disabled=e)},this.callConnecting=function(e,t){e=e?"Video":"Audio",t=`<div class="video-audio-chat-container">
            <div class="video-chat-">
                <div class="video-name-title">${t}</div>
                <div id="video_view" class="video-view- audio-view-">
                    <div class="agent-profile-img">
                        <img style='height: 30px; width:30px; top:0px;left:0px;position: absolute; border-radius: 50%;'
                            src="${l.agentProfileIcon}"> 
                    </div>
                    <div class="title">Connecting ${e} Call...</div>
                    <div class="audio-info">Disconnecting ${e} call doesn't end conversation</div>
                </div>										
            </div>
            <div id="callbuttons"></div>
        </div>`,e=koreJquery("#callcontainer");e.empty(),e.append(t),e.draggable({handle:koreJquery("#callcontainer").find(".video-name-title"),containment:"document"}).resizable({handles:"n, e, w, s",containment:"document",minWidth:300,minHeight:375}),l.showFooterButtons(!1,l.callDetails.videoCall)},this.showScreenShareMessage=function(e,t){var t=`
        <div class="initial-video-audio-container">
            <div class="ad-img-block">
                <img src="${l.agentProfileIcon}" />
            </div>
            <div class="content-desc">
                <div class="name">${t}</div>
                <div class="type-text">is requesting for a screenshare</div>
            </div>
            <div class="controls-v-a">
                <img id="rejectcall" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMCSURBVHgBxZjPaxNBFMffzG43oFCSo1gwMW3BUxPwR/HSBKwUT/XeYIX2asV/IO1/YC+CtFBLejdHaYXGW7ViVy8e2pL14k0SCoLdpDu+t/lhkmbNTDY/vpDsJHmb/fDezLz3hoGi8tOJsFPW50FjUyBYAgQEgeGLJKCIYwtHFjjOB7tczt4yc5bK/zNZw5M7s4sc4IlgCKEmUwixPn6490bGuCPQ8e0HCc75Fg7D4E8Wgq11AvMEOoolgsERI+0weA69lGAvz0rna3EzVwRZoO+xRNgwjLc4jEF/ZNm2nWw3v5gHzD74D1FXUE1AFKZRwzgaAExN5hlCNYaPN/5Kc2aAMKTY6Egg3fhF3UO0rBljWzAEOY6TnPj8PkfjuocQJg1DUnVbqYzpjbwDgw1Vq8JVhgoQemdF9k5jMiprqmRLWcC90jIHyf0mMHkTxjKvILSc6mgbWl5wbWWhKCX9vP/ohvZibHwRXTQnc9PFr0L1YSlyK/z58s0TJrSUgsLGDvzey4GsbCF+6KDxGczS0ips7vyDos8bGU+YwmYGVIRhm9IRJgyK8oLyA+NKiEQFSLoI8YaiYsgXTEVBvV5cdaHLnvIF4wJx8CvmMe5SerXs7MpLjXPGDZnHRFdQkUJGmVYZyGsC+4ISYGnPrkfjTLEQ84Kp7Uud9ilPHgYftZVrkbDsxvg/mF5A4W79mnNdz8reQKlDZmnT6qOQhZYWlPKZzljWXRcn92b3mZBrbwITUTg/PpUxVbLF+WNGD3fjlWXvwDZISvoBirYCxDpd6zvH6d2HeRheTWRFP+1GaFDfGLGMfApDEjWQtXEdiGpaanlhwGpts5tSh1YqrWIMTRicLO1qabXxiyagCPZHjPPHZAgDgMHiPhnJNbfUl5Jr5OCda9hnKNOFwWe1/tA227tQth3vx5yi/+RX7LYwpI4FQ7WB7EVHa9FKrjWEXlI6sKq2S0qJGD2Sw8t2zw6sWpWfnsMjvfI8tpszQF6rlMCNR3r4QogL8ZXr5WzkQO1I7y91mFsdhEgKrAAAAABJRU5ErkJggg=="  />
                <img id="acceptcall" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMfSURBVHgBxZg/TBNRHMe/v1cQCTGpCerg4AHGlEXEwZWDiDLS4GBjohJjIokJRF2IA7Az2NGpEmM6GRwN/isxDsACLt6kNyhBoqYJktIW7vl+154tWuiV67Xfpb+7+11/n7zfu997v0eoUKGYrlFTw6Ak6gJIJ2kFlR3kZyRl0hJkKssUljUvafuFEUmYlfw/uXUMPeu/CYEbytRRgSRhmXYQNa69euLGvyxQ6OlFHQ0UU6YGbzJhYaoc2J5AWkwPNjcfmpBSjqGKIqJHqVRmyhxOJEs+L3UzFNc1SY2zJHEO/sgEsr2l5heVggEa38F7ig4EJYovOE01grHDcRZyMfcA4jlTIxhbPCXyMQv3HCP/WcdQF0mVutcJtgojJDCBuoliBQzkR6eGqSohLc+QA1LVdBT1Vm4VgODPnMi3eoOTLSewODSLULC9nKve+bzvlCDZMAifxDAzfdN48/UDjOTn8i+kRVhYAj3wQQ7M0voKxhemXb3DOwgBizRUWQeByUsXAlJDFeUBRi28CApnc7WfjjS24MLxs+XcPMGwpFRAbhw7j562A4Xb+uEXjKPAsaH2MTVWh/dz+rb53V5jxs+PYCPzGys/DV9gVMqSgdYrHXeUXTZti+sfbah7Xbfs6yV1XQzDoLfnH8KL1ObNCLQOdXTDZWFkKA58Pw+1qkbOgbn+9gEyVhZeJEELnDJNoQ24fYnTtbq5Zqcv3H4ZP1K/bJiN7Ca8Skj5WKXszJpiq2jfzFWXoZoCh3D3/WRVYGxRw4i9HwrF+3mXqKOOUvNn+dPVuW7ns59BnaW6myj/FnaM8UtfUOWq7V5kGpG5NraKCqM1jLpJTjnWXyDe06o+PYoaSy0XUSNS6GZ3LR2p9M6kclhGzURmOp2dLL6zC4jbW6JAmB1RAxgVvvfflvq/xdWIvLQd/YTiExGOkYu1WyVXe3bc2sp0+zGneM6kU9mSMKzyxzFxbk9owntJ4BG3hp2GcE8vuBSDqeI1qipqhR2KTKgwM8VfUlWACmADGsntQZXsHsuCJkDq0AD5Iz0kla0mqaVKCK0c5EjvD7WHTOQEQMMGAAAAAElFTkSuQmCC" />
            </div>
        </div>`,n=koreJquery("#toast"),t=(n.empty(),n.append(t),koreJquery("#rejectcall")),i=koreJquery("#acceptcall");t.off("click").on("click",function(e){l.activeCall&&l.activeCall.isScreenSharing()&&(l.sendControlMessage("screenshare_end"),l.callDetails.videoCall||l.sendVideo(!1),l.activeCall.stopScreenSharing()),n.empty()}),i.off("click").on("click",function(e){l.activeCall&&l.screenShare(l.callDetails),n.empty()})},this.showIncomingCallMessage=function(e,t){var e=e?"video":"audio",n=document.getElementById("toast"),i=(n&&(n.remove(),n=null),n||((n=document.createElement("div")).id="toast",document.body.appendChild(n)),`
        <div class="initial-video-audio-container">
            <div class="ad-img-block">
                <img src="${l.agentProfileIcon}" />
            </div>
            <div class="content-desc">
                <div class="name">${t}</div>
                <div class="type-text">is trying to ${e} call you</div>
            </div>
            <div class="controls-v-a">
                <img id="rejectcall" src="${rejectIcon}"/>
                <img id="acceptcall" src= "${acceptIcon}"/>
            </div>
        </div>`);setTimeout(()=>{var n=koreJquery("#toast"),e=(n.empty(),n.append(i),koreJquery("#rejectcall")),t=koreJquery("#acceptcall");e.off("click").on("click",function(e){l.activeCall&&l.activeCall.terminate(),l.callAccepted=!1,n.empty()}),t.off("click").on("click",function(e){l.addAudioVideoContainer(),l.callConnecting(l.callDetails.videoCall,l.callDetails.firstName),l.callAgent(),n.empty();var t=setTimeout(()=>{null!==l.activeCall&&l.activeCall.isEstablished()||l.callTerminated(),clearTimeout(t)},3e4)})},100)},this.showCobrowseRequest=function(t){var n=document.getElementById("toast"),e=(n&&(n.remove(),n=null),n||((n=document.createElement("div")).id="toast",document.body.appendChild(n)),document.getElementById("cobrowse-toolbar")),e=(e&&e.remove(),t?.firstName),e=`
        <div class="initial-video-audio-container">
            <div class="ad-img-block">
                <img src="${l.agentProfileIcon}" />
            </div>
            <div class="content-desc">
                <div class="name">${e}</div>
                <div class="type-text">is requesting a CoBrowse session with you</div>
            </div>
            <div class="controls-v-a">
                <img id="rejectcall" src="${rejectIcon}"/>
                <img id="acceptcall" src= "${acceptIcon}"/>
            </div>
        </div>`,e=((n=koreJquery("#toast")).empty(),n.append(e),koreJquery("#rejectcall")),i=koreJquery("#acceptcall");e.off("click").on("click",function(e){n.empty()}),i.off("click").on("click",function(e){n.empty(),t.userId=o,cobrowseInitialize(t),localStorage.setItem("cobrowseRequest",JSON.stringify(t))})},this.sendCoBrowseEvent=function(e,t){l.socket.emit("cobrowseevent",{room:e,event:t},e=>{console.log("sent and received ack",e)})},koreJquery=(window&&window.KoreSDK&&window.KoreSDK.dependencies&&window.KoreSDK.dependencies.jQuery?window.KoreSDK.dependencies:window).jQuery,console.log("window.KoreSDK",window.KoreSDK,o);var e=requireKr("/KoreBot.js").instance(),s=e.sendMessage,e=(e.sendMessage=function(e,t){var n,i=localStorage.getItem("pagesVisited"),o=[],r=(i&&"[]"!=i&&(i=(o=JSON.parse(i))[0],r=moment(i.timestamp),n=moment(),n=moment.duration(n.diff(r)).asSeconds(),i.timespent=n),localStorage.setItem("pagesVisited",JSON.stringify(o)),navigator.userAgent);-1!=r.indexOf("Opera")?KoreSDK.chatConfig.browserName="Opera":-1!=r.indexOf("MSIE")?KoreSDK.chatConfig.browserName="Microsoft Internet Explorer":-1!=r.indexOf("Chrome")?KoreSDK.chatConfig.browserName="Chrome":-1!=r.indexOf("Safari")?KoreSDK.chatConfig.browserName="Safari":-1!=r.indexOf("Firefox")?KoreSDK.chatConfig.browserName="Firefox":(i=r.lastIndexOf(" ")+1)<(n=r.lastIndexOf("/"))&&(KoreSDK.chatConfig.browserName=r.substring(i,n)),KoreSDK.chatConfig.OSName="Unknown OS",-1!=navigator.appVersion.indexOf("Win")&&(KoreSDK.chatConfig.OSName="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(KoreSDK.chatConfig.OSName="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(KoreSDK.chatConfig.OSName="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(KoreSDK.chatConfig.OSName="Linux"),e.agentDesktopMeta={pagesVisited:o,browserData:{browser_name:KoreSDK.chatConfig.browserName,os_name:KoreSDK.chatConfig.OSName,device_type:(r=navigator.userAgent,/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(r)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(r)?"mobile":"desktop")}},s.call(this,e,t)},overrideFlag=!1,e.on("message",e=>{n();var t,e=JSON.parse(e.data);"events"===e.type&&e.message&&"call_agent_webrtc"===e.message.type?(l.callDetails=e.message,l.agentProfileIcon=l.userIcon,l.callDetails.profileIcon&&"undefined"!==l.callDetails.profileIcon&&(l.agentProfileIcon=l.callDetails.profileIcon),console.log("payload=",e.message),l.callAccepted=!1,l.showPhonePanel=!0,l.callDetails.restoreCall?(l.activeCall&&l.activeCall.terminate(),l.callAgent(),l.callAccepted=!0,l.showVideo=!0):this.showIncomingCallMessage(l.callDetails.videoCall,l.callDetails.firstName)):"events"===e.type&&e.message&&"terminate_agent_webrtc"===e.message.type?(l.removeAudoVideoContainer(),l.showPhonePanel=!1,l.showVideo=!1,l.activeCall&&(l.activeCall.terminate(),l.phone.deinit()),koreJquery("#toast").empty()):"events"===e.type&&e.message&&"webrtc_screenshare"===e.message.type?this.showScreenShareMessage(l.callDetails.videoCall,l.callDetails.firstName):"events"===e.type&&e.message&&"webrtc_screenshare_cancel"===e.message.type?(l.callDetails.videoCall||l.sendVideo(!1),l.screenSharingStream&&l.phone.closeScreenSharing(),l.activeCall&&l.activeCall.isScreenSharing()&&l.activeCall.stopScreenSharing()):"events"===e.type&&e.message&&"cobrowse"===e.message.type?(console.log("cobrowse request ",e.message),l.agentProfileIcon=l.userIcon,e.message.profileIcon&&"undefined"!==e.message.profileIcon&&(l.agentProfileIcon=e.message.profileIcon),this.showCobrowseRequest(e.message)):"events"===e.type&&e.message&&"close_cobrowse"===e.message.type?(koreJquery("#toast").empty(),stopCoBrowse(!1)):"events"===e.type&&e.message&&"clear_pagevisit_history"===e.message.type&&(localStorage.removeItem("pagesVisited"),e=[],t=this.getPageTitle(),e.push({page:t,timestamp:new moment}),localStorage.setItem("pagesVisited",JSON.stringify(e)))}),this.getPageTitle=function(){var e=document.title,t=document.getElementsByTagName("meta");if(t&&0<t.length)for(var n=0;n<t.length;n++)"title"!==t[n].name&&"og:title"!==t[n].name||(e=t[n].content);return console.log("page title ",e),e},[]),t=this.getPageTitle();e.push({page:t,timestamp:new moment}),localStorage.setItem("pagesVisited",JSON.stringify(e)),this.addAudioVideoContainer=function(){var e=document.getElementsByClassName("kore-chat-body"),t=document.getElementById("agentcontainer"),t=(t?t.style.display="block":e&&0<e.length&&((t=document.createElement("div")).id="agentcontainer",t.style.height="25%",e[0].parentNode.insertBefore(t,e[0]),e[0].style.position="relative"),koreJquery("#callcontainer").length||koreJquery("#agentcontainer").append('<div id="callcontainer" class="callcontainer"></div>'),e[0].style.top="0px",e[0].style.height="54%",document.getElementsByClassName("kore-chat-window"));t[0].style.top="0px",t[0].style.maxHeight="99%",t[0].style.height="97%"},this.removeAudoVideoContainer=function(){var e=document.getElementsByClassName("kore-chat-body"),t=document.getElementById("agentcontainer");t&&(t.style.display="none",e[0].style.height="78%")},this.sendVideo=function(t){let e=document.getElementById("local_video_tmp"),n=(e=e||document.getElementById("local_video")).srcObject;n&&n.getVideoTracks()&&n.getVideoTracks().forEach(e=>e.enabled=t)},this.screenShare=function(e){var t=Promise.resolve();return!self.callDetails.videoCall&&l.activeCall.hasEnabledSendVideo()&&l.sendVideo(!1),t.then(()=>{if(null===l.screenSharingStream)return l.phone.openScreenSharing().then(e=>{l.screenSharingStream=e,l.screenSharingStream.getVideoTracks()[0].onended=function(){l.sendVideo(l.callDetails.videoCall),l.sendControlMessage("screenshare_end")}})}).then(()=>(l.sendControlMessage("screenshare_start"),l.sendVideo(!0),l.activeCall.startScreenSharing(l.screenSharingStream))).catch(e=>{console.log("guiScreenSharing: error: "+e),l.sendControlMessage("screenshare_end")}).finally(()=>{})},this.initSipStack=function(e,t){console.log("this.phoneConfig",this.phoneConfig),this.phone.setServerConfig(t.addresses,t.domain,t.iceServers),this.phone.setReconnectIntervals(this.phoneConfig.reconnectIntervalMin,this.phoneConfig.reconnectIntervalMax),this.phone.setRegisterExpires(this.phoneConfig.registerExpires),this.phone.setUseSessionTimer(this.phoneConfig.useSessionTimer),this.phone.setDtmfOptions(this.phoneConfig.dtmfUseWebRTC,this.phoneConfig.dtmfDuration,this.phoneConfig.dtmfInterToneGap),this.phone.setBrowsersConstraints(this.phoneConfig.constraints),this.phone.setEnableAddVideo(this.phoneConfig.enableAddVideo),this.phone.setAcLogger(console.log),this.phone.setModes(this.phoneConfig.modes),this.phone.setAccount(e.user,e.displayName,e.password);var o=this;this.phone.setListeners({loginStateChanged:function(e,t){switch(t){case"connected":console.log("phone>>> loginStateChanged: connected"),o._makeCall();break;case"disconnected":console.log("phone>>> loginStateChanged: disconnected");break;case"login failed":console.log("phone>>> loginStateChanged: login failed");break;case"login":console.log("phone>>> loginStateChanged: login");break;case"logout":console.log("phone>>> loginStateChanged: logout")}},callScreenSharingEnded:function(e,t){console.log("phone>>> callScreenSharingEnded",e),l.screenSharingStream=null},outgoingCallProgress:function(e,t){console.log("phone>>> outgoing call progress")},callTerminated:function(e,t,n,i){koreJquery("#rejectPhone").show(),console.log("phone>>> call terminated callback, cause=%o",n),e!==o.activeCall?console.log("terminated no active call"):(o.activeCall=null,console.warn("Call terminated: "+n),o.phone.deinit(),console.log("call_terminated_panel"),o.callAccepted=!1,o.callMuted=!1,o.showPhonePanel=!1,o.showVideo=!1,o.screenSharingStream=null,l.callTerminated())},callConfirmed:function(e,t,n){l.callConnected(l.callDetails.videoCall,l.callDetails.firstName),console.log("phone>>> callConfirmed ",new Date,e.hasReceiveVideo());e.getRTCRemoteStream();o.callDetails.videoCall||l.sendVideo(!0),console.log("call established")},callShowStreams:function(e,t,n){console.log("phone>>> callShowStreams");var i=document.getElementById("remote_video"),i=(console.log("remoteVideo",i),i.srcObject=n,i.volume=.5,console.log("remoteStream",n),document.getElementById("local_video")),o=(i.srcObject=t,i.volume=0,i.mute=!1,setInterval(function(){if(document.getElementById("remote_video_tmp")){let e=document.getElementById("remote_video"),t=(e.srcObject=n,document.getElementById("remote_video_tmp"));t.srcObject=e.srcObject,t.volume=.5,clearInterval(o)}},100))},incomingCall:function(e,t,n,i){console.log("phone>>> incomingCall",e,t,n,i),e.data.incoming_invite_hasSDP=i,e.reject()},callHoldStateChanged:function(e,t,n){console.log("hold")}}),console.log("Connecting..."),o.phone.init(!0)},this.sendControlMessage=function(e){var t=l.callDetails.sipURI,t=t.substring(t.indexOf(":")+1,t.indexOf("@"));l.phone.sendMessage(t,e)},this.callAgent=function(){console.log("this.callDetails",this.callDetails);var e=this.callDetails.sipURI,t=e.substring(e.indexOf(":")+1,e.indexOf("@")),e=(console.log("sipURI",e,"sipUser",t,this.phone.VIDEO),{});e.addresses=this.callDetails.addresses,e.domain=this.callDetails.domain,e.iceServers=[this.callDetails.domain],this.initSipStack({user:o,displayName:o,password:""},e)},this._makeCall=function(){var e=self.callDetails.sipURI,t=e.substring(e.indexOf(":")+1,e.indexOf("@"));navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(e=>{e.getTracks().forEach(function(e){e.stop()}),self.activeCall=self.phone.call(self.phone.VIDEO,t)})},this.toggleButtons=function(){this.callAccepted?(this.callDetails&&!this.callDetails.videoCall?koreJquery("#acceptPhone").html('<i id="mic-icon" class="fas fa-phone-slash"></i>'):koreJquery("#acceptPhone").html('<i id="mic-icon" class="fas fa-video-slash"></i>'),koreJquery("#rejectPhone").hide()):this.callDetails&&!this.callDetails.videoCall?koreJquery("#acceptPhone").html('<i id="mic-icon" class="fas fa-phone-volume"></i>'):koreJquery("#acceptPhone").html('<i id="mic-icon" class="fas fa-video"></i>'),koreJquery("#mutePhone").show(),this.callMuted?koreJquery("#mutePhone").html('<i id="mic-icon" class="fas fa-microphone-slash">'):koreJquery("#mutePhone").html('<i id="mic-icon" class="fas fa-microphone">')},this.updateGui=function(){this.toggleButtons(),this.showPhonePanel?koreJquery("#phonepanel").show():koreJquery("#phonepanel").hide(),this.showVideo?koreJquery("#video_view").show():koreJquery("#video_view").hide()},koreJquery("#acceptPhone").off("click").on("click",function(e){l.callAccepted=!l.callAccepted,l.showVideo=!l.showVideo,l.callAccepted?l.callAgent():(l.activeCall&&l.activeCall.terminate(),l.showPhonePanel=!1),l.updateGui()}),koreJquery("#rejectPhone").off("click").on("click",function(e){l.activeCall&&l.activeCall.terminate(),l.callAccepted=!1,l.showPhonePanel=!1,l.updateGui()}),koreJquery("#mutePhone").off("click").on("click",function(e){l.callMuted=!l.callMuted;var t=l.activeCall.isAudioMuted();l.activeCall.muteAudio(!t),l.updateGui()}),koreJquery("#toast").length||koreJquery("#chatContainer").append('<div id="toast"></div>')}!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.io=t():e.io=t()}(self,function(){return n=[function(e,t){e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(e,t,n){var s=n(24),a=n(25),l=String.fromCharCode(30);e.exports={protocol:4,encodePacket:s,encodePayload:function(e,n){var i=e.length,o=new Array(i),r=0;e.forEach(function(e,t){s(e,!1,function(e){o[t]=e,++r===i&&n(o.join(l))})})},decodePacket:a,decodePayload:function(e,t){for(var n=e.split(l),i=[],o=0;o<n.length;o++){var r=a(n[o],t);if(i.push(r),"error"===r.type)break}return i}}},function(e,t,n){function i(e){if(e){var t,n=e;for(t in i.prototype)n[t]=i.prototype[t];return n}}(e.exports=i).prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<i.length;o++)if((n=i[o])===t||n.fn===t){i.splice(o,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var i=n(0),o=(e.exports.pick=function(n){for(var e=arguments.length,t=new Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return t.reduce(function(e,t){return n.hasOwnProperty(t)&&(e[t]=n[t]),e},{})},setTimeout),r=clearTimeout;e.exports.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=o.bind(i),e.clearTimeoutFn=r.bind(i)):(e.setTimeoutFn=setTimeout.bind(i),e.clearTimeoutFn=clearTimeout.bind(i))}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u(n);return a(this,i?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function a(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n(1),f=n(2),d=n(3).installTimerFunctions,n=function(){var e=i,t=f;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t);var n=s(i);function i(e){var t;if(this instanceof i)return t=n.call(this),d(l(t),e),t.opts=e,t.query=e.query,t.readyState="",t.socket=e.socket,t;throw new TypeError("Cannot call a class as a function")}return o(i.prototype,[{key:"onError",value:function(e,t){e=new Error(e);return e.type="TransportError",e.description=t,this.emit("error",e),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,this.emit("open")}},{key:"onData",value:function(e){e=c.decodePacket(e,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(e){this.emit("packet",e)}},{key:"onClose",value:function(){this.readyState="closed",this.emit("close")}}]),i}();e.exports=n},function(e,t){t.encode=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n.length&&(n+="&"),n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n},t.decode=function(e){for(var t={},n=e.split("&"),i=0,o=n.length;i<o;i++){var r=n[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(e)return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(n):e.value})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n),t=(e=i?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;var f,d=n(2),h=n(30),p=n(15),n=(t.protocol=5,(n=f=t.PacketType||(t.PacketType={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",c(g,[{key:"encode",value:function(e){return e.type!==f.EVENT&&e.type!==f.ACK||!p.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===f.EVENT?f.BINARY_EVENT:f.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==f.BINARY_EVENT&&e.type!==f.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}},{key:"encodeAsBinary",value:function(e){var e=h.deconstructPacket(e),t=this.encodeAsString(e.packet),e=e.buffers;return e.unshift(t),e}}]),g);function g(){u(this,g)}t.Encoder=n;var n=function(){var e=r,t=d;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t);var n=a(r);function r(){return u(this,r),n.call(this)}return c(r,[{key:"add",value:function(e){var t;if("string"==typeof e)(t=this.decodeString(e)).type===f.BINARY_EVENT||t.type===f.BINARY_ACK?(this.reconstructor=new m(t),0===t.attachments&&i(l(r.prototype),"emit",this).call(this,"decoded",t)):i(l(r.prototype),"emit",this).call(this,"decoded",t);else{if(!p.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,i(l(r.prototype),"emit",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,n={type:Number(e.charAt(0))};if(void 0===f[n.type])throw new Error("unknown packet type "+n.type);if(n.type===f.BINARY_EVENT||n.type===f.BINARY_ACK){for(var i=t+1;"-"!==e.charAt(++t)&&t!=e.length;);i=e.substring(i,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){for(i=t+1;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(i,t)}else n.nsp="/";i=e.charAt(t+1);if(""!==i&&Number(i)==i){for(i=t+1;++t;){var o=e.charAt(t);if(null==o||Number(o)!=o){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){i=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!r.isPayloadValid(n.type,i))throw new Error("invalid payload");n.data=i}return n}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case f.CONNECT:return"object"===o(t);case f.DISCONNECT:return void 0===t;case f.CONNECT_ERROR:return"string"==typeof t||"object"===o(t);case f.EVENT:case f.BINARY_EVENT:return Array.isArray(t)&&0<t.length;case f.ACK:case f.BINARY_ACK:return Array.isArray(t)}}}]),r}(),m=(t.Decoder=n,c(v,[{key:"takeBinaryData",value:function(e){return this.buffers.push(e),this.buffers.length===this.reconPack.attachments?(e=h.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),e):null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),v);function v(e){u(this,v),this.packet=e,this.buffers=[],this.reconPack=e}},function(e,t){var l=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,u=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var o,r=l.exec(e||""),s={},a=14;a--;)s[u[a]]=r[a]||"";return-1!=n&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=(e=s.path,n=e.replace(/\/{2,9}/g,"/").split("/"),"/"!=e.substr(0,1)&&0!==e.length||n.splice(0,1),"/"==e.substr(e.length-1,1)&&n.splice(n.length-1,1),n),s.queryKey=(i=s.query,o={},i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(o[t]=n)}),o),s}},function(e,t,n){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n),t=(e=i?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var c=n(20),f=n(3),d=n(14),h=n(6),p=n(16),g=n(31),n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e);var o=l(r);function r(e,t){var n;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");(n=o.call(this)).nsps={},n.subs=[],e&&"object"===s(e)&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",n.opts=t,(0,f.installTimerFunctions)(u(n),t),n.reconnection(!1!==t.reconnection),n.reconnectionAttempts(t.reconnectionAttempts||1/0),n.reconnectionDelay(t.reconnectionDelay||1e3),n.reconnectionDelayMax(t.reconnectionDelayMax||5e3),n.randomizationFactor(null!=(i=t.randomizationFactor)?i:.5),n.backoff=new g({min:n.reconnectionDelay(),max:n.reconnectionDelayMax(),jitter:n.randomizationFactor()}),n.timeout(null==t.timeout?2e4:t.timeout),n._readyState="closed",n.uri=e;var i=t.parser||h;return n.encoder=new i.Encoder,n.decoder=new i.Decoder,n._autoConnect=!1!==t.autoConnect,n._autoConnect&&n.open(),n}return i(r.prototype,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null!=(t=this.backoff)&&t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null!=(t=this.backoff)&&t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null!=(t=this.backoff)&&t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var n=this;if(~this._readyState.indexOf("open"))return this;this.engine=c(this.uri,this.opts);var e,i,o=this.engine,r=this,s=(this._readyState="opening",(this.skipReconnect=!1,p.on)(o,"open",function(){r.onopen(),t&&t()})),a=(0,p.on)(o,"error",function(e){r.cleanup(),r._readyState="closed",n.emitReserved("error",e),t?t(e):r.maybeReconnectOnOpen()});return!1!==this._timeout&&(0===(e=this._timeout)&&s(),i=this.setTimeoutFn(function(){s(),o.close(),o.emit("error",new Error("timeout"))},e),this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})),this.subs.push(s),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push((0,p.on)(e,"ping",this.onping.bind(this)),(0,p.on)(e,"data",this.ondata.bind(this)),(0,p.on)(e,"error",this.onerror.bind(this)),(0,p.on)(e,"close",this.onclose.bind(this)),(0,p.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new d.Socket(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var i=n[t];if(this.nsps[i].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach(function(e){return e()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e,n,i=this;this.backoff.attempts>=this._reconnectionAttempts?(this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1):(e=this.backoff.duration(),this._reconnecting=!0,n=this.setTimeoutFn(function(){i.skipReconnect||(t.emitReserved("reconnect_attempt",i.backoff.attempts),i.skipReconnect||i.open(function(e){e?(i._reconnecting=!1,i.reconnect(),t.emitReserved("reconnect_error",e)):i.onreconnect()}))},e),this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)}))}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(n(17).StrictEventEmitter);t.Manager=n},function(e,t,n){var s=n(10),a=n(23),l=n(27),n=n(28);t.polling=function(e){var t,n,i=!1,o=!1,r=!1!==e.jsonp;if("undefined"!=typeof location&&(t="https:"===location.protocol,n=(n=location.port)||(t?443:80),i=e.hostname!==location.hostname||n!==e.port,o=e.secure!==t),e.xdomain=i,e.xscheme=o,"open"in new s(e)&&!e.forceJSONP)return new a(e);if(r)return new l(e);throw new Error("JSONP disabled")},t.websocket=n},function(e,t,n){var o=n(22),r=n(0);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||o))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new r[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(e){}}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u(n);return l(this,i?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");t=e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n(4),f=n(5),d=n(1),h=n(13),n=function(){var e=i,t=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t);var n=a(i);function i(){return o(this,i),n.apply(this,arguments)}return r(i.prototype,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){function t(){i.readyState="paused",e()}var n,i=this;this.readyState="pausing";this.polling||!this.writable?(n=0,this.polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))):t()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;d.decodePayload(e,this.socket.binaryType).forEach(function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){function e(){t.write([{type:"close"}])}var t=this;"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(e){var t=this;this.writable=!1,d.encodePayload(e,function(e){t.doWrite(e,function(){t.writable=!0,t.emit("drain")})})}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=h()),this.supportsBinary||e.sid||(e.b64=1),e=f.encode(e),this.opts.port&&("https"==t&&443!==Number(this.opts.port)||"http"==t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}}]),i}();e.exports=n},function(e,t){var n=Object.create(null),i=(n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6",Object.create(null));Object.keys(n).forEach(function(e){i[n[e]]=e}),e.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:i,ERROR_PACKET:{type:"error",data:"parser error"}}},function(e,t,n){var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r={},s=0,a=0;function l(e){for(var t="";t=o[e%64]+t,0<(e=Math.floor(e/64)););return t}function u(){var e=l(+new Date);return e!==i?(s=0,i=e):e+"."+l(s++)}for(;a<64;a++)r[o[a]]=a;u.encode=l,u.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+r[e.charAt(a)];return t},e.exports=u},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(e)return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(n):e.value})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(n),t=(e=i?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var f=n(6),d=n(16),n=n(17),h=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e);var o=u(r);function r(e,t,n){var i;if(this instanceof r)return(i=o.call(this)).connected=!1,i.disconnected=!0,i.receiveBuffer=[],i.sendBuffer=[],i.ids=0,i.acks={},i.flags={},i.io=e,i.nsp=t,n&&n.auth&&(i.auth=n.auth),i.io._autoConnect&&i.open(),i;throw new TypeError("Cannot call a class as a function")}return i(r.prototype,[{key:"subEvents",value:function(){var e;this.subs||(e=this.io,this.subs=[(0,d.on)(e,"open",this.onopen.bind(this)),(0,d.on)(e,"packet",this.onpacket.bind(this)),(0,d.on)(e,"error",this.onerror.bind(this)),(0,d.on)(e,"close",this.onclose.bind(this))])}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(h.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.unshift(e);var e={type:f.PacketType.EVENT,data:n,options:{}},o=(e.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]&&(this.acks[this.ids]=n.pop(),e.id=this.ids++),this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable);return this.flags.volatile&&(!o||!this.connected)||(this.connected?this.packet(e):this.sendBuffer.push(e)),this.flags={},this}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth(function(e){t.packet({type:f.PacketType.CONNECT,data:e})}):this.packet({type:f.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case f.PacketType.CONNECT:e.data&&e.data.sid?(t=e.data.sid,this.onconnect(t)):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case f.PacketType.EVENT:case f.PacketType.BINARY_EVENT:this.onevent(e);break;case f.PacketType.ACK:case f.PacketType.BINARY_ACK:this.onack(e);break;case f.PacketType.DISCONNECT:this.ondisconnect();break;case f.PacketType.CONNECT_ERROR:var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,n=function(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e){if(e){if("string"==typeof e)return a(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw o}}}}(this._anyListeners.slice());try{for(n.s();!(t=n.n()).done;)t.value.apply(this,e)}catch(e){n.e(e)}finally{n.f()}}s(c(r.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(i){var o=this,r=!1;return function(){if(!r){r=!0;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.packet({type:f.PacketType.ACK,id:i,data:t})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach(function(e){return t.emitEvent(e)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(e){return t.packet(e)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(e){return e()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:f.PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),r}(n.StrictEventEmitter);t.Socket=n},function(e,t,n){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;var i="function"==typeof ArrayBuffer,o=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);function l(e){return i&&(e instanceof ArrayBuffer||(t=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer))||r&&e instanceof Blob||a&&e instanceof File;var t}t.isBinary=l,t.hasBinary=function e(t,n){if(!t||"object"!==s(t))return!1;if(Array.isArray(t)){for(var i=0,o=t.length;i<o;i++)if(e(t[i]))return!0;return!1}if(l(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(e)return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(n):e.value})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u(n),t=(e=i?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.StrictEventEmitter=void 0;n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e);var n=l(r);function r(){var e=this,t=r;if(e instanceof t)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return i(r.prototype,[{key:"on",value:function(e,t){return s(u(r.prototype),"on",this).call(this,e,t),this}},{key:"once",value:function(e,t){return s(u(r.prototype),"once",this).call(this,e,t),this}},{key:"emit",value:function(e){for(var t,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(t=s(u(r.prototype),"emit",this)).call.apply(t,[this,e].concat(i)),this}},{key:"emitReserved",value:function(e){for(var t,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(t=s(u(r.prototype),"emit",this)).call.apply(t,[this,e].concat(i)),this}},{key:"listeners",value:function(e){return s(u(r.prototype),"listeners",this).call(this,e)}}]),r}(n(2));t.StrictEventEmitter=n},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.io=t.Socket=t.Manager=t.protocol=void 0;var s=n(19),a=n(8),l=(e.exports=t=i,t.managers={});function i(e,t){"object"===r(e)&&(t=e,e=void 0);var e=(0,s.url)(e,(t=t||{}).path||"/socket.io"),n=e.source,i=e.id,o=e.path,o=l[i]&&o in l[i].nsps,o=t.forceNew||t["force new connection"]||!1===t.multiplex||o?new a.Manager(n,t):(l[i]||(l[i]=new a.Manager(n,t)),l[i]);return e.query&&!t.query&&(t.query=e.queryKey),o.socket(e.path,t)}t.io=i;var o=n(6),u=(Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return o.protocol}}),t.connect=i,n(8)),c=(Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return u.Manager}}),n(14));Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return c.Socket}}),t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;var o=n(7);t.url=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=e,i=(2<arguments.length?arguments[2]:void 0)||"undefined"!=typeof location&&location;"string"==typeof(e=null==e?i.protocol+"//"+i.host:e)&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?i.protocol+e:i.host+e),/^(https?|wss?):\/\//.test(e)||(e=i.protocol+"//"+e),n=o(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";e=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+e+":"+n.port+t,n.href=n.protocol+"://"+e+(i&&i.port===n.port?"":":"+n.port),n}},function(e,t,n){var i=n(21);e.exports=function(e,t){return new i(e,t)},e.exports.Socket=i,e.exports.protocol=i.protocol,e.exports.Transport=n(4),e.exports.transports=n(9),e.exports.parser=n(1)},function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f(n);return c(this,i?(e=f(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=n(9),p=n(2),g=n(1),m=n(7),v=n(5),y=n(3).installTimerFunctions,n=function(){var e=f,t=p;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t);var i=u(f);function f(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,f),t=i.call(this),e&&"object"===r(e)&&(n=e,e=null),e?(e=m(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=m(n.host).host),y(d(t),n),t.secure=null!=n.secure?n.secure:"undefined"!=typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=t.secure?"443":"80"),t.hostname=n.hostname||("undefined"!=typeof location?location.hostname:"localhost"),t.port=n.port||("undefined"!=typeof location&&location.port?location.port:t.secure?443:80),t.transports=n.transports||["polling","websocket"],t.readyState="",t.writeBuffer=[],t.prevBufferLen=0,t.opts=o({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),t.opts.path=t.opts.path.replace(/\/$/,"")+"/","string"==typeof t.opts.query&&(t.opts.query=v.decode(t.opts.query)),t.id=null,t.upgrades=null,t.pingInterval=null,t.pingTimeout=null,t.pingTimeoutTimer=null,"function"==typeof addEventListener&&(t.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){t.transport&&(t.transport.removeAllListeners(),t.transport.close())},!1),"localhost"!==t.hostname&&(t.offlineEventListener=function(){t.onClose("transport close")},addEventListener("offline",t.offlineEventListener,!1))),t.open(),t}return a(f.prototype,[{key:"createTransport",value:function(e){var t=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(this.opts.query),t=(t.EIO=g.protocol,t.transport=e,this.id&&(t.sid=this.id),o({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port}));return new h[e](t)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(function(){t.emit("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),(this.transport=e).on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(){t.onClose("transport close")})}},{key:"probe",value:function(e){var t=this,n=this.createTransport(e,{probe:1}),i=!1,o=(f.priorWebsocketSuccess=!1,function(){i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",function(e){i||("pong"===e.type&&"probe"===e.data?(t.upgrading=!0,t.emit("upgrading",n),n&&(f.priorWebsocketSuccess="websocket"===n.name,t.transport.pause(function(){i||"closed"!==t.readyState&&(c(),t.setTransport(n),n.send([{type:"upgrade"}]),t.emit("upgrade",n),n=null,t.upgrading=!1,t.flush())}))):((e=new Error("probe error")).transport=n.name,t.emit("upgradeError",e)))}))});function r(){i||(i=!0,c(),n.close(),n=null)}var s=function(e){e=new Error("probe error: "+e);e.transport=n.name,r(),t.emit("upgradeError",e)};function a(){s("transport closed")}function l(){s("socket closed")}function u(e){n&&e.name!==n.name&&r()}var c=function(){n.removeListener("open",o),n.removeListener("error",s),n.removeListener("close",a),t.removeListener("close",l),t.removeListener("upgrading",u)};n.once("open",o),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",u),n.open()}},{key:"onOpen",value:function(){if(this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("ping"),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}}},{key:"onHandshake",value:function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){e.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,i){"function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState&&((n=n||{}).compress=!1!==n.compress,this.emit("packetCreate",e={type:e,data:t,options:n}),this.writeBuffer.push(e),i&&this.once("flush",i),this.flush())}},{key:"close",value:function(){function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),i()}function t(){n.once("upgrade",e),n.once("upgradeError",e)}var n=this,i=function(){n.onClose("forced close"),n.transport.close()};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){(n.upgrading?t:i)()}):(this.upgrading?t:i)()),this}},{key:"onError",value:function(e){f.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingIntervalTimer),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),f}();n.priorWebsocketSuccess=!1,n.protocol=g.protocol,e.exports=n},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(n);return f(this,i?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function f(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(10),g=n(11),m=n(2),v=n(3),y=v.pick,D=v.installTimerFunctions,v=n(0);function _(){}var b,C,M=null!=new p({xdomain:!1}).responseType,n=(l(I,g),C=c(I),a(I,[{key:"request",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return o(e,{xd:this.xd,xs:this.xs},this.opts),new w(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,e=this.request({method:"POST",data:e});e.on("success",t),e.on("error",function(e){n.onError("xhr post error",e)})}},{key:"doPoll",value:function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e}}]),I),w=(l(A,m),b=c(A),a(A,[{key:"create",value:function(){var e=this,t=y(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref"),n=(t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs,this.xhr=new p(t));try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}catch(e){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),this.hasXDR()?(n.onload=function(){e.onLoad()},n.onerror=function(){e.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?e.onLoad():e.setTimeoutFn(function(){e.onError("number"==typeof n.status?n.status:0)},0))},n.send(this.data)}catch(t){return void this.setTimeoutFn(function(){e.onError(t)},0)}"undefined"!=typeof document&&(this.index=A.requestsCount++,A.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=_:this.xhr.onreadystatechange=_,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete A.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"hasXDR",value:function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}},{key:"abort",value:function(){this.cleanup()}}]),A);function A(e,t){var n;return r(this,A),n=b.call(this),D(d(n),t),n.opts=t,n.method=t.method||"GET",n.uri=e,n.async=!1!==t.async,n.data=void 0!==t.data?t.data:null,n.create(),n}function I(e){r(this,I),t=C.call(this,e),"undefined"!=typeof location&&(n="https:"===location.protocol,i=(i=location.port)||(n?443:80),t.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port,t.xs=e.secure!==n);var t,n,i=e&&e.forceBase64;return t.supportsBinary=M&&!i,t}function k(){for(var e in w.requests)w.requests.hasOwnProperty(e)&&w.requests[e].abort()}w.requestsCount=0,w.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",k):"function"==typeof addEventListener&&addEventListener("onpagehide"in v?"pagehide":"unload",k,!1)),e.exports=n,e.exports.Request=w},function(e,t,n){function r(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)}var s=n(12).PACKET_TYPES,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),l="function"==typeof ArrayBuffer;e.exports=function(e,t,n){var i,o=e.type,e=e.data;return a&&e instanceof Blob?t?n(e):r(e,n):l&&(e instanceof ArrayBuffer||(i=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?t?n(e instanceof ArrayBuffer?e:e.buffer):r(new Blob([e]),n):n(s[o]+(e||""))}},function(e,t,n){function i(e,t){var n;return r?(n=r.decode(e),o(n,t)):{base64:!0,data:e}}function o(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e}var r,s=n(12),a=s.PACKET_TYPES_REVERSE,l=s.ERROR_PACKET;"function"==typeof ArrayBuffer&&(r=n(26));e.exports=function(e,t){if("string"!=typeof e)return{type:"message",data:o(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:i(e.substring(1),t)}:a[n]?1<e.length?{type:a[n],data:e.substring(1)}:{type:a[n]}:l}},function(e,t){var c;c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.encode=function(e){for(var t=new Uint8Array(e),n=t.length,i="",o=0;o<n;o+=3)i=(i=(i=(i+=c[t[o]>>2])+c[(3&t[o])<<4|t[o+1]>>4])+c[(15&t[o+1])<<2|t[o+2]>>6])+c[63&t[o+2]];return n%3==2?i=i.substring(0,i.length-1)+"=":n%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){for(var t,n,i,o,r=.75*e.length,s=e.length,a=0,r=("="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--),new ArrayBuffer(r)),l=new Uint8Array(r),u=0;u<s;u+=4)t=c.indexOf(e[u]),n=c.indexOf(e[u+1]),i=c.indexOf(e[u+2]),o=c.indexOf(e[u+3]),l[a++]=t<<2|n>>4,l[a++]=(15&n)<<4|i>>2,l[a++]=(3&i)<<6|63&o;return r}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(e)return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(n):e.value})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(n);return l(this,i?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f,d=n(11),h=n(0),p=/\n/g,g=/\\n/g,n=function(){var e=i,t=d;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t);var n=a(i);function i(e){if(this instanceof i)return(e=n.call(this,e)).query=e.query||{},f=f||(h.___eio=h.___eio||[]),e.index=f.length,f.push(e.onData.bind(u(e))),e.query.j=e.index,e;throw new TypeError("Cannot call a class as a function")}return o(i.prototype,[{key:"supportsBinary",get:function(){return!1}},{key:"doClose",value:function(){this.script&&(this.script.onerror=function(){},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r(c(i.prototype),"doClose",this).call(this)}},{key:"doPoll",value:function(){var t=this,e=document.createElement("script"),n=(this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)},document.getElementsByTagName("script")[0]);n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&this.setTimeoutFn(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)}},{key:"doWrite",value:function(e,t){var n,i,o,r,s=this;function a(){l(),t()}this.form||(i=document.createElement("form"),o=document.createElement("textarea"),r=this.iframeId="eio_iframe_"+this.index,i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=r,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o),this.form.action=this.uri();var l=function(){if(s.iframe)try{s.form.removeChild(s.iframe)}catch(e){s.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+s.iframeId+'">';n=document.createElement(e)}catch(e){(n=document.createElement("iframe")).name=s.iframeId,n.src="javascript:0"}n.id=s.iframeId,s.form.appendChild(n),s.iframe=n};l(),e=e.replace(g,"\\\n"),this.area.value=e.replace(p,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===s.iframe.readyState&&a()}:this.iframe.onload=a}}]),i}();e.exports=n},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return a(this,i?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function a(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");t=e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(4),c=n(1),f=n(5),d=n(13),h=n(3).pick,n=n(29),p=n.WebSocket,g=n.usingBrowserWebSocket,m=n.defaultBinaryType,v=n.nextTick,y="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),n=function(){var e=i,t=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t);var n=s(i);function i(e){var t;if(this instanceof i)return(t=n.call(this,e)).supportsBinary=!e.forceBase64,t;throw new TypeError("Cannot call a class as a function")}return o(i.prototype,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=y?{}:h(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=g&&!y?t?new p(e,t):new p(e):new p(e,t,n)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||m,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(t){var o=this;this.writable=!1;for(var e=0;e<t.length;e++)!function(e){var n=t[e],i=e===t.length-1;c.encodePacket(n,o.supportsBinary,function(e){var t={};g||(n.options&&(t.compress=n.options.compress),o.opts.perMessageDeflate&&("string"==typeof e?Buffer.byteLength(e):e.length)<o.opts.perMessageDeflate.threshold&&(t.compress=!1));try{g?o.ws.send(e):o.ws.send(e,t)}catch(e){}i&&v(function(){o.writable=!0,o.emit("drain")},o.setTimeoutFn)})}(e)}},{key:"onClose",value:function(){u.prototype.onClose.call(this)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";return this.opts.port&&("wss"==t&&443!==Number(this.opts.port)||"ws"==t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=d()),this.supportsBinary||(e.b64=1),(e=f.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},{key:"check",value:function(){return!(!p||"__initialize"in p&&this.name===i.prototype.name)}}]),i}();e.exports=n},function(e,t,n){var n=n(0),i="function"==typeof Promise&&"function"==typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)};e.exports={WebSocket:n.WebSocket||n.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer",nextTick:i}},function(e,t,n){function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;var u=n(15);t.deconstructPacket=function(e){var t=[],n=e.data;return e.data=function e(t,n){if(!t)return t;var i;if(u.isBinary(t))return i={_placeholder:!0,num:n.length},n.push(t),i;if(Array.isArray(t)){for(var o=new Array(t.length),r=0;r<t.length;r++)o[r]=e(t[r],n);return o}if("object"!==l(t)||t instanceof Date)return t;var s,a={};for(s in t)t.hasOwnProperty(s)&&(a[s]=e(t[s],n));return a}(n,t),e.attachments=t.length,{packet:e,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],n);else if("object"===l(t))for(var o in t)t.hasOwnProperty(o)&&(t[o]=e(t[o],n));return t}(e.data,t),e.attachments=void 0,e}},function(e,t){function n(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(e.exports=n).prototype.duration=function(){var e,t,n=this.ms*Math.pow(this.factor,this.attempts++);return this.jitter&&(e=Math.random(),t=Math.floor(e*this.jitter*n),n=0==(1&Math.floor(10*e))?n-t:n+t),0|Math.min(n,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}],i={},o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=18);function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,i});var releasebtn,reconnectbtn,reconnectbtnimg,releasebtnimg,drawbtn,drawbtnimg,erasebtn,erasebtnimg,colorbtn,colorbtnimg,stopbtn,stopbtnimg,voffbtn,voffbtnimg,vonbtn,vonbtnimg,prevDrawX,prevDrawY,noControlImage="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MHB4IiBoZWlnaHQ9IjUwcHgiPjxwYXRoIGQ9Ik0gOSAzIEMgNi4yNTM5MDYgMyA0IDUuMjUzOTA2IDQgOCBMIDQgMzQgQyA0IDM2Ljc0NjA5NCA2LjI1MzkwNiAzOSA5IDM5IEwgMTIuOTE3OTY5IDM5IEMgMTIuODk4NDM4IDQwLjEyMTA5NCAxMi45MDYyNSA0MS4yNjE3MTkgMTIuNjU2MjUgNDIuMTkxNDA2IEMgMTIuMzMyMDMxIDQzLjQxNDA2MyAxMS43NjE3MTkgNDQuMzc4OTA2IDEwLjQ4NDM3NSA0NS4xNDA2MjUgQyAxMC4xMDE1NjMgNDUuMzc1IDkuOTE3OTY5IDQ1LjgzMjAzMSAxMC4wMzkwNjMgNDYuMjY1NjI1IEMgMTAuMTU2MjUgNDYuNjk5MjE5IDEwLjU1MDc4MSA0NyAxMSA0NyBDIDE1LjIzODI4MSA0NyAxOS40MTQwNjMgNDQuNzIyNjU2IDIxLjYxMzI4MSAzOSBMIDQxIDM5IEMgNDMuNzQ2MDk0IDM5IDQ2IDM2Ljc0NjA5NCA0NiAzNCBMIDQ2IDggQyA0NiA1LjI1MzkwNiA0My43NDYwOTQgMyA0MSAzIFogTSA5IDUgTCA0MSA1IEMgNDIuNjU2MjUgNSA0NCA2LjM0Mzc1IDQ0IDggTCA0NCAzNCBDIDQ0IDM1LjY1NjI1IDQyLjY1NjI1IDM3IDQxIDM3IEwgMjEgMzcgQyAyMC41NzAzMTMgMzcgMjAuMTg3NSAzNy4yNzM0MzggMjAuMDUwNzgxIDM3LjY4MzU5NCBDIDE4LjYxNzE4OCA0MS45ODA0NjkgMTYuMzQzNzUgNDMuOTUzMTI1IDEzLjY4NzUgNDQuNjY0MDYzIEMgMTQuMDgyMDMxIDQ0LjAzOTA2MyAxNC40MTAxNTYgNDMuMzg2NzE5IDE0LjU5Mzc1IDQyLjcwNzAzMSBDIDE1LjAxNTYyNSA0MS4xMjg5MDYgMTUgMzkuNSAxNSAzOCBDIDE1IDM3LjQ0OTIxOSAxNC41NTA3ODEgMzcgMTQgMzcgTCA5IDM3IEMgNy4zNDM3NSAzNyA2IDM1LjY1NjI1IDYgMzQgTCA2IDggQyA2IDYuMzQzNzUgNy4zNDM3NSA1IDkgNSBaIE0gMTQuNDI5Njg4IDkgTCAxMyAxMC40Mjk2ODggTCAxNS4xNDA2MjUgMTQgTCAxNi41ODU5MzggMTQgTCAyMS4xMDkzNzUgMTguNTI3MzQ0IEwgMjIuNTI3MzQ0IDE3LjEwOTM3NSBMIDE4IDEyLjU4NTkzOCBMIDE4IDExLjE0MDYyNSBaIE0gMzEgOSBDIDI3LjY4NzUgOSAyNSAxMS42ODc1IDI1IDE1IEMgMjUgMTUuNzM0Mzc1IDI1LjE0MDYyNSAxNi40Mzc1IDI1LjM3ODkwNiAxNy4wODU5MzggTCAxMy43MzQzNzUgMjguNzM0Mzc1IEMgMTMuNjE3MTg4IDI4Ljg0NzY1NiAxMy41MTE3MTkgMjguOTc2NTYzIDEzLjQyMTg3NSAyOS4xMTMyODEgQyAxMy4zODI4MTMgMjkuMTc1NzgxIDEzLjM1MTU2MyAyOS4yNDIxODggMTMuMzE2NDA2IDI5LjMwODU5NCBDIDEzLjI3MzQzOCAyOS4zODI4MTMgMTMuMjI2NTYzIDI5LjQ2MDkzOCAxMy4xOTE0MDYgMjkuNTQyOTY5IEMgMTMuMTU2MjUgMjkuNjI1IDEzLjEzNjcxOSAyOS43MTA5MzggMTMuMTA5Mzc1IDI5Ljc5Njg3NSBDIDEzLjA4OTg0NCAyOS44NjcxODggMTMuMDYyNSAyOS45Mzc1IDEzLjA0Njg3NSAzMC4wMTE3MTkgQyAxMi45ODQzNzUgMzAuMzMyMDMxIDEyLjk4NDM3NSAzMC42NjQwNjMgMTMuMDQ2ODc1IDMwLjk4ODI4MSBDIDEzLjA2MjUgMzEuMDYyNSAxMy4wODk4NDQgMzEuMTI4OTA2IDEzLjEwOTM3NSAzMS4yMDMxMjUgQyAxMy4xMzY3MTkgMzEuMjg1MTU2IDEzLjE1NjI1IDMxLjM3NSAxMy4xOTE0MDYgMzEuNDUzMTI1IEMgMTMuMjI2NTYzIDMxLjUzOTA2MyAxMy4yNjk1MzEgMzEuNjEzMjgxIDEzLjMxMjUgMzEuNjg3NSBDIDEzLjM0NzY1NiAzMS43NTM5MDYgMTMuMzc4OTA2IDMxLjgyMDMxMyAxMy40MjE4NzUgMzEuODg2NzE5IEMgMTMuNjA1NDY5IDMyLjE2MDE1NiAxMy44Mzk4NDQgMzIuMzk0NTMxIDE0LjExMzI4MSAzMi41NzgxMjUgQyAxNC4xNzU3ODEgMzIuNjE3MTg4IDE0LjI0MjE4OCAzMi42NDg0MzggMTQuMzA4NTk0IDMyLjY4MzU5NCBDIDE0LjM4NjcxOSAzMi43MjY1NjMgMTQuNDYwOTM4IDMyLjc3MzQzOCAxNC41NDY4NzUgMzIuODA4NTk0IEMgMTQuNjI4OTA2IDMyLjg0Mzc1IDE0LjcxNDg0NCAzMi44NjMyODEgMTQuNzk2ODc1IDMyLjg4NjcxOSBDIDE0Ljg3MTA5NCAzMi45MDYyNSAxNC45Mzc1IDMyLjkzMzU5NCAxNS4wMTE3MTkgMzIuOTQ5MjE5IEMgMTUuMzM1OTM4IDMzLjAxMTcxOSAxNS42Njc5NjkgMzMuMDExNzE5IDE1Ljk4ODI4MSAzMi45NDkyMTkgQyAxNi4wNjI1IDMyLjkzMzU5NCAxNi4xMzI4MTMgMzIuOTA2MjUgMTYuMjAzMTI1IDMyLjg4NjcxOSBDIDE2LjI4OTA2MyAzMi44NjMyODEgMTYuMzc1IDMyLjg0Mzc1IDE2LjQ1NzAzMSAzMi44MDg1OTQgQyAxNi41MzkwNjMgMzIuNzczNDM4IDE2LjYxNzE4OCAzMi43MjY1NjMgMTYuNjkxNDA2IDMyLjY4MzU5NCBDIDE2Ljc1NzgxMyAzMi42NDg0MzggMTYuODI0MjE5IDMyLjYxNzE4OCAxNi44ODY3MTkgMzIuNTc4MTI1IEMgMTcuMDIzNDM4IDMyLjQ4NDM3NSAxNy4xNTIzNDQgMzIuMzgyODEzIDE3LjI2NTYyNSAzMi4yNjU2MjUgTCAyOC45MTQwNjMgMjAuNjIxMDk0IEMgMjkuNTYyNSAyMC44NTkzNzUgMzAuMjY1NjI1IDIxIDMxIDIxIEMgMzQuMzEyNSAyMSAzNyAxOC4zMTI1IDM3IDE1IEMgMzcgMTQuMDc0MjE5IDM2Ljc4NTE1NiAxMy4xOTkyMTkgMzYuNDEwMTU2IDEyLjQxNzk2OSBMIDMxLjkxNDA2MyAxNi45MTQwNjMgTCAyOS4wODU5MzggMTQuMDg1OTM4IEwgMzMuNTgyMDMxIDkuNTg5ODQ0IEMgMzIuODAwNzgxIDkuMjE0ODQ0IDMxLjkyNTc4MSA5IDMxIDkgWiBNIDI5Ljk0OTIxOSAyMi40MTQwNjMgTCAyNi40MTQwNjMgMjUuOTUzMTI1IEwgMzIuNzM0Mzc1IDMyLjI2OTUzMSBDIDMyLjg0NzY1NiAzMi4zODY3MTkgMzIuOTc2NTYzIDMyLjQ4ODI4MSAzMy4xMTMyODEgMzIuNTc4MTI1IEMgMzMuMTc1NzgxIDMyLjYyMTA5NCAzMy4yNDIxODggMzIuNjUyMzQ0IDMzLjMwODU5NCAzMi42ODc1IEMgMzMuMzgyODEzIDMyLjczMDQ2OSAzMy40NjA5MzggMzIuNzc3MzQ0IDMzLjU0Mjk2OSAzMi44MTI1IEMgMzMuNjI1IDMyLjg0Mzc1IDMzLjcxMDkzOCAzMi44NjMyODEgMzMuNzk2ODc1IDMyLjg5MDYyNSBDIDMzLjg2NzE4OCAzMi45MTAxNTYgMzMuOTM3NSAzMi45Mzc1IDM0LjAxMTcxOSAzMi45NTMxMjUgQyAzNC4zMzIwMzEgMzMuMDE1NjI1IDM0LjY2NDA2MyAzMy4wMTU2MjUgMzQuOTg4MjgxIDMyLjk1MzEyNSBDIDM1LjA2MjUgMzIuOTM3NSAzNS4xMjg5MDYgMzIuOTEwMTU2IDM1LjIwMzEyNSAzMi44OTA2MjUgQyAzNS4yODUxNTYgMzIuODYzMjgxIDM1LjM3MTA5NCAzMi44NDM3NSAzNS40NTMxMjUgMzIuODEyNSBDIDM1LjUzOTA2MyAzMi43NzczNDQgMzUuNjEzMjgxIDMyLjczMDQ2OSAzNS42OTE0MDYgMzIuNjg3NSBDIDM1Ljc1NzgxMyAzMi42NTIzNDQgMzUuODI0MjE5IDMyLjYyMTA5NCAzNS44ODY3MTkgMzIuNTc4MTI1IEMgMzYuMTYwMTU2IDMyLjM5ODQzOCAzNi4zOTQ1MzEgMzIuMTYwMTU2IDM2LjU3ODEyNSAzMS44ODY3MTkgQyAzNi42MjEwOTQgMzEuODI0MjE5IDM2LjY0ODQzOCAzMS43NTc4MTMgMzYuNjg3NSAzMS42OTE0MDYgQyAzNi43MjY1NjMgMzEuNjEzMjgxIDM2Ljc3MzQzOCAzMS41MzkwNjMgMzYuODA4NTk0IDMxLjQ1MzEyNSBDIDM2Ljg0Mzc1IDMxLjM3MTA5NCAzNi44NjMyODEgMzEuMjg1MTU2IDM2Ljg5MDYyNSAzMS4yMDMxMjUgQyAzNi45MTAxNTYgMzEuMTI4OTA2IDM2LjkzNzUgMzEuMDYyNSAzNi45NTMxMjUgMzAuOTg4MjgxIEMgMzcuMDE1NjI1IDMwLjY2Nzk2OSAzNy4wMTU2MjUgMzAuMzM1OTM4IDM2Ljk1MzEyNSAzMC4wMTE3MTkgQyAzNi45Mzc1IDI5LjkzNzUgMzYuOTEwMTU2IDI5Ljg3MTA5NCAzNi44OTA2MjUgMjkuNzk2ODc1IEMgMzYuODYzMjgxIDI5LjcxNDg0NCAzNi44NDM3NSAyOS42Mjg5MDYgMzYuODA4NTk0IDI5LjU0Njg3NSBDIDM2Ljc3MzQzOCAyOS40NjA5MzggMzYuNzI2NTYzIDI5LjM4NjcxOSAzNi42ODM1OTQgMjkuMzA4NTk0IEMgMzYuNjQ4NDM4IDI5LjI0MjE4OCAzNi42MTcxODggMjkuMTc1NzgxIDM2LjU3ODEyNSAyOS4xMTMyODEgQyAzNi40ODQzNzUgMjguOTc2NTYzIDM2LjM4MjgxMyAyOC44NDc2NTYgMzYuMjY1NjI1IDI4LjczNDM3NSBaIi8+PC9zdmc+",releaseControlImage="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkgM0M2LjI1MzkxIDMgNCA1LjI1MzkxIDQgOFYzNEM0IDM2Ljc0NjEgNi4yNTM5MSAzOSA5IDM5SDEyLjkxOEMxMi44OTg0IDQwLjEyMTEgMTIuOTA2MiA0MS4yNjE3IDEyLjY1NjIgNDIuMTkxNEMxMi4zMzIgNDMuNDE0MSAxMS43NjE3IDQ0LjM3ODkgMTAuNDg0NCA0NS4xNDA2QzEwLjEwMTYgNDUuMzc1IDkuOTE3OTcgNDUuODMyIDEwLjAzOTEgNDYuMjY1NkMxMC4xNTYzIDQ2LjY5OTIgMTAuNTUwOCA0NyAxMSA0N0MxNS4yMzgzIDQ3IDE5LjQxNDEgNDQuNzIyNyAyMS42MTMzIDM5SDQxQzQzLjc0NjEgMzkgNDYgMzYuNzQ2MSA0NiAzNFY4QzQ2IDUuMjUzOTEgNDMuNzQ2MSAzIDQxIDNIOVpNOSA1SDQxQzQyLjY1NjIgNSA0NCA2LjM0Mzc1IDQ0IDhWMzRDNDQgMzUuNjU2MiA0Mi42NTYyIDM3IDQxIDM3SDIxQzIwLjU3MDMgMzcgMjAuMTg3NSAzNy4yNzM0IDIwLjA1MDggMzcuNjgzNkMxOC42MTcyIDQxLjk4MDUgMTYuMzQzOCA0My45NTMxIDEzLjY4NzUgNDQuNjY0MUMxNC4wODIgNDQuMDM5MSAxNC40MTAyIDQzLjM4NjcgMTQuNTkzOCA0Mi43MDdDMTUuMDE1NiA0MS4xMjg5IDE1IDM5LjUgMTUgMzhDMTUgMzcuNDQ5MiAxNC41NTA4IDM3IDE0IDM3SDlDNy4zNDM3NSAzNyA2IDM1LjY1NjIgNiAzNFY4QzYgNi4zNDM3NSA3LjM0Mzc1IDUgOSA1Wk0xNC40Mjk3IDlMMTMgMTAuNDI5N0wxNS4xNDA2IDE0SDE2LjU4NTlMMjEuMTA5NCAxOC41MjczTDIyLjUyNzMgMTcuMTA5NEwxOCAxMi41ODU5VjExLjE0MDZMMTQuNDI5NyA5Wk0zMSA5QzI3LjY4NzUgOSAyNSAxMS42ODc1IDI1IDE1QzI1IDE1LjczNDQgMjUuMTQwNiAxNi40Mzc1IDI1LjM3ODkgMTcuMDg1OUwxMy43MzQ0IDI4LjczNDRDMTMuNjE3MiAyOC44NDc3IDEzLjUxMTcgMjguOTc2NiAxMy40MjE5IDI5LjExMzNDMTMuMzgyOCAyOS4xNzU4IDEzLjM1MTYgMjkuMjQyMiAxMy4zMTY0IDI5LjMwODZDMTMuMjczNCAyOS4zODI4IDEzLjIyNjYgMjkuNDYwOSAxMy4xOTE0IDI5LjU0M0MxMy4xNTYzIDI5LjYyNSAxMy4xMzY3IDI5LjcxMDkgMTMuMTA5NCAyOS43OTY5QzEzLjA4OTggMjkuODY3MiAxMy4wNjI1IDI5LjkzNzUgMTMuMDQ2OSAzMC4wMTE3QzEyLjk4NDQgMzAuMzMyIDEyLjk4NDQgMzAuNjY0MSAxMy4wNDY5IDMwLjk4ODNDMTMuMDYyNSAzMS4wNjI1IDEzLjA4OTggMzEuMTI4OSAxMy4xMDk0IDMxLjIwMzFDMTMuMTM2NyAzMS4yODUyIDEzLjE1NjMgMzEuMzc1IDEzLjE5MTQgMzEuNDUzMUMxMy4yMjY2IDMxLjUzOTEgMTMuMjY5NSAzMS42MTMzIDEzLjMxMjUgMzEuNjg3NUMxMy4zNDc3IDMxLjc1MzkgMTMuMzc4OSAzMS44MjAzIDEzLjQyMTkgMzEuODg2N0MxMy42MDU1IDMyLjE2MDIgMTMuODM5OCAzMi4zOTQ1IDE0LjExMzMgMzIuNTc4MUMxNC4xNzU4IDMyLjYxNzIgMTQuMjQyMiAzMi42NDg0IDE0LjMwODYgMzIuNjgzNkMxNC4zODY3IDMyLjcyNjYgMTQuNDYwOSAzMi43NzM0IDE0LjU0NjkgMzIuODA4NkMxNC42Mjg5IDMyLjg0MzcgMTQuNzE0OCAzMi44NjMzIDE0Ljc5NjkgMzIuODg2N0MxNC44NzExIDMyLjkwNjIgMTQuOTM3NSAzMi45MzM2IDE1LjAxMTcgMzIuOTQ5MkMxNS4zMzU5IDMzLjAxMTcgMTUuNjY4IDMzLjAxMTcgMTUuOTg4MyAzMi45NDkyQzE2LjA2MjUgMzIuOTMzNiAxNi4xMzI4IDMyLjkwNjIgMTYuMjAzMSAzMi44ODY3QzE2LjI4OTEgMzIuODYzMyAxNi4zNzUgMzIuODQzNyAxNi40NTcgMzIuODA4NkMxNi41MzkxIDMyLjc3MzQgMTYuNjE3MiAzMi43MjY2IDE2LjY5MTQgMzIuNjgzNkMxNi43NTc4IDMyLjY0ODQgMTYuODI0MiAzMi42MTcyIDE2Ljg4NjcgMzIuNTc4MUMxNy4wMjM0IDMyLjQ4NDQgMTcuMTUyMyAzMi4zODI4IDE3LjI2NTYgMzIuMjY1NkwyOC45MTQxIDIwLjYyMTFDMjkuNTYyNSAyMC44NTk0IDMwLjI2NTYgMjEgMzEgMjFDMzQuMzEyNSAyMSAzNyAxOC4zMTI1IDM3IDE1QzM3IDE0LjA3NDIgMzYuNzg1MiAxMy4xOTkyIDM2LjQxMDIgMTIuNDE4TDMxLjkxNDEgMTYuOTE0MUwyOS4wODU5IDE0LjA4NTlMMzMuNTgyIDkuNTg5ODRDMzIuODAwOCA5LjIxNDg0IDMxLjkyNTggOSAzMSA5Wk0yOS45NDkyIDIyLjQxNDFMMjYuNDE0MSAyNS45NTMxTDMyLjczNDQgMzIuMjY5NUMzMi44NDc3IDMyLjM4NjcgMzIuOTc2NiAzMi40ODgzIDMzLjExMzMgMzIuNTc4MUMzMy4xNzU4IDMyLjYyMTEgMzMuMjQyMiAzMi42NTIzIDMzLjMwODYgMzIuNjg3NUMzMy4zODI4IDMyLjczMDUgMzMuNDYwOSAzMi43NzczIDMzLjU0MyAzMi44MTI1QzMzLjYyNSAzMi44NDM4IDMzLjcxMDkgMzIuODYzMyAzMy43OTY5IDMyLjg5MDZDMzMuODY3MiAzMi45MTAyIDMzLjkzNzUgMzIuOTM3NSAzNC4wMTE3IDMyLjk1MzFDMzQuMzMyIDMzLjAxNTYgMzQuNjY0MSAzMy4wMTU2IDM0Ljk4ODMgMzIuOTUzMUMzNS4wNjI1IDMyLjkzNzUgMzUuMTI4OSAzMi45MTAyIDM1LjIwMzEgMzIuODkwNkMzNS4yODUyIDMyLjg2MzMgMzUuMzcxMSAzMi44NDM4IDM1LjQ1MzEgMzIuODEyNUMzNS41MzkxIDMyLjc3NzMgMzUuNjEzMyAzMi43MzA1IDM1LjY5MTQgMzIuNjg3NUMzNS43NTc4IDMyLjY1MjMgMzUuODI0MiAzMi42MjExIDM1Ljg4NjcgMzIuNTc4MUMzNi4xNjAyIDMyLjM5ODQgMzYuMzk0NSAzMi4xNjAyIDM2LjU3ODEgMzEuODg2N0MzNi42MjExIDMxLjgyNDIgMzYuNjQ4NCAzMS43NTc4IDM2LjY4NzUgMzEuNjkxNEMzNi43MjY2IDMxLjYxMzMgMzYuNzczNCAzMS41MzkxIDM2LjgwODYgMzEuNDUzMUMzNi44NDM3IDMxLjM3MTEgMzYuODYzMyAzMS4yODUyIDM2Ljg5MDYgMzEuMjAzMUMzNi45MTAyIDMxLjEyODkgMzYuOTM3NSAzMS4wNjI1IDM2Ljk1MzEgMzAuOTg4M0MzNy4wMTU2IDMwLjY2OCAzNy4wMTU2IDMwLjMzNTkgMzYuOTUzMSAzMC4wMTE3QzM2LjkzNzUgMjkuOTM3NSAzNi45MTAyIDI5Ljg3MTEgMzYuODkwNiAyOS43OTY5QzM2Ljg2MzMgMjkuNzE0OCAzNi44NDM3IDI5LjYyODkgMzYuODA4NiAyOS41NDY5QzM2Ljc3MzQgMjkuNDYwOSAzNi43MjY2IDI5LjM4NjcgMzYuNjgzNiAyOS4zMDg2QzM2LjY0ODQgMjkuMjQyMiAzNi42MTcyIDI5LjE3NTggMzYuNTc4MSAyOS4xMTMzQzM2LjQ4NDQgMjguOTc2NiAzNi4zODI4IDI4Ljg0NzcgMzYuMjY1NiAyOC43MzQ0TDI5Ljk0OTIgMjIuNDE0MVoiIGZpbGw9IiMwMDlEQUIiLz4KPC9zdmc+Cg==",pickColorImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB2aWV3Qm94PSIwIDAgNDggNDgiIHdpZHRoPSI0OHB4IiBoZWlnaHQ9IjQ4cHgiPjxwYXRoIGZpbGw9IiNlOTFlNjMiIGQ9Ik0yNCw0djIwTDE0LDYuNjgxTDI0LDR6Ii8+PHBhdGggZmlsbD0iI2ZmNTcyMiIgZD0iTTM0LDYuNjgxTDQxLjMxOSwxNEwyNCwyNEwzNCw2LjY4MXoiLz48cGF0aCBmaWxsPSIjZjQ0MzM2IiBkPSJNMjQsNGwxMCwyLjY4MUwyNCwyNFY0eiIvPjxwYXRoIGZpbGw9IiM4YmMzNGEiIGQ9Ik0yNCw0NFYyNGwxMCwxNy4zMTlMMjQsNDR6Ii8+PHBhdGggZmlsbD0iIzAzYTlmNCIgZD0iTTE0LDQxLjMxOUw2LjY4MSwzNEwyNCwyNEwxNCw0MS4zMTl6Ii8+PHBhdGggZmlsbD0iIzRjYWY1MCIgZD0iTTI0LDQ0bC0xMC0yLjY4MUwyNCwyNFY0NHoiLz48cGF0aCBmaWxsPSIjZmY5ODAwIiBkPSJNNDQsMjRIMjRsMTcuMzE5LTEwTDQ0LDI0eiIvPjxwYXRoIGZpbGw9IiNmZmViM2IiIGQ9Ik00MS4zMTksMzRMMzQsNDEuMzE5TDI0LDI0TDQxLjMxOSwzNHoiLz48cGF0aCBmaWxsPSIjZmZjMTA3IiBkPSJNNDQsMjRsLTIuNjgxLDEwTDI0LDI0SDQ0eiIvPjxwYXRoIGZpbGw9IiMzZjUxYjUiIGQ9Ik00LDI0aDIwTDYuNjgxLDM0TDQsMjR6Ii8+PHBhdGggZmlsbD0iIzljMjdiMCIgZD0iTTYuNjgxLDE0TDE0LDYuNjgxTDI0LDI0TDYuNjgxLDE0eiIvPjxwYXRoIGZpbGw9IiM2NzNhYjciIGQ9Ik00LDI0bDIuNjgxLTEwTDI0LDI0SDR6Ii8+PC9zdmc+",drawEnabledImage="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzUiIHZpZXdCb3g9IjAgMCAzMiAzNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZCkiPgo8cGF0aCBkPSJNMjMuODI4MSAzQzIzLjMxNjQgMyAyMi44MDQ2IDMuMTk1NDQgMjIuNDE0MSAzLjU4NTk0TDIxIDVMMjYgMTBMMjcuNDE0MSA4LjU4NTk0QzI4LjE5NTEgNy44MDQ5NCAyOC4xOTUxIDYuNTM4ODEgMjcuNDE0MSA1Ljc1NzgxTDI1LjI0MjIgMy41ODU5NEMyNC44NTE3IDMuMTk1NDQgMjQuMzM5OSAzIDIzLjgyODEgM1pNMTkgN0w3LjAwMDAxIDE5TDguNTAwMDEgMTkuNUw5LjAwMDAxIDIyTDExLjUgMjIuNUwxMiAyNEwyNCAxMkwxOSA3Wk01LjE1MjM1IDIzLjE1MjNMNC4wMzcxMSAyNi4zMDg2QzQuMDEyMyAyNi4zNjkzIDMuOTk5NyAyNi40MzQ0IDQuMDAwMDEgMjYuNUM0LjAwMDAxIDI2LjYzMjYgNC4wNTI2OCAyNi43NTk4IDQuMTQ2NDUgMjYuODUzNkM0LjI0MDIyIDI2Ljk0NzMgNC4zNjc0IDI3IDQuNTAwMDEgMjdDNC41NjIwOSAyNy4wMDAzIDQuNjIzNjkgMjYuOTg5IDQuNjgxNjUgMjYuOTY2OEw3Ljg0NzY2IDI1Ljg0NzdMNS4xNTIzNSAyMy4xNTIzWiIgZmlsbD0iIzAwOURBQiIvPgo8L2c+CjxkZWZzPgo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2QiIHg9Ii0zIiB5PSIwIiB3aWR0aD0iMzgiIGhlaWdodD0iMzgiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldCBkeT0iNCIvPgo8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIi8+CjxmZUNvbXBvc2l0ZSBpbjI9ImhhcmRBbHBoYSIgb3BlcmF0b3I9Im91dCIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8L2RlZnM+Cjwvc3ZnPgo=",drawDisabledImage="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+PHN2ZyBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB2aWV3Qm94PSIwIDAgMzAgMzAiIHdpZHRoPSIzMHB4IiBoZWlnaHQ9IjMwcHgiPiAgICA8cGF0aCBkPSJNIDIyLjgyODEyNSAzIEMgMjIuMzE2Mzc1IDMgMjEuODA0NTYyIDMuMTk1NDM3NSAyMS40MTQwNjIgMy41ODU5Mzc1IEwgMjAgNSBMIDI1IDEwIEwgMjYuNDE0MDYyIDguNTg1OTM3NSBDIDI3LjE5NTA2MiA3LjgwNDkzNzUgMjcuMTk1MDYyIDYuNTM4ODEyNSAyNi40MTQwNjIgNS43NTc4MTI1IEwgMjQuMjQyMTg4IDMuNTg1OTM3NSBDIDIzLjg1MTY4OCAzLjE5NTQzNzUgMjMuMzM5ODc1IDMgMjIuODI4MTI1IDMgeiBNIDE4IDcgTCA2IDE5IEwgNy41IDE5LjUgTCA4IDIyIEwgMTAuNSAyMi41IEwgMTEgMjQgTCAyMyAxMiBMIDE4IDcgeiBNIDQuMTUyMzQzOCAyMy4xNTIzNDQgTCAzLjAzNzEwOTQgMjYuMzA4NTk0IEEgMC41IDAuNSAwIDAgMCAzIDI2LjUgQSAwLjUgMC41IDAgMCAwIDMuNSAyNyBBIDAuNSAwLjUgMCAwIDAgMy42ODE2NDA2IDI2Ljk2Njc5NyBMIDYuODQ3NjU2MiAyNS44NDc2NTYgTCA0LjE1MjM0MzggMjMuMTUyMzQ0IHoiLz48L3N2Zz4=",eraserImage="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNyAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjY2NjkgMC4zNDM3NUMxMS4wNzg2IDAuMzQzNzUgMTAuNDkwOSAwLjU2NjY3OSAxMC4wNDU4IDEuMDExNzJMMS4wMTMyNiAxMC4wNDU2QzAuMTIzMTgzIDEwLjkzNTcgMC4xMjMxODMgMTIuMzk5IDEuMDEzMjYgMTMuMjg5MUw0LjA0NTgxIDE2LjMyMTZDNC40MzkyNyAxNi43MTUxIDQuOTQ1NDcgMTYuOTI0NSA1LjQ2Mzc4IDE2Ljk3MDFDNS41Mjk1NCAxNi45OTA1IDUuNTk4MDYgMTcuMDAwNiA1LjY2NjkxIDE3SDExLjAwMDJDMTEuMDg4NiAxNy4wMDEyIDExLjE3NjMgMTYuOTg0OSAxMS4yNTgzIDE2Ljk1MkMxMS4zNDAyIDE2LjkxOSAxMS40MTQ5IDE2Ljg3MDEgMTEuNDc3OCAxNi44MDgxQzExLjU0MDcgMTYuNzQ2MSAxMS41OTA2IDE2LjY3MjIgMTEuNjI0NyAxNi41OTA3QzExLjY1ODggMTYuNTA5MiAxMS42NzY0IDE2LjQyMTcgMTEuNjc2NCAxNi4zMzMzQzExLjY3NjQgMTYuMjQ1IDExLjY1ODggMTYuMTU3NSAxMS42MjQ3IDE2LjA3NkMxMS41OTA2IDE1Ljk5NDUgMTEuNTQwNyAxNS45MjA2IDExLjQ3NzggMTUuODU4NkMxMS40MTQ5IDE1Ljc5NjUgMTEuMzQwMiAxNS43NDc2IDExLjI1ODMgMTUuNzE0N0MxMS4xNzYzIDE1LjY4MTcgMTEuMDg4NiAxNS42NjU0IDExLjAwMDIgMTUuNjY2N0g3Ljk0Mjk1TDE2LjMyMTkgNy4yODc3NkMxNy4yMTE5IDYuMzk3NjggMTcuMjExOSA0LjkzNDM1IDE2LjMyMTkgNC4wNDQyN0wxMy4yODkzIDEuMDExNzJDMTIuODQ0MyAwLjU2NjY3OSAxMi4yNTUzIDAuMzQzNzUgMTEuNjY2OSAwLjM0Mzc1Wk02LjEzODI2IDYuODA0NjlMMTAuNTI4OSAxMS4xOTUzTDYuMzQ1MjkgMTUuMzc4OUM1Ljk2NDU0IDE1Ljc1OTcgNS4zNjkyOCAxNS43NTk3IDQuOTg4NTIgMTUuMzc4OUwxLjk1NTk3IDEyLjM0NjRDMS41NzUzOCAxMS45NjU4IDEuNTc1MzggMTEuMzY4OSAxLjk1NTk3IDEwLjk4ODNMNi4xMzgyNiA2LjgwNDY5Wk0xMy42NjY5IDE1LjY2NjdDMTMuNDkwMSAxNS42NjY3IDEzLjMyMDUgMTUuNzM2OSAxMy4xOTU1IDE1Ljg2MTlDMTMuMDcwNSAxNS45ODcgMTMuMDAwMiAxNi4xNTY1IDEzLjAwMDIgMTYuMzMzM0MxMy4wMDAyIDE2LjUxMDEgMTMuMDcwNSAxNi42Nzk3IDEzLjE5NTUgMTYuODA0N0MxMy4zMjA1IDE2LjkyOTggMTMuNDkwMSAxNyAxMy42NjY5IDE3QzEzLjg0MzcgMTcgMTQuMDEzMyAxNi45Mjk4IDE0LjEzODMgMTYuODA0N0MxNC4yNjMzIDE2LjY3OTcgMTQuMzMzNiAxNi41MTAxIDE0LjMzMzYgMTYuMzMzM0MxNC4zMzM2IDE2LjE1NjUgMTQuMjYzMyAxNS45ODcgMTQuMTM4MyAxNS44NjE5QzE0LjAxMzMgMTUuNzM2OSAxMy44NDM3IDE1LjY2NjcgMTMuNjY2OSAxNS42NjY3Wk0xNi4zMzM2IDE1LjY2NjdDMTYuMTU2OCAxNS42NjY3IDE1Ljk4NzIgMTUuNzM2OSAxNS44NjIyIDE1Ljg2MTlDMTUuNzM3MSAxNS45ODcgMTUuNjY2OSAxNi4xNTY1IDE1LjY2NjkgMTYuMzMzM0MxNS42NjY5IDE2LjUxMDEgMTUuNzM3MSAxNi42Nzk3IDE1Ljg2MjIgMTYuODA0N0MxNS45ODcyIDE2LjkyOTggMTYuMTU2OCAxNyAxNi4zMzM2IDE3QzE2LjUxMDQgMTcgMTYuNjggMTYuOTI5OCAxNi44MDUgMTYuODA0N0MxNi45MyAxNi42Nzk3IDE3LjAwMDIgMTYuNTEwMSAxNy4wMDAyIDE2LjMzMzNDMTcuMDAwMiAxNi4xNTY1IDE2LjkzIDE1Ljk4NyAxNi44MDUgMTUuODYxOUMxNi42OCAxNS43MzY5IDE2LjUxMDQgMTUuNjY2NyAxNi4zMzM2IDE1LjY2NjdaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K",closeImage="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEuNzU1NTMgMC41NzgxMjVMMC41NzcxNDggMS43NTY1MUw1LjgyMTI5IDcuMDAwNjVMMC41NzcxNDggMTIuMjQ0OEwxLjc1NTUzIDEzLjQyMzJMNi45OTk2NyA4LjE3OTAzTDEyLjI0MzggMTMuNDIzMkwxMy40MjIyIDEyLjI0NDhMOC4xNzgwNiA3LjAwMDY1TDEzLjQyMjIgMS43NTY1MUwxMi4yNDM4IDAuNTc4MTI1TDYuOTk5NjcgNS44MjIyN0wxLjc1NTUzIDAuNTc4MTI1WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==",reconnectImage="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTNweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTMgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5yZWxvYWQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQXJ0Ym9hcmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zNTcuMDAwMDAwLCAtMjQxLjAwMDAwMCkiIGZpbGw9IiM4QTk1OUYiIHN0cm9rZT0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJyZWxvYWQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM1OC4wMDAwMDAsIDI0Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMC44LDUuMjczNTc2NTggQzEwLjgsMi4zNjU3MTQyIDguMzc3NTg1NzEsMCA1LjQwMDAyMzg3LDAgQzIuNDIyNDYyMDMsMCAwLDIuMzY1NzE0MiAwLDUuMjczNTc2NTggQzAsNS40NDYzMTE0MiAwLjE0MzQwNjM1Myw1LjU4NjM1OTc2IDAuMzIwMjgyOTQyLDUuNTg2MzU5NzYgQzAuNDk3MTU5NTMsNS41ODYzNTk3NiAwLjY0MDU2NTg4Myw1LjQ0NjI4ODEgMC42NDA1NjU4ODMsNS4yNzM1NzY1OCBDMC42NDA1NjU4ODMsMi43MTA2NDc2NSAyLjc3NTY0MjI2LDAuNjI1NTg5NjY4IDUuNCwwLjYyNTU4OTY2OCBDOC4wMjQzNTc3NCwwLjYyNTU4OTY2OCAxMC4xNTk0MzQxLDIuNzEwNjcwOTYgMTAuMTU5NDM0MSw1LjI3MzU3NjU4IEMxMC4xNTk0MzQxLDcuODM2NDU4ODkgOC4wMjQzNTc3NCw5LjkyMTU0MDE4IDUuNCw5LjkyMTU0MDE4IEw0Ljg0NDMyNzI0LDkuOTIxNTQwMTggTDUuNjM4ODc1MzEsOS4wNTI5NzAwMyBDNS43NTY3MzczMyw4LjkyNDE1OTEyIDUuNzQ1MzAyMDYsOC43MjY0MDgxNiA1LjYxMzQwMjYsOC42MTEzMDYgQzUuNDgxNTAzMTMsOC40OTYyMDM4NSA1LjI3ODk4NjcyLDguNTA3Mzk0NjYgNS4xNjExNDg1Nyw4LjYzNjIwNTU2IEw0LjAyNTM1Njg4LDkuODc3ODAyNzYgQzMuODM5NDMyMzUsMTAuMDgxMDU1OSAzLjgzOTQzMjM1LDEwLjM4NzU5MDggNC4wMjUzNTY4OCwxMC41OTA4NDQgTDUuMTYxMTQ4NTcsMTEuODMyNDQxMiBDNS4yMjQ0MzY0NCwxMS45MDE2Mzc3IDUuMzEyMDc0OTgsMTEuOTM2ODQyMSA1LjQwMDExOTM3LDExLjkzNjg0MjEgQzUuNDc2MDYwMDQsMTEuOTM2ODQyMSA1LjU1MjMxMTA2LDExLjkxMDU5MDMgNS42MTM0MDI2LDExLjg1NzM0MDcgQzUuNzQ1MzI1OTQsMTEuNzQyMjM4NiA1Ljc1NjczNzMzLDExLjU0NDQ4NzYgNS42Mzg4NzUzMSwxMS40MTU2NzY3IEw0Ljg0NDMyNzI0LDEwLjU0NzEwNjUgTDUuNCwxMC41NDcxMDY1IEM4LjM3NzU4NTcxLDEwLjU0NzEwNjUgMTAuOCw4LjE4MTM5MjM0IDEwLjgsNS4yNzM1NzY1OCBaIiBpZD0iUGF0aCI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",visibilityOffImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6bTAgMGgyNHYyNEgwVjB6bTAgMGgyNHYyNEgwVjB6bTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDZjMy43OSAwIDcuMTcgMi4xMyA4LjgyIDUuNS0uNTkgMS4yMi0xLjQyIDIuMjctMi40MSAzLjEybDEuNDEgMS40MWMxLjM5LTEuMjMgMi40OS0yLjc3IDMuMTgtNC41M0MyMS4yNyA3LjExIDE3IDQgMTIgNGMtMS4yNyAwLTIuNDkuMi0zLjY0LjU3bDEuNjUgMS42NUMxMC42NiA2LjA5IDExLjMyIDYgMTIgNnptLTEuMDcgMS4xNEwxMyA5LjIxYy41Ny4yNSAxLjAzLjcxIDEuMjggMS4yOGwyLjA3IDIuMDdjLjA4LS4zNC4xNC0uNy4xNC0xLjA3QzE2LjUgOS4wMSAxNC40OCA3IDEyIDdjLS4zNyAwLS43Mi4wNS0xLjA3LjE0ek0yLjAxIDMuODdsMi42OCAyLjY4QzMuMDYgNy44MyAxLjc3IDkuNTMgMSAxMS41IDIuNzMgMTUuODkgNyAxOSAxMiAxOWMxLjUyIDAgMi45OC0uMjkgNC4zMi0uODJsMy40MiAzLjQyIDEuNDEtMS40MUwzLjQyIDIuNDUgMi4wMSAzLjg3em03LjUgNy41bDIuNjEgMi42MWMtLjA0LjAxLS4wOC4wMi0uMTIuMDItMS4zOCAwLTIuNS0xLjEyLTIuNS0yLjUgMC0uMDUuMDEtLjA4LjAxLS4xM3ptLTMuNC0zLjRsMS43NSAxLjc1Yy0uMjMuNTUtLjM2IDEuMTUtLjM2IDEuNzggMCAyLjQ4IDIuMDIgNC41IDQuNSA0LjUuNjMgMCAxLjIzLS4xMyAxLjc3LS4zNmwuOTguOThjLS44OC4yNC0xLjguMzgtMi43NS4zOC0zLjc5IDAtNy4xNy0yLjEzLTguODItNS41LjctMS40MyAxLjcyLTIuNjEgMi45My0zLjUzeiIvPjwvc3ZnPg==",visibilityOnImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDZjMy43OSAwIDcuMTcgMi4xMyA4LjgyIDUuNUMxOS4xNyAxNC44NyAxNS43OSAxNyAxMiAxN3MtNy4xNy0yLjEzLTguODItNS41QzQuODMgOC4xMyA4LjIxIDYgMTIgNm0wLTJDNyA0IDIuNzMgNy4xMSAxIDExLjUgMi43MyAxNS44OSA3IDE5IDEyIDE5czkuMjctMy4xMSAxMS03LjVDMjEuMjcgNy4xMSAxNyA0IDEyIDR6bTAgNWMxLjM4IDAgMi41IDEuMTIgMi41IDIuNVMxMy4zOCAxNCAxMiAxNHMtMi41LTEuMTItMi41LTIuNVMxMC42MiA5IDEyIDltMC0yYy0yLjQ4IDAtNC41IDIuMDItNC41IDQuNVM5LjUyIDE2IDEyIDE2czQuNS0yLjAyIDQuNS00LjVTMTQuNDggNyAxMiA3eiIvPjwvc3ZnPg==",socket=null,stopFn=null,peer=null,dataChannel=null,requestAccepted=!1,drawEnabled=!1;function stopCoBrowse(e=!0,t=!0){console.log("cobrowse >>> stopping cobrowse"),agentDrawPaths=[],userDrawPaths=[],removeTooltip(),requestAccepted=drawEnabled=!1,t&&localStorage.removeItem("cobrowseRequest");t=document.getElementById("kamousepointer"),t&&(t.style.display="none"),e&&sendDCMessage(JSON.stringify({type:"terminate_cobrowse"})),setTimeout(()=>{closeChannel(),null!==socket&&socket.disconnect(),socket=null},1e3),removeCanvas(),removeMousePointer(),removeTooltip(),t=document.getElementById("cobrowse-toolbar");t&&t.remove()}function closeChannel(){dataChannel&&"open"===dataChannel.readyState&&(console.log("cobrowse >>> closing channel"),dataChannel.close()),dataChannel=null,stopFn&&stopFn()}function koreGenerateUUID(){console.info("generating UUID");var n=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(n+=performance.now()),"u-xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})}function createTooltip(e,t){var n,i;document.getElementById("cobrowse-tooltip")||(n=document.documentElement,n={position:"absolute",display:"inline-block",borderBottom:"1px dotted black",zIndex:1e5,left:(i=(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)+e.x)+20+"px",top:(window.pageYOffset||n.scrollTop)-(n.clientTop||0)+e.y-20+"px",padding:"10px, 15px",height:"36px",backgroundColor:"#202124",borderRadius:"4px",width:"auto",whitespace:"nowrap"},i+100>document.body.clientWidth&&(n.left=i-100+"px"),(e=document.createElement("div")).setAttribute("do-not-mutate",!0),e.id="cobrowse-tooltip",Object.assign(e.style,n),document.getElementsByTagName("BODY")[0].append(e),(i=document.createElement("div")).id="cobrowse-tooltip-text",Object.assign(i.style,{color:"#fff",textAlign:"center",textAlign:"center",padding:"10px",borderRadius:"6px",position:"absolute",zIndex:1,height:"14px",lineHeight:"0px",width:"max-content",backgroundColor:"black",whitespace:"nowrap",display:"inline-block",fontStyle:"normal",fontWeight:600,fontSize:"10px"}),e.append(i),i.textContent=t)}function removeTooltip(){var e=document.getElementById("cobrowse-tooltip");e&&e.remove(),(e=document.getElementById("cobrowse-tooltip-text"))&&e.remove()}function drawAllLines(e){var t=document.getElementById("cb-canvas");if(t){const l=t.getContext("2d");if(0<e.length)for(var n=0;n<e.length;n++)for(var i=e[n].color,o=e[n].subPath,r=0;r<o.length-1;r++){var s=o[r],a=o[r+1];l.beginPath(),l.moveTo(s.x,s.y),l.lineTo(a.x,a.y),l.strokeStyle=i,l.lineWidth=this.lineWidth,l.stroke()}}}function drawLines(e){var t=document.getElementById("cb-canvas");if(t){const l=t.getContext("2d");if(e&&0<e.length)for(var n=0;n<e.length;n++)for(var i=e[n].color,o=e[n].subPath,r=0;r<o.length-1;r++){var s=o[r],a=o[r+1];l.beginPath(),l.moveTo(s.x,s.y),l.lineTo(a.x,a.y),l.strokeStyle=i,l.lineWidth=3,l.stroke()}}}function createDrawingBoard(){var e,t=document,n=(window,t.documentElement.scrollHeight),i=t.documentElement.scrollWidth;t.getElementById("cb-canvas")||((e=t.createElement("canvas")).id="cb-canvas",e.className="rr-ignore",e.setAttribute("do-not-mutate","true"),e.width=i,e.height=n,e.style.backgroundColor="transparent",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="10000",t.body.append(e))}userDrawPaths=[],agentDrawPaths=[];var subPaths=[],sketchColor="black",drawStarted=!1;function drawLine(e,t,n,i,o){e=e.getContext("2d");e.strokeStyle=sketchColor,e.beginPath(),e.moveTo(t,n),e.lineTo(i,o),e.lineWidth=lineWidth,e.stroke(),prevDrawX=i,prevDrawY=o}function eraseLastDrawing(){var e;document.getElementById("cb-canvas")&&(0<userDrawPaths.length&&userDrawPaths.splice(userDrawPaths.length-1,1),clearCanvas(),drawAllLines(userDrawPaths),drawAllLines(agentDrawPaths),dataChannel&&"open"===dataChannel.readyState&&(e={type:"target_draw",drawPaths:userDrawPaths},sendDCMessage(JSON.stringify(e))))}function handleDraw(e){var n;drawbtnimg.src=drawEnabled?drawDisabledImage:drawEnabledImage,drawEnabled=!drawEnabled,removeTooltip(),drawEnabled?(createTooltip(e,"Draw Mode On"),createDrawingBoard(),(n=document.getElementById("cb-canvas")).onmousemove=e=>{var t;drawEnabled&&drawStarted&&(t=e.offsetX,e=e.offsetY,subPaths.push({x:t,y:e}),drawLine(n,prevDrawX,prevDrawY,t,e))},n.onmousedown=e=>{drawEnabled&&(prevDrawX=e.offsetX,prevDrawY=e.offsetY,subPaths.push({x:e.offsetX,y:e.offsetY}),drawStarted=!0)},n.onmouseup=e=>{var t;drawEnabled&&(0<subPaths.length&&(userDrawPaths.push({color:sketchColor,subPath:subPaths}),t={type:"target_draw",drawPaths:userDrawPaths},sendDCMessage(JSON.stringify(t))),drawStarted=!1),subPaths=[]}):(userDrawPaths=[],clearCanvas(),agentDrawPaths.length<1?removeCanvas():drawLines(agentDrawPaths),dataChannel&&"open"===dataChannel.readyState&&sendDCMessage(JSON.stringify({type:"target_stop_draw"}))),drawEnabled||createTooltip(e,"Draw Mode Off")}function createCobrowseToolBar(){var e,t,n,i=document.getElementById("cobrowse-toolbar");i||((i=document.createElement("DIV")).id="cobrowse-toolbar",i.style.display="table",i.style.alignItems="flex-start",i.style.zIndex=1e5,i.style.cursor="move",i.style.height="172px",i.style.width="40px",i.style.background="#FFFFFF",i.style.boxShadow="0px 2px 5px rgba(0, 0, 0, 0.25)",i.style.borderRadius="2px",i.style.left="calc(100% - 50px)",i.style.top="40%",i.style.fontWeight="normal",i.style.fontSize="14px",i.style.lineHeight="20px",i.style.color="#FFFFFF",i.style.position="fixed",i.style.paddingBottom="5px",i.classList.add("rr-block"),i.style.border="none",i.setAttribute("do-not-mutate","true"),e={cursor:"pointer",width:"30px",height:"30px",borderRadius:"2px",marginTop:"5px",marginLeft:"5px",alignItems:"center",display:"flex"},t={width:"20px",height:"20px",marginLeft:"5px"},releasebtn=document.createElement("div"),Object.assign(releasebtn.style,e),releasebtn.style.backgroundColor="#F5F8FA",releasebtn.setAttribute("do-not-mutate","true"),releasebtnimg=document.createElement("img"),Object.assign(releasebtnimg.style,t),releasebtnimg.src=noControlImage,releasebtn.append(releasebtnimg),releasebtn.onmouseover=e=>{requestAccepted&&createTooltip(e,"Release Control"),requestAccepted||createTooltip(e,"Control-Off")},releasebtn.onmouseout=e=>{removeTooltip()},releasebtn.onclick=e=>{requestAccepted?(createTooltip(e,"Release Control"),releasebtnimg.src=noControlImage,releaseControl(),requestAccepted=!1):(createTooltip(e,"Agent Not in Control"),releasebtnimg.src=noControlImage)},i.append(releasebtn),reconnectbtn=document.createElement("div"),Object.assign(reconnectbtn.style,e),reconnectbtn.style.backgroundColor="#F5F8FA",reconnectbtn.setAttribute("do-not-mutate","true"),reconnectbtnimg=document.createElement("img"),Object.assign(reconnectbtnimg.style,t),reconnectbtnimg.src=reconnectImage,reconnectbtn.append(reconnectbtnimg),reconnectbtn.onmouseover=e=>{createTooltip(e,"Reconnect")},reconnectbtn.onmouseout=e=>{removeTooltip()},reconnectbtn.onclick=e=>{closeChannel(),setTimeout(()=>{autoStartCobrowse()},1e3)},i.append(reconnectbtn),drawbtn=document.createElement("div"),Object.assign(drawbtn.style,e),drawbtn.style.backgroundColor="#F5F8FA",drawbtn.setAttribute("do-not-mutate","true"),drawbtnimg=document.createElement("img"),Object.assign(drawbtnimg.style,t),drawbtnimg.src=drawDisabledImage,drawbtn.append(drawbtnimg),drawbtn.onclick=e=>{handleDraw(e)},drawbtn.onmouseover=e=>{drawEnabled&&createTooltip(e,"Draw Mode On"),drawEnabled||createTooltip(e,"Draw Mode Off")},drawbtn.onmouseout=e=>{removeTooltip()},i.append(drawbtn),erasebtn=document.createElement("div"),Object.assign(erasebtn.style,e),erasebtn.style.backgroundColor="#F5F8FA",erasebtn.setAttribute("do-not-mutate","true"),erasebtnimg=document.createElement("img"),Object.assign(erasebtnimg.style,t),erasebtnimg.src=eraserImage,erasebtn.append(erasebtnimg),erasebtn.onmouseover=e=>{createTooltip(e,"Undo last draw")},erasebtn.onmouseout=e=>{removeTooltip()},erasebtn.onclick=e=>{eraseLastDrawing()},i.append(erasebtn),colorbtn=document.createElement("div"),Object.assign(colorbtn.style,e),colorbtn.style.backgroundColor="#F5F8FA",colorbtn.setAttribute("do-not-mutate","true"),colorbtnimg=document.createElement("img"),Object.assign(colorbtnimg.style,t),colorbtnimg.src=pickColorImage,colorbtn.append(colorbtnimg),(n=document.createElement("INPUT")).id="colorId",n.type="color",n.value="#00000",n.style.visibility="hidden",n.onchange=e=>{var t=document.getElementById("colorId");sketchColor=t.value},colorbtn.append(n),colorbtn.onmouseover=e=>{createTooltip(e,"Pick color")},colorbtn.onmouseout=e=>{removeTooltip()},colorbtn.onclick=e=>{document.getElementById("colorId").click()},i.append(colorbtn),vonbtn=document.createElement("div"),Object.assign(vonbtn.style,e),vonbtn.style.backgroundColor="#F5F8FA",vonbtn.setAttribute("do-not-mutate","true"),vonbtnimg=document.createElement("img"),Object.assign(vonbtnimg.style,t),Object.assign(vonbtnimg.style,{height:"12.85px",width:"12.85px",marginLeft:"9px"}),vonbtnimg.src=visibilityOnImage,vonbtn.append(vonbtnimg),vonbtn.onmouseover=e=>{document.activeElement.classList.contains("rr-block")?createTooltip(e,"Show Input"):createTooltip(e,"Block Input")},vonbtn.onmouseout=e=>{removeTooltip()},vonbtn.onclick=e=>{var t=document.activeElement;document.activeElement.classList.contains("rr-block")?(t.classList.remove("rr-block"),vonbtnimg.src=visibilityOffImage,createTooltip(e,"Show Input")):(t.classList.add("rr-block"),vonbtnimg.src=visibilityOnImage,createTooltip(e,"Block Input")),rrweb&&stopFn&&rrweb.record.takeFullSnapshot(!0)},i.append(vonbtn),stopbtn=document.createElement("div"),Object.assign(stopbtn.style,e),stopbtn.style.backgroundColor="rgb(255, 38, 97)",stopbtn.setAttribute("do-not-mutate","true"),stopbtnimg=document.createElement("img"),Object.assign(stopbtnimg.style,t),Object.assign(stopbtnimg.style,{height:"12.85px",width:"12.85px",marginLeft:"9px"}),stopbtnimg.src=closeImage,stopbtn.append(stopbtnimg),stopbtn.onmouseover=e=>{createTooltip(e,"Stop CoBrowse")},stopbtn.onmouseout=e=>{removeTooltip()},i.append(stopbtn),document.getElementsByTagName("BODY")[0].append(i),setTimeout(()=>{dragElement(i),stopbtn.onclick=e=>{terminateCobrowse()}},1e3))}function dragElement(t){var n=0,i=0,o=0,r=0;function e(e){(e=e||window.event).preventDefault(),o=e.clientX,r=e.clientY,document.onmouseup=a,document.onmousemove=s}function s(e){(e=e||window.event).preventDefault(),n=o-e.clientX,i=r-e.clientY,o=e.clientX,r=e.clientY,t.style.top=t.offsetTop-i+"px",t.style.left=t.offsetLeft-n+"px"}function a(e){(e=e||window.event).preventDefault(),e.stopPropagation(),document.onmouseup=null,document.onmousemove=null}document.getElementById(t.id)?document.getElementById(t.id).onmousedown=e:t.onmousedown=e}function removeCanvas(){var e=document.getElementById("cb-canvas");e&&(clearCanvas(),e.remove())}lineWidth=3;var imageMousePointer=null;function removeMousePointer(){(imageMousePointer=document.getElementById("kamousepointer"))&&imageMousePointer.remove()}function clearCanvas(){var e=document.getElementById("cb-canvas");if(e){const t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)}}function createMousePointer(){var e;(imageMousePointer=document.getElementById("kamousepointer"))?imageMousePointer.setAttribute("do-not-mutate","true"):((imageMousePointer=document.createElement("div")).id="kamousepointer",imageMousePointer.style.top=-100,imageMousePointer.setAttribute("do-not-mutate","true"),imageMousePointer.style.left=-100,imageMousePointer.style.display="none",imageMousePointer.style.zIndex=1e4,imageMousePointer.style.position="absolute",imageMousePointer.style.width="20px",imageMousePointer.style.height="20px",imageMousePointer.style.transition="left .05s linear,top .05s linear",imageMousePointer.style.backgroundSize="contain",imageMousePointer.style.backgroundPosition="50%",imageMousePointer.style.backgroundRepeat="no-repeat",imageMousePointer.style.backgroundImage='url("data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMwMCIgd2lkdGg9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkYXRhLW5hbWU9IkxheWVyIDEiIHZpZXdCb3g9IjAgMCA1MCA1MCI+PHBhdGggZD0iTTQ4LjcxIDQyLjkxTDM0LjA4IDI4LjI5IDQ0LjMzIDE4YTEgMSAwIDAwLS4zMy0xLjYxTDIuMzUgMS4wNmExIDEgMCAwMC0xLjI5IDEuMjlMMTYuMzkgNDRhMSAxIDAgMDAxLjY1LjM2bDEwLjI1LTEwLjI4IDE0LjYyIDE0LjYzYTEgMSAwIDAwMS40MSAwbDQuMzgtNC4zOGExIDEgMCAwMC4wMS0xLjQyem0tNS4wOSAzLjY3TDI5IDMyYTEgMSAwIDAwLTEuNDEgMGwtOS44NSA5Ljg1TDMuNjkgMy42OWwzOC4xMiAxNEwzMiAyNy41OEExIDEgMCAwMDMyIDI5bDE0LjU5IDE0LjYyeiIvPjwvc3ZnPg==")',imageMousePointer.style.borderColor="transparent",imageMousePointer.className="rr-ignore agent-mouse",(e=document.createElement("div")).style.content="",e.style.display="inline-block",e.style.width="20px",e.style.height="20px",e.style.background="#4950f6",e.style.borderRadius="100%",e.style.transform="translate(-50%,-50%)",e.style.opacity=".3",e.className="rr-block agent-mouse-circle",imageMousePointer.appendChild(e),document.body.appendChild(imageMousePointer))}function sendDCMessage(e){dataChannel&&"open"===dataChannel.readyState&&dataChannel.send(e)}function releaseControl(){sendDCMessage(JSON.stringify({type:"request_control",response:"released"}))}function cobrowseInitialize(g){createCobrowseToolBar();var m="";function e(){for(var e=document.getElementsByTagName("*"),t=0,n=e.length;t<n;t++){var i=e[t];rrweb.createCbId(i)}}function t(){function n(e){e=JSON.parse(e.data);if("start_event_msg"===e.type)m="";else if("message"===e.type)e.data&&"undefined"!==e.data&&null!=typeof e.data&&(m+=e.data);else if("stop_event_msg"===e.type)try{m&&"undefined"!==m&&null!=typeof m&&t(JSON.parse(m))}catch(e){console.log("error msg",e,m)}else"fullsnapshot"===e.type?(console.log("taking fullsnapshot"),rrweb.record.takeFullSnapshot(!0)):"set_request_control"===e.type&&(requestAccepted=e.data,releasebtnimg&&(!0===e.data?releasebtnimg.src=releaseControlImage:releasebtnimg.src=noControlImage),createMousePointer())}function t(e){"target_mouse_move"===e.type?h(e):"target_key_up"!==e.type||"INPUT"!==e.tagName||"text"!==e.targetType&&"email"!==e.targetType?"target_key_down"!==e.type&&"target_key_up"!==e.type||"DIV"!==e.tagName?"target_mouse_click"===e.type?s(e):"target_mouse_over"===e.type?r(e):"target_scroll"===e.type?o(e):"target_draw"===e.type?(createDrawingBoard(),clearCanvas(),agentDrawPaths=e.drawPaths,drawLines(e.drawPaths),drawLines(userDrawPaths)):"target_stop_draw"===e.type?(agentDrawPaths=[],clearCanvas(),drawAllLines(userDrawPaths),userDrawPaths.length<1&&removeCanvas()):"request_control"===e.type?i(e.data):"release_control"===e.type&&(requestAccepted=!1,releasebtnimg&&(releasebtnimg.src=noControlImage),userDrawPaths.length<1&&removeCanvas()):f(e):d(e)}function i(e){var t=e?.firstName,t=`
                <div class="initial-video-audio-container" do-not-mutate="true">
                    <div class="ad-img-block">
                        <img src="${this.agentProfileIcon}" />
                    </div>
                    <div class="content-desc">
                        <div class="name">${t}</div>
                        <div class="type-text">${e.confirmMessage}</div>
                    </div>
                    <div class="controls-v-a">
                        <img id="rejectcall" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMCSURBVHgBxZjPaxNBFMffzG43oFCSo1gwMW3BUxPwR/HSBKwUT/XeYIX2asV/IO1/YC+CtFBLejdHaYXGW7ViVy8e2pL14k0SCoLdpDu+t/lhkmbNTDY/vpDsJHmb/fDezLz3hoGi8tOJsFPW50FjUyBYAgQEgeGLJKCIYwtHFjjOB7tczt4yc5bK/zNZw5M7s4sc4IlgCKEmUwixPn6490bGuCPQ8e0HCc75Fg7D4E8Wgq11AvMEOoolgsERI+0weA69lGAvz0rna3EzVwRZoO+xRNgwjLc4jEF/ZNm2nWw3v5gHzD74D1FXUE1AFKZRwzgaAExN5hlCNYaPN/5Kc2aAMKTY6Egg3fhF3UO0rBljWzAEOY6TnPj8PkfjuocQJg1DUnVbqYzpjbwDgw1Vq8JVhgoQemdF9k5jMiprqmRLWcC90jIHyf0mMHkTxjKvILSc6mgbWl5wbWWhKCX9vP/ohvZibHwRXTQnc9PFr0L1YSlyK/z58s0TJrSUgsLGDvzey4GsbCF+6KDxGczS0ips7vyDos8bGU+YwmYGVIRhm9IRJgyK8oLyA+NKiEQFSLoI8YaiYsgXTEVBvV5cdaHLnvIF4wJx8CvmMe5SerXs7MpLjXPGDZnHRFdQkUJGmVYZyGsC+4ISYGnPrkfjTLEQ84Kp7Uud9ilPHgYftZVrkbDsxvg/mF5A4W79mnNdz8reQKlDZmnT6qOQhZYWlPKZzljWXRcn92b3mZBrbwITUTg/PpUxVbLF+WNGD3fjlWXvwDZISvoBirYCxDpd6zvH6d2HeRheTWRFP+1GaFDfGLGMfApDEjWQtXEdiGpaanlhwGpts5tSh1YqrWIMTRicLO1qabXxiyagCPZHjPPHZAgDgMHiPhnJNbfUl5Jr5OCda9hnKNOFwWe1/tA227tQth3vx5yi/+RX7LYwpI4FQ7WB7EVHa9FKrjWEXlI6sKq2S0qJGD2Sw8t2zw6sWpWfnsMjvfI8tpszQF6rlMCNR3r4QogL8ZXr5WzkQO1I7y91mFsdhEgKrAAAAABJRU5ErkJggg=="/>
                        <img id="acceptcall" src= "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMfSURBVHgBxZg/TBNRHMe/v1cQCTGpCerg4AHGlEXEwZWDiDLS4GBjohJjIokJRF2IA7Az2NGpEmM6GRwN/isxDsACLt6kNyhBoqYJktIW7vl+154tWuiV67Xfpb+7+11/n7zfu997v0eoUKGYrlFTw6Ak6gJIJ2kFlR3kZyRl0hJkKssUljUvafuFEUmYlfw/uXUMPeu/CYEbytRRgSRhmXYQNa69euLGvyxQ6OlFHQ0UU6YGbzJhYaoc2J5AWkwPNjcfmpBSjqGKIqJHqVRmyhxOJEs+L3UzFNc1SY2zJHEO/sgEsr2l5heVggEa38F7ig4EJYovOE01grHDcRZyMfcA4jlTIxhbPCXyMQv3HCP/WcdQF0mVutcJtgojJDCBuoliBQzkR6eGqSohLc+QA1LVdBT1Vm4VgODPnMi3eoOTLSewODSLULC9nKve+bzvlCDZMAifxDAzfdN48/UDjOTn8i+kRVhYAj3wQQ7M0voKxhemXb3DOwgBizRUWQeByUsXAlJDFeUBRi28CApnc7WfjjS24MLxs+XcPMGwpFRAbhw7j562A4Xb+uEXjKPAsaH2MTVWh/dz+rb53V5jxs+PYCPzGys/DV9gVMqSgdYrHXeUXTZti+sfbah7Xbfs6yV1XQzDoLfnH8KL1ObNCLQOdXTDZWFkKA58Pw+1qkbOgbn+9gEyVhZeJEELnDJNoQ24fYnTtbq5Zqcv3H4ZP1K/bJiN7Ca8Skj5WKXszJpiq2jfzFWXoZoCh3D3/WRVYGxRw4i9HwrF+3mXqKOOUvNn+dPVuW7ns59BnaW6myj/FnaM8UtfUOWq7V5kGpG5NraKCqM1jLpJTjnWXyDe06o+PYoaSy0XUSNS6GZ3LR2p9M6kclhGzURmOp2dLL6zC4jbW6JAmB1RAxgVvvfflvq/xdWIvLQd/YTiExGOkYu1WyVXe3bc2sp0+zGneM6kU9mSMKzyxzFxbk9owntJ4BG3hp2GcE8vuBSDqeI1qipqhR2KTKgwM8VfUlWACmADGsntQZXsHsuCJkDq0AD5Iz0kla0mqaVKCK0c5EjvD7WHTOQEQMMGAAAAAElFTkSuQmCC"/>
                    </div>
                </div>`,n=document.getElementById("toast"),e=(n||((n=document.createElement("div")).id="toast",document.body.appendChild(n)),n.innerHTML=t,document.getElementById("rejectcall")),t=document.getElementById("acceptcall");e.onclick=e=>{n.innerHTML="",requestAccepted=!1,releasebtnimg&&(releasebtnimg.src=noControlImage);sendDCMessage(JSON.stringify({type:"request_control",response:"rejected"}))},t.onclick=e=>{requestAccepted=!0,releasebtnimg&&(releasebtnimg.src=releaseControlImage),n.innerHTML="";createMousePointer(),sendDCMessage(JSON.stringify({type:"request_control",response:"accepted"}))}}function o(e){var t=e.cbId;rrweb.scrollByAgent=!0,"fullDocument"===t?window.scrollTo(e.scrollLeft,e.scrollTop):(t=document.querySelectorAll(`[cb-id="${t}"]`))&&0<t.length&&(console.log("scrolling",e.scrollLeft,e.scrollTop),t[0].scrollTo(e.scrollLeft,e.scrollTop)),setTimeout(()=>{rrweb.scrollByAgent=!1},500)}function r(e){var t=e.cbId,t=document.querySelectorAll(`[cb-id="${t}"]`);t&&0<t.length&&a(t[0],"mouseover",e)}function s(e){var t=e.cbId,t=document.querySelectorAll(`[cb-id="${t}"]`);t&&0<t.length&&a(t[0],"click",e)}function a(e,t,n){var i,o,n=l(c,n||{}),r=null;for(i in u)if(u[i].test(t)){r=i;break}if(!r)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");document.createEvent?(o=document.createEvent(r),"HTMLEvents"==r?o.initEvent(t,n.bubbles,n.cancelable):o.initMouseEvent(t,n.bubbles,n.cancelable,document.defaultView,n.button,n.x,n.y,n.x,n.y,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,e),e.dispatchEvent(o)):(n.clientX=n.x,n.clientY=n.y,o=l(document.createEventObject(),n),e.fireEvent("on"+t,o))}function l(e,t){for(var n in t)e[n]=t[n];return e}console.log("cobrowse >>> joining room ",g.conversationId),e(),socket.emit("start_cobrowse",{conversationId:g.conversationId}),socket.on("ice-candidate",function(e){console.log("cobrowse >>> handlingIceCandidate ",e);new RTCIceCandidate(e.candidate);peer.addIceCandidate(e.candidate).catch(e=>console.log(e))}),socket.on("offer",function(t){console.log("cobrowse >>> handlingOffer ",t);var e=new RTCSessionDescription(t.sdp);peer.setRemoteDescription(e).then(()=>{}).then(()=>peer.createAnswer()).then(e=>peer.setLocalDescription(e)).then(()=>{var e={conversationId:t.caller,sdp:peer.localDescription};socket.emit("answer",e)}).catch(e=>{console.log(e)}),peer.ondatachannel=e=>{console.log("cobrowse >>>  datachannel from source",e),null!==dataChannel&&(dataChannel.close(),dataChannel=null),null===dataChannel&&((dataChannel=e.channel).onmessage=e=>{n(e)},dataChannel.onclose=()=>{peer&&"connected"===peer.connectionState&&(console.log("cobrowse >>> stopping peer connection"),peer.close(),peer=null),stopCoBrowse(!1,!1)},dataChannel.onopen=()=>{console.log("cobrowse >>> start recording"),stopFn=rrweb.record({emit(e){p(e)},collectFonts:!0,collectFonts:!0,userTriggeredOnInput:!0,maskTextClass:"rr-mask"})})}}),socket.on("stop_cobrowse",stopCoBrowse),(peer=new RTCPeerConnection({iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun.l.google.com:19302?transport=udp"]}]})).onicecandidate=e=>{e.candidate&&(e={conversationId:g.conversationId,candidate:e.candidate},console.log("cobrowse >>> emitting ice-candidate",e),socket.emit("ice-candidate",e))};var u={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/},c={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0};function f(t){var e=t.cbId,n=document.querySelectorAll(`[cb-id="${e}"]`);if(n&&0<n.length)if(0<=t.which&&t.which<=46){if([8,9,8,13,46].includes(t.which)){if(13!==t.which)return n[0].setAttribute("do-not-mutate","true"),void(n[0].textContent=t.textContent);n[0].removeAttribute("do-not-mutate"),setTimeout(()=>{var e=new KeyboardEvent("keydown",{bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:t.charCode,code:t.code,composed:!0,ctrlKey:t.ctrlKey,currentTarget:null,isTrusted:!0,key:t.key,keyCode:t.keyCode,shiftKey:t.shiftKey,altKey:t.altKey,type:"keydown",which:t.which});n[0].dispatchEvent(e);sendDCMessage(JSON.stringify({type:"enterkey_dispatched"}))},100)}}else n[0].setAttribute("do-not-mutate","true"),n[0].textContent=t.textContent,setTimeout(()=>{n[0].removeAttribute("do-not-mutate")},200)}function d(e){var t=e.cbId,e=e.value,t=document.querySelectorAll(`[cb-id="${t}"]`);t&&0<t.length&&(t[0].value=e)}function h(e){var t=e.x,e=e.y;imageMousePointer||createMousePointer(),imageMousePointer.style.top=e+"px",imageMousePointer.style.left=t+"px",imageMousePointer.style.display="block"}function p(e){sendDCMessage(JSON.stringify({type:"start_event_msg"}));let t=JSON.stringify(e);if(100<t.length){for(var n=Math.floor(t.length/100),e=t.length%100,i=0;i<n;i++){var o=t.substring(100*i,100*i+100);sendDCMessage(JSON.stringify({type:"message",data:o}))}0<e&&(o=t.substring(t.length-e,t.length),sendDCMessage(JSON.stringify({type:"message",data:o})))}else sendDCMessage(JSON.stringify({type:"message",data:t}));sendDCMessage(JSON.stringify({type:"stop_event_msg"}))}}requestAccepted=!1,releasebtnimg&&(releasebtnimg.src=noControlImage),console.log("cobrowse >>> cobrowseRequest",g),g.userId||(g.userId=koreGenerateUUID()),null===socket?socket=io(g.cobrowseUrl+"/cobrowse",{query:{userId:this.authResponse.userInfo.userId,authToken:this.authResponse.authorization.accessToken,accountId:this.authResponse.userInfo.accountId},path:"/agentassist/api/v1/chat",transports:["websocket","polling","flashsocket"]}):t(),socket.on("connect",()=>{t()})}function autoStartCobrowse(){if(this.authResponse&&this.authResponse.userInfo){console.log("cobrowse >>> starting cobrowse");let e=localStorage.getItem("cobrowseRequest");console.log(e),socket&&socket.connected&&(socket.disconnect(),socket=null),e&&setTimeout(()=>{cobrowseInitialize(JSON.parse(e))},500),document.body.addEventListener("focus",focusHandler,!0),document.body.onfocusin=focusHandler}}function terminateCobrowse(){stopCoBrowse()}function focusHandler(e){vonbtnimg&&(document.activeElement.classList.contains("rr-block")?vonbtnimg.src=visibilityOnImage:vonbtnimg.src=visibilityOffImage)}var koreCoBrowse=function(e){e.agentclient=AgentDesktop,e.initialize=cobrowseInitialize,Object.defineProperty(e,"__esModule",{value:!0}),console.log("cobrowse >>> koreCoBrowse initialize");var t=document.getElementsByTagName("BODY")[0];return t&&"loaded"===t.readyState?autoStartCobrowse():window.addEventListener?window.addEventListener("load",autoStartCobrowse,!1):window.attachEvent("onload",autoStartCobrowse),e}({}),rrweb=function(ee){var T,te=function(){return(te=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ne(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&i>=e.length?void 0:e)&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function ie(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(H(arguments[t]));return e}function N(e){return e.nodeType===e.ELEMENT_NODE}function x(e){var t=null==(t=e)?void 0:t.host;return Boolean(t&&t.shadowRoot&&t.shadowRoot===e)}function le(e){var t=e.maskInputOptions,n=e.tagName,i=e.type,o=e.value,e=e.maskInputFn,o=o||"";return o=t[n.toLowerCase()]||t[i]?e?e(o):"*".repeat(o.length):o}(t=T=T||{})[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment";var j=1,O=RegExp("[^a-z0-9-_:]"),E=-2;function L(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).map(c).join(""):null}catch(e){return null}}function c(e){return"styleSheet"in e?L(e.styleSheet)||"":e.cssText}var f=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,d=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,g=/^(data:)([^,]*),(.*)/i;function k(e,c){return(e||"").replace(f,function(e,t,n,i,o,r){n=n||o||r,o=t||i||"";if(!n)return e;if(!d.test(n))return"url("+o+n+o+")";if(g.test(n))return"url("+o+n+o+")";if("/"===n[0])return"url("+o+((r=(r=-1<(r=c).indexOf("//")?r.split("/").slice(0,3).join("/"):r.split("/")[0]).split("?")[0])+n)+o+")";var s=c.split("/"),t=n.split("/");s.pop();for(var a=0,l=t;a<l.length;a++){var u=l[a];"."!==u&&(".."===u?s.pop():s.push(u))}return"url("+o+s.join("/")+o+")"})}var m=/^[^ \t\n\r\u000c]+/,v=/^[, \t\n\r\u000c]+/;function h(e,t){if(!t||""===t.trim())return t;e=e.createElement("a");return e.href=t,p(e),e.href}function W(){var e=document.createElement("a");return e.href="",p(e),e.href}function Q(e,t,n,i){if("src"===n||("href"===n||"xlink:href"===n)&&i)return h(e,i);if("background"!==n||!i||"table"!==t&&"td"!==t&&"th"!==t){if("srcset"===n&&i){var o=e,r=i;if(""===r.trim())return r;var s=0;function a(e){var e=e.exec(r.substring(s));return e?(e=e[0],s+=e.length,e):""}for(var l=[];a(v),!(s>=r.length);)if(","===(c=a(m)).slice(-1))c=h(o,c.substring(0,c.length-1)),l.push(c);else for(var u="",c=h(o,c),f=!1;;){var d=r.charAt(s);if(""===d){l.push((c+u).trim());break}if(f)")"===d&&(f=!1);else{if(","===d){s+=1,l.push((c+u).trim());break}"("===d&&(f=!0)}u+=d,s+=1}return l.join(", ")}return"style"===n&&i?k(i,W()):i}return h(e,i)}function V(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return e.nodeType,e.TEXT_NODE,V(e.parentNode,t,n);if("string"==typeof t){if(e.classList.contains(t))return!0}else e.classList.forEach(function(e){if(t.test(e))return!0});return!(!n||!e.matches(n))||V(e.parentNode,t,n)}function G(t,e){var n,i=e.doc,o=e.blockClass,r=e.blockSelector,s=e.maskTextClass,a=e.maskTextSelector,l=e.inlineStylesheet,u=e.maskInputOptions,c=void 0===u?{}:u,f=e.maskTextFn,d=e.maskInputFn,h=e.recordCanvas,p=e.keepIframeSrcFn;switch(i.__sn&&(n=1===(u=i.__sn.id)?void 0:u),t.nodeType){case t.DOCUMENT_NODE:return{type:T.Document,childNodes:[],rootId:n};case t.DOCUMENT_TYPE_NODE:return{type:T.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:n};case t.ELEMENT_NODE:if(t.getAttribute&&"true"===t.getAttribute("do-not-mutate"))return console.log("got do-not-mutate",t),!1;for(var g,m=function(e,t,n){if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var i=0;i<e.classList.length;i++){var o=e.classList[i];if(t.test(o))return!0}return!!n&&e.matches(n)}(t,o,r),v=(w=t)instanceof HTMLFormElement?"form":(w=w.tagName.toLowerCase().trim(),O.test(w)?"div":w),y={},D=0,_=Array.from(t.attributes);D<_.length;D++){var b=_[D],C=b.name,M=b.value;y[C]=Q(i,v,C,M)}return"link"===v&&l&&(g=L(w=Array.from(i.styleSheets).find(function(e){return e.href===t.href})))&&(delete y.rel,delete y.href,y._cssText=k(g,w.href)),"style"===v&&t.sheet&&!(t.innerText||t.textContent||"").trim().length&&(g=L(t.sheet))&&(y._cssText=k(g,W())),"input"!==v&&"textarea"!==v&&"select"!==v||(M=t.value,"text"===y.type&&console.log("text"),"radio"!==y.type&&"checkbox"!==y.type&&"submit"!==y.type&&"button"!==y.type&&M?y.value=le({type:y.type,tagName:v,value:M,maskInputOptions:c,maskInputFn:d}):t.checked&&(y.checked=t.checked)),"option"===v&&(t.selected?y.selected=!0:delete y.selected),"canvas"===v&&h&&(y.rr_dataURL=t.toDataURL()),"audio"!==v&&"video"!==v||(y.rr_mediaState=t.paused?"paused":"played",y.rr_mediaCurrentTime=t.currentTime),t.scrollLeft&&(y.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(y.rr_scrollTop=t.scrollTop),m&&(g=(w=t.getBoundingClientRect()).width,w=w.height,y={class:y.class,rr_width:g+"px",rr_height:w+"px"}),"iframe"!==v||p(y.src)||delete y.src,{type:T.Element,tagName:v,attributes:y,childNodes:[],isSVG:"svg"===(g=t).tagName||g instanceof SVGElement||void 0,needBlock:m,rootId:n};case t.TEXT_NODE:var w=t.parentNode&&t.parentNode.tagName,m=t.textContent,A="STYLE"===w||void 0,I="SCRIPT"===w||void 0;return A&&m&&(m=k(m,W())),I&&(m="SCRIPT_PLACEHOLDER"),!A&&!I&&V(t,s,a)&&m&&(m=f?f(m):m.replace(/[\S]/g,"*")),{type:T.Text,textContent:m||"",isStyle:A,rootId:n};case t.CDATA_SECTION_NODE:return{type:T.CDATA,textContent:"",rootId:n};case t.COMMENT_NODE:return{type:T.Comment,textContent:t.textContent||"",rootId:n};default:return!1}}function S(e){return void 0===e?"":e.toLowerCase()}function z(t,e){var n=e.doc,i=e.map,o=e.blockClass,r=e.blockSelector,s=e.maskTextClass,a=e.maskTextSelector,l=e.skipChild,l=void 0!==l&&l,u=e.inlineStylesheet,c=void 0===u||u,u=e.maskInputOptions,f=void 0===u?{}:u,d=e.maskTextFn,h=e.maskInputFn,p=e.slimDOMOptions,u=e.recordCanvas,g=void 0!==u&&u,m=e.onSerialize,v=e.onIframeLoad,u=e.iframeLoadTimeout,y=void 0===u?5e3:u,u=e.keepIframeSrcFn,D=void 0===u?function(){return!1}:u,u=e.preserveWhiteSpace,_=void 0===u||u,e=G(t,{doc:n,blockClass:o,blockSelector:r,maskTextClass:s,maskTextSelector:a,inlineStylesheet:c,maskInputOptions:f,maskTextFn:d,maskInputFn:h,recordCanvas:g,keepIframeSrcFn:D});if(!e)return null;var u="__sn"in t?t.__sn.id:!function(e,t){if(t.comment&&e.type===T.Comment)return 1;if(e.type===T.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&"preload"===e.attributes.rel&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return 1;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(S(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===S(e.attributes.name)||"icon"===S(e.attributes.rel)||"apple-touch-icon"===S(e.attributes.rel)||"shortcut icon"===S(e.attributes.rel))))return 1;if("meta"===e.tagName){if(t.headMetaDescKeywords&&S(e.attributes.name).match(/^description|keywords$/))return 1;if(t.headMetaSocial&&(S(e.attributes.property).match(/^(og|twitter|fb):/)||S(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===S(e.attributes.name)))return 1;if(t.headMetaRobots&&("robots"===S(e.attributes.name)||"googlebot"===S(e.attributes.name)||"bingbot"===S(e.attributes.name)))return 1;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return 1;if(t.headMetaAuthorship&&("author"===S(e.attributes.name)||"generator"===S(e.attributes.name)||"framework"===S(e.attributes.name)||"publisher"===S(e.attributes.name)||"progid"===S(e.attributes.name)||S(e.attributes.property).match(/^article:/)||S(e.attributes.property).match(/^product:/)))return 1;if(t.headMetaVerification&&("google-site-verification"===S(e.attributes.name)||"yandex-verification"===S(e.attributes.name)||"csrf-token"===S(e.attributes.name)||"p:domain_verify"===S(e.attributes.name)||"verify-v1"===S(e.attributes.name)||"verification"===S(e.attributes.name)||"shopify-checkout-api-token"===S(e.attributes.name)))return 1}}}(e,p)&&(_||e.type!==T.Text||e.isStyle||e.textContent.replace(/^\s+|\s+$/gm,"").length)?j++:E,b=Object.assign(e,{id:u});if(t.__sn=b,u===E)return null;i[u]=t,m&&m(t);u=!l;if(b.type===T.Element&&(u=u&&!b.needBlock,delete b.needBlock),(b.type===T.Document||b.type===T.Element)&&u){p.headWhitespace&&e.type===T.Element&&"head"===e.tagName&&(_=!1);for(var C={doc:n,map:i,blockClass:o,blockSelector:r,maskTextClass:s,maskTextSelector:a,skipChild:l,inlineStylesheet:c,maskInputOptions:f,maskTextFn:d,maskInputFn:h,slimDOMOptions:p,recordCanvas:g,preserveWhiteSpace:_,onSerialize:m,onIframeLoad:v,iframeLoadTimeout:y,keepIframeSrcFn:D},M=0,w=Array.from(t.childNodes);M<w.length;M++)(A=z(w[M],C))&&b.childNodes.push(A);if(N(t)&&t.shadowRoot){b.isShadowHost=!0;for(var A,I=0,k=Array.from(t.shadowRoot.childNodes);I<k.length;I++)(A=z(k[I],C))&&(A.isShadow=!0,b.childNodes.push(A))}}return t.parentNode&&x(t.parentNode)&&(b.isShadow=!0),b.type===T.Element&&"iframe"===b.tagName&&function(e,t,n){var i=e.contentWindow;if(i){var o,r=!1;try{s=i.document.readyState}catch(e){return}if("complete"!==s)return o=setTimeout(function(){r||(t(),r=!0)},n),e.addEventListener("load",function(){clearTimeout(o),r=!0,t()});var s="about:blank";i.location.href!==s||e.src===s||""===e.src?setTimeout(t,0):e.addEventListener("load",t)}}(t,function(){var e=t.contentDocument;e&&v&&((e=z(e,{doc:e,map:i,blockClass:o,blockSelector:r,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:f,maskTextFn:d,maskInputFn:h,slimDOMOptions:p,recordCanvas:g,preserveWhiteSpace:_,onSerialize:m,onIframeLoad:v,iframeLoadTimeout:y,keepIframeSrcFn:D}))&&v(t,e))},y),b}var A=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function b(i,n){void 0===n&&(n={});var o=1,r=1;function s(e){var t=e.match(/\n/g),t=(t&&(o+=t.length),e.lastIndexOf("\n"));r=-1===t?r+e.length:e.length-t}function a(){var t={line:o,column:r};return function(e){return e.position=new l(t),g(),e}}var l=function(e){this.start=e,this.end={line:o,column:r},this.source=n.source},u=(l.prototype.content=i,[]);function c(e){var t=new Error(n.source+":"+o+":"+r+": "+e);if(t.reason=e,t.filename=n.source,t.line=o,t.column=r,t.source=i,!n.silent)throw t;u.push(t)}function f(){return p(/^{\s*/)}function d(){return p(/^}/)}function h(){var e,t,n=[];for(g(),m(n);i.length&&"}"!==i.charAt(0)&&(e=function(){if("@"===i[0])return function(){var e=a(),t=p(/^@([-\w]+)?keyframes\s*/);if(t){var n=t[1];if(!(t=p(/^([-\w]+)\s*/)))return c("@keyframes missing name");var i,t=t[1];if(!f())return c("@keyframes missing '{'");for(var o=m();i=function(){var e,t=[],n=a();for(;e=p(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),p(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:_()})}();)o.push(i),o=o.concat(m());return d()?e({type:"keyframes",name:t,vendor:n,keyframes:o}):c("@keyframes missing '}'")}}()||function(){var e=a(),t=p(/^@media *([^{]+)/);if(t){t=w(t[1]);if(!f())return c("@media missing '{'");var n=m().concat(h());return d()?e({type:"media",media:t,rules:n}):c("@media missing '}'")}}()||function(){var e=a(),t=p(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:w(t[1]),media:w(t[2])})}()||function(){var e=a(),t=p(/^@supports *([^{]+)/);if(t){t=w(t[1]);if(!f())return c("@supports missing '{'");var n=m().concat(h());return d()?e({type:"supports",supports:t,rules:n}):c("@supports missing '}'")}}()||b()||C()||M()||function(){var e=a(),t=p(/^@([-\w]+)?document *([^{]+)/);if(t){var n=w(t[1]),t=w(t[2]);if(!f())return c("@document missing '{'");var i=m().concat(h());return d()?e({type:"document",document:t,vendor:n,rules:i}):c("@document missing '}'")}}()||function(){var e=a();if(p(/^@page */)){var t=y()||[];if(!f())return c("@page missing '{'");for(var n,i=m();n=D();)i.push(n),i=i.concat(m());return d()?e({type:"page",selectors:t,declarations:i}):c("@page missing '}'")}}()||function(){var e=a();if(p(/^@host\s*/)){if(!f())return c("@host missing '{'");var t=m().concat(h());return d()?e({type:"host",rules:t}):c("@host missing '}'")}}()||function(){var e=a();if(p(/^@font-face\s*/)){if(!f())return c("@font-face missing '{'");for(var t,n=m();t=D();)n.push(t),n=n.concat(m());return d()?e({type:"font-face",declarations:n}):c("@font-face missing '}'")}}()}()||(t=e=void 0,e=a(),(t=y())?(m(),e({type:"rule",selectors:t,declarations:_()})):c("selector missing")));)!1!==e&&(n.push(e),m(n));return n}function p(e){var t,e=e.exec(i);if(e)return t=e[0],s(t),i=i.slice(t.length),e}function g(){p(/^\s*/)}function m(e){var t;for(void 0===e&&(e=[]);t=v();)!1!==t&&e.push(t),t=v();return e}function v(){var e=a();if("/"===i.charAt(0)&&"*"===i.charAt(1)){for(var t=2;""!==i.charAt(t)&&("*"!==i.charAt(t)||"/"!==i.charAt(t+1));)++t;if(""===i.charAt((t+=2)-1))return c("End of comment missing");var n=i.slice(2,t-2);return r+=2,s(n),i=i.slice(t),r+=2,e({type:"comment",comment:n})}}function y(){var e=p(/^([^{]+)/);if(e)return w(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(e){return e.replace(/,/g,"‌")}).split(/\s*(?![^(]*\)),\s*/).map(function(e){return e.replace(/\u200C/g,",")})}function D(){var e=a(),t=p(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){t=w(t[0]);if(!p(/^:\s*/))return c("property missing ':'");var n=p(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),e=e({type:"declaration",property:t.replace(A,""),value:n?w(n[0]).replace(A,""):""});return p(/^[;\s]*/),e}}function _(){var e,t=[];if(!f())return c("missing '{'");for(m(t);e=D();)!1!==e&&(t.push(e),m(t)),e=D();return d()?t:c("missing '}'")}var e,b=t("import"),C=t("charset"),M=t("namespace");function t(i){var o=new RegExp("^@"+i+"\\s*([^;]+);");return function(){var e,t=a(),n=p(o);if(n)return e={type:i},e[i]=n[1].trim(),t(e)}}return function t(e,n){var i=e&&"string"==typeof e.type;var o=i?e:n;for(var r=0,s=Object.keys(e);r<s.length;r++){var a=s[r],a=e[a];Array.isArray(a)?a.forEach(function(e){t(e,o)}):a&&"object"==typeof a&&t(a,o)}i&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:n||null});return e}((e=h(),{type:"stylesheet",stylesheet:{source:n.source,rules:e,parsingErrors:u}}))}function w(e){return e?e.replace(/^\s+|\s+$/g,""):""}var C={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};var y,M=/([^\\]):hover/,I=new RegExp(M,"g");function q(e,t){var n=null==t?void 0:t.stylesWithHoverClass.get(e);if(n)return n;n=b(e,{silent:!0});if(!n.stylesheet)return e;var i=[];if(n.stylesheet.rules.forEach(function(e){"selectors"in e&&(e.selectors||[]).forEach(function(e){M.test(e)&&i.push(e)})}),0===i.length)return e;n=new RegExp(i.filter(function(e,t){return i.indexOf(e)===t}).sort(function(e,t){return t.length-e.length}).map(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}).join("|"),"g"),n=e.replace(n,function(e){var t=e.replace(I,"$1.\\:hover");return e+", "+t});return null!=t&&t.stylesWithHoverClass.set(e,n),n}function Z(){return{stylesWithHoverClass:new Map}}function K(l,e){var t,n,u=e.doc,c=e.hackCss,f=e.cache;switch(l.type){case T.Document:return u.implementation.createDocument(null,"",null);case T.DocumentType:return u.implementation.createDocumentType(l.name||"html",l.publicId,l.systemId);case T.Element:var i,d=n="link"===(n=C[(t=l).tagName]||t.tagName)&&t.attributes._cssText?"style":n,h=l.isSVG?u.createElementNS("http://www.w3.org/2000/svg",d):u.createElement(d);p(h);for(i in l.attributes)!function(e){if(!l.attributes.hasOwnProperty(e))return;var t,n=l.attributes[e];if("option"===d&&"selected"===e&&!1===n)return;if(n="boolean"==typeof n||"number"==typeof n?"":n,e.startsWith("rr_")){if("canvas"===d&&"rr_dataURL"===e&&((t=document.createElement("img")).src=n,t.onload=function(){var e=h.getContext("2d");e&&e.drawImage(t,0,0,t.width,t.height)},p(t)),"rr_width"===e&&(h.style.width=n),"rr_height"===e&&(h.style.height=n),"rr_mediaCurrentTime"===e&&(h.currentTime=l.attributes.rr_mediaCurrentTime),"rr_mediaState"===e)switch(n){case"played":h.play().catch(function(e){return console.warn("media playback error",e)});break;case"paused":h.pause()}}else{var i="textarea"===d&&"value"===e,o="style"===d&&"_cssText"===e;if(o&&c&&(n=q(n,f)),i||o){for(var i=u.createTextNode(n),r=0,s=Array.from(h.childNodes);r<s.length;r++){var a=s[r];a.nodeType===h.TEXT_NODE&&h.removeChild(a)}return h.appendChild(i)}try{if(l.isSVG&&"xlink:href"===e)h.setAttributeNS("http://www.w3.org/1999/xlink",e,n);else if("onload"===e||"onclick"===e||"onmouse"===e.substring(0,7))h.setAttribute("_"+e,n);else{if("meta"===d&&"Content-Security-Policy"===l.attributes["http-equiv"]&&"content"===e)return h.setAttribute("csp-content",n);"link"===d&&"preload"===l.attributes.rel&&"script"===l.attributes.as||"link"===d&&"prefetch"===l.attributes.rel&&"string"==typeof l.attributes.href&&l.attributes.href.endsWith(".js")||h.setAttribute(e,n)}}catch(e){}}}(i);if(l.isShadowHost)if(h.shadowRoot)for(;h.shadowRoot.firstChild;)h.shadowRoot.removeChild(h.shadowRoot.firstChild);else h.attachShadow({mode:"open"});return h;case T.Text:return u.createTextNode(l.isStyle&&c?q(l.textContent,f):l.textContent);case T.CDATA:return u.createCDATASection(l.textContent);case T.Comment:return u.createComment(l.textContent);default:return null}}function J(e,t){var n=t.doc,i=t.map,o=t.skipChild,o=void 0!==o&&o,r=t.hackCss,s=void 0===r||r,a=t.afterAppend,l=t.cache,u=K(e,{doc:n,hackCss:s,cache:l});if(!u)return null;if(e.rootId&&console.assert(i[e.rootId]===n,"Target document should has the same root id."),e.type===T.Document&&(n.close(),n.open(),u=n),i[(u.__sn=e).id]=u,(e.type===T.Document||e.type===T.Element)&&!o)for(var c=0,f=e.childNodes;c<f.length;c++){var d=f[c],h=J(d,{doc:n,map:i,skipChild:!1,hackCss:s,afterAppend:a,cache:l});h?((d.isShadow&&N(u)&&u.shadowRoot?u.shadowRoot:u).appendChild(h),a&&a(h)):console.warn("Failed to rebuild",d)}return u}function X(e,t){for(var n in e)e[n]&&(n=e[n],t(n))}function $(e,t){var n=t.doc,r=t.onVisit,i=t.hackCss,o={},e=J(e,{doc:n,map:o,skipChild:!1,hackCss:void 0===i||i,afterAppend:t.afterAppend,cache:t.cache});return X(o,function(e){r&&r(e);var t=e.__sn;if(t.type===T.Element){var n,i,o=e;for(n in t.attributes)t.attributes.hasOwnProperty(n)&&n.startsWith("rr_")&&(i=t.attributes[n],"rr_scrollLeft"===n&&(o.scrollLeft=i),"rr_scrollTop"===n&&(o.scrollTop=i))}}),[e,o]}function oe(e,t,n){void 0===n&&(n=document);var i={capture:!0,passive:!0};return n.addEventListener(e,t,i),function(){return n.removeEventListener(e,t,i)}}function ue(){return{map:{},getId:function(e){return e&&e.__sn?e.__sn.id:-1},getNode:function(e){return this.map[e]||null},removeNodeFromMap:function(e){var t=this,n=e.__sn&&e.__sn.id;delete this.map[n],e.childNodes&&e.childNodes.forEach(function(e){return t.removeNodeFromMap(e)})},has:function(e){return this.map.hasOwnProperty(e)},reset:function(){this.map={}}}}ee.EventType=void 0,(t=ee.EventType||(ee.EventType={}))[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",ee.IncrementalSource=void 0,(t=ee.IncrementalSource||(ee.IncrementalSource={}))[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",ee.MouseInteractions=void 0,(t=ee.MouseInteractions||(ee.MouseInteractions={}))[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",(t=y=y||{})[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",ee.ReplayerEvents=void 0,(t=ee.ReplayerEvents||(ee.ReplayerEvents={})).Start="start",t.Pause="pause",t.Resume="resume",t.Resize="resize",t.Finish="finish",t.FullsnapshotRebuilded="fullsnapshot-rebuilded",t.LoadStylesheetStart="load-stylesheet-start",t.LoadStylesheetEnd="load-stylesheet-end",t.SkipStart="skip-start",t.SkipEnd="skip-end",t.MouseInteraction="mouse-interaction",t.EventCast="event-cast",t.CustomEvent="custom-event",t.Flush="flush",t.StateChange="state-change",t.PlayBack="play-back";var i="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";function re(r,s,a){void 0===a&&(a={});var l=null,u=0;return function(e){var t=Date.now(),n=(u||!1!==a.leading||(u=t),s-(t-u)),i=this,o=arguments;n<=0||s<n?(l&&(window.clearTimeout(l),l=null),u=t,r.apply(i,o)):l||!1===a.trailing||(l=window.setTimeout(function(){u=!1===a.leading?0:Date.now(),l=null,r.apply(i,o)},n))}}function ce(e,t,n,i,o){var r=(o=void 0===o?window:o).Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,i?n:{set:function(e){var t=this;setTimeout(function(){n.set.call(t,e)},0),r&&r.set&&r.set.call(this,e)}}),function(){return ce(e,t,r||{},!0)}}function fe(e,t,n){try{if(!(t in e))return function(){};var i=e[t],o=n(i);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:i}})),e[t]=o,function(){e[t]=i}}catch(e){return function(){}}}function de(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function he(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function se(e,t){return!!e&&(e.nodeType===e.ELEMENT_NODE?(n=!1,"string"==typeof t?n=e.classList.contains(t):e.classList.forEach(function(e){t.test(e)&&(n=!0)}),n||se(e.parentNode,t)):(e.nodeType,e.TEXT_NODE,se(e.parentNode,t)));var n}function pe(e){return"__sn"in e&&e.__sn.id===E}function ge(e,t){if(x(e))return!1;var n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||ge(e.parentNode,t))}function me(e){return Boolean(e.changedTouches)}function ve(e){"NodeList"in(e=void 0===e?window:e)&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(e){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})}ee.mirror={map:{},getId:function(){return console.error(i),-1},getNode:function(){return console.error(i),null},removeNodeFromMap:function(){console.error(i)},has:function(){return console.error(i),!1},reset:function(){console.error(i)}},"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(ee.mirror=new Proxy(ee.mirror,{get:function(e,t,n){return"map"===t&&console.error(i),Reflect.get(e,t,n)}}));e.prototype.add=function(e){var t=this.indexes.get(e.parentId),e={id:e.node.id,mutation:e,children:[],texts:[],attributes:[]};t?(e.parent=t).children[e.id]=e:this.tree[e.id]=e,this.indexes.set(e.id,e)},e.prototype.remove=function(n,t){var i=this,e=this.indexes.get(n.parentId),o=this.indexes.get(n.id),r=function(e){i.removeIdSet.add(e);e=t.getNode(e);null!=e&&e.childNodes.forEach(function(e){"__sn"in e&&r(e.__sn.id)})},s=function(e){i.removeIdSet.add(e.id),Object.values(e.children).forEach(function(e){return s(e)});var t,e=i.indexes.get(e.id);e&&(t=e.parent)&&(delete e.parent,delete t.children[e.id],i.indexes.delete(n.id))};o?(e?(delete o.parent,delete e.children[o.id],this.indexes.delete(n.id)):(delete this.tree[o.id],this.indexes.delete(o.id)),s(o)):(this.removeNodeMutations.push(n),r(n.id))},e.prototype.text=function(e){var t=this.indexes.get(e.id);(t?t.texts:this.textMutations).push(e)},e.prototype.attribute=function(e){var t=this.indexes.get(e.id);(t?t.attributes:this.attributeMutations).push(e)},e.prototype.scroll=function(e){this.scrollMap.set(e.id,e)},e.prototype.input=function(e){this.inputMap.set(e.id,e)},e.prototype.flush=function(){var t,e,n,i,o=this,r=this.tree,s=this.removeNodeMutations,a=this.textMutations,l=this.attributeMutations,u={source:ee.IncrementalSource.Mutation,removes:s,texts:a,attributes:l,adds:[]},c=function(e,t){t&&o.removeIdSet.add(e.id),u.texts=u.texts.concat(t?[]:e.texts).filter(function(e){return!o.removeIdSet.has(e.id)}),u.attributes=u.attributes.concat(t?[]:e.attributes).filter(function(e){return!o.removeIdSet.has(e.id)}),o.removeIdSet.has(e.id)||o.removeIdSet.has(e.mutation.parentId)||t?Object.values(e.children).forEach(function(e){return c(e,!0)}):(u.adds.push(e.mutation),e.children&&Object.values(e.children).forEach(function(e){return c(e,!1)}))};Object.values(r).forEach(function(e){return c(e,!1)});try{for(var f=ne(this.scrollMap.keys()),d=f.next();!d.done;d=f.next()){var h=d.value;this.removeIdSet.has(h)&&this.scrollMap.delete(h)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}try{for(var p=ne(this.inputMap.keys()),g=p.next();!g.done;g=p.next()){h=g.value;this.removeIdSet.has(h)&&this.inputMap.delete(h)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}s=new Map(this.scrollMap),a=new Map(this.inputMap);return this.reset(),{mutationData:u,scrollMap:s,inputMap:a}},e.prototype.reset=function(){this.tree=[],this.indexes=new Map,this.removeNodeMutations=[],this.textMutations=[],this.attributeMutations=[],this.removeIdSet=new Set,this.scrollMap=new Map,this.inputMap=new Map},e.prototype.idRemoved=function(e){return this.removeIdSet.has(e)};var ye=e;function e(){this.reset()}function De(e){function t(e,t){return t={value:e,parent:t,children:[]},o[e.node.id]=t}var n,i,o={},r=[];try{for(var s=ne(e),a=s.next();!a.done;a=s.next()){var l,u,c,f=a.value,d=f.nextId,h=f.parentId;d&&d in o?(l=o[d]).parent?(u=l.parent.children.indexOf(l),l.parent.children.splice(u,0,t(f,l.parent))):(u=r.indexOf(l),r.splice(u,0,t(f,null))):h in o?(c=o[h]).children.push(t(f,c)):r.push(t(f,null))}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return r}function _e(e,t){t(e.value);for(var n=e.children.length-1;0<=n;n--)_e(e.children[n],t)}function F(e){return"__sn"in e&&(e.__sn.type===T.Element&&"iframe"===e.__sn.tagName)}function be(e,t){e=null==(e=null==(e=e.ownerDocument)?void 0:e.defaultView)?void 0:e.frameElement;if(!e||e===t)return{x:0,y:0,relativeScale:1,absoluteScale:1};var n=e.getBoundingClientRect(),t=be(e,t),e=n.height/e.clientHeight;return{x:n.x*t.relativeScale+t.x,y:n.y*t.relativeScale+t.y,relativeScale:e,absoluteScale:t.absoluteScale*e}}function P(e){return Boolean(null==(e=e)?void 0:e.shadowRoot)}var t=Object.freeze({__proto__:null,on:oe,createMirror:ue,get _mirror(){return ee.mirror},throttle:re,hookSetter:ce,patch:fe,getWindowHeight:de,getWindowWidth:he,isBlocked:se,isIgnored:pe,isAncestorRemoved:ge,isTouchEvent:me,polyfill:ve,TreeIndex:ye,queueToResolveTrees:De,iterateResolveTree:_e,isIframeINode:F,getBaseDimension:be,hasShadowRoot:P});function Ce(e){return"__ln"in e}we.prototype.get=function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t},we.prototype.addNode=function(e){var t,n={value:e,previous:null,next:null};e.__ln=n,e.previousSibling&&Ce(e.previousSibling)?(t=e.previousSibling.__ln.next,n.next=t,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,t&&(t.previous=n)):e.nextSibling&&Ce(e.nextSibling)&&e.nextSibling.__ln.previous?(t=e.nextSibling.__ln.previous,n.previous=t,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,t&&(t.next=n)):(this.head&&(this.head.previous=n),n.next=this.head,this.head=n),this.length++},we.prototype.removeNode=function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next&&(t.next.previous=t.previous)):(this.head=t.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)};var Me=we;function we(){this.length=0,this.head=null}function Ae(e){return"__sn"in e}n.prototype.init=function(e,t,n,i,o,r,s,a,l,u,c,f,d,h,p){this.blockClass=t,this.blockSelector=n,this.maskTextClass=i,this.maskTextSelector=o,this.inlineStylesheet=r,this.maskInputOptions=s,this.maskTextFn=a,this.maskInputFn=l,this.recordCanvas=u,this.slimDOMOptions=c,this.emissionCallback=e,this.doc=f,this.mirror=d,this.iframeManager=h,this.shadowDomManager=p},n.prototype.freeze=function(){this.frozen=!0},n.prototype.unfreeze=function(){this.frozen=!1,this.emit()},n.prototype.isFrozen=function(){return this.frozen},n.prototype.lock=function(){this.locked=!0},n.prototype.unlock=function(){this.locked=!1,this.emit()};var Ie=n;function n(){var D=this;this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(e){e.forEach(D.processMutation),D.emit()},this.emit=function(){var t,n,e;if(!D.frozen&&!D.locked){for(var o=[],r=new Me,s=function(e){for(var t=e,n=E;n===E;)n=(t=t&&t.nextSibling)&&D.mirror.getId(t);return n=-1===n&&se(e.nextSibling,D.blockClass)?null:n},i=function(t){var e=t.getRootNode?null==(e=t.getRootNode())?void 0:e.host:null,n=!(D.doc.contains(t)||e instanceof Node&&D.doc.contains(e));if(t.parentNode&&!n){n=x(t.parentNode)?D.mirror.getId(e):D.mirror.getId(t.parentNode),e=s(t);if(-1===n||-1===e)return r.addNode(t);var i=z(t,{doc:D.doc,map:D.mirror.map,blockClass:D.blockClass,blockSelector:D.blockSelector,maskTextClass:D.maskTextClass,maskTextSelector:D.maskTextSelector,skipChild:!0,inlineStylesheet:D.inlineStylesheet,maskInputOptions:D.maskInputOptions,maskTextFn:D.maskTextFn,maskInputFn:D.maskInputFn,slimDOMOptions:D.slimDOMOptions,recordCanvas:D.recordCanvas,onSerialize:function(e){F(e)&&D.iframeManager.addIframe(e),P(t)&&D.shadowDomManager.addShadowRoot(t.shadowRoot,document)},onIframeLoad:function(e,t){D.iframeManager.attachIframe(e,t)}});i&&o.push({parentId:n,nextId:e,node:i})}};D.mapRemoves.length;)D.mirror.removeNodeFromMap(D.mapRemoves.shift());try{for(var a=ne(D.movedSet),l=a.next();!l.done;l=a.next()){var u=l.value;Te(D.removes,u,D.mirror)&&!D.movedSet.has(u.parentNode)||i(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(y=a.return)&&y.call(a)}finally{if(t)throw t.error}}try{for(var c=ne(D.addedSet),f=c.next();!f.done;f=c.next()){u=f.value;!xe(D.droppedSet,u)&&!Te(D.removes,u,D.mirror)||xe(D.movedSet,u)?i(u):D.droppedSet.add(u)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}for(var d=null;r.length;){var h=null;if(d&&(m=D.mirror.getId(d.value.parentNode),v=s(d.value),-1!==m&&-1!==v&&(h=d)),!h)for(var p=r.length-1;0<=p;p--){var g=r.get(p);if(g){var m=D.mirror.getId(g.value.parentNode),v=s(g.value);if(-1!==m&&-1!==v){h=g;break}}}if(!h){for(;r.head;)r.removeNode(r.head.value);break}d=h.previous,r.removeNode(h.value),i(h.value)}var y={texts:D.texts.map(function(e){return{id:D.mirror.getId(e.node),value:e.value}}).filter(function(e){return D.mirror.has(e.id)}),attributes:D.attributes.map(function(e){return{id:D.mirror.getId(e.node),attributes:e.attributes}}).filter(function(e){return D.mirror.has(e.id)}),removes:D.removes,adds:o};(y.texts.length||y.attributes.length||y.removes.length||y.adds.length)&&(D.texts=[],D.attributes=[],D.removes=[],D.addedSet=new Set,D.movedSet=new Set,D.droppedSet=new Set,D.movedMap={},D.emissionCallback(y))}},this.processMutation=function(i){if(!pe(i.target))switch(i.type){case"characterData":var e=i.target.textContent;se(i.target,D.blockClass)||e===i.oldValue||D.texts.push({value:V(i.target,D.maskTextClass,D.maskTextSelector)&&e?D.maskTextFn?D.maskTextFn(e):e.replace(/[\S]/g,"*"):e,node:i.target});break;case"attributes":var t=i.target,e=i.target.getAttribute(i.attributeName);if("value"===i.attributeName&&(e=le({maskInputOptions:D.maskInputOptions,tagName:i.target.tagName,type:i.target.getAttribute("type"),value:e,maskInputFn:D.maskInputFn})),se(i.target,D.blockClass)||e===i.oldValue)return;var n=D.attributes.find(function(e){return e.node===i.target});if(n||(n={node:i.target,attributes:{}},D.attributes.push(n)),"style"===i.attributeName){for(var o=D.doc.createElement("span"),r=(p(o),i.oldValue&&o.setAttribute("style",i.oldValue),void 0!==n.attributes.style&&null!==n.attributes.style||(n.attributes.style={}),n.attributes.style),s=0;s<t.style.length;s++){var a=t.style[s],l=t.style.getPropertyValue(a),u=t.style.getPropertyPriority(a);l==o.style.getPropertyValue(a)&&u==o.style.getPropertyPriority(a)||(r[a]=""==u?l:[l,u])}for(s=0;s<o.style.length;s++){a=o.style[s];""!==t.style.getPropertyValue(a)&&t.style.getPropertyValue(a)||(r[a]=!1)}}else n.attributes[i.attributeName]=Q(D.doc,i.target.tagName,i.attributeName,e);break;case"childList":i.addedNodes.forEach(function(e){return D.genAdds(e,i.target)}),i.removedNodes.forEach(function(e){var t=D.mirror.getId(e),n=x(i.target)?D.mirror.getId(i.target.host):D.mirror.getId(i.target);se(e,D.blockClass)||se(i.target,D.blockClass)||pe(e)||(D.addedSet.has(e)?(ke(D.addedSet,e),D.droppedSet.add(e)):D.addedSet.has(i.target)&&-1===t||ge(i.target,D.mirror)||(D.movedSet.has(e)&&D.movedMap[t+"@"+n]?ke(D.movedSet,e):D.removes.push({parentId:n,id:t,isShadow:!!x(i.target)||void 0})),D.mapRemoves.push(e))})}},this.genAdds=function(e,t){if(!(e&&e.getAttribute&&"true"===e.getAttribute("do-not-mutate")||t&&t.getAttribute&&"true"===t.getAttribute("do-not-mutate")||se(e,D.blockClass)||t&&se(t,D.blockClass))){if(Ae(e)){if(pe(e))return;D.movedSet.add(e);var n=null;(n=t&&Ae(t)?t.__sn.id:n)&&(D.movedMap[e.__sn.id+"@"+n]=!0)}else D.addedSet.add(e),D.droppedSet.delete(e);e.childNodes.forEach(function(e){return D.genAdds(e)})}}}function ke(t,e){t.delete(e),e.childNodes.forEach(function(e){return ke(t,e)})}function Te(e,t,n){t=t.parentNode;if(!t)return!1;var i=n.getId(t);return!!e.some(function(e){return e.id===i})||Te(e,t,n)}function xe(e,t){t=t.parentNode;return!!t&&(!!e.has(t)||xe(e,t))}var R=[],Ee="undefined"!=typeof CSSGroupingRule;function ae(t){try{if("composedPath"in t){var e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0];return t.target}catch(e){return t.target}}function Se(e,t,n,i,o,r,s,a,l,u,c,f,d,h,p,g){var m=new Ie,e=(R.push(m),m.init(e,n,i,o,r,s,a,l,u,c,f,t,d,h,p),window.MutationObserver||window.__rrMutationObserver),r=null==(o=null==(i=null==(n=window)?void 0:n.Zone)?void 0:i.__symbol__)?void 0:o.call(i,"MutationObserver"),s=new(e=r&&window[r]?window[r]:e)(m.processMutations.bind(m));return s.observe(g,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Ne(o,r,s,a,e){if(!1===e.mouseInteraction)return function(){};var t=!0===e.mouseInteraction||void 0===e.mouseInteraction?{}:e.mouseInteraction,l=[];return Object.keys(ee.MouseInteractions).filter(function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==t[e]}).forEach(function(e){function t(e){var t,n=ae(e);se(n,a)||(e=me(e)?e.changedTouches[0]:e)&&(n=s.getId(n),t=e.clientX,e=e.clientY,o({type:ee.MouseInteractions[i],id:n,x:t,y:e}))}var i,n=e.toLowerCase();i=e;l.push(oe(n,t,r))}),function(){l.forEach(function(e){return e()})}}function je(i,o,r,s,e){return oe("scroll",re(function(e){var t,n,e=ae(e);e&&!se(e,s)&&(t=r.getId(e),e===o?(n=o.scrollingElement||o.documentElement,i({id:t,x:n.scrollLeft,y:n.scrollTop})):i({id:t,x:e.scrollLeft,y:e.scrollTop}))},e.scroll||100),o)}function Oe(e,t){e=te({},e);return t||delete e.userTriggered,e}var Le=["INPUT","TEXTAREA","SELECT"],ze=new WeakMap;function Fe(e){var t;return e=e,t=[],e=(Ee&&e.parentRule instanceof CSSGroupingRule?Array.from(e.parentRule.cssRules):Array.from(e.parentStyleSheet.cssRules)).indexOf(e),t.unshift(e),t}function Pe(n,i,o){function e(t){return function(e){e=ae(e);e&&!se(e,i)&&n({type:t,id:o.getId(e),currentTime:e.currentTime})}}var t=[oe("play",e(y.Play)),oe("pause",e(y.Pause)),oe("seeked",e(y.Seeked))];return function(){t.forEach(function(e){return e()})}}function Re(s,n,a){var t,e,i=Object.getOwnPropertyNames(CanvasRenderingContext2D.prototype),o=[];try{for(var r=ne(i),l=r.next();!l.done;l=r.next())!function(r){try{if("function"!=typeof CanvasRenderingContext2D.prototype[r])return;var t=fe(CanvasRenderingContext2D.prototype,r,function(t){return function(){for(var i=this,o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return se(this.canvas,n)||setTimeout(function(){var e,t,n=ie(o);"drawImage"===r&&n[0]&&n[0]instanceof HTMLCanvasElement&&(t=null==(e=null==(e=(t=n[0]).getContext("2d"))?void 0:e.getImageData(0,0,t.width,t.height))?void 0:e.data,n[0]=JSON.stringify(t)),s({id:a.getId(i.canvas),property:r,args:n})},0),t.apply(this,o)}});o.push(t)}catch(e){t=ce(CanvasRenderingContext2D.prototype,r,{set:function(e){s({id:a.getId(this.canvas),property:r,args:[e],setter:!0})}});o.push(t)}}(l.value)}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return function(){o.forEach(function(e){return e()})}}function Ue(e,t){o=t=void 0===t?{}:t,r=(t=e).mutationCb,s=t.mousemoveCb,a=t.mouseInteractionCb,l=t.scrollCb,u=t.viewportResizeCb,c=t.inputCb,f=t.mediaInteractionCb,d=t.styleSheetRuleCb,h=t.styleDeclarationCb,p=t.canvasMutationCb,g=t.fontCb,t.mutationCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.mutation&&o.mutation.apply(o,ie(e)),r.apply(void 0,ie(e))},t.mousemoveCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.mousemove&&o.mousemove.apply(o,ie(e)),s.apply(void 0,ie(e))},t.mouseInteractionCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.mouseInteraction&&o.mouseInteraction.apply(o,ie(e)),a.apply(void 0,ie(e))},t.scrollCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.scroll&&o.scroll.apply(o,ie(e)),l.apply(void 0,ie(e))},t.viewportResizeCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.viewportResize&&o.viewportResize.apply(o,ie(e)),u.apply(void 0,ie(e))},t.inputCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.input&&o.input.apply(o,ie(e)),c.apply(void 0,ie(e))},t.mediaInteractionCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.mediaInteaction&&o.mediaInteaction.apply(o,ie(e)),f.apply(void 0,ie(e))},t.styleSheetRuleCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.styleSheetRule&&o.styleSheetRule.apply(o,ie(e)),d.apply(void 0,ie(e))},t.styleDeclarationCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.styleDeclaration&&o.styleDeclaration.apply(o,ie(e)),h.apply(void 0,ie(e))},t.canvasMutationCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.canvasMutation&&o.canvasMutation.apply(o,ie(e)),p.apply(void 0,ie(e))},t.fontCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.font&&o.font.apply(o,ie(e)),g.apply(void 0,ie(e))};var n,i,o,r,s,a,l,u,c,f,d,h,p,g,m,v,y,D,_,b,C,z,M,F,w,A,P,R=Se(e.mutationCb,e.doc,e.blockClass,e.blockSelector,e.maskTextClass,e.maskTextSelector,e.inlineStylesheet,e.maskInputOptions,e.maskTextFn,e.maskInputFn,e.recordCanvas,e.slimDOMOptions,e.mirror,e.iframeManager,e.shadowDomManager,e.doc),U=function(n,e,t,o){if(!1===e.mousemove)return function(){};var r,i="number"==typeof e.mousemove?e.mousemove:50,e="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500,s=[],a=re(function(e){var t=Date.now()-r;n(s.map(function(e){return e.timeOffset-=t,e}),e),s=[],r=null},e),l=[oe("mousemove",e=re(function(e){var t=ae(e),n=me(e)?e.changedTouches[0]:e,i=n.clientX,n=n.clientY;r=r||Date.now(),s.push({x:i,y:n,id:o.getId(t),timeOffset:Date.now()-r}),a("undefined"!=typeof DragEvent&&e instanceof DragEvent?ee.IncrementalSource.Drag:e instanceof MouseEvent?ee.IncrementalSource.MouseMove:ee.IncrementalSource.TouchMove)},i,{trailing:!1}),t),oe("touchmove",e,t),oe("drag",e,t)];return function(){l.forEach(function(e){return e()})}}(e.mousemoveCb,e.sampling,e.doc,e.mirror),B=Ne(e.mouseInteractionCb,e.doc,e.mirror,e.blockClass,e.sampling),Y=je(e.scrollCb,e.doc,e.mirror,e.blockClass,e.sampling),H=(m=e.viewportResizeCb,y=v=-1,oe("resize",re(function(){var e=de(),t=he();v===e&&y===t||(m({width:Number(t),height:Number(e)}),v=e,y=t)},200),window)),W=(D=e.inputCb,_=e.doc,b=e.mirror,C=e.blockClass,z=e.ignoreClass,M=e.maskInputOptions,F=e.maskInputFn,t=e.sampling,w=e.userTriggeredOnInput,A=("last"===t.input?["change"]:["input","change"]).map(function(e){return oe(e,Q,_)}),t=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),P=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"]],t&&t.set&&A.push.apply(A,ie(P.map(function(e){return ce(e[0],e[1],{set:function(){Q({target:this})}})}))),function(){A.forEach(function(e){return e()})});function Q(e){var t,n,i,o=ae(e),e=e.isTrusted;!o||!o.tagName||Le.indexOf(o.tagName)<0||se(o,C)||(t=o.type,o.classList.contains(z)||(i=o.value,n=!1,"radio"===t||"checkbox"===t?n=o.checked:(M[o.tagName.toLowerCase()]||M[t])&&(i=le({maskInputOptions:M,tagName:o.tagName,type:t,value:i,maskInputFn:F})),V(o,Oe({text:i,isChecked:n,userTriggered:e},w)),i=o.name,"radio"===t&&i&&n&&_.querySelectorAll('input[type="radio"][name="'+i+'"]').forEach(function(e){e!==o&&V(e,Oe({text:e.value,isChecked:!n,userTriggered:!1},w))})))}function V(e,t){var n=ze.get(e);n&&n.text===t.text&&n.isChecked===t.isChecked||(ze.set(e,t),n=b.getId(e),D(te(te({},t),{id:n})))}var I,k,T,x,G,E,S,N,q=Pe(e.mediaInteractionCb,e.blockClass,e.mirror),Z=function(i,o){var r=CSSStyleSheet.prototype.insertRule,n=(CSSStyleSheet.prototype.insertRule=function(e,t){var n=o.getId(this.ownerNode);return-1!==n&&i({id:n,adds:[{rule:e,index:t}]}),r.apply(this,arguments)},CSSStyleSheet.prototype.deleteRule);if(CSSStyleSheet.prototype.deleteRule=function(e){var t=o.getId(this.ownerNode);return-1!==t&&i({id:t,removes:[{index:e}]}),n.apply(this,arguments)},!Ee)return function(){CSSStyleSheet.prototype.insertRule=r,CSSStyleSheet.prototype.deleteRule=n};var s=CSSGroupingRule.prototype.insertRule,a=(CSSGroupingRule.prototype.insertRule=function(e,t){var n=o.getId(this.parentStyleSheet.ownerNode);return-1!==n&&i({id:n,adds:[{rule:e,index:ie(Fe(this),[t||0])}]}),s.apply(this,arguments)},CSSGroupingRule.prototype.deleteRule);return CSSGroupingRule.prototype.deleteRule=function(e){var t=o.getId(this.parentStyleSheet.ownerNode);return-1!==t&&i({id:t,removes:[{index:ie(Fe(this),[e])}]}),a.apply(this,arguments)},function(){CSSStyleSheet.prototype.insertRule=r,CSSStyleSheet.prototype.deleteRule=n,CSSGroupingRule.prototype.insertRule=s,CSSGroupingRule.prototype.deleteRule=a}}(e.styleSheetRuleCb,e.mirror),K=(I=e.styleDeclarationCb,k=e.mirror,T=CSSStyleDeclaration.prototype.setProperty,CSSStyleDeclaration.prototype.setProperty=function(e,t,n){var i=k.getId(null==(i=null==(i=this.parentRule)?void 0:i.parentStyleSheet)?void 0:i.ownerNode);return-1!==i&&I({id:i,set:{property:e,value:t,priority:n},index:Fe(this.parentRule)}),T.apply(this,arguments)},x=CSSStyleDeclaration.prototype.removeProperty,CSSStyleDeclaration.prototype.removeProperty=function(e){var t=k.getId(null==(t=null==(t=this.parentRule)?void 0:t.parentStyleSheet)?void 0:t.ownerNode);return-1!==t&&I({id:t,remove:{property:e},index:Fe(this.parentRule)}),x.apply(this,arguments)},function(){CSSStyleDeclaration.prototype.setProperty=T,CSSStyleDeclaration.prototype.removeProperty=x}),J=e.recordCanvas?Re(e.canvasMutationCb,e.blockClass,e.mirror):function(){},X=e.collectFonts?(G=e.fontCb,E=[],S=new WeakMap,N=FontFace,window.FontFace=function(e,t,n){var i=new N(e,t,n);return S.set(i,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),i},t=fe(document.fonts,"add",function(e){return function(t){return setTimeout(function(){var e=S.get(t);e&&(G(e),S.delete(t))},0),e.apply(this,[t])}}),E.push(function(){window.FonFace=N}),E.push(t),function(){E.forEach(function(e){return e()})}):function(){},$=[];try{for(var j=ne(e.plugins),O=j.next();!O.done;O=j.next()){var L=O.value;$.push(L.observer(L.callback,L.options))}}catch(e){n={error:e}}finally{try{O&&!O.done&&(i=j.return)&&i.call(j)}finally{if(n)throw n.error}}return function(){R.disconnect(),U(),B(),Y(),H(),W(),q(),Z(),K(),J(),X(),$.forEach(function(e){return e()})}}Ye.prototype.addIframe=function(e){this.iframes.set(e,!0)},Ye.prototype.addLoadListener=function(e){this.loadListener=e},Ye.prototype.attachIframe=function(e,t){this.mutationCb({adds:[{parentId:e.__sn.id,nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null!=(t=this.loadListener)&&t.call(this,e)};var Be=Ye;function Ye(e){this.iframes=new WeakMap,this.mutationCb=e.mutationCb}We.prototype.addShadowRoot=function(e,t){Se(this.mutationCb,t,this.bypassOptions.blockClass,this.bypassOptions.blockSelector,this.bypassOptions.maskTextClass,this.bypassOptions.maskTextSelector,this.bypassOptions.inlineStylesheet,this.bypassOptions.maskInputOptions,this.bypassOptions.maskTextFn,this.bypassOptions.maskInputFn,this.bypassOptions.recordCanvas,this.bypassOptions.slimDOMOptions,this.mirror,this.bypassOptions.iframeManager,this,e),je(this.scrollCb,e,this.mirror,this.bypassOptions.blockClass,this.bypassOptions.sampling)};var U,B,He=We;function We(e){this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror}function Y(e){return te(te({},e),{timestamp:Date.now()})}var Qe=ue();function o(e){var i=(e=void 0===e?{}:e).emit,o=e.checkoutEveryNms,r=e.checkoutEveryNth,t=e.blockClass,m=void 0===t?"rr-block":t,t=e.blockSelector,v=void 0===t?null:t,t=e.ignoreClass,n=void 0===t?"rr-ignore":t,t=e.maskTextClass,y=void 0===t?"rr-mask":t,t=e.maskTextSelector,D=void 0===t?null:t,t=e.inlineStylesheet,_=void 0===t||t,t=e.maskAllInputs,s=e.maskInputOptions,a=e.slimDOMOptions,l=e.maskInputFn,b=e.maskTextFn,u=e.hooks,c=e.packFn,f=e.sampling,d=void 0===f?{}:f,f=e.mousemoveWait,h=e.recordCanvas,C=void 0!==h&&h,h=e.userTriggeredOnInput,p=void 0!==h&&h,h=e.collectFonts,g=void 0!==h&&h,M=e.plugins,h=e.keepIframeSrcFn,w=void 0===h?function(){return!1}:h;if(!i)throw new Error("emit function is required");void 0!==f&&void 0===d.mousemove&&(d.mousemove=f);function A(e){U(Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.Mutation},e)}))}function I(e){if(!mt)return e=Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.Scroll},e)}),U(e)}var k,T=!0===t?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==s?s:{password:!0},x=!0===a||"all"===a?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===a,headMetaDescKeywords:"all"===a}:a||{},E=(ve(),0),S=(U=function(e,t){var n;null==(n=R[0])||!n.isFrozen()||e.type===ee.EventType.FullSnapshot||e.type===ee.EventType.IncrementalSnapshot&&e.data.source===ee.IncrementalSource.Mutation||R.forEach(function(e){return e.unfreeze()}),i(c?c(e):e,t),e.type===ee.EventType.FullSnapshot?(k=e,E=0):e.type!==ee.EventType.IncrementalSnapshot||e.data.source===ee.IncrementalSource.Mutation&&e.data.isAttachIframe||(E++,n=r&&r<=E,t=o&&e.timestamp-k.timestamp>o,(n||t)&&B(!0))},new Be({mutationCb:A})),N=new He({mutationCb:A,scrollCb:I,bypassOptions:{blockClass:m,blockSelector:v,maskTextClass:y,maskTextSelector:D,inlineStylesheet:_,maskInputOptions:T,maskTextFn:b,maskInputFn:l,recordCanvas:C,sampling:d,slimDOMOptions:x,iframeManager:S},mirror:Qe});B=function(e){void 0===e&&(e=!1),U(Y({type:ee.EventType.Meta,data:{href:window.location.href,width:he(),height:de()}}),e),R.forEach(function(e){return e.lock()});var t,n,i,o,r,s,a,l,u,c,f,d,h=H((e=document,h=(t=(t={blockClass:m,blockSelector:v,maskTextClass:y,maskTextSelector:D,inlineStylesheet:_,maskAllInputs:T,maskTextFn:b,slimDOM:x,recordCanvas:C,onSerialize:function(e){F(e)&&S.addIframe(e),P(e)&&N.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,t){S.attachIframe(e,t)},keepIframeSrcFn:w})||{}).blockClass,p=t.blockSelector,g=t.maskTextClass,n=t.maskTextSelector,i=t.inlineStylesheet,o=t.recordCanvas,r=void 0!==(r=t.maskAllInputs)&&r,s=t.maskTextFn,a=t.maskInputFn,l=void 0!==(l=t.slimDOM)&&l,u=t.preserveWhiteSpace,c=t.onSerialize,f=t.onIframeLoad,d=t.iframeLoadTimeout,t=t.keepIframeSrcFn,[z(e,{doc:e,map:e={},blockClass:void 0===h?"rr-block":h,blockSelector:void 0===p?null:p,maskTextClass:void 0===g?"rr-mask":g,maskTextSelector:void 0===n?null:n,skipChild:!1,inlineStylesheet:void 0===i||i,maskInputOptions:!0===r?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===r?{password:!0}:r,maskTextFn:s,maskInputFn:a,slimDOMOptions:!0===l||"all"===l?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===l,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===l?{}:l,recordCanvas:void 0!==o&&o,preserveWhiteSpace:u,onSerialize:c,onIframeLoad:f,iframeLoadTimeout:d,keepIframeSrcFn:void 0===t?function(){return!1}:t}),e]),2),p=h[0],g=h[1];if(!p)return console.warn("Failed to snapshot the document");Qe.map=g,U(Y({type:ee.EventType.FullSnapshot,data:{node:p,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null==(i=null==(n=null===document||void 0===document?void 0:document.body)?void 0:n.parentElement)?void 0:i.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null==(s=null==(r=null===document||void 0===document?void 0:document.body)?void 0:r.parentElement)?void 0:s.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),R.forEach(function(e){return e.unlock()})};try{var j=[],O=(j.push(oe("DOMContentLoaded",function(){U(Y({type:ee.EventType.DomContentLoaded,data:{}}))})),function(e){return Ue({mutationCb:A,mousemoveCb:function(e,t){return U(Y({type:ee.EventType.IncrementalSnapshot,data:{source:t,positions:e}}))},mouseInteractionCb:function(e){return U(Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.MouseInteraction},e)}))},scrollCb:I,viewportResizeCb:function(e){return U(Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.ViewportResize},e)}))},inputCb:function(e){return U(Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.Input},e)}))},mediaInteractionCb:function(e){return U(Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.MediaInteraction},e)}))},styleSheetRuleCb:function(e){return U(Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.StyleSheetRule},e)}))},styleDeclarationCb:function(e){return U(Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.StyleDeclaration},e)}))},canvasMutationCb:function(e){return U(Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.CanvasMutation},e)}))},fontCb:function(e){return U(Y({type:ee.EventType.IncrementalSnapshot,data:te({source:ee.IncrementalSource.Font},e)}))},blockClass:m,ignoreClass:n,maskTextClass:y,maskTextSelector:D,maskInputOptions:T,inlineStylesheet:_,sampling:d,recordCanvas:C,userTriggeredOnInput:p,collectFonts:g,doc:e,maskInputFn:l,maskTextFn:b,blockSelector:v,slimDOMOptions:x,mirror:Qe,iframeManager:S,shadowDomManager:N,plugins:(null==M?void 0:M.map(function(t){return{observer:t.observer,options:t.options,callback:function(e){return U(Y({type:ee.EventType.Plugin,data:{plugin:t.name,payload:e}}))}}}))||[]},u)}),L=(S.addLoadListener(function(e){j.push(O(e.contentDocument))}),function(){B(),j.push(O(document))});return"interactive"===document.readyState||"complete"===document.readyState?L():j.push(oe("load",function(){U(Y({type:ee.EventType.Load,data:{}})),L()},window)),function(){j.forEach(function(e){return e()})}}catch(e){console.warn(e)}}function Ve(i){return i=i||Object.create(null),{on:function(e,t){(i[e]||(i[e]=[])).push(t)},off:function(e,t){i[e]&&i[e].splice(i[e].indexOf(t)>>>0,1)},emit:function(t,n){(i[t]||[]).slice().map(function(e){e(n)}),(i["*"]||[]).slice().map(function(e){e(t,n)})}}}o.addCustomEvent=function(e,t){if(!U)throw new Error("please add custom event after start recording");U(Y({type:ee.EventType.Custom,data:{tag:e,payload:t}}))},o.freezePage=function(){R.forEach(function(e){return e.freeze()})},o.takeFullSnapshot=function(e){if(!B)throw new Error("please take full snapshot after start recording");B(e)},o.mirror=Qe;function Ge(a,l){var e,i,u,c,n,t;function f(e,t){this.scrollLeft=e,this.scrollTop=t}function o(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function r(e,t){return"Y"===t?e.clientHeight+n<e.scrollHeight:"X"===t?e.clientWidth+n<e.scrollWidth:void 0}function s(e,t){e=a.getComputedStyle(e,null)["overflow"+t];return"auto"===e||"scroll"===e}function d(e){for(;e!==l.body&&!1===(n=void 0,n=r(t=e,"Y")&&s(t,"Y"),t=r(t,"X")&&s(t,"X"),n||t);)e=e.parentNode||e.host;var t,n;return e}function h(e){var t,n=(c()-e.startTime)/i;n=n=1<n?1:n,n=.5*(1-Math.cos(Math.PI*n)),t=e.startX+(e.x-e.startX)*n,n=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,t,n),t===e.x&&n===e.y||a.requestAnimationFrame(h.bind(a,e))}function p(e,t,n){var i,o,r,s=c(),e=e===l.body?(o=(i=a).scrollX||a.pageXOffset,r=a.scrollY||a.pageYOffset,u.scroll):(o=(i=e).scrollLeft,r=e.scrollTop,f);h({scrollable:i,method:e,startTime:s,startX:o,startY:r,x:t,y:n})}void 0===a&&(a=window),"scrollBehavior"in(l=void 0===l?document:l).documentElement.style&&!0!==a.__forceSmoothScrollPolyfill__||(e=a.HTMLElement||a.Element,i=468,u={scroll:a.scroll||a.scrollTo,scrollBy:a.scrollBy,elementScroll:e.prototype.scroll||f,scrollIntoView:e.prototype.scrollIntoView},c=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now,t=a.navigator.userAgent,n=new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0,a.scroll=a.scrollTo=function(){void 0!==arguments[0]&&(!0===o(arguments[0])?u.scroll.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:a.scrollY||a.pageYOffset):p.call(a,l.body,void 0!==arguments[0].left?~~arguments[0].left:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:a.scrollY||a.pageYOffset))},a.scrollBy=function(){void 0!==arguments[0]&&(o(arguments[0])?u.scrollBy.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(a,l.body,~~arguments[0].left+(a.scrollX||a.pageXOffset),~~arguments[0].top+(a.scrollY||a.pageYOffset)))},e.prototype.scroll=e.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0===o(arguments[0])){if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");u.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}else{var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}},e.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0===o(arguments[0])?u.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop):this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}))},e.prototype.scrollIntoView=function(){var e,t,n;!0===o(arguments[0])?u.scrollIntoView.call(this,void 0===arguments[0]||arguments[0]):(t=(e=d(this)).getBoundingClientRect(),n=this.getBoundingClientRect(),e!==l.body?(p.call(this,e,e.scrollLeft+n.left-t.left,e.scrollTop+n.top-t.top),"fixed"!==a.getComputedStyle(e).position&&a.scrollBy({left:t.left,top:t.top,behavior:"smooth"})):a.scrollBy({left:n.left,top:n.top,behavior:"smooth"}))})}r.prototype.addAction=function(e){var t=this.findActionIndex(e);this.actions.splice(t,0,e)},r.prototype.addActions=function(e){this.actions=this.actions.concat(e)},r.prototype.start=function(){this.timeOffset=0;var i=performance.now(),o=this.actions,r=this;this.raf=requestAnimationFrame(function e(){var t=performance.now();for(r.timeOffset+=(t-i)*r.speed,i=t;o.length;){var n=o[0];if(!(r.timeOffset>=n.delay))break;o.shift(),n.doAction()}(0<o.length||r.liveMode)&&(r.raf=requestAnimationFrame(e))})},r.prototype.clear=function(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0},r.prototype.setSpeed=function(e){this.speed=e},r.prototype.toggleLiveMode=function(e){this.liveMode=e},r.prototype.isActive=function(){return null!==this.raf},r.prototype.findActionIndex=function(e){for(var t=0,n=this.actions.length-1;t<=n;){var i=Math.floor((t+n)/2);if(this.actions[i].delay<e.delay)t=i+1;else{if(!(this.actions[i].delay>e.delay))return i+1;n=i-1}}return t};var s,qe=r;function r(e,t){void 0===e&&(e=[]),this.timeOffset=0,this.raf=null,this.actions=e,this.speed=t}function Ze(e,t){var n;if(e.type===ee.EventType.IncrementalSnapshot&&e.data.source===ee.IncrementalSource.MouseMove)return n=e.data.positions[0].timeOffset,n=e.timestamp+n,void(e.delay=n-t);e.delay=e.timestamp-t,e.delay}function Ke(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}(u=s=s||{})[u.NotStarted=0]="NotStarted",u[u.Running=1]="Running",u[u.Stopped=2]="Stopped";var Je={type:"xstate.init"};function Xe(e){return void 0===e?[]:[].concat(e)}function a(e){return{type:"xstate.assign",assignment:e}}function $e(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function et(t){return function(e){return t===e}}function tt(e){return"string"==typeof e?{type:e}:e}function nt(e,t){return{value:e,context:t,actions:[],changed:!1,matches:et(e)}}function it(e,t,i){var o=t,r=!1;return[e.filter(function(t){var n;return"xstate.assign"!==t.type||(r=!0,n=Object.assign({},o),"function"==typeof t.assignment?n=t.assignment(o,i):Object.keys(t.assignment).forEach(function(e){n[e]="function"==typeof t.assignment[e]?t.assignment[e](o,i):t.assignment[e]}),o=n,!1)}),o,r]}function ot(A,t){void 0===t&&(t={});var e=Ke(it(Xe(A.states[A.initial].entry).map(function(e){return $e(e,t.actions)}),A.context,Je),2),n=e[0],e=e[1],I={config:A,_options:t,initialState:{value:A.initial,actions:n,context:e,matches:et(A.initial)},transition:function(e,t){var n,i,e="string"==typeof e?{value:e,context:A.context}:e,o=e.value,r=e.context,s=tt(t),a=A.states[o];if(a.on){e=Xe(a.on[s.type]);try{for(var l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&i>=e.length?void 0:e)&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),u=l.next();!u.done;u=l.next()){var c=u.value;if(void 0===c)return nt(o,r);var f,d,h,p,g,m="string"==typeof c?{target:c}:c,v=m.target,y=m.actions,D=void 0===y?[]:y,_=m.cond,b=void 0===_?function(){return!0}:_,C=void 0===v,M=null!=v?v:o,w=A.states[M];if(b(r,s))return d=(f=Ke(it((C?Xe(D):[].concat(a.exit,D,w.entry).filter(function(e){return e})).map(function(e){return $e(e,I._options.actions)}),r,s),3))[0],h=f[1],p=f[2],{value:g=null!=v?v:o,context:h,actions:d,changed:v!==o||0<d.length||p,matches:et(g)}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}return nt(o,r)}};return I}function rt(t,n){t.actions.forEach(function(e){e=e.exec;return e&&e(t.context,n)})}function st(t){var n=t.initialState,i=s.NotStarted,o=new Set,r={_machine:t,send:function(e){i===s.Running&&(n=t.transition(n,e),rt(n,tt(e)),o.forEach(function(e){return e(n)}))},subscribe:function(e){return o.add(e),e(n),{unsubscribe:function(){return o.delete(e)}}},start:function(e){return e&&(e="object"==typeof e?e:{context:t.config.context,value:e},n={value:e.value,actions:[],context:e.context,matches:et(e.value)}),i=s.Running,rt(n,Je),r},stop:function(){return i=s.Stopped,o.clear(),r},get state(){return n},get status(){return i}};return r}function at(e,t){var m=t.getCastFn,v=t.applyEventsSynchronously,y=t.emitter;return st(ot({id:"player",context:e,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:a({lastPlayedEvent:function(e,t){return"CAST_EVENT"===t.type?t.payload.event:e.lastPlayedEvent}}),recordTimeOffset:a(function(e,t){var n=e.timeOffset;return"payload"in t&&"timeOffset"in t.payload&&(n=t.payload.timeOffset),te(te({},e),{timeOffset:n,baselineTime:e.events[0].timestamp+n})}),play:function(e){var t,n,i,o,r=e.timer,s=e.events,a=e.baselineTime,l=e.lastPlayedEvent;r.clear();try{for(var u=ne(s),c=u.next();!c.done;c=u.next())Ze(c.value,a)}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(t)throw t.error}}var e=function(e,t){for(var n=e.length-1;0<=n;n--){var i=e[n];if(i.type===ee.EventType.Meta&&i.timestamp<=t)return e.slice(n)}return e}(s,a),f=null==l?void 0:l.timestamp,d=((null==l?void 0:l.type)===ee.EventType.IncrementalSnapshot&&l.data.source===ee.IncrementalSource.MouseMove&&(f=l.timestamp+(null==(o=l.data.positions[0])?void 0:o.timeOffset)),a<(f||0)&&y.emit(ee.ReplayerEvents.PlayBack),new Array),h=new Array;try{for(var p=ne(e),g=p.next();!g.done;g=p.next())!function(e){if(f&&f<a&&(e.timestamp<=f||e===l))return;var t;e.timestamp<a?d.push(e):(t=m(e,!1),h.push({doAction:function(){t(),y.emit(ee.ReplayerEvents.EventCast,e)},delay:e.delay}))}(g.value)}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}v(d),y.emit(ee.ReplayerEvents.Flush),r.addActions(h),r.start()},pause:function(e){e.timer.clear()},resetLastPlayedEvent:a(function(e){return te(te({},e),{lastPlayedEvent:null})}),startLive:a({baselineTime:function(e,t){return e.timer.toggleLiveMode(!0),e.timer.start(),"TO_LIVE"===t.type&&t.payload.baselineTime?t.payload.baselineTime:Date.now()}}),addEvent:a(function(e,t){var n=e.baselineTime,i=e.timer,o=e.events;if("ADD_EVENT"===t.type){var r=t.payload.event,s=(Ze(r,n),o.length-1);if(!o[s]||o[s].timestamp<=r.timestamp)o.push(r);else{for(var t=-1,a=0;a<=s;){var l=Math.floor((a+s)/2);o[l].timestamp<=r.timestamp?a=l+1:s=l-1}-1===t&&(t=a),o.splice(t,0,r)}var t=r.timestamp<n,u=m(r,t);t?u():i.isActive()&&i.addAction({doAction:function(){u(),y.emit(ee.ReplayerEvents.EventCast,r)},delay:r.delay})}return te(te({},e),{events:o})})}}))}var D;function _(e,t){e=e[t[0]];return 1===t.length?e:_(e.cssRules[t[1]].cssRules,t.slice(2))}function lt(e){var e=ie(e),t=e.pop();return{positions:e,index:t}}function ut(e,h){e.forEach(function(e){var t,n,i,o,r,s;if(e.type===D.Insert)try{Array.isArray(e.index)?(r=(i=lt(e.index)).positions,s=i.index,_(h.sheet.cssRules,r).insertRule(e.cssText,s)):null!=(t=h.sheet)&&t.insertRule(e.cssText,e.index)}catch(e){}else if(e.type===D.Remove)try{Array.isArray(e.index)?(r=(o=lt(e.index)).positions,s=o.index,_(h.sheet.cssRules,r).deleteRule(s||0)):null!=(n=h.sheet)&&n.deleteRule(e.index)}catch(e){}else if(e.type===D.Snapshot){var a,l=e.cssTexts,u=h;try{var c=Array.from((null==(a=u.sheet)?void 0:a.cssRules)||[]).map(function(e){return e.cssText}),f=Object.entries(c).reverse(),d=c.length;f.forEach(function(e){var t,e=H(e,2),n=e[0],e=e[1],e=l.indexOf(e);if(-1===e||d<e)try{null!=(t=u.sheet)&&t.deleteRule(Number(n))}catch(e){}d=e}),l.forEach(function(e,t){var n,i,o;try{(null==(i=null==(n=u.sheet)?void 0:n.cssRules[t])?void 0:i.cssText)!==e&&null!=(o=u.sheet)&&o.insertRule(e,t)}catch(e){}})}catch(e){}}else e.type===D.SetProperty?_(h.sheet.cssRules,e.index).style.setProperty(e.property,e.value,e.priority):e.type===D.RemoveProperty&&_(h.sheet.cssRules,e.index).style.removeProperty(e.property)})}(u=D=D||{})[u.Insert=0]="Insert",u[u.Remove=1]="Remove",u[u.Snapshot=2]="Snapshot",u[u.SetProperty=3]="SetProperty",u[u.RemoveProperty=4]="RemoveProperty";var ct=Ve,ft="[replayer]",dt={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function ht(e){return e.type==ee.EventType.IncrementalSnapshot&&(e.data.source==ee.IncrementalSource.TouchMove||e.data.source==ee.IncrementalSource.MouseInteraction&&e.data.type==ee.MouseInteractions.TouchStart)}function l(e,t){var m=this;if(this.mouseTail=null,this.tailPositions=[],this.emitter=ct(),this.legacy_missingNodeRetryMap={},this.cache=Z(),this.imageMap=new Map,this.mirror=ue(),this.firstFullSnapshot=null,this.newDocumentQueue=[],this.mousePos=null,((this.touchActive=null)==t||!t.liveMode)&&e.length<2)throw new Error("Replayer need at least 2 events.");var n,i,o={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:!1,showWarning:!0,showDebug:!1,blockClass:"rr-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:dt},o=(this.config=Object.assign({},o,t),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this),this.emitter.on(ee.ReplayerEvents.Resize,this.handleResize),this.setupDom(),this.treeIndex=new ye,this.fragmentParentMap=new Map,this.elementStateMap=new Map,this.virtualStyleRulesMap=new Map,this.emitter.on(ee.ReplayerEvents.Flush,function(){var t,e,n,i,o,r,s=m.treeIndex.flush(),a=s.scrollMap,s=s.inputMap;m.fragmentParentMap.forEach(function(e,t){return m.restoreRealParent(t,e)});try{for(var l=ne(m.virtualStyleRulesMap.keys()),u=l.next();!u.done;u=l.next()){var c=u.value;m.restoreNodeSheet(c)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}m.fragmentParentMap.clear(),m.elementStateMap.clear(),m.virtualStyleRulesMap.clear();try{for(var f=ne(a.values()),d=f.next();!d.done;d=f.next()){var h=d.value;m.applyScroll(h)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}try{for(var p=ne(s.values()),g=p.next();!g.done;g=p.next()){h=g.value;m.applyInput(h)}}catch(e){o={error:e}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}}),this.emitter.on(ee.ReplayerEvents.PlayBack,function(){m.firstFullSnapshot=null,m.mirror.reset()}),new qe([],(null==t?void 0:t.speed)||o.speed)),e=(this.service=at({events:e.map(function(e){return t&&t.unpackFn?t.unpackFn(e):e}).sort(function(e,t){return e.timestamp-t.timestamp}),timer:o,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter}),this.service.start(),this.service.subscribe(function(e){m.emitter.emit(ee.ReplayerEvents.StateChange,{player:e})}),this.speedService=st(ot({id:"speed",context:{normalSpeed:-1,timer:o},initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:function(e,t){"payload"in t&&e.timer.setSpeed(t.payload.speed)},recordSpeed:a({normalSpeed:function(e){return e.timer.speed}}),restoreSpeed:function(e){e.timer.setSpeed(e.normalSpeed)}}})),this.speedService.start(),this.speedService.subscribe(function(e){m.emitter.emit(ee.ReplayerEvents.StateChange,{speed:e})}),this.service.state.context.events.find(function(e){return e.type===ee.EventType.Meta})),r=this.service.state.context.events.find(function(e){return e.type===ee.EventType.FullSnapshot});e&&(o=e.data,n=o.width,i=o.height,setTimeout(function(){m.emitter.emit(ee.ReplayerEvents.Resize,{width:n,height:i})},0)),r&&setTimeout(function(){m.firstFullSnapshot||(m.firstFullSnapshot=r,m.rebuildFullSnapshot(r),m.iframe.contentWindow.scrollTo(r.data.initialOffset))},1),this.service.state.context.events.find(ht)&&this.mouse.classList.add("touch-device")}Object.defineProperty(l.prototype,"timer",{get:function(){return this.service.state.context.timer},enumerable:!1,configurable:!0}),l.prototype.on=function(e,t){return this.emitter.on(e,t),this},l.prototype.off=function(e,t){return this.emitter.off(e,t),this},l.prototype.setConfig=function(t){var n=this;Object.keys(t).forEach(function(e){n.config[e]=t[e]}),this.config.skipInactive||this.backToNormal(),void 0!==t.speed&&this.speedService.send({type:"SET_SPEED",payload:{speed:t.speed}}),void 0!==t.mouseTail&&(!1===t.mouseTail?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))},l.prototype.getMetaData=function(){var e=this.service.state.context.events[0],t=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:e.timestamp,endTime:t.timestamp,totalTime:t.timestamp-e.timestamp}},l.prototype.getCurrentTime=function(){return this.timer.timeOffset+this.getTimeOffset()},l.prototype.getTimeOffset=function(){var e=this.service.state.context;return e.baselineTime-e.events[0].timestamp},l.prototype.getMirror=function(){return this.mirror},l.prototype.play=function(e){void 0===e&&(e=0),this.service.state.matches("paused")||this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:e}}),null!=(e=this.iframe.contentDocument)&&e.getElementsByTagName("html")[0].classList.remove("rrweb-paused"),this.emitter.emit(ee.ReplayerEvents.Start)},l.prototype.pause=function(e){void 0===e&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),"number"==typeof e&&(this.play(e),this.service.send({type:"PAUSE"})),null!=(e=this.iframe.contentDocument)&&e.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(ee.ReplayerEvents.Pause)},l.prototype.resume=function(e){void 0===e&&(e=0),console.warn("The 'resume' will be departed in 1.0. Please use 'play' method which has the same interface."),this.play(e),this.emitter.emit(ee.ReplayerEvents.Resume)},l.prototype.startLive=function(e){this.service.send({type:"TO_LIVE",payload:{baselineTime:e}})},l.prototype.addEvent=function(e){var t=this,n=this.config.unpackFn?this.config.unpackFn(e):e;ht(n)&&this.mouse.classList.add("touch-device"),Promise.resolve().then(function(){return t.service.send({type:"ADD_EVENT",payload:{event:n}})})},l.prototype.enableInteract=function(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"},l.prototype.disableInteract=function(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"},l.prototype.resetCache=function(){this.cache=Z()},l.prototype.setupDom=function(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),!1!==this.config.mouseTail&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");var e=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&e.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",e.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&(Ge(this.iframe.contentWindow,this.iframe.contentDocument),ve(this.iframe.contentWindow))},l.prototype.handleResize=function(e){var t,n;this.iframe.style.display="inherit";try{for(var i=ne([this.mouseTail,this.iframe]),o=i.next();!o.done;o=i.next()){var r=o.value;r&&(r.setAttribute("width",String(e.width)),r.setAttribute("height",String(e.height)))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},l.prototype.applyEventsSynchronously=function(e){var t,n;try{for(var i=ne(e),o=i.next();!o.done;o=i.next()){var r=o.value;switch(r.type){case ee.EventType.DomContentLoaded:case ee.EventType.Load:case ee.EventType.Custom:continue;case ee.EventType.FullSnapshot:case ee.EventType.Meta:case ee.EventType.Plugin:break;case ee.EventType.IncrementalSnapshot:if(r.data.source===ee.IncrementalSource.MediaInteraction)continue}this.getCastFn(r,!0)()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.mousePos&&this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,!0,this.mousePos.debugData),!(this.mousePos=null)===this.touchActive?this.mouse.classList.add("touch-active"):!1===this.touchActive&&this.mouse.classList.remove("touch-active"),this.touchActive=null},l.prototype.getCastFn=function(s,a){var l,u=this;switch(void 0===a&&(a=!1),s.type){case ee.EventType.DomContentLoaded:case ee.EventType.Load:break;case ee.EventType.Custom:l=function(){u.emitter.emit(ee.ReplayerEvents.CustomEvent,s)};break;case ee.EventType.Meta:l=function(){return u.emitter.emit(ee.ReplayerEvents.Resize,{width:s.data.width,height:s.data.height})};break;case ee.EventType.FullSnapshot:l=function(){if(u.firstFullSnapshot){if(u.firstFullSnapshot===s)return void(u.firstFullSnapshot=!0)}else u.firstFullSnapshot=!0;u.rebuildFullSnapshot(s,a),u.iframe.contentWindow.scrollTo(s.data.initialOffset)};break;case ee.EventType.IncrementalSnapshot:l=function(){var e,t;if(u.applyIncremental(s,a),!a&&(s===u.nextUserInteractionEvent&&(u.nextUserInteractionEvent=null,u.backToNormal()),u.config.skipInactive&&!u.nextUserInteractionEvent)){try{for(var n=ne(u.service.state.context.events),i=n.next();!i.done;i=n.next()){var o=i.value;if(!(o.timestamp<=s.timestamp)&&u.isUserInteraction(o)){o.delay-s.delay>1e4*u.speedService.state.context.timer.speed&&(u.nextUserInteractionEvent=o);break}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}u.nextUserInteractionEvent&&(e=u.nextUserInteractionEvent.delay-s.delay,t={speed:Math.min(Math.round(e/5e3),u.config.maxSpeed)},u.speedService.send({type:"FAST_FORWARD",payload:t}),u.emitter.emit(ee.ReplayerEvents.SkipStart,t))}}}return function(){var t,e;l&&l();try{for(var n=ne(u.config.plugins||[]),i=n.next();!i.done;i=n.next())i.value.handler(s,a,{replayer:u})}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}u.service.send({type:"CAST_EVENT",payload:{event:s}});var o,r=u.service.state.context.events.length-1;s===u.service.state.context.events[r]&&(o=function(){r<u.service.state.context.events.length-1||(u.backToNormal(),u.service.send("END"),u.emitter.emit(ee.ReplayerEvents.Finish))},s.type===ee.EventType.IncrementalSnapshot&&s.data.source===ee.IncrementalSource.MouseMove&&s.data.positions.length?setTimeout(function(){o()},Math.max(0,50-s.data.positions[0].timeOffset)):o())}},l.prototype.rebuildFullSnapshot=function(e,t){var n=this;if(void 0===t&&(t=!1),!this.iframe.contentDocument)return console.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&console.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={};var i=[],o=(this.mirror.map=$(e.data.node,{doc:this.iframe.contentDocument,afterAppend:function(e){n.collectIframeAndAttachDocument(i,e)},cache:this.cache})[1],this);try{for(var r=ne(i),s=r.next();!s.done;s=r.next()){var a=s.value;!function(t,e){var n;o.attachDocumentToIframe(t,e),o.newDocumentQueue=o.newDocumentQueue.filter(function(e){return e!==t}),e.contentDocument&&(n=(e=e.contentDocument).documentElement,e=e.head,o.insertStyleRules(n,e))}(a.mutationInQueue,a.builtNode)}}catch(e){u={error:e}}finally{try{s&&!s.done&&(l=r.return)&&l.call(r)}finally{if(u)throw u.error}}var l=this.iframe.contentDocument,u=l.documentElement,l=l.head;this.insertStyleRules(u,l),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(ee.ReplayerEvents.FullsnapshotRebuilded,e),t||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()},l.prototype.insertStyleRules=function(e,t){var n=document.createElement("style"),i=(e.insertBefore(n,t),["."+this.config.blockClass+" { background: #ccc }","noscript { display: none !important; }"].concat(this.config.insertStyleRules));this.config.pauseAnimation&&i.push("html.rrweb-paused * { animation-play-state: paused !important; }");for(var o=0;o<i.length;o++)n.sheet.insertRule(i[o],o)},l.prototype.attachDocumentToIframe=function(e,t){var n,i,o=this,r=[];if(!t.contentDocument)for(var s=t.parentNode;s;){if(this.fragmentParentMap.has(s)){var a=s,l=this.fragmentParentMap.get(a);this.restoreRealParent(a,l);break}s=s.parentNode}J(e.node,{doc:t.contentDocument,map:this.mirror.map,hackCss:!0,skipChild:!1,afterAppend:function(e){o.collectIframeAndAttachDocument(r,e)},cache:this.cache});var u=this;try{for(var c=ne(r),f=c.next();!f.done;f=c.next()){var d=f.value;!function(t,e){var n;u.attachDocumentToIframe(t,e),u.newDocumentQueue=u.newDocumentQueue.filter(function(e){return e!==t}),e.contentDocument&&(n=(e=e.contentDocument).documentElement,e=e.head,u.insertStyleRules(n,e))}(d.mutationInQueue,d.builtNode)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}},l.prototype.collectIframeAndAttachDocument=function(e,t){var n;F(t)&&(n=this.newDocumentQueue.find(function(e){return e.parentId===t.__sn.id}))&&e.push({mutationInQueue:n,builtNode:t})},l.prototype.waitForStylesheetLoad=function(){var t,n,i,e,o,r=this,s=null==(s=this.iframe.contentDocument)?void 0:s.head;s&&(t=new Set,i=this.service.state,e=function(){i=r.service.state},this.emitter.on(ee.ReplayerEvents.Start,e),this.emitter.on(ee.ReplayerEvents.Pause,e),o=function(){r.emitter.off(ee.ReplayerEvents.Start,e),r.emitter.off(ee.ReplayerEvents.Pause,e)},s.querySelectorAll('link[rel="stylesheet"]').forEach(function(e){e.sheet||(t.add(e),e.addEventListener("load",function(){t.delete(e),0===t.size&&-1!==n&&(i.matches("playing")&&r.play(r.getCurrentTime()),r.emitter.emit(ee.ReplayerEvents.LoadStylesheetEnd),n&&window.clearTimeout(n),o())}))}),0<t.size&&(this.service.send({type:"PAUSE"}),this.emitter.emit(ee.ReplayerEvents.LoadStylesheetStart),n=window.setTimeout(function(){i.matches("playing")&&r.play(r.getCurrentTime()),n=-1,o()},this.config.loadTimeout)))},l.prototype.preloadAllImages=function(){function e(){i.service.state}var t,n,i=this;this.service.state;this.emitter.on(ee.ReplayerEvents.Start,e),this.emitter.on(ee.ReplayerEvents.Pause,e);try{for(var o=ne(this.service.state.context.events),r=o.next();!r.done;r=o.next()){var s,a,l,u=r.value;u.type!==ee.EventType.IncrementalSnapshot||u.data.source!==ee.IncrementalSource.CanvasMutation||"drawImage"!==u.data.property||"string"!=typeof u.data.args[0]||this.imageMap.has(u)||(null==(l=null==(a=(s=document.createElement("canvas")).getContext("2d"))?void 0:a.createImageData(s.width,s.height))||l.data,JSON.parse(u.data.args[0]),null!=a&&a.putImageData(l,0,0))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},l.prototype.applyIncremental=function(n,i){var e,o=this,r=n.data;switch(r.source){case ee.IncrementalSource.Mutation:i&&(r.adds.forEach(function(e){return o.treeIndex.add(e)}),r.texts.forEach(function(e){return o.treeIndex.text(e)}),r.attributes.forEach(function(e){return o.treeIndex.attribute(e)}),r.removes.forEach(function(e){return o.treeIndex.remove(e,o.mirror)}));try{this.applyMutation(r,i)}catch(e){this.warn("Exception in mutation "+(e.message||e),r)}break;case ee.IncrementalSource.Drag:case ee.IncrementalSource.TouchMove:case ee.IncrementalSource.MouseMove:i?(l=r.positions[r.positions.length-1],this.mousePos={x:l.x,y:l.y,id:l.id,debugData:r}):(r.positions.forEach(function(e){var t={doAction:function(){o.moveAndHover(e.x,e.y,e.id,i,r)},delay:e.timeOffset+n.timestamp-o.service.state.context.baselineTime};o.timer.addAction(t)}),this.timer.addAction({doAction:function(){},delay:n.delay-(null==(l=r.positions[0])?void 0:l.timeOffset)}));break;case ee.IncrementalSource.MouseInteraction:if(-1===r.id)break;var t,s=new Event(ee.MouseInteractions[r.type].toLowerCase());if(!(t=this.mirror.getNode(r.id)))return this.debugNodeNotFound(r,r.id);this.emitter.emit(ee.ReplayerEvents.MouseInteraction,{type:r.type,target:t});var a=this.config.triggerFocus;switch(r.type){case ee.MouseInteractions.Blur:"blur"in t&&t.blur();break;case ee.MouseInteractions.Focus:a&&t.focus&&t.focus({preventScroll:!0});break;case ee.MouseInteractions.Click:case ee.MouseInteractions.TouchStart:case ee.MouseInteractions.TouchEnd:i?(r.type===ee.MouseInteractions.TouchStart?this.touchActive=!0:r.type===ee.MouseInteractions.TouchEnd&&(this.touchActive=!1),this.mousePos={x:r.x,y:r.y,id:r.id,debugData:r}):(r.type===ee.MouseInteractions.TouchStart&&(this.tailPositions.length=0),this.moveAndHover(r.x,r.y,r.id,i,r),r.type===ee.MouseInteractions.Click?(this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active")):r.type===ee.MouseInteractions.TouchStart?(this.mouse.offsetWidth,this.mouse.classList.add("touch-active")):r.type===ee.MouseInteractions.TouchEnd&&this.mouse.classList.remove("touch-active"));break;case ee.MouseInteractions.TouchCancel:i?this.touchActive=!1:this.mouse.classList.remove("touch-active");break;default:t.dispatchEvent(s)}break;case ee.IncrementalSource.Scroll:if(-1===r.id)break;if(i){this.treeIndex.scroll(r);break}this.applyScroll(r);break;case ee.IncrementalSource.ViewportResize:this.emitter.emit(ee.ReplayerEvents.Resize,{width:r.width,height:r.height});break;case ee.IncrementalSource.Input:if(-1===r.id)break;if(i){this.treeIndex.input(r);break}this.applyInput(r);break;case ee.IncrementalSource.MediaInteraction:if(!(t=this.mirror.getNode(r.id)))return this.debugNodeNotFound(r,r.id);var l=t;try{r.currentTime&&(l.currentTime=r.currentTime),r.type===y.Pause&&l.pause(),r.type===y.Play&&l.play()}catch(e){this.config.showWarning&&console.warn("Failed to replay media interactions: "+(e.message||e))}break;case ee.IncrementalSource.StyleSheetRule:if(!(t=this.mirror.getNode(r.id)))return this.debugNodeNotFound(r,r.id);var u,c=t,f=t.parentNode,d=this.fragmentParentMap.has(f),h=d?null:c.sheet;h||(this.virtualStyleRulesMap.has(t)?u=this.virtualStyleRulesMap.get(t):(u=[],this.virtualStyleRulesMap.set(t,u))),r.adds&&r.adds.forEach(function(e){var t,n,i,o=e.rule,e=e.index;if(h)try{Array.isArray(e)?(n=(t=lt(e)).positions,i=t.index,_(h.cssRules,n).insertRule(o,i)):(i=void 0===e?void 0:Math.min(e,h.cssRules.length),h.insertRule(o,i))}catch(e){}else null!=u&&u.push({cssText:o,index:e,type:D.Insert})}),r.removes&&r.removes.forEach(function(e){var t,n,i,e=e.index;if(d)null!=u&&u.push({index:e,type:D.Remove});else try{Array.isArray(e)?(n=(t=lt(e)).positions,i=t.index,_(h.cssRules,n).deleteRule(i||0)):null!=h&&h.deleteRule(e)}catch(e){}});break;case ee.IncrementalSource.StyleDeclaration:if(!(t=this.mirror.getNode(r.id)))return this.debugNodeNotFound(r,r.id);c=t,f=t.parentNode,l=this.fragmentParentMap.has(f)?null:c.sheet,f=[];l||(this.virtualStyleRulesMap.has(t)?f=this.virtualStyleRulesMap.get(t):this.virtualStyleRulesMap.set(t,f=[])),r.set&&(l?_(l.rules,r.index).style.setProperty(r.set.property,r.set.value,r.set.priority):f.push(te({type:D.SetProperty,index:r.index},r.set))),r.remove&&(l?_(l.rules,r.index).style.removeProperty(r.remove.property):f.push(te({type:D.RemoveProperty,index:r.index},r.remove)));break;case ee.IncrementalSource.CanvasMutation:if(!this.config.UNSAFE_replayCanvas)return;if(!(t=this.mirror.getNode(r.id)))return this.debugNodeNotFound(r,r.id);try{var p=t.getContext("2d");if(r.setter)return void(p[r.property]=r.args[0]);var g,m=p[r.property];"drawImage"===r.property&&"string"==typeof r.args[0]&&(g=this.imageMap.get(n),r.args[0]=g),m.apply(p,r.args)}catch(e){this.warnCanvasMutationFailed(r,r.id,e)}break;case ee.IncrementalSource.Font:try{var v=new FontFace(r.family,r.buffer?new Uint8Array(JSON.parse(r.fontSource)):r.fontSource,r.descriptors);null!=(e=this.iframe.contentDocument)&&e.fonts.add(v)}catch(e){this.config.showWarning&&console.warn(e)}}},l.prototype.applyMutation=function(l,u){for(var t,e,c=this,f=(l.removes.forEach(function(t){var n=c.mirror.getNode(t.id);if(!n)return l.removes.find(function(e){return e.id===t.parentId})?void 0:c.warnNodeNotFound(l,t.id);var i=c.mirror.getNode(t.parentId);if(!i)return c.warnNodeNotFound(l,t.parentId);if(t.isShadow&&P(i)&&(i=i.shadowRoot),c.mirror.removeNodeFromMap(n),i){var o=null,r="__sn"in i?c.fragmentParentMap.get(i):void 0;r&&r.contains(n)?i=r:c.fragmentParentMap.has(n)&&(o=c.fragmentParentMap.get(n),c.fragmentParentMap.delete(n),n=o);try{i.removeChild(n)}catch(e){if(!(e instanceof DOMException))throw e;c.warn("parent could not remove child in mutation",i,r,n,o,l)}}}),te({},this.legacy_missingNodeRetryMap)),d=[],h=function(e){var t=null;return e.nextId&&(t=c.mirror.getNode(e.nextId)),null!==e.nextId&&void 0!==e.nextId&&-1!==e.nextId&&!t},n=function(e){if(!c.iframe.contentDocument)return console.warn("Looks like your replayer has been destroyed.");var t=c.mirror.getNode(e.parentId);if(!t)return(e.node.type===T.Document?c.newDocumentQueue:d).push(e);var n=null,i=(c.iframe.contentDocument.contains?n=c.iframe.contentDocument.contains(t):c.iframe.contentDocument.body.contains&&(n=c.iframe.contentDocument.body.contains(t)),0<(null==(i=(r=t).getElementsByTagName)?void 0:i.call(r,"iframe").length));if(u&&n&&!F(t)&&!i){var o=document.createDocumentFragment();for(c.mirror.map[e.parentId]=o,c.fragmentParentMap.set(o,t),c.storeState(t);t.firstChild;)o.appendChild(t.firstChild);t=o}e.node.isShadow&&P(t)&&(t=t.shadowRoot);var r=null,n=null;if(e.previousId&&(r=c.mirror.getNode(e.previousId)),e.nextId&&(n=c.mirror.getNode(e.nextId)),h(e))return d.push(e);if(!e.node.rootId||c.mirror.getNode(e.node.rootId)){var s=e.node.rootId?c.mirror.getNode(e.node.rootId):c.iframe.contentDocument;if(F(t))c.attachDocumentToIframe(e,t);else{var a,l=J(e.node,{doc:s,map:c.mirror.map,skipChild:!0,hackCss:!0,cache:c.cache});if(-1===e.previousId||-1===e.nextId)f[e.node.id]={node:l,mutation:e};else{if(r&&r.nextSibling&&r.nextSibling.parentNode)t.insertBefore(l,r.nextSibling);else if(n&&n.parentNode)t.contains(n)?t.insertBefore(l,n):t.insertBefore(l,null);else{if(t===s)for(;s.firstChild;)s.removeChild(s.firstChild);t.appendChild(l)}F(l)&&((a=c.newDocumentQueue.find(function(e){return e.parentId===l.__sn.id}))&&(c.attachDocumentToIframe(a,l),c.newDocumentQueue=c.newDocumentQueue.filter(function(e){return e!==a})),l.contentDocument&&(r=(i=l.contentDocument).documentElement,n=i.head,c.insertStyleRules(r,n))),(e.previousId||e.nextId)&&c.legacy_resolveMissingNode(f,t,l,e)}}}},i=(l.adds.forEach(function(e){n(e)}),Date.now());d.length;){var o=De(d);if(d.length=0,500<Date.now()-i){this.warn("Timeout in the loop, please check the resolve tree data:",o);break}try{t=void 0;for(var r=ne(o),s=r.next();!s.done;s=r.next()){var a=s.value;this.mirror.getNode(a.value.parentId)?_e(a,function(e){n(e)}):this.debug("Drop resolve tree since there is no parent for the root node.",a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}Object.keys(f).length&&Object.assign(this.legacy_missingNodeRetryMap,f),l.texts.forEach(function(t){var e=c.mirror.getNode(t.id);if(!e)return l.removes.find(function(e){return e.id===t.id})?void 0:c.warnNodeNotFound(l,t.id);(e=c.fragmentParentMap.has(e)?c.fragmentParentMap.get(e):e).textContent=t.value}),l.attributes.forEach(function(t){var e,n=c.mirror.getNode(t.id);if(!n)return l.removes.find(function(e){return e.id===t.id})?void 0:c.warnNodeNotFound(l,t.id);for(e in c.fragmentParentMap.has(n)&&(n=c.fragmentParentMap.get(n)),t.attributes)if("string"==typeof e){var i=t.attributes[e];if(null===i)n.removeAttribute(e);else if("string"==typeof i)try{n.setAttribute(e,i)}catch(e){c.config.showWarning&&console.warn("An error occurred may due to the checkout feature.",e)}else if("style"===e){var o,r,s=i,a=n;for(o in s)!1===s[o]?a.style.removeProperty(o):s[o]instanceof Array?(r=s[o],a.style.setProperty(o,r[0],r[1])):(r=s[o],a.style.setProperty(o,r))}}})},l.prototype.applyScroll=function(e){var t=this.mirror.getNode(e.id);if(!t)return this.debugNodeNotFound(e,e.id);if(t===this.iframe.contentDocument)this.iframe.contentWindow.scrollTo({top:e.y,left:e.x,behavior:"smooth"});else try{t.scrollTop=e.y,t.scrollLeft=e.x}catch(e){}},l.prototype.applyInput=function(e){var t=this.mirror.getNode(e.id);if(!t)return this.debugNodeNotFound(e,e.id);try{t.checked=e.isChecked,t.value=e.text}catch(e){}},l.prototype.legacy_resolveMissingNode=function(e,t,n,i){var o,r,s=i.previousId,i=i.nextId,s=s&&e[s],i=i&&e[i];s&&(o=s.node,r=s.mutation,t.insertBefore(o,n),delete e[r.node.id],delete this.legacy_missingNodeRetryMap[r.node.id],(r.previousId||r.nextId)&&this.legacy_resolveMissingNode(e,t,o,r)),i&&(o=i.node,r=i.mutation,t.insertBefore(o,n.nextSibling),delete e[r.node.id],delete this.legacy_missingNodeRetryMap[r.node.id],(r.previousId||r.nextId)&&this.legacy_resolveMissingNode(e,t,o,r))},l.prototype.moveAndHover=function(e,t,n,i,o){var r=this.mirror.getNode(n);if(!r)return this.debugNodeNotFound(o,n);o=be(r,this.iframe),n=e*o.absoluteScale+o.x,e=t*o.absoluteScale+o.y;this.mouse.style.left=n+"px",this.mouse.style.top=e+"px",i||this.drawMouseTail({x:n,y:e}),this.hoverElements(r)},l.prototype.drawMouseTail=function(t){var e,n,i,o,r,s=this;this.mouseTail&&(o=!0===this.config.mouseTail?dt:Object.assign({},dt,this.config.mouseTail),e=o.lineCap,n=o.lineWidth,i=o.strokeStyle,o=o.duration,r=function(){var t;!s.mouseTail||(t=s.mouseTail.getContext("2d"))&&s.tailPositions.length&&(t.clearRect(0,0,s.mouseTail.width,s.mouseTail.height),t.beginPath(),t.lineWidth=n,t.lineCap=e,t.strokeStyle=i,t.moveTo(s.tailPositions[0].x,s.tailPositions[0].y),s.tailPositions.forEach(function(e){return t.lineTo(e.x,e.y)}),t.stroke())},this.tailPositions.push(t),r(),setTimeout(function(){s.tailPositions=s.tailPositions.filter(function(e){return e!==t}),r()},o/this.speedService.state.context.timer.speed))},l.prototype.hoverElements=function(e){null!=(t=this.iframe.contentDocument)&&t.querySelectorAll(".\\:hover").forEach(function(e){e.classList.remove(":hover")});for(var t,n=e;n;)n.classList&&n.classList.add(":hover"),n=n.parentElement},l.prototype.isUserInteraction=function(e){return e.type===ee.EventType.IncrementalSnapshot&&(e.data.source>ee.IncrementalSource.Mutation&&e.data.source<=ee.IncrementalSource.Input)},l.prototype.backToNormal=function(){this.nextUserInteractionEvent=null,this.speedService.state.matches("normal")||(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(ee.ReplayerEvents.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))},l.prototype.restoreRealParent=function(e,t){(this.mirror.map[t.__sn.id]=t).__sn.type===T.Element&&"textarea"===t.__sn.tagName&&e.textContent&&(t.value=e.textContent),t.appendChild(e),this.restoreState(t)},l.prototype.storeState=function(e){var t,n;if(e&&e.nodeType===e.ELEMENT_NODE){var i=e;if((i.scrollLeft||i.scrollTop)&&this.elementStateMap.set(e,{scroll:[i.scrollLeft,i.scrollTop]}),"STYLE"===i.tagName){var e=i,o=this.virtualStyleRulesMap;try{var r=Array.from((null==(s=e.sheet)?void 0:s.cssRules)||[]).map(function(e){return e.cssText});o.set(e,[{type:D.Snapshot,cssTexts:r}])}catch(e){}}var s=i.children;try{for(var a=ne(Array.from(s)),l=a.next();!l.done;l=a.next()){var u=l.value;this.storeState(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},l.prototype.restoreState=function(e){var t,n;if(e.nodeType===e.ELEMENT_NODE){var i=e,o=(this.elementStateMap.has(e)&&((o=this.elementStateMap.get(e)).scroll&&(i.scrollLeft=o.scroll[0],i.scrollTop=o.scroll[1]),this.elementStateMap.delete(e)),i.children);try{for(var r=ne(Array.from(o)),s=r.next();!s.done;s=r.next()){var a=s.value;this.restoreState(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},l.prototype.restoreNodeSheet=function(e){var t=this.virtualStyleRulesMap.get(e);"STYLE"===e.nodeName&&t&&ut(t,e)},l.prototype.warnNodeNotFound=function(e,t){this.treeIndex.idRemoved(t)?this.warn("Node with id '"+t+"' was previously removed. ",e):this.warn("Node with id '"+t+"' not found. ",e)},l.prototype.warnCanvasMutationFailed=function(e,t,n){this.warn("Has error on update canvas '"+t+"'",e,n)},l.prototype.debugNodeNotFound=function(e,t){this.treeIndex.idRemoved(t)?this.debug(ft,"Node with id '"+t+"' was previously removed. ",e):this.debug(ft,"Node with id '"+t+"' not found. ",e)},l.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.config.showWarning&&console.warn.apply(console,ie([ft],e))};var u=o.addCustomEvent,pt=o.freezePage,gt=0,mt=!(l.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.config.showDebug&&console.log.apply(console,ie([ft],e))});function p(e){e&&e.getAttribute&&null===e.getAttribute("cb-id")&&(e.setAttribute("cb-id",gt),gt++)}return ee.Replayer=l,ee.addCustomEvent=u,ee.freezePage=pt,ee.record=o,ee.utils=t,ee.createCbId=p,ee.cbIdCount=gt,ee.scrollByAgent=mt,Object.defineProperty(ee,"__esModule",{value:!0}),ee}({});function Resampler(e,t,n,i,o){this.fromSampleRate=e,this.toSampleRate=t,this.channels=0|n,this.outputBufferSize=i,this.noReturn=!!o,this.initialize()}!function(e){window.koreBotChat=e()}(function(){return function(){var e,t=(window&&window.KoreSDK&&window.KoreSDK.dependencies&&window.KoreSDK.dependencies.jQuery?window.KoreSDK.dependencies:window).jQuery;return function(W,O){var r,L,o,z,t,F,n,i,P,R,U,u,c,s,h=requireKr("/KoreBot.js").instance(),B={message:"Message...",connecting:"Connecting...",reconnecting:"Reconnecting..."},a={},Y=/<script\b[^>]*>([\s\S]*?)/gm,l={},H=[],V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABa1SURBVHic7Z17lFXVfce/v73P4577mhlmGIbRCIrg6ERUQI1CEmt8oYEkEiBPG1tjVl2rzWob08SupLdrtSZ1JWmTVJM0WS3GrFShGGMEXcRXG4hJFA1igoSIiggjDMM87uM89+4fdwZmmPs6d8495w74WWsWi3v2ued39/6e3977t1+Ek5S/XL5cl0QLBGPnSCF6QNRNQLsk6oCUMyBlO4hmAEgAcABkAVgSOMyAPgB7QbRLeN7OpOf9+mtbtuQi/UENgqI2IADothtu6IGUl0qiXhD1QMoeAGcC4AE9wwHwLAGbScoNd2/e/IeAvjdypp0AMpkMO7R9+2IIcY0E3g3gUgCtIZvxSyL6Vmc2uzHz9NNuyM8OlGkhgL9evdoo5HLXE7AaRFcBaI/aJgAA0W6S8o57Nm16MGpT6qWpBXDbDTdcDuA2CawEkIrangpskkSf+e4jj7wZtSF+aUoB/MXKlQvJ874rgcuitsUHhwlYe8+mTU9FbYgfgmokBcpzu3cfWrJgAQdwJQAtantqJAHg40vmz3/tuT17XozamFppSg8wxq0rVvQoQtwngSVR2+IDD8B139m06fGoDamFpvQAY1w456wLQLSaFfvr0wVGRGvf03vujCvOP8+8qrPrzadfe01EbVQ5mtYD3HTt8r/jQv5jTON61LbUA2eEZEwBgAMg+a1YvO2bmXXrzKjtOpGmFMCnrrruLscTt6cMBURNaWJNxHUOlbOx/+5hwJo7Nzz02yhtOhFWPUm4fOqa6zO2J27XVD6tCx8ALGeC558vgG2fX/2hq6OypxRNlcM3X3n1LZak7wNAepq//WOU+B0Fyeiyf3ngJzuismk8TZPDt1x11bkFwXZKCa4qDHGtqdunNZPQORQ+ydHuEZZYfNfDD49EYdN4mqIKyGQyig2+Vcpir0RTmsKsQJCl37H5pNHXw7alFE3xms1VY+scT74LAIgIxkny9gOAygmcTRYBEV14+fnnbtj2u5f7IzDrGJG/ap++/voFjis+MfZ/lTdNrRQIVKLwR+Hck5kQTSlJ5AKwbG+jHNcWUcpn2LSEVWjISsKHb1+1an6I5kwiUgHcfOW1izxPvnP8Z6Xc5XSFUfGvUhJO3idDMqe0AVE+XBL+U57wWQWXOe0o0fqfDOEmRNgbi0wAt65Y0eEIuXCCMYyap18aALpaU/bO+eKqD1zSaFvKEZkAbMu9U56g/JOq8BVWsf4fj+B4X4PNKUtkAvA8+aGont1oFEaI+enKSrqycdZUJpKX7tZrb5yds7MHTqz/FUZIFEfQJiGlhCcAV0hIKSFE0X9IWYwdMCpWIZwROCGyMDIf/Q0+n16IHR5MRzHBtHRuNxhX5D57YuEDgJCTP7VdAccVcEWpO8aYfI0xgsoICqfaGmMBoCkMhlpXEMuwZ7X1AHgpYJOqEo0ApCxZ58lx/1q2B9sTKKGJmhBCwhISlgsQPCicFaNynFXrmvmmq8PA3O40du89WvRMdeBJeSFOFQFIQeeUemulBExHwHE91JmPpZ8HwPEEHA8APHBGUEc9Q71xB4UzzD8jhUXnzsB5PV1gnGN/XxYbN+1GwfTvyZmUvXUZMkUiEYAnZbLcNatYSo19vpDwhAQcAQLAR4WgsGLkjpUQBWeErvYYumfGMbc7iXmnJREzNGgJA8SKVczpXUl8ZGUPfvzQLli2v98hJZ0exG/zS+gC+NPly+c5pheYEyYA6YSKzrYYZncY6J5poCWhQVWLhTqSdzCSd5AruMgVPORNFwXTQ8H2YDkebEfA84ruhvGiZ9AUhra0ho5WHV3tBk6bGceMtHZMGMQYFF2HGps8YXnWzARWXD0PGzfvgfRTfxG6g8gPv4QuAHLF5UF8TzKuYklPO957USdSiZB+BhFUXYMSi6FSJ+PsuW3ond+Ol/7gZ6BPnhoCkMQWFWdO10cqruK6y2bj0t6OAK2qBIErHIqugqtazR3nKy5/B15+dQCuU+uEYDqtbhOnQOiBICZEXUpnBFxx0Sz8wy3nN7zwmcKh6Br0RAJGawp6KgGu1V74AJBMaOid72sJY+rzK1eGvvwtdA8gGIvD8+cBOANuWn4WeucFtAiYAMYYQATGGIgzEGNgTAHjLLDw2MUXdOHFXf01twVUXaQBhDpNLPwqQMiYn/REwM0rzkbPnLSv5zDOwHUNnPNiK50IBAo19tkxI453dKew783hmtJ7Qg99DUToVQD5FN17Lur0XfhqLIZYKglV18EUBcRYMTQcQXT4XB/VAEWwDjJ8ATAarDVtKq5gxTJ/3WPV0KEaOio200PkrDNaak4rFHHyewB43pFaky6/zF/DmCkcaqy5VpK1pHS0t9VW63HXCzD+WRsReAD2bC3pDJ3jkl5/G4EUC7853vzxzDm9Fi8gTWKi5pcjKEIXwH/9/LHvqZw9XS3dOT7rfSICV9V6zWooszriVdMQ6NZ/3hD+DiORTAgh11zOCFalNBcu8LcifCwe34x0VhEAkbz/Kxseui8kcyYQSa6te/ppU+FsXbnrBKBnbu2Np+JNzef6x5jZnqhknuW5/PYQzZlAZK+NNnD4b4io5LhpMq7gJFodBoUTEvHS1RMRrbvrwQf3h2zSMSLL5v/Yvj2vMHqh1LVUmcyazrSkSvZOpPTYXWHbMp5I3zPO2b2lPk8lpsu+ULWTjE/+TQQ8+9WNG/dGYM4xIpkQMobTedavySwA41vvQoLr+eiMahAmU9Gnz56wWpikbPvoTZ9d+N8//GZku4pFKQASYP+DWGLipxwY9jlYNB0YtHU4JzYECfOZlA8BmIdSc+RCILIq4KMf/WwngDmlrkWSEw0mlSrbrjlzNC8iIRIBZDIZ1tbetqrcdddr2l3V6qZMIxAA0NbetiqTyURSFqE/NJPJsMGstllRlbvLpWFNHNRpBIqq3H00q2+KQgShP3Aopy0F6NpKac7zGwQ6CSDgusGcFvreyOG/apJVjfE2cVCvoZBkYU10PMap5WvfZhJvC+AU520BnOK8LYBTnLcFcIrztgBOcd4WwClO6ALwhJcN+5nTBQkZ+ubRoQtAOqmtIOwM+7nTgBdbk9bWsB8augC+/e2/suycdbnria+F/exmxfXE1+y8tTSTydhhPzuSNsA992SywwMD34ji2RFSdpR7eGDgG/fck4mkaoysEXj22a1vASi9EOIkHAuwHeGUudQ/mheREJkAMpmMAJMfA3DinLj8vJn8pJsToqvSKrFMfC+Y/Hgmk4lsAkRTvmsHf3qHLYXwNTWYKQpiqUT1hBHx/Uf3Df78hf6xDQ5e27Jlw5mRGjRKU8YBiDCtj2Q/keG8i62/Pzpu9w/5cHTWTKQpBQCicvVl+VsaYUdAbPjFQRQsb2wLUdfzeNnZUGHTnAIA+W4R+9qSLUSe2XUUW54/PP6je5944oE/RGXPiTSlAIjodb/3NKMAfr9vBP/+8Ovjt7sd5NzLRGfRZJpSAIxoi997pJBNNZ/86ReP4M77/wjn+AxnSUS3PPpodOsASxHpyqByKDb7N4fhyxB+qnYJ4XlgSrRHzh0esnHv4/vxm90Td8JRFHbH5s0PbIzIrLI0bdvprUe+9JznOIv93KPFY1DC32gLAPBqXx5bnj+M/905gPE7vRABVy/qfPJzX7k7slNBKtGUHgAANOK3mOQ+L6WsWaSe4wYiACkl+kcECo4AI8LMFIeuTjRjYMTB3oN57HpjBC+8Moz9/ZNPhm9Lqrjthjn5JfOTn/jcV6ZsVkNoWg8AAIc2f3m9a9mra76BCEY6OaXdQvKWwLceO4I3+o+HIhgBMxMOmLAxMOJgYMRG3iq/flHhhGsWdeDDy2Yjaai3tV7xhe/UbVCDaVoPAAAzl7OPvPWIcqlw3TNqukHKUS9Q//LyX7ycn1D4ACAk0DfM0X+48oaPhs7wJws7cP3Fnehs1QDIHzdz4QNNLgCijDj0VKaXstjjuW5XLfc4BRNcV1HvAXRlD6oos1qlu13HOacncfH8Viw8MwVt9Kg4Ivw03WHfXJcRIdLUVcAYcn1GOxT3fuk57uJa+npawoCi1ecFRgoevrFpAIeGjnsBIqAr5WJWCmhNKJjZomFmi445nTEkjUnvkCTQv6YPnfV5WrOm6de5TwsBjHHo0S/f6Vn2F6vFfIhxGOlE3WvMXA/YP2DDdCQYgFmtKlri1dsVQkgwzta2vvcL6+t6cARMKwEAwO4f/a2TTumKFJVHUJWYDs3wtS/1lLAtB+ZQ/vAZa74a2Vr/emjKSGAlHMuVR/qzEJJQSb+uZUG44QwqZofyGO4fgqpiKJQHBsi0EwAACAEMHMnBdLzyXl4Cdt5s6BiBFBL9fYPIDo7AmKY7m01LAYyRHTIxOGyX7fcLz4OVzaMRgwS25eDgvn44BQuplD796tJRprUAAMCxXPQfzkKAoVSVIFwXVjZf9wGUpcgO5fHWG/2AFEi36JEdUxsE014AQPHAyYH+LEzbK9ny9xwXVjZbHDGcAp4rcPjAUQwcGgLnDC3TvPCBJg8E+SU7bKLAGVrb4iCSGP/aC9eDOTICPZHwPWIohUR2OI+hI1kIIaCqHOm0Nu0LH5gGAvjh7wbOEC79GEQLIbFePP9PgCi/fsLzBI70Z8E4Qyodg6owEIpikELCHMmCqyqUmA7OecmOhJSjgjFtWAULuRHzmPeIxRQkklrJOt9hGlu3Y/AHIKwB0Q7GvI/f1DtjX0BZ0RCaWsJPPSWV19uHfgXg2LBwIndAznv5PlLcnO/vUziDPOGtndRLkIAoEWMgIiQSKmJljrd3uIHtXWvM4djsY8EHAnaYdsvFn1nif45jWDR1G2Bfx/DfY1zhA0Au0U27ez8NK+bvPAGguP+g53oT/oQnJv6VKHyuMLS26mULv6C04Dfdn8D4wgcACVyga8Nf9G1oiDStB7h358BCKdmzKHOSluqM4OyXfwQjf7BhNhARDENB3FDL5lRW68D22WthKWXPfHSFxKV/dkHr842ycyo0pQBKuf5SMM/GWXvuR3roj4E+nwBoOkcioZU8SXyMAeMM7OhaBYdVnoTSzFVBU1YB+zqGVqFK4QOA4Br2LvgYjs7oDeS5BEDXFbS2GUil9IqF35fswfOz11QtfKBYFcT0oRsDMTJgmlIAqsaeAFDTnvGCKXh1/hq8Nbv+Q8lVhSGZVNE2w0AqpYHzyo5xX8ti7Oz8AATV3IkqkMGfqtvABtIUVcBzz0m1b6azEKCrJMQyAl2eNZ0ZpuXPY3b2PYPTX38M1UK/nBMUhUNVGTSVg1Up8OMQXmlbildmLPNll6GrSMTULIAdgNwKsMfzTNm25h1U8PVFDSASAWzeI9NCcy8ZLeylAJYBmNCC9qTE0ZGC7zB+1/BOLDiwCSS84108AjgjsNG/egI4Egy7Zl6L/ekL/N1IQFvSAJ9cnbgAdkhgG0Fular21Ipu6vdt2BQJRQA/3Zfr5lJZKkHLCFgK4CLUUP2MFCxYtv9JNe35V3HBWz+BUiFg5AePFLw464M4nDjb9726xpEyap6pvLcoCGwVkNtWztF/5/uBPglcAOul5LF9dg8DLZXAMgLeDWBuPd/legKD2cnTrWuhxTyIi/o2QPOmdvyMww28MGsVBg1/ZxiP0ZqIQan7CDTZJ4HnCGyrBLbNPqz8eknAPYkpC2Cs/i4WNi0F5PsA+I/SlGEoa8Gp8wiZuHMUiw+uh+Ecrev+gprG811rkdP8HWE7hqZwpBOBLlTJAviVhNxGYFuDaEf4FsD6N6SREN77BLz3EGgZit21hh3zZbsehnMVDxmtiO5msejgBqRsf7uw1BDgqUo6oUNr7FI1G8B2CbmVgf9fjvEn/AqiZgH87IDsgON8iYA/BxDqVhxHsya8KRwjw4WDC996EO35V2tKX2uAp+IzGaEtZdR9f51kAfxAquo/19qgrEkAP3vdWUYQ6wGaPSXz6sR0XGTzU2vQkfRw/qFN6Mr+vmK6Q4kFeLFzJQSb2kBpytCga1ENttIBSKx+/1z1l1VTVktQLHz5KIBkILbVgQRwdKQAMcUJHQCw4MiTmDv4m5LX9rUsxu72qyaNGPqFEaEtbUQdZMm6kq79YBURVLTxwT+OdOZN+UY8pmqaGu2y64LlIGcG0wA+Y2g7evofx/EgQ30BnnLEYyrierSTRG3HQ65gO3GuzFl1XqLsiFnF/onp0P2uENpwwYJpR7tvU0xTAjtMaF/LYrxw2loI4pBg2Nn1gcAKn4hgROb6i5i2i+GCBU9K1YL8YaW0ZXNUSsnue2nEFlIce/WjVnbWdOA3PFwJPnwQBAk33R3Yd8Z0FclYdHmUtxzkx3lKRuR98p1pjYhKtqLLSvWB3SMrxhc+AORNB0JIJGNaJEFkQ1dg2s7UZ3lLif0vbsdLW34GITz0vPcanHnpMhBNcWyMEN3bL4GsaU/y1EJKvmGPtRzAplK3lbVWEHsXMFk0pu1CSIm0oYV+vhsngq7yusLDY/S/9gp2PvYTDPcdOPbZzscewr4dz+L86z6E9jln1f3duspLxfwbjgSQLViwnNL5IoRzGfwKgElR9gw72/EwKG20xMOfGWtoal0CkEJg15ObsWfbUyi1SGDo4JvYtu5uzFn0Liy8/kYQ99/oNdTwXb+UEkN5G65bKU/krHJXyvo8icpSdl0PQ1kTIuTt2RTOoPosHFXh6Pvtr7Bn65MlC38MKSVe2/4MDvz2Gag+I3iawqcQ868PISSGslaVwq9cllOy2BUSgyMm3CordYPGKDM580QIQDKmoSWhQ0/Ea//+ZBItCR0Jo/T071LE9HDrfldIDGannvdTlqyQRRU6VVQYJJrCwXll0xkRWhKxYwUz76IlaOuq3tpv6+rGvEUXAyg26FqSsar1OmfU6Jj/BBxPYCgXjPcNxGdJKTGcK98IaQRGhTdOUzjaUhOHYbmq4ZL33wjdMKDrsdJ/hoFLVqwCV47X5QpnaE3FUCkQFmbX2HY8DOWsKS9zGyMwvyVRnMAhhRaKO9RVBQXmwBufEQQkdBVGmQKxrQI44xVl71iTB9MIhHRcL0YjrYndUM4IWkhdP9NxkS3YgS52Dtby0b6oJyUSDQ6GEIB0PIacZcNxBTgjJGMqlAqu2C5UHym1C+UnkBi6CpUzZM2i8FSFIaHX3k6YCkGGwsfTEOkWLAdSSiSNhk0TAFCc3JmO1z5kW5sAKs9AUhSO1mS44yLZwuQAT1A0rN9i2i6yZuiHYFXEqfB2j2EV/K85bCQ502noOExDO66m5UY+iDQey6wuACc/tTmEQWJaLgoBjn2UouGRi5zpBNZinSp2DYVrmZFP1QdQDPLkGlz4QAgCkFIibzWHF7BqqAJqEUkYFCw3lEMwQoldWiFt11aNSi38Y2lqqCbCIKw8C0UAQki4U5jUGRROvrp7t2pI02hcTwQy/a0WQhu98KJuB0gJ26q+yMQxCxUHjMIgrMIHQhRAqZ03wsQ2C6i2vSxQHDZ2ahBKI/FCzKvQBBB1P8CqIQh0LG3E1UCYeVU2EkhSNv1W537w07+3CzmUW93meGJKi1SA4gCTUmU0M0gIVLZFWV4AoKY53DAIaukCjlGut5A3HeQD6psnDa040zkU5MvlrpSVIYnE9xjRSeMFahkHOJ62dBsgyKhmIaQIKSfmMi/xg3LXywpgTS9ldZXf0RizwqeWGMAYVr70eECQTbOwTjrVFPaFNb3lj+KtWBGt7UneFdf5RxSF9xFR1O24KeFnkMePWJoRRiQ5530xTVuz9tzk1yul/X88rxtvOXcvUwAAAABJRU5ErkJggg==",p=0,G="",q="",Z=[],g=!1,K="",J=!1,f=!1,X=!1,$="",ee="",d=0,te=!1,m=!1,v=window.navigator,ne="content-type=audio/x-raw,+layout=(string)interleaved,+rate=(int)16000,+format=(string)S16LE,+channels=(int)1",ie="../libs/recorderWorker.js",oe=250,re=3e4,y=!1,D=null,_=null,se="",b=null,C="",M=!1,ae=!1,le=!1,w={},A={},ue=["m4a","amr","aac","wav","mp3","mp4","mov","3gp","flv","png","jpg","jpeg","gif","bmp","csv","txt","json","pdf","doc","dot","docx","docm","dotx","dotm","xls","xlt","xlm","xlsx","xlsm","xltx","xltm","xlsb","xla","xlam","xll","xlw","ppt","pot","pps","pptx","pptm","potx","potm","ppam","ppsx","ppsm","sldx","sldm","zip","rar","tar","wpd","wps","rtf","msg","dat","sdf","vcf","xml","3ds","3dm","max","obj","ai","eps","ps","svg","indd","pct","accdb","db","dbf","mdb","pdb","sql","apk","cgi","cfm","csr","css","htm","html","jsp","php","xhtml","rss","fnt","fon","otf","ttf","cab","cur","dll","dmp","drv","7z","cbr","deb","gz","pkg","rpm","zipx","bak","avi","m4v","mpg","rm","swf","vob","wmv","3gp2","3g2","asf","asx","srt","wma","mid","aif","iff","m3u","mpa","ra","aiff","tiff"],I=(w.CHUNK_SIZE=1048576,{}),ce=(I.audio=["m4a","amr","wav","aac","mp3"],I.video=["mp4","mov","3gp","flv"],I.image=["png","jpg","jpeg"],I.file={limit:{size:26214400,msg:"Please limit the individual file upload size to 25 MB or lower"}},I.determineFileType=function(e){return e=e.toLowerCase(),-1<I.image.indexOf(e)?"image":-1<I.video.indexOf(e)?"video":-1<I.audio.indexOf(e)?"audio":"attachment"},0),fe={net:{}},k=(window.PieChartCount=0,window.barchartCount=0,window.linechartCount=0,[]),de={},he=(window.chartColors=["#75b0fe","#f78083","#99ed9e","#fde296","#26344a","#5f6bf7","#b3bac8","#99a1fd","#9cebf9","#f7c7f4"],0);function pe(e,t){for(var n=0,i=e.length;n<i;){var o=n+i>>>1;e[o]<t?n=1+o:i=o}return n}function ge(e){var t;return e=(t=e?e.isNotAllowedHTMLTags():t)&&!t.isValid?e.escapeHTML():e}String.prototype.isNotAllowedHTMLTags=function(){var e=document.createElement("div"),t=(e.innerHTML=this,{isValid:!0,key:""});try{return(W(e).find("script").length||W(e).find("video").length||W(e).find("audio").length)&&(t.isValid=!1),W(e).find("link").length&&-1!==W(e).find("link").attr("href").indexOf("script")&&(Y.test(W(e).find("link").attr("href"))?t.isValid=!1:t.isValid=!0),W(e).find("a").length&&-1!==W(e).find("a").attr("href").indexOf("script")&&(Y.test(W(e).find("a").attr("href"))?t.isValid=!1:t.isValid=!0),W(e).find("img").length&&-1!==W(e).find("img").attr("src").indexOf("script")&&(Y.test(W(e).find("img").attr("href"))?t.isValid=!1:t.isValid=!0),W(e).find("object").length&&(t.isValid=!1),t}catch(e){return t}},String.prototype.escapeHTML=function(){var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return(""+this).replace(/[<>"']/g,function(e){return t[e]})},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)};var Q={nl2br:function(e,t){return e=(e=t?window.emojione.shortnameToImage(e):e).replace(/(?:\r\n|\r|\n)/g,"<br />")},br2nl:function(e){return e=e.replace(/<br \/>/g,"\n")},formatAMPM:function(e){var t=e.getHours(),n=e.getMinutes(),i=12<=t?"pm":"am";return(t=(t%=12)||12)+":"+(n=n<10?"0"+n:n)+":"+e.getSeconds()+" "+i},formatDate:function(e){var t,e=new Date(e);return isNaN(e.getTime())&&(t=(new Date).getTime(),e=new Date(t)),e.toDateString()+" at "+Q.formatAMPM(e)},convertMDtoHTML:function(t,e,n){if("object"==typeof t)try{t=JSON.stringify(t)}catch(e){t=""}var i,o={},r={},n=(n&&n.cInfo&&n.cInfo.ignoreCheckMark&&(i=n.cInfo.ignoreCheckMark),r.date=new RegExp(/\\d\(\s*(.{10})\s*(?:,\s*["'](.+?)["']\s*)?\)/g),r.time=new RegExp(/\\t\(\s*(.{8}\.\d{0,3})\s*\)/g),r.datetime=new RegExp(/\\(d|dt|t)\(\s*([-0-9]{10}[T][0-9:.]{12})([z]|[Z]|[+-]\d{4})[\s]*,[\s]*["']([a-zA-Z\W]+)["']\s*\)/g),r.num=new RegExp(/\\#\(\s*(\d*.\d*)\s*\)/g),r.curr=new RegExp(/\\\$\((\d*.\d*)[,](\s*[\"\']\s*\w{3}\s*[\"\']\s*)\)|\\\$\((\d*.\d*)[,](\s*\w{3}\s*)\)/g),{}),s=(n.SPECIAL_CHARS=/[\=\`\~\!@#\$\%\^&\*\(\)_\-\+\{\}\:"\[\];\',\.\/<>\?\|\\]+/,n.EMAIL=/^[-a-z0-9~!$%^&*_=+}{\']+(\.[-a-z0-9~!$%^&*_=+}{\']+)*@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,255})+$/i,n.MENTION=/(^|\s|\\n|")@([^\s]*)(?:[\s]\[([^\]]*)\])?["]?/gi,n.HASHTAG=/(^|\s|\\n)#(\S+)/g,n.NEWLINE=/\n/g,/((?:http\:\/\/|https\:\/\/|www\.)+\S*\.(?:(?:\.\S)*[^\,\s\.])*\/?)/gi),z=/\[([^\]]+)\](|\s)\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\)?/g,a=t||"",l={},u=(l.sd=new RegExp(/^(d{1})[^d]|[^d](d{1})[^d]/g),l.dd=new RegExp(/^(d{2})[^d]|[^d](d{2})[^d]/g),l.fy=new RegExp(/(y{4})|y{2}/g),Object.keys(r));function c(e,t){for(var n,i=[];null!==(n=e.exec(t));){var o={};if(o.index=n.index,o.matchexp=n[0],1<n.length)for(var r=1;r<n.length;r++)o["matchval"+r.toString()]=n[r];i.push(o)}return i}function f(e){return e.toUpperCase()}for(var d,h=0;h<u.length;h++)switch(u[h]){case"date":var p=a,g=c(r.date,p);if(g.length)for(d=0;d<g.length;d++)var m=" "+(m=new Date(g[d].matchval1).toLocaleDateString()).toString()+" ",a=a.replace(g[d].matchexp.toString(),m);break;case"time":var p=a,v=c(r.time,p);if(v.length)for(d=0;d<v.length;d++){var y=" "+(y=new Date(v[d].matchval1).toLocaleTimeString()).toString()+" ";a=a.replace(v[d].matchexp.toString(),y)}break;case"datetime":var D=a,_=c(r.datetime,D);if(_.length)for(d=0;d<_.length;d++){for(var b="",C=Object.keys(_[d]).length-2,M=2;M<C;M++){var F="matchval"+M.toString();b+=_[d][F]}var w="matchval"+C.toString(),w=_[d][w];w=(w=(w=w.replace(l.fy,f)).replace(l.dd,f)).replace(l.sd,f);w=" "+(w=moment(b).format(w)).toString()+" ";a=a.replace(_[d].matchexp.toString(),w)}break;case"num":var D=a,A=c(r.num,D);if(A.length)for(d=0;d<A.length;d++){var I=" "+(I=Number(A[d].matchval1).toLocaleString()).toString()+" ";a=a.replace(A[d].matchexp.toString(),I)}break;case"curr":var P=a,k=c(r.curr,P),R=window.navigator.language||window.navigator.browserLanguage,U=new RegExp(/\w{3}/);if(k.length)for(d=0;d<k.length;d++){var T,x={style:"currency"},E=(k[d].matchval2&&(T=U.exec(k[d].matchval2)),x.currency=T[0].toString(),Number(k[d].matchval1).toLocaleString(R,x)),E=k[d].matchval1.toString()===E.toString()?" "+E.toString()+" "+x.currency:" "+E.toString()+" ";a=a.replace(k[d].matchexp.toString(),E)}}function B(t){return["onclick","onmouse","onblur","onscroll","onStart"].forEach(function(e){e=new RegExp(e,"ig");t=t.replace(e,"")}),t}n.NEWLINE;function Y(e,t,n,i){return-1!==B(i.replace(z,"[]")).indexOf(e)?(i=t.indexOf("http")<0?"http://"+e:e,target="target='underscoreblank'",o&&(t="korerandom://"+Object.keys(o).length,o[t]=i,i=t),"<span class='isLink'><a id='linkEvent'undefined href=\""+i+'">'+e+"</a></span>"):e}a=(a="number"==typeof a?a.toString():a)||"";var S,n="";if("user"===e)a=a.replace(/onerror=/gi,"abc-error="),S=document.createElement("div"),n=(n=a.replace(/“/g,'"').replace(/”/g,'"')).replace(/</g,"&lt;").replace(/>/g,"&gt;"),S.innerHTML=ge(n),a=W(S).find("a").attr("href")?n:n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(s,Y);else if((S=document.createElement("div")).innerHTML=ge(a),W(S).find("a").attr("href"))for(var N=a.match(/<a[^>]*>([^<]+)<\/a>/g),j=0;j<N.length;j++){var O=document.createElement("div"),L=N[j],H=(O.innerHTML=N[j],(-1<L.indexOf("href='mailto:")||-1<L.indexOf('href="mailto:'))&&(L=L.split("\n").join("%0A")),"korerandom://"+Object.keys(o).length),L=(O.innerHTML=L,O.getElementsByTagName("a"));L&&L[0]&&L[0].href&&(o[H]=L[0].href,L[0].href=H),W(O).find("a").attr("target","underscoreblank"),a=a.replace(N[j],O.innerHTML)}else a=S.innerHTML.replace(s,Y);a=i?t:Q.checkMarkdowns(a,o);n=Object.keys(o);return n&&n.length&&n.forEach(function(e){a=a.replace(e,function(){return o[e]})}),a=(a=a.replaceAll('target="underscoreblank"','target="_blank"')).replaceAll("target='underscoreblank'",'target="_blank"'),"user"===e&&(a=a.replace(/abc-error=/gi,"onerror=")),Q.nl2br(a,!0)},checkMarkdowns:function(e,t){if(""===e)return e;for(var n=e.split(/\r?\n/),i=0;i<n.length;i++){var o,r=!1,s=(0===n[i].indexOf("#h6")||0===n[i].indexOf("#H6")?(n[i]="<h6>"+n[i].substring(3)+"</h6>",r=!0):0===n[i].indexOf("#h5")||0===n[i].indexOf("#H5")?(n[i]="<h5>"+n[i].substring(3)+"</h5>",r=!0):0===n[i].indexOf("#h4")||0===n[i].indexOf("#H4")?(n[i]="<h4>"+n[i].substring(3)+"</h4>",r=!0):0===n[i].indexOf("#h3")||0===n[i].indexOf("#H3")?(n[i]="<h3>"+n[i].substring(3)+"</h3>",r=!0):0===n[i].indexOf("#h2")||0===n[i].indexOf("#H2")?(n[i]="<h2>"+n[i].substring(3)+"</h2>",r=!0):0===n[i].indexOf("#h1")||0===n[i].indexOf("#H1")?(n[i]="<h1>"+n[i].substring(3)+"</h1>",r=!0):0===n[i].length?(n[i]="\r\n",r=!0):0===n[i].indexOf("*")?me(n[i].split("*").length-1)||(n[i]="\r\n&#9679; "+n[i].substring(1),r=!0):0===n[i].indexOf(">>")?(n[i]='<p class="indent">'+n[i].substring(2)+"</p>",r=!0):0===n[i].indexOf("&gt;&gt;")?(n[i]='<p class="indent">'+n[i].substring(8)+"</p>",r=!0):0!==n[i].indexOf("---")&&0!==n[i].indexOf("___")||(n[i]="<hr/>"+n[i].substring(3),r=!0),-1===n[i].indexOf(" ![")&&(n[i]=n[i].replace("!["," ![")),n[i].match(/\!\[([^\]]+)\](|\s)+\(([^\)])+\)/g));if(s&&0<s.length)for(o=0;o<s.length;o++){for(var a=s[o].substring(2,s[o].indexOf("]")),l=(d=s[o].substring(s[o].indexOf("]")+1).trim()).substring(1,d.indexOf(")")),u=(t&&(t[h="korerandom://"+Object.keys(t).length]=l,l=h),l='<img src="'+l+'" alt="'+a+'">',n[i].split(" ")),c=0;c<u.length;c++)u[c]===s[o]&&(u[c]=l);n[i]=u.join(" "),n[i]=n[i].replace(s[o],l)}var f=n[i].match(/\[([^\]]+)\](|\s)\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\)/g);if(f&&0<f.length)for(o=0;o<f.length;o++){var d,h,p=f[o].substring(1,f[o].indexOf("]")),g=(g=(d=f[o].substring(f[o].indexOf("]")+1).trim()).substring(1,d.lastIndexOf(")"))).replace(/\\n/g,"%0A");t&&(t[h="korerandom://"+Object.keys(t).length]=g,g=h),g='<span class="isLink"><a id="linkEvent" href="'+g+'" target="underscoreblank">'+Q.checkMarkdowns(p)+"</a></span>",n[i]=n[i].replace(f[o],g)}var m=n[i].match(/\*\S([^*]*?)\*/g);if(m&&0<m.length)for(o=0;o<m.length;o++){var v=m[o],y=!0;v.includes("*")&&(v.replace(/\*/g,"").match(/^[0-9a-zA-Z!@#$%^&()_ +\-=\[\]{};':"\\|,.<>\/?]+$/)||(y=!1)),y&&(v="<b>"+(v=v.substring(1,v.length-1)).trim()+"</b>",n[i]=n[i].replace(m[o],v))}var D=n[i].match(/\~\S([^*]*?)\S\~/g);if(D&&0<D.length)for(o=0;o<D.length;o++){var _=D[o];0!==n[i].indexOf(_)&&" "!==n[i][n[i].indexOf(_)-1]&&-1===n[i].indexOf(_)||(_=_.substring(1,_.length-1),n[i]=n[i].replace(D[o],_='<i class="markdownItalic">'+_+"</i>"))}if((D=n[i].match(/\_\S([^*]*?)\S\_/g))&&0<D.length)for(o=0;o<D.length;o++){_=D[o];0!==n[i].indexOf(_)&&" "!==n[i][n[i].indexOf(_)-1]&&-1===n[i].indexOf(_)||(_=_.substring(1,_.length-1),n[i]=n[i].replace(D[o],_='<i class="markdownItalic">'+_+"</i>"))}if((D=n[i].match(/\~\S([^*]*?)\S\~/g))&&0<D.length)for(o=0;o<D.length;o++){_=D[o];0!==n[i].indexOf(_)&&" "!==n[i][n[i].indexOf(_)-1]&&-1===n[i].indexOf(_)||(_=_.substring(1,_.length-1),n[i]=n[i].replace(D[o],_='<i class="markdownItalic">'+_+"</i>"))}var b,C=n[i].match(/\`\`\`\S([^*]*?)\S\`\`\`/g),M=n[i].match(/\'\'\'\S([^*]*?)\S\'\'\'/g);if(C&&0<C.length){for(o=0;o<C.length;o++)b=(b=C[o]).substring(3,b.length-3),n[i]=n[i].replace(C[o],b="<pre>"+b+"</pre>");r=!0}if(M&&0<M.length){for(o=0;o<M.length;o++)b=(b=M[o]).substring(3,b.length-3),n[i]=n[i].replace(M[o],b="<pre>"+b+"</pre>");r=!0}!r&&0<i&&(n[i]="\r\n"+n[i])}return e=n.join("")}};function me(e){return 0===(e=Number(e))||e&&!(e%2)}function ve(e){for(var i=function(e){var t,n={};if("object"!=typeof e)return e;for(t in e)e.hasOwnProperty(t)&&("object"==typeof e[t]?n[t]=i(e[t]):n[t]=e[t]);return n},t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&("object"==typeof arguments[t][n]?e[n]=i(arguments[t][n]):e[n]=arguments[t][n]);return e}function T(e){f=!1,e.botOptions.test=!1,this.config={chatTitle:"Kore.ai Bot Chat",container:"body",allowIframe:!1,botOptions:e.botOptions},o=e.botOptions.koreAPIUrl,G=e.botOptions.bearer,$=e.botOptions.koreSpeechAPIUrl,se=e.botOptions.ttsSocketUrl,K=e.botOptions.userIdentity,e.botOptions.recorderWorkerPath&&0<e.botOptions.recorderWorkerPath.trim().length&&(ie=e.botOptions.recorderWorkerPath.trim()),e&&e.chatContainer&&delete e.chatContainer,this.config=ve(this.config,e),window._chatHistoryLoaded=!1,this.init(),Me(),Ce(),window.addEventListener("online",Me),window.addEventListener("offline",Me),ye()}function ye(){var e=window.addEventListener?"addEventListener":"attachEvent";(0,window[e])("attachEvent"==e?"onmessage":"message",function(e){e.data&&e.data.event&&"formEvent"===e.data.event&&be(e.data)},!1)}function De(e,t){e&&e.length&&e[0]&&e[0].contentWindow&&t&&e[0].contentWindow.postMessage(t,"*")}function _e(e,t){var n=W("#chatBodyModal");document.getElementsByClassName("closeChatBodyModal")[0].onclick=function(){De(n.find("iframe"),{payload:{},event:"formEvent",action:"formCancel",metaData:{}}),n.hide()},e?(n.find(".closeChatBodyModal").css("display","none"),n.find(".loading_form").css("z-index",999),n&&n.length&&(n.find("#chatBodyModalContent").empty(),n.find("#chatBodyModalContent").append(e),n.show()),setTimeout(function(){n.find(".loading_form").css("z-index",0),t?n.find(".closeChatBodyModal").css("display","block"):n.find(".closeChatBodyModal").css("display","none")},1500)):(n.find(".closeChatBodyModal").css("display","none"),setTimeout(function(){n.find("#chatBodyModalContent").empty()},1e3),n.hide())}function be(e){e&&"formSubmit"===e.action?(_e(),W(".kore-chat-body .uiformComponent").length&&W(".kore-chat-body .uiformComponent").closest(".inlineIframeContainer").css("display","none")):"formCancel"===e.action?W(".kore-chat-body .uiformComponent").length&&W(".kore-chat-body .uiformComponent").closest(".inlineIframeContainer").css("display","none"):"formClose"===e.action&&(_e(),W(".kore-chat-body .uiformComponent").length&&W(".kore-chat-body .uiformComponent").closest(".inlineIframeContainer").css("display","none"))}function Ce(){W(".kore-chat-window").remove(".kore-action-sheet");W(".kore-chat-window").append('<div class="kore-action-sheet hide">                <div class="actionSheetContainer"></div>                </div>')}function Me(){"boolean"==typeof v.onLine&&(v.onLine?(this.hideError(),h&&h.RtmClient&&h.getHistory({forHistorySync:!0,limit:30})):this.showError("You are currently offline"))}function we(){clearTimeout(U),U=setTimeout(function(){var e={type:"ping"};h.sendMessage(e,function(){}),we()},re)}function Ae(){var t=document.getElementById("myModal"),n=(document.getElementById("myImg"),document.getElementById("img01")),i=document.getElementById("caption");if(0<document.querySelectorAll(".messageBubble img").length)for(var e=0;e<document.querySelectorAll(".messageBubble img").length;e++)document.querySelectorAll(".messageBubble img")[e].addEventListener("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),t.style.display="block",n.src=this.src,i.innerHTML=this.alt});document.getElementsByClassName("closeImagePreview")[0].onclick=function(){t.style.display="none"}}function Ie(){try{return/iphone|ipod|android|blackberry|fennec/.test(v.userAgent.toLowerCase())||window.screen.width<=480}catch(e){return!1}}function ke(e,t){var n;0<(sel=window.getSelection()).rangeCount&&(range=sel.getRangeAt(0)).deleteContents(),(r=r||range)?(node=document.createElement("span"),r.insertNode(node),(n=document.createElement("span")).innerHTML=t,r.insertNode(n),r.setEndAfter(node),r.setStartAfter(node),r.collapse(!1),(sel=window.getSelection()).removeAllRanges(),sel.addRange(r),(t=document.activeElement)&&"chatInputBox"==!t.className&&e.focus()):e.appendChild(html)}function x(e){var t,n;e&&e.item(0)&&e.item(0).innerText.length?((t=document.createRange()).selectNodeContents(e[0]),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t),r=t):(r=!1,e&&e[0]&&e[0].focus())}function Te(e){return e.split(".")}T.prototype.renderWebForm=function(e,t){if(e.message&&e.message[0].component&&e.message[0].component.payload&&e.message[0].component.payload.formData)if(e.renderType=e.message[0].component.payload.formData.renderType,e.message[0].component.payload.template_type="iframe",t||"inline"!==e.renderType){var n=W(this.getChatTemplate("iframe")).tmpl({msgData:e,helpers:Q,link_url:e.message[0].component.payload.formData.formLink});if(t)return n;_e(n[0],!0)}else this.renderMessage(e)},window.onresize=function(e){e.target==window&&W("#chatContainer").width(),400<W(".kore-chat-window").width()||document.getElementsByClassName("kore-chat-window").length&&document.getElementsByClassName("kore-chat-window")[0].classList.contains("expanded")?(e=W(".kore-chat-window").width(),W(".carousel").attr("style","width: "+(e-85)+"px !important")):W(".carousel").attr("style","width: 300px !important");for(var t=0;t<H.length;t++)H[t].computeResize();for(var n=document.querySelectorAll(".quickReplies"),t=0;t<n.length;t++){var i=n[t].querySelectorAll(".quick_replies_btn_parent"),o=n[t].querySelectorAll(".quickreplyLeftIcon"),r=n[t].querySelectorAll(".quickreplyRightIcon");i[0].hasChildNodes()&&(0<i[0].scrollLeft?o[0].classList.remove("hide"):o.length&&o[0].classList.add("hide"),i[0].offsetWidth<i[0].scrollWidth?r[0].classList.remove("hide"):r&&r[0]&&r[0].classList.add("hide"))}460<W(".kore-chat-window").width()?(W(".accordionTable").each(function(){W(this).hasClass("responsive")&&W(this).addClass("hide")}),W(".tablechartDiv").each(function(){W(this).hasClass("regular")||W(this).removeClass("hide")})):(W(".accordionTable").each(function(){W(this).hasClass("responsive")&&W(this).removeClass("hide")}),W(".tablechartDiv").each(function(){W(this).hasClass("regular")||W(this).addClass("hide")}))},T.prototype.init=function(){var t=this,e=((window.chatContainerConfig=t).config.botOptions.botInfo.name=t.config.botOptions.botInfo.name.escapeHTML(),a=t.config.botOptions.botInfo,t.config.botOptions.botInfo={chatBot:a.name,taskBotId:a._id,customData:a.customData,tenanturl:a.tenanturl},a.name);t.config.botMessages=B,t.config.chatTitle=t.config.botMessages.connecting,t.config.userAgentIE=-1!==v.userAgent.indexOf("Trident/");Ie()&&(t.config.isSendButton=!0),t.config.isSendButton,ae=t.config.isTTSEnabled||!1,u=t.config.ttsInterface||"webapi",y=t.config.allowGoogleSpeech||!1,X=t.config.isSpeechEnabled||!1,m=t.config.loadHistory||!1,g=!!m,t.config.botOptions.loadHistory=t.config.loadHistory,t.config.botOptions.chatHistory=t.config.chatHistory,t.config.botOptions.handleError=t.config.handleError,t.config.botOptions.googleMapsAPIKey=t.config.googleMapsAPIKey,le=t.config.autoEnableSpeechAndTTS||!1,ae&&(X||y)&&le&&(M=!0,setTimeout(function(){W(".ttspeakerDiv").removeClass("ttsOff")},350));var n=W(t.getChatTemplate()).tmpl(t.config);W(n).off("click",".drpdown_theme").on("click",".drpdown_theme",function(e){t.showDropdown(this)}),W(n).off("click",".themeName").on("click",".themeName",function(e){"shopping_theme"==W(this).attr("id")?W(".kore-chat-window").removeClass("logo_theme").addClass("shopping_theme"):W(".kore-chat-window").removeClass("shopping_theme").addClass("logo_theme")}),t.config.chatContainer=n,t.config.chatTitle=e,t.config.minimizeMode?setTimeout(function(){W(".kore-chat-window").addClass("minimize"),n.find(".minimized-title").html("Talk to "+t.config.chatTitle),t.skipedInit=!0}):h.init(t.config.botOptions,t.config.messageHistoryLimit),t.config.allowLocation&&h.fetchUserLocation(),t.render(n),Ee()},T.prototype.destroy=function(){W(".kore-chat-overlay").hide(),h.close(),this.config.minimizeMode||h.destroy(),Z=[],this.config&&this.config.chatContainer&&(this.config.minimizeMode?(this.config.chatContainer.find(".kore-chat-header .header-title").html(this.config.botMessages.reconnecting),this.config.chatContainer.addClass("minimize"),this.skipedInit=!0):this.config.chatContainer.remove()),b&&b.stop(),M=!1,D&&(D.close(),D=null)},T.prototype.resetWindow=function(){this.config.chatContainer.find(".kore-chat-header .header-title").html(this.config.botMessages.reconnecting),h.close(),h.init(this.config.botOptions)},T.prototype.bindEvents=function(){var e,i,f=this,d=f.config.chatContainer;function o(){var e={};e.clientMessageId=(new Date).getTime(),e.event="stop_typing",e.message={body:"",type:""},e.resourceid="/bot.message",h.sendMessage(e,function(e){}),ce=0}d.draggable({handle:d.find(".kore-chat-header .header-title"),containment:"document"}).resizable({handles:"n, e, w, s",containment:"document",minWidth:400}),d.off("keyup",".chatInputBox").on("keyup",".chatInputBox",function(e){var t,n=W(f.config.container).find(".kore-chat-footer");W(f.config.container).find(".kore-chat-body").css("bottom",n.outerHeight()),prevComposeSelection=window.getSelection(),r=0<prevComposeSelection.rangeCount&&prevComposeSelection.getRangeAt(0),0<this.innerText.length?(console.log("innertext"),d.find(".chatInputBoxPlaceholder").css("display","none"),d.find(".sendButton").removeClass("disabled"),(13!==e.keyCode&&e.which<=90&&48<=e.which||96<=e.which&&e.which<=105)&&(t=localStorage.getItem("agentConnected"),0==ce&&"true"===t&&((n={}).clientMessageId=(new Date).getTime(),n.event="typing",n.message={body:"",type:""},n.resourceid="/bot.message",h.sendMessage(n,function(e){}),clearTimeout(c),c=setTimeout(o,3e3),ce=1))):(d.find(".chatInputBoxPlaceholder").css("display","block"),d.find(".sendButton").addClass("disabled")),1==ce&&"true"===t&&(c=setTimeout(o,3e3))}),d.on("click",".chatInputBoxPlaceholder",function(e){d.find(".chatInputBox").trigger("click"),d.find(".chatInputBox").trigger("focus")}),d.on("click",".chatInputBox",function(e){prevComposeSelection=window.getSelection(),r=0<prevComposeSelection.rangeCount&&prevComposeSelection.getRangeAt(0)}),d.on("blur",".chatInputBox",function(e){he=0}),d.off("click",".botResponseAttachments").on("click",".botResponseAttachments",function(e){window.open(W(this).attr("fileid"),"_blank")}),d.off("keydown",".chatInputBox").on("keydown",".chatInputBox",function(e){var t=W(this),n=W(f.config.container).find(".kore-chat-footer");W(f.config.container).find(".kore-chat-body").css("bottom",n.outerHeight()),clearTimeout(c),13===e.keyCode?e.shiftKey||(W(".upldIndc").is(":visible")?alert("Wait until file upload is not completed"):(W(".recordingMicrophone").is(":visible")&&W(".recordingMicrophone").trigger("click"),e.preventDefault(),f.sendMessage(t,A))):27===e.keyCode&&1<++he&&(he=0,We(),this.innerText="",W(".attachment").empty(),p=0,setTimeout(function(){x(document.getElementsByClassName("chatInputBox"))},100))}),d.off("click",".sendButton").on("click",".sendButton",function(e){var t=W(".chatInputBox");W(".upldIndc").is(":visible")?alert("Wait until file upload is not completed"):(W(".recordingMicrophone").is(":visible")&&W(".recordingMicrophone").trigger("click"),e.preventDefault(),f.sendMessage(t,A))}),d.off("click",".notRecordingMicrophone").on("click",".notRecordingMicrophone",function(e){b&&b.stop(),X&&Fe()}),d.off("click",".recordingMicrophone").on("click",".recordingMicrophone",function(e){We(),setTimeout(function(){x(document.getElementsByClassName("chatInputBox"))},350)}),d.off("click",".attachmentBtn").on("click",".attachmentBtn",function(e){1==p?alert("You can upload only one file"):W(".upldIndc").is(":visible")?alert("Wait until file upload is not completed"):W("#captureAttachmnts").trigger("click")}),d.off("click",".removeAttachment").on("click",".removeAttachment",function(e){W(this).parents(".msgCmpt").remove(),W(".kore-chat-window").removeClass("kore-chat-attachment"),p=0,A={},W(".sendButton").addClass("disabled"),document.getElementById("captureAttachmnts").value=""}),d.off("change","#captureAttachmnts").on("change","#captureAttachmnts",function(e){var t=W("#captureAttachmnts").prop("files")[0];t&&t.size&&t.size>I.file.limit.size?alert(I.file.limit.msg):Je(this,t)}),d.off("paste",".chatInputBox").on("paste",".chatInputBox",function(e){e.preventDefault();var t=document.getElementsByClassName("chatInputBox"),e=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData;e&&(e=Q.nl2br(e.getData("text").escapeHTML(),!1))&&ke(t,e),setTimeout(function(){x(t)},100)}),d.off("click",".sendChat").on("click",".sendChat",function(e){var t=W(f.config.container).find(".kore-chat-footer");f.sendMessage(t.find(".chatInputBox"))}),d.off("click",".notificationTemplate .btn-notification .link").on("click",".notificationTemplate .btn-notification .link",function(e){var t=W(this).attr("data-value");W(".chatInputBox").text(t),f.sendMessage(W(".chatInputBox"),t)}),d.off("click","li a").on("click","li a",function(e){e.preventDefault();var t,e=W(this).attr("href"),n=W(this).attr("target"),i=W(event.currentTarget).closest("span.simpleMsg").attr("msgData")||"";if(i)try{t=JSON.parse(i)}catch(e){}if(t&&t.message&&t.message[0].component&&t.message[0].component.payload&&t.message[0].component.payload.formData)f.renderWebForm(t);else if("_self"===n)return void callListener("provideVal",{link:e});!0===f.config.allowIframe?((i=W(f.getChatTemplate("iframe")).tmpl({msgData:t,helpers:Q,link_url:url}))[0].onload=function(e){console.log(e)},_e(i[0],!0)):window.open(e,"_blank")}),d.off("click",".buttonTmplContentBox li,.listTmplContentChild .buyBtn,.viewMoreList .viewMore,.listItemPath,.quickReply,.carouselImageContent,.listRightContent,.checkboxBtn,.likeDislikeDiv,.buttonQuickReply").on("click",".buttonTmplContentBox li,.listTmplContentChild .buyBtn, .viewMoreList .viewMore,.listItemPath,.quickReply,.carouselImageContent,.listRightContent,.checkboxBtn,.likeDislikeDiv,.buttonQuickReply",function(e){e.preventDefault(),e.stopPropagation();var t,n,i,o,r=W(this).attr("type");if("postback"==(r=r&&r.toLowerCase())||"text"==r){W(".chatInputBox").text(W(this).attr("actual-value")||W(this).attr("value")),s=W(".quickReply")&&W(".quickReply").length?W(this).attr("value"):W(this)[0]&&W(this)[0].innerText?W(this)[0].innerText.trim():W(this)&&W(this).attr("data-value")?W(this).attr("data-value").trim():"",f.sendMessage(W(".chatInputBox"),s);var s=e.currentTarget.closest("li");W(s).css("pointer-events","none")}else if("url"==r||"web_url"==r){if(void 0!==W(this).attr("msgData")){try{t=JSON.parse(W(this).attr("msgData"))}catch(e){}if(t&&t.message&&t.message[0].component&&t.message[0].component.payload&&t.message[0].component.payload.buttons&&t.message[0].component.payload.buttons[0]&&t.message[0].component.payload.buttons[0].title&&"Login"===t.message[0].component.payload.buttons[0].title||t&&t.message&&t.message[0].component&&(t.message[0].component.formData||t.message[0].component.payload&&t.message[0].component.payload.formData))return t&&t.message&&t.message[0].component&&t.message[0].component.payload&&t.message[0].component.payload.buttons&&t.message[0].component.payload.buttons[0]&&t.message[0].component.payload.buttons[0].title&&"Login"===t.message[0].component.payload.buttons[0].title?t.message[0].component.payload.formData={formLink:t.message[0].component.payload.buttons[0].url,renderType:"pop-up"}:t.message[0].component.formData&&(t.message[0].component.payload.formData=t.message[0].component.formData),f.renderWebForm(t),void W(this).hide()}s=W(this).attr("url")||W(this).attr("value");s.indexOf("http:")<0&&s.indexOf("https:")<0&&(s="http:////"+s),f.openExternalLink(s)}if(e.currentTarget.classList&&0<e.currentTarget.classList.length&&"likeDiv"===e.currentTarget.classList[1]&&(W(".likeImg").addClass("hide"),W(".likedImg").removeClass("hide"),W(".likeDislikeDiv").addClass("dummy")),e.currentTarget.classList&&0<e.currentTarget.classList.length&&"disLikeDiv"===e.currentTarget.classList[1]&&(W(".disLikeImg").addClass("hide"),W(".disLikedImg").removeClass("hide"),W(".likeDislikeDiv").addClass("dummy")),e.currentTarget.classList&&0<e.currentTarget.classList.length&&"checkboxBtn"===e.currentTarget.classList[0]){for(var a=W(e.currentTarget.parentElement.parentElement).find(".checkInput:checked"),l=[],u=[],c=0;c<a.length;c++)l.push(W(a[c]).attr("value")),u.push(W(a[c]).attr("text"));W(".chatInputBox").text(W(this).attr("title")+": "+l.toString()),f.sendMessage(W(".chatInputBox"),u.toString())}e.currentTarget.classList&&0<e.currentTarget.classList.length&&"quickReply"===e.currentTarget.classList[0]&&(n=e.currentTarget.parentElement.parentElement,i=n.parentElement.parentElement.querySelectorAll(".quickreplyLeftIcon"),o=n.parentElement.parentElement.querySelectorAll(".quickreplyRightIcon"),setTimeout(function(){n.parentElement.parentElement.getElementsByClassName("user-account")[0].classList.remove("marginT50"),(i&&i.length||o&&o.length)&&(n.parentElement.parentElement.removeChild(i[0]),n.parentElement.parentElement.removeChild(o[0])),n.parentElement.removeChild(n)},50)),setTimeout(function(){d.find(".kore-chat-footer .chatInputBox").focus()},600)}),d.off("click",".close-btn").on("click",".close-btn",function(e){W(".recordingMicrophone").trigger("click"),b&&b.stop(),M=!1,f.destroy(),D&&(D.close(),D=null)}),d.off("click",".minimize-btn").on("click",".minimize-btn",function(e){!0===f.minimized?(d.removeClass("minimize"),f.minimized=!1,f.expanded):(W(".kore-chat-window").addClass("minimize"),!1===f.expanded&&d.hasClass("ui-draggable"),d.find(".minimized-title").html("Talk to "+f.config.chatTitle),(f.minimized=!0)===f.expanded&&W(".kore-chat-overlay").hide()),W(".recordingMicrophone").trigger("click"),b&&b.stop()}),d.off("click",".expand-btn").on("click",".expand-btn",function(e){0===W(".kore-chat-overlay").length&&W(f.config.container).append('<div class="kore-chat-overlay"></div>'),!0===f.expanded?(W(".kore-chat-overlay").hide(),W(this).attr("title","Expand"),d.removeClass("expanded"),W(".expand-btn-span").removeClass("fa-compress"),W(".expand-btn-span").addClass("fa-expand"),f.expanded=!1):(W(".kore-chat-overlay").show(),W(this).attr("title","Collapse"),d.addClass("expanded"),W(".expand-btn-span").addClass("fa-compress"),W(".expand-btn-span").removeClass("fa-expand"),f.expanded=!0);var t=document.createEvent("HTMLEvents"),t=(t.initEvent("resize",!0,!1),window.dispatchEvent(t),d.position().left+d.width());t>W(window).width()&&d.css("left",d.position().left-(t-W(window).width()+10)+"px")}),window.KorePickers&&(e={chatWindowInstance:f,chatConfig:f.config},(i=new KorePickers(e)).init()),W(document).on("keyup",function(e){27==e.keyCode&&(W(".closeImagePreview").trigger("click"),W(".closeElePreview").trigger("click"))}),d.off("click",".quickreplyLeftIcon").on("click",".quickreplyLeftIcon",function(e){var t=e.currentTarget.parentElement.getElementsByClassName("buttonTmplContentChild");if(t.length)for(var n=e.target.parentElement.getElementsByClassName("quick_replies_btn_parent"),i=n[0].scrollLeft,o=0,r=0;r<t.length;r++)if(i<(o+=t[r].offsetWidth+10)){W(n).animate({scrollLeft:i-t[r].offsetWidth-50},"slow",function(){n[0].parentElement.querySelectorAll(".quickreplyRightIcon")[0].classList.remove("hide"),n[0].scrollLeft<=0&&n[0].parentElement.querySelectorAll(".quickreplyLeftIcon")[0].classList.add("hide")});break}}),d.off("click",".quickreplyRightIcon").on("click",".quickreplyRightIcon",function(e){var t=e.currentTarget.parentElement.getElementsByClassName("buttonTmplContentChild");if(t.length)for(var n=e.target.parentElement.getElementsByClassName("quick_replies_btn_parent"),i=e.target.parentElement.offsetWidth,o=0,r=0;r<t.length;r++)if(o+=t[r].offsetWidth+10,i<o){W(n).animate({scrollLeft:n[0].scrollLeft+t[r].offsetWidth+20},"slow",function(){n[0].parentElement.querySelectorAll(".quickreplyLeftIcon")[0].classList.remove("hide"),n[0].scrollLeft+i+10>=n[0].scrollWidth&&n[0].parentElement.querySelectorAll(".quickreplyRightIcon")[0].classList.add("hide")});break}}),d.off("click",".minimized").on("click",".minimized,.minimized-title",function(e){W(".kore-chat-window").removeClass("minimize"),f.minimized=!1,f.skipedInit&&(h.init(f.config.botOptions,f.config.messageHistoryLimit),f.skipedInit=!1),!0===f.expanded&&W(".kore-chat-overlay").show(),document.createEvent("HTMLEvents").initEvent("resize",!0,!1),W(".chat-container").animate({scrollTop:W(".chat-container").prop("scrollHeight")},100)}),d.off("click",".reload-btn").on("click",".reload-btn",function(e){W(this).addClass("disabled").prop("disabled",!0),W(".close-btn").addClass("disabled").prop("disabled",!0),setTimeout(function(){customData&&customData.isReconnect?f.resetWindow(!0):f.resetWindow(),f.defaultWelcomeMsg()}),W(".recordingMicrophone").trigger("click"),b&&b.stop()}),d.off("click",".ttspeaker").on("click",".ttspeaker",function(e){ae&&(M?(b&&b.stop(),Ge(),M=!1,W("#ttspeaker")[0].pause(),u&&"webapi"===u?window.speechSynthesis.pause():"awspolly"===u&&!1===M&&(gainNode.gain.value=0,W(".ttspeakerDiv").addClass("ttsOff")),W(".ttspeakerDiv").addClass("ttsOff")):(u&&"webapi"===u?_=Qe():u&&"awspolly"===u?gainNode.gain.value=1:_=Ve(),M=!0,W(".ttspeakerDiv").removeClass("ttsOff")))}),h.on("open",function(e){L=f.config.botOptions.accessToken;d.find(".kore-chat-footer .chatInputBox");d.find(".kore-chat-header .header-title").html(f.config.chatTitle).attr("title",f.config.chatTitle),d.find(".kore-chat-header .disabled").prop("disabled",!1).removeClass("disabled"),m||setTimeout(function(){W(".chatInputBox").focus(),W(".disableFooter").removeClass("disableFooter")})}),h.on("message",function(t){!0===f.popupOpened&&W(".kore-auth-popup .close-popup").trigger("click");var e,n,t=JSON.parse(t.data);if("bot"===t.from&&"events"===t.type&&"typing"===t.message.type)console.log("msgData.message.type",t.message.type),"no-avatar"==t.message.author.profImage?KoreSDK.chatConfig.agentImage?W(".typingIndicator").css("background-image","url("+KoreSDK.chatConfig.agentImage+")"):W(".typingIndicator").css("background-image","url("+V+")"):W(".typingIndicator").css("background-image","url("+t.message.author.profImage+")"),W(".typingIndicatorContent").css("display","block");else if("bot"===t.from&&"events"===t.type&&"stoptyping"===t.message.type)W(".typingIndicatorContent").css("display","none");else if("bot"===t.from&&"bot_response"===t.type){if(t&&t.message&&t.message[0]){if(t.message[0].cInfo||(t.message[0].cInfo={}),t.message[0].component&&!t.message[0].component.payload.text)try{t.message[0].component=JSON.parse(t.message[0].component.payload)}catch(e){t.message[0].component=t.message[0].component.payload}t.message[0].component&&t.message[0].component.payload&&t.message[0].component.payload.text&&(t.message[0].cInfo.body=t.message[0].component.payload.text),t.message[0].component&&t.message[0].component.payload&&(t.message[0].component.payload.videoUrl||t.message[0].component.payload.audioUrl)&&(t.message[0].cInfo.body=t.message[0].component.payload.text||"")}t.message[0].component&&t.message[0].component.payload&&t.message[0].component.payload.text&&(t.message[0].cInfo.body=t.message[0].component.payload.text,-1<t.message[0].cInfo.body.indexOf("###show_account_values###")&&(console.log("11111111111",t.message[0].component.payload.buttons),n={radioOptions:t.message[0].component.payload.buttons},i.showradioOptionsPicker(n)),"daterange"==t.message[0].component.payload.template_type&&(t.message[0].cInfo.body=t.message[0].component.payload.text_message,i.pickerSubconfig.dateRangeConfig.format=t.message[0].component.payload.format,i.pickerSubconfig.dateRangeConfig.startDate=t.message[0].component.payload.startDate,i.pickerSubconfig.dateRangeConfig.endDate=t.message[0].component.payload.endDate,t.message[0].component.payload.title&&(i.pickerSubconfig.daterangepicker.title=t.message[0].component.payload.title),W(".typingIndicatorContent").css("display","block"),i.showDateRangePicker(i.mainConfig)),"dateTemplate"==t.message[0].component.payload.template_type&&(t.message[0].cInfo.body=t.message[0].component.payload.text_message,i.pickerSubconfig.dateConfig.format=t.message[0].component.payload.format,i.pickerSubconfig.dateConfig.startDate=t.message[0].component.payload.startDate,i.pickerSubconfig.dateConfig.showdueDate=t.message[0].component.payload.showdueDate,i.pickerSubconfig.dateConfig.endDate=t.message[0].component.payload.endDate,i.pickerSubconfig.dateConfig.selectedDate="Selected Date",t.message[0].component.payload.showdueDate&&(i.pickerSubconfig.dateConfig.paymentDue="Payment Due Date",i.pickerSubconfig.dateConfig.paymentDue=t.message[0].component.payload.paymentDue),t.message[0].component.payload.title&&(i.pickerSubconfig.datepicker.title=t.message[0].component.payload.title),W(".typingIndicatorContent").css("display","block"),i.showDatePicker(i.mainConfig)),-1<t.message[0].cInfo.body.indexOf("clockPicker")&&i.showClockPicker(i.mainConfig)),m&&g?Z.push(t):f.config.supportDelayedMessages?f.pushTorenderMessagesQueue(t):f.renderMessage(t)}else"self"===t.from&&"user_message"===t.type&&(n={},n=(e=t.message)&&e.attachments&&e.attachments[0]&&e.attachments[0].fileId?{type:"currentUser",message:[{type:"text",cInfo:{body:e.body,attachments:e.attachments},clientMessageId:t.id}],createdOn:t.id}:{type:"currentUser",message:[{type:"text",cInfo:{body:e.body},clientMessageId:t.id}],createdOn:t.id},f.renderMessage(n));"appInvalidNotification"===t.type&&setTimeout(function(){W(".trainWarningDiv").addClass("showMsg")},2e3)}),Ke(document.querySelector(".droppable"),function(e){1==p?alert("You can upload only one file"):(Je(this,e[0]),1<e.length&&alert("You can upload only one file"))})},T.prototype.bindIframeEvents=function(e){var t=this;e.on("click",".close-popup",function(){W(this).closest(".kore-auth-popup").remove(),W(".kore-auth-layover").remove(),t.popupOpened=!1}),e.find("iframe")[0].addEventListener("onload",function(){console.log(this)},!0)},T.prototype.openExternalLink=function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noopener noreferrer",t.click()},T.prototype.render=function(e){W(this.config.container).append(e),"body"!==this.config.container&&(W(this.config.container).addClass("pos-relative"),W(this.config.chatContainer).addClass("pos-absolute")),this.chatPSObj=new O(this.config.chatContainer.find(".chat-container").get(0),{suppressScrollX:!0}),this.bindEvents()},T.prototype.defaultWelcomeMsg=function(e,t){this.config.botOptions._reconnecting=!0,W(this.config.chatContainer).find(".kore-chat-body"),W(this.config.chatContainer).find(".kore-chat-footer");var n=(new Date).getTime(),i={};i.clientMessageId=n,0<Object.keys(A).length&&chatInput.text().trim().length?i.message={body:chatInput.text().trim(),attachments:[A]}:0<Object.keys(A).length?i.message={attachments:[A]}:i.message={body:"BotNotifications"},i.resourceid="/bot.message",e&&"string"==typeof e&&(i.message.renderMsg=e),t&&t.customdata&&(i.message.customdata=t.customdata),t&&t.nlmeta&&(i.message.nlmeta=t.nlmeta),0<W(".isDebugConsolePanelOpen").length?i.isDebugging=!0:i.isDebugging=!1,A={},h.sendMessage(i,function(e){e&&e.message&&setTimeout(function(){W("#msg_"+n).find(".messageBubble").append('<div class="errorMsg">'+i18n.i18nString("sendFailed_please_resend")+"</div>")},350)})},T.prototype.sendMessage=function(e,t,n){clearTimeout(c),ce=0;var i,o,r,s,a,l;""===e.text().trim()&&0==W(".attachment").html().trim().length||(n&&n.message&&n.message.length&&n.message[0]&&n.message[0].component&&n.message[0].component.payload&&n.message[0].component.payload.ignoreCheckMark&&(i=n.message[0].component.payload.ignoreCheckMark),this.config.allowLocation&&h.fetchUserLocation(),o=W(this.config.chatContainer).find(".kore-chat-body"),r=W(this.config.chatContainer).find(".kore-chat-footer"),s=(new Date).getTime(),a={},p=0,e.html(e.html().replaceAll("<br>","\n")),A&&Object.keys(A).length?(a={type:"currentUser",message:[{type:"text",cInfo:{body:e.text(),attachments:[A]},clientMessageId:s}],createdOn:s},W(".attachment").html(""),W(".kore-chat-window").removeClass("kore-chat-attachment"),document.getElementById("captureAttachmnts").value=""):(A={},a={type:"currentUser",message:[{type:"text",cInfo:{body:e.text()},clientMessageId:s}],createdOn:s}),(l={}).clientMessageId=s,0<Object.keys(A).length&&e.text().trim().length?l.message={body:e.text().trim(),attachments:[A]}:0<Object.keys(A).length?l.message={attachments:[A]}:l.message={body:e.text().trim()},l.resourceid="/bot.message",t&&"string"==typeof t&&(l.message.renderMsg=t),n&&n.customdata&&(l.message.customdata=n.customdata),n&&n.nlmeta&&(l.message.nlmeta=n.nlmeta),A={},W(".kore-chat-body ul li:last").css("pointer-events","none"),h.sendMessage(l,function(e){e&&e.message&&setTimeout(function(){W('.kore-chat-window [data-time="'+s+'"]').find(".messageBubble").append('<div class="errorMsg">Your session expired. Please refresh to start again</div>')},350)}),e.html(""),W(".sendButton").addClass("disabled"),o.css("bottom",r.outerHeight()),we(),(n=localStorage.getItem("agentConnected"))&&"false"!==n||(W(".typingIndicatorContent").css("display","block"),setTimeout(function(){W(".typingIndicatorContent").css("display","none")},1e4)),t&&"string"==typeof t&&(a.message[0].cInfo.body=t),a.message[0].cInfo.ignoreCheckMark=i,this.renderMessage(a))},T.prototype.renderMessage=function(c){var t,n,e=this,i="",o="",r="",s=(c.createdOnTimemillis=new Date(c.createdOn).valueOf(),de.helpers=Q,de.extension=o,graphLibGlob=e.config.graphLib||"d3","bot_response"===c.type?(te=!1,setTimeout(function(){c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"live_agent"==c.message[0].component.payload.template_type||c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"SYSTEM"==c.message[0].component.payload.template_type&&-1<c.message[0].component.payload.text.indexOf("connected")?W(".typingIndicator").css("background-image","url("+V+")"):W(".typingIndicator").css("background-image","url("+c.icon+")")},500),setTimeout(function(){te||W(".typingIndicatorContent").css("display","none")},500)):te=!1,W(e.config.chatContainer).find(".chat-container"));if(c.message&&c.message[0]&&c.message[0].cInfo&&"Login Form is successfully submitted."===c.message[0].cInfo.body||c.message&&c.message[0]&&c.message[0].cInfo&&"UserDetails Form is successfully submitted."===c.message[0].cInfo.body)return!1;if(c.message&&c.message[0]&&c.message[0].cInfo&&c.message[0].cInfo.attachments&&(o=Te(c.message[0].cInfo.attachments[0].fileName)),c.message&&c.message[0]&&c.message[0].component&&c.message[0].component.payload&&c.message[0].component.payload.url&&(o=Te(c.message[0].component.payload.url),r=c.message[0].component.payload.url.replace(/^.*[\\\/]/,"")),""===(i=de.renderMessage(c))&&c&&c.message&&c.message[0]){function a(e){try{JSON.parse(e)}catch(e){return}return 1}if(c.message[0].component&&c.message[0].component.payload&&c.message[0].component.payload.text&&a(c.message[0].component.payload.text)){var l=c.message[0].component.payload.text;if(a(l))return l=JSON.parse(l),c.message[0].component=l,e.renderMessage(c)}else if(c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"button"==c.message[0].component.payload.template_type)i=W(e.getChatTemplate("templatequickreply")).tmpl({msgData:c,helpers:Q,extension:o});else{if(c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"wait_for_response"==c.message[0].component.payload.template_type)return te=!0,void W(".typingIndicatorContent").css("display","block");c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"list"==c.message[0].component.payload.template_type?i=W(e.getChatTemplate("templatelist")).tmpl({msgData:c,helpers:Q,extension:o}):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"live_agent"==c.message[0].component.payload.template_type?(c.fromAgent=!0,localStorage.setItem("agentConnected",!0),c.message[0].component&&c.message[0].component.payload&&(c&&c.author&&c.author.profImage&&(KoreSDK.chatConfig.agentImage=c.author.profImage),c.message[0].cInfo.body=c.message[0].component.payload.text||""),i=W(e.getChatTemplate("message")).tmpl({msgData:c,helpers:Q,extension:o}),setTimeout(()=>{var e={};e.clientMessageId=(new Date).getTime(),e.event="message_read",e.message={body:"",type:""},e.resourceid="/bot.message",h.sendMessage(e,function(e){})},2e3)):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"quick_replies"==c.message[0].component.payload.template_type?(i=W(e.getChatTemplate("templatequickreply")).tmpl({msgData:c,helpers:Q,extension:o}),setTimeout(function(){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)},150)):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"carousel"==c.message[0].component.payload.template_type?(i=W(e.getChatTemplate("carouselTemplate")).tmpl({msgData:c,helpers:Q,extension:o}),setTimeout(function(){W(".carousel:last").addClass("carousel"+d);1<W(".carousel"+d).children().length&&(e=new PureJSCarousel({carousel:".carousel"+d,slide:".slide",oneByOne:!0}),W(".carousel"+d).parent().show(),W(".carousel"+d).attr("style","height: 100% !important"),H.push(e));var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e),d+=1,s.animate({scrollTop:s.prop("scrollHeight")},0)})):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&("image"==c.message[0].component.type||"audio"==c.message[0].component.type||"video"==c.message[0].component.type||"link"==c.message[0].component.type)?i=W(e.getChatTemplate("templateAttachment")).tmpl({msgData:c,helpers:Q,extension:o,extractedFileName:r}):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"Notification"==c.message[0].component.payload.template_type?(i=W(e.getChatTemplate("NotificationTmpl")).tmpl({msgData:c,helpers:Q,extension:o}),W(i).data(c)):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"table"==c.message[0].component.payload.template_type?(i=W(e.getChatTemplate("tableChartTemplate")).tmpl({msgData:c,helpers:Q,extension:o}),setTimeout(function(){for(var e=document.getElementsByClassName("accordionRow"),t=0;t<e.length;t++)e[t].onclick=function(){this.classList.toggle("open")};for(var n=document.getElementsByClassName("showMore"),t=0;t<n.length;t++)n[t].onclick=function(){var e=this.parentNode.parentElement,t=(W("#dialog").empty(),W("#dialog").html(W(e).find(".tablechartDiv").html()),W(".hello").clone().appendTo(".goodbye"),document.getElementById("myPreviewModal"));W(".largePreviewContent").empty(),W(e).find(".tablechartDiv").clone().appendTo(".largePreviewContent"),t.style.display="block",document.getElementsByClassName("closeElePreview")[0].onclick=function(){t.style.display="none",W(".largePreviewContent").removeClass("addheight")}}},350)):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"mini_table"==c.message[0].component.payload.template_type?"horizontal"==c.message[0].component.payload.layout?(i=W(e.getChatTemplate("miniTableHorizontalTemplate")).tmpl({msgData:c,helpers:Q,extension:o}),setTimeout(function(){W(".carousel:last").addClass("carousel"+d);1<W(".carousel"+d).children().length&&(e=new PureJSCarousel({carousel:".carousel"+d,slide:".slide",oneByOne:!0}),W(".carousel"+d).parent().show(),W(".carousel"+d).attr("style","height: 100% !important"),H.push(e));var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e),d+=1,s.animate({scrollTop:s.prop("scrollHeight")},0)})):i=W(e.getChatTemplate("miniTableChartTemplate")).tmpl({msgData:c,helpers:Q,extension:o}):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"multi_select"==c.message[0].component.payload.template_type?i=W(this.getChatTemplate("checkBoxesTemplate")).tmpl({msgData:c,helpers:Q,extension:o}):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"like_dislike"==c.message[0].component.payload.template_type?i=W(this.getChatTemplate("likeDislikeTemplate")).tmpl({msgData:c,helpers:Q,extension:o}):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"piechart"==c.message[0].component.payload.template_type?(i=W(e.getChatTemplate("pieChartTemplate")).tmpl({msgData:c,helpers:Q,extension:o}),"google"===e.config.graphLib?setTimeout(function(){google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(function(){var e=new google.visualization.DataTable;e.addColumn("string","Task"),e.addColumn("number","Hours per Day"),c.message[0].component.payload.elements&&c.message[0].component.payload.elements[0].displayValue&&e.addColumn({type:"string",role:"tooltip"});for(var t=[],n=c.message[0].component.payload.elements,i=0;i<n.length;i++){var o=[n[i].title+" \n"+n[i].value];o.push(parseFloat(n[i].value)),n[i].displayValue&&o.push(n[i].displayValue),t.push(o)}e.addRows(t);var r={chartArea:{left:"3%",top:"3%",height:"94%",width:"94%"},pieSliceTextStyle:{},colors:window.chartColors,legend:{textStyle:{color:"#b3bac8"}}};1===n.length&&(r.pieHole=.5,r.pieSliceTextStyle.color="black");c.message[0].component.payload.pie_type&&("donut"===c.message[0].component.payload.pie_type?(r.pieHole=.6,r.pieSliceTextStyle.color="black",r.legend.position="none"):"donut_legend"===c.message[0].component.payload.pie_type&&(r.pieHole=.6,r.pieSliceTextStyle.color="black"));var s={id:"piechart"+c.messageId,data:e,options:r,type:"piechart"},s=(k.push(s),document.getElementById("piechart"+c.messageId));new google.visualization.PieChart(s).draw(e,r)})},150):"d3"===graphLibGlob&&(void 0===c.message[0].component.payload.pie_type&&(c.message[0].component.payload.pie_type="regular"),c.message[0].component.payload.pie_type&&(t={width:300,height:200,legendRectSize:10,legendSpacing:2.4},"regular"===c.message[0].component.payload.pie_type?setTimeout(function(){var e={id:"piechart"+c.messageId,data:c,type:"regular"};k.push(e),KoreGraphAdapter.drawD3Pie(c,t,"#piechart"+c.messageId,12)},150):"donut"===c.message[0].component.payload.pie_type?setTimeout(function(){var e={id:"piechart"+c.messageId,data:c,type:"donut"};k.push(e),KoreGraphAdapter.drawD3PieDonut(c,t,"#piechart"+c.messageId,12,"donut")},150):"donut_legend"===c.message[0].component.payload.pie_type&&setTimeout(function(){var e={id:"piechart"+c.messageId,data:c,type:"donut_legend"};k.push(e),KoreGraphAdapter.drawD3PieDonut(c,t,"#piechart"+c.messageId,12,"donut_legend")},150))),setTimeout(function(){W(".chat-container").scrollTop(W(".chat-container").prop("scrollHeight")),Ct()},200)):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"barchart"==c.message[0].component.payload.template_type?(i=W(e.getChatTemplate("barchartTemplate")).tmpl({msgData:c,helpers:Q,extension:o}),"google"===graphLibGlob?setTimeout(function(){google.charts.load("current",{packages:["corechart","bar"]}),google.charts.setOnLoadCallback(function(){var e=!1,t=new google.visualization.DataTable;t.addColumn("string","y");for(var n=0;n<c.message[0].component.payload.elements.length;n++){var i=c.message[0].component.payload.elements[n];t.addColumn("number",i.title),i.displayValues&&i.displayValues.length&&(t.addColumn({type:"string",role:"tooltip"}),e=!0)}for(var o=c.message[0].component.payload.elements.length,n=0;n<c.message[0].component.payload.X_axis.length;n++){var r=[];r.push(c.message[0].component.payload.X_axis[n]);for(var s=0;s<o;s++)r.push(parseFloat(c.message[0].component.payload.elements[s].values[n])),e&&r.push(c.message[0].component.payload.elements[s].displayValues[n]);t.addRow(r)}var a={chartArea:{height:"70%",width:"80%"},legend:{position:"top",alignment:"end",maxLines:3,textStyle:{color:"#b3bac8"}},hAxis:{gridlines:{color:"transparent"},textStyle:{color:"#b3bac8"}},vAxis:{gridlines:{color:"transparent"},textStyle:{color:"#b3bac8"},baselineColor:"transparent"},animation:{duration:500,easing:"out",startup:!0},bar:{groupWidth:"25%"},colors:window.chartColors};"vertical"!==c.message[0].component.payload.direction&&(a.bar.groupWidth="45%",a.hAxis.baselineColor="#b3bac8");c.message[0].component.payload.stacked&&(a.isStacked=!0,a.bar.groupWidth="25%");var l={id:"barchart"+c.messageId,direction:c.message[0].component.payload.direction,data:t,options:a,type:"barchart"},l=(k.push(l),document.getElementById("barchart"+c.messageId)),u=null;u=new("vertical"===c.message[0].component.payload.direction?google.visualization.ColumnChart:google.visualization.BarChart)(l);u.draw(t,a)})},150):"d3"===graphLibGlob&&(t={outerWidth:350,outerHeight:300,innerHeight:200,legendRectSize:15,legendSpacing:4},void 0===c.message[0].component.payload.direction&&(c.message[0].component.payload.direction="horizontal"),"horizontal"!==c.message[0].component.payload.direction||c.message[0].component.payload.stacked?"vertical"===c.message[0].component.payload.direction&&c.message[0].component.payload.stacked?setTimeout(function(){t.outerWidth=350,t.innerWidth=270;var e={id:"barchart"+c.messageId,data:c,type:"stackedBarchart"};k.push(e),KoreGraphAdapter.drawD3barVerticalStackedChart(c,t,"#barchart"+c.messageId,12)},250):"horizontal"===c.message[0].component.payload.direction&&c.message[0].component.payload.stacked?setTimeout(function(){t.innerWidth=180;var e={id:"barchart"+c.messageId,data:c,type:"stackedBarchart"};k.push(e),KoreGraphAdapter.drawD3barStackedChart(c,t,"#barchart"+c.messageId,12)},250):"vertical"!==c.message[0].component.payload.direction||c.message[0].component.payload.stacked||setTimeout(function(){t.innerWidth=240;var e={id:"barchart"+c.messageId,data:c,type:"barchart"};k.push(e),KoreGraphAdapter.drawD3barChart(c,t,"#barchart"+c.messageId,12)},250):setTimeout(function(){t.innerWidth=180;var e={id:"Legend_barchart"+c.messageId,data:c,type:"barchart"};k.push(e),KoreGraphAdapter.drawD3barHorizontalbarChart(c,t,"#barchart"+c.messageId,12)},250)),setTimeout(function(){W(".chat-container").scrollTop(W(".chat-container").prop("scrollHeight")),Ct()},300)):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"linechart"==c.message[0].component.payload.template_type?(i=W(e.getChatTemplate("linechartTemplate")).tmpl({msgData:c,helpers:Q,extension:o}),"google"===graphLibGlob?setTimeout(function(){google.charts.load("current",{packages:["corechart","line"]}),google.charts.setOnLoadCallback(function(){var e=!1,t=new google.visualization.DataTable;t.addColumn("string","y");for(var n=0;n<c.message[0].component.payload.elements.length;n++){var i=c.message[0].component.payload.elements[n];t.addColumn("number",i.title),i.displayValues&&i.displayValues.length&&(t.addColumn({type:"string",role:"tooltip"}),e=!0)}for(var o=c.message[0].component.payload.elements.length,n=0;n<c.message[0].component.payload.X_axis.length;n++){var r=[];r.push(c.message[0].component.payload.X_axis[n]);for(var s=0;s<o;s++)r.push(parseFloat(c.message[0].component.payload.elements[s].values[n])),e&&r.push(c.message[0].component.payload.elements[s].displayValues[n]);t.addRow(r)}var a={curveType:"function",chartArea:{height:"70%",width:"80%"},legend:{position:"top",alignment:"end",maxLines:3,textStyle:{color:"#b3bac8"}},hAxis:{gridlines:{color:"transparent"},textStyle:{color:"#b3bac8"}},vAxis:{gridlines:{color:"transparent"},textStyle:{color:"#b3bac8"},baselineColor:"transparent"},lineWidth:3,animation:{duration:500,easing:"out",startup:!0},colors:window.chartColors},l={id:"linechart"+c.messageId,data:t,options:a,type:"linechart"},l=(k.push(l),document.getElementById("linechart"+c.messageId));new google.visualization.LineChart(l).draw(t,a)})},150):"d3"===graphLibGlob&&setTimeout(function(){var e={outerWidth:380,outerHeight:350,innerWidth:230,innerHeight:250,legendRectSize:15,legendSpacing:4},t={id:"linechart"+c.messageId,data:c,type:"linechart"};k.push(t),KoreGraphAdapter.drawD3lineChartV2(c,e,"#linechart"+c.messageId,12)},250),setTimeout(function(){W(".chat-container").scrollTop(W(".chat-container").prop("scrollHeight")),Ct()},200)):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&c.message[0].component.payload.formData&&"inline"===c.message[0].component.payload.formData.renderType?(c.renderType="inline",i=e.renderWebForm(c,!0)):c.message[0]&&c.message[0].component&&c.message[0].component.payload&&"iframe"==c.message[0].component.payload.template_type?((l=W(e.getChatTemplate("iframe")).tmpl({msgData:c,helpers:Q,link_url:c.message[0].component.link_url}))[0].onload=function(e){console.log(e)},_e(l[0],!0),setTimeout(function(){document.getElementById("iframeModal").contentWindow.document.getElementsByClassName("x-unblu-launcher-button")[0].click()},7e3)):c&&c.message&&c.message[0]&&c.message[0].cInfo&&""!==c.message[0].cInfo.body&&(c&&c.message&&c.message[0]&&c.message[0].cInfo&&c.message[0].cInfo.body||c&&c.message&&c.message[0]&&c.message[0].component&&c.message[0].component.payload&&0!==Object.keys(c.message[0].component.payload).length)&&(i=W(e.getChatTemplate("message")).tmpl({msgData:c,helpers:Q,extension:o}))}}if(s.find("li").attr("aria-live","off"),s.find("li").attr("aria-hidden","true"),c&&c.message[0]&&c.message[0].component&&c.message[0].component.payload&&c.message[0].component.payload.sliderView&&!c.message[0].component.payload.fromHistory?bottomSliderAction("show",i):W(".kore-chat-window .chat-container li#"+c.messageId).length<1&&("bot_response"===c.type&&c.fromHistorySync?(n=[],(r=W(".kore-chat-window .chat-container>li")).length?(r.each(function(e,t){n.push(parseInt(W(t).attr("data-time")))}),0<(l=pe(n,c.createdOnTimemillis))?(o=r[l])?W(i).insertBefore(o):s.append(i):s.prepend(i)):s.append(i)):s.append(i)),Ae(),s.animate({scrollTop:s.prop("scrollHeight")},100),"bot_response"===c.type&&M&&ae&&!e.minimized&&!g){if(c.message[0]&&c.message[0].component&&"template"===c.message[0].component.type)C="";else try{C=c.message[0].component.payload.text?c.message[0].component.payload.text.replace(/\r?\n/g,". ."):"",C=(C=(C=Q.checkMarkdowns(C)).replace("___","<hr/>")).replace("---","<hr/>")}catch(e){C=""}if(c.message[0].component&&c.message[0].component.payload.speech_hint&&(C=c.message[0].component.payload.speech_hint),u&&"webapi"===u)_=Qe(C);else if(u&&"awspolly"===u)window.speakTextWithAWSPolly?speakTextWithAWSPolly(C):console.warn("Please uncomment amazon polly files 'plugins/aws-sdk-2.668.0.min.js' and'plugins/kore-aws-polly.js' in index.html");else if(!_||_.readyState&&1!==_.readyState)try{_=Ve()}catch(e){console.log(e)}else qe(C)}},T.prototype.pushTorenderMessagesQueue=function(e){this.renderMessagesQueue||(this.renderMessagesQueue=[]),this.renderMessagesQueue.push(e),this.renderEventLoop||this.startRenderEventLoop()},T.prototype.startRenderEventLoop=function(){var e=this;e.msgRenderingProgress=!1,e.renderEventLoop=setInterval(function(){console.log("Running Event loop"),e.checkForMsgQueue()},500)},T.prototype.checkForMsgQueue=function(){var e,t,n=this;n.renderMessagesQueue.length&&!n.msgRenderingProgress&&(t=0,(e=n.renderMessagesQueue.shift()).message&&e.message.length&&e.message[0]&&e.message[0].component&&e.message[0].component.payload&&e.message[0].component.payload.renderDelay&&(t=e.message[0].component.payload.renderDelay||0),n.msgRenderingProgress=!0,setTimeout(function(){n.renderMessage(e),n.msgRenderingProgress=!1},t)),n.renderMessagesQueue.length||n.msgRenderingProgress||!n.renderEventLoop||(clearTimeout(n.renderEventLoop),n.renderEventLoop=!1)},T.prototype.formatMessages=function(e){W(e).find("a").attr("target","_blank")},T.prototype.openPopup=function(e){e=W(this.getChatTemplate("popup")).tmpl({link_url:e});W(this.config.container).append(e),this.popupOpened=!0,this.bindIframeEvents(W(e))},T.prototype.showDropdown=function(e){W(e).next().hasClass("dropdown-contentWidgt")&&W(e).next().toggleClass("show"),W(".dropdown-contentWidgt.show").not(W(e).next()).removeClass("show")},window.onclick=function(e){if(!e.target.matches(".dropbtnWidgt"))for(var t=document.getElementsByClassName("dropdown-contentWidgt"),n=0;n<t.length;n++){var i=t[n];i.classList.contains("show")&&i.classList.remove("show")}},T.prototype.getChatTemplate=function(e){return"message"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         {{each(key, msgItem) msgData.message}}                             {{if msgItem.cInfo && msgItem.type === "text"}}                                 <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                                     class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} {{if msgData.icon}}with-icon{{/if}}">                                     {{if msgData.createdOn}}<div aria-hidden="true" aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                                     {{if msgData.icon}}<div aria-hidden="true"  aria-live="off" class="profile-photo"> <div class="user-account avtar" style="{{if msgData.message[0] && msgData.message[0].component && msgData.message[0].component.payload && msgData.message[0].component.payload.template_type && msgData.message[0].component.payload.template_type == "live_agent" && msgData && msgData.author && msgData.author.profImage}}background-image:url(${msgData.author.profImage}){{else}}background-image:url(${msgData.icon}){{/if}}" title="User Avatar"></div> </div> {{/if}}                                     <div class="messageBubble">                                        <div>                                             {{if msgData.type === "bot_response"}}                                                 {{if msgItem.component  && msgItem.component.type =="error"}}                                                     <span style="color:${msgItem.component.payload.color}">{{html helpers.convertMDtoHTML(msgItem.component.payload.text, "bot",msgItem)}} </span>                                                 {{else}}                                                     <span class="simpleMsg" {{if msgData}}msgData="${JSON.stringify(msgData)}" {{/if}}>{{html helpers.convertMDtoHTML(msgItem.cInfo.body, "bot",msgItem)}}</span>                                                     {{if msgItem.component && msgItem.component.payload && msgItem.component.payload.videoUrl}}                                                        <div class="videoEle"><video width="300" controls><source src="${msgItem.component.payload.videoUrl}" type="video/mp4"></video></div>                                                    {{/if}}                                                    {{if msgItem.component && msgItem.component.payload && msgItem.component.payload.audioUrl}}                                                        <div class="audioEle"><audio width="180" controls><source src="${msgItem.component.payload.audioUrl}"></audio></div>                                                    {{/if}}                                                {{/if}}                                             {{else}}                                                 {{if msgItem.cInfo.renderMsg && msgItem.cInfo.renderMsg !== ""}}                                                    {{html helpers.convertMDtoHTML(msgItem.cInfo.renderMsg, "user",msgItem)}}                                                 {{else}}                                                    {{html helpers.convertMDtoHTML(msgItem.cInfo.body, "user",msgItem)}}                                                 {{/if}}                                            {{/if}}                                         </div>                                        {{if msgItem.cInfo && msgItem.cInfo.emoji}}                                             <span class="emojione emojione-${msgItem.cInfo.emoji[0].code}">${msgItem.cInfo.emoji[0].title}</span>                                         {{/if}}                                         {{if msgItem.cInfo.attachments}}                                             <div class="msgCmpt attachments" fileid="${msgItem.cInfo.attachments[0].fileId}">                                                 <div class="uploadedFileIcon">                                                     {{if msgItem.cInfo.attachments[0].fileType == "image"}}                                                         <span class="icon cf-icon icon-photos_active"></span>                                                     {{else msgItem.cInfo.attachments[0].fileType == "audio"}}                                                        <span class="icon cf-icon icon-files_audio"></span>                                                     {{else msgItem.cInfo.attachments[0].fileType == "video"}}                                                         <span class="icon cf-icon icon-video_active"></span>                                                     {{else}}                                                         {{if extension[1]=="xlsx" || extension[1]=="xls" || extension[1]=="docx" || extension[1]=="doc" || extension[1]=="pdf" || extension[1]=="ppsx" || extension[1]=="pptx" || extension[1]=="ppt" || extension[1]=="zip" || extension[1]=="rar"}}                                                            <span class="icon cf-icon icon-files_${extension[1]}"></span>                                                         {{else extension[1]}}                                                            <span class="icon cf-icon icon-files_other_doc"></span>                                                         {{/if}}                                                    {{/if}}                                                </div>                                                 <div class="curUseruploadedFileName">${msgItem.cInfo.attachments[0].fileName}</div>                                             </div>                                         {{/if}}                                         {{if msgData.isError}}                                             <div class="errorMsg">Send Failed. Please resend.</div>                                         {{/if}}                                     </div>                                 </li>                             {{/if}}                         {{/each}}                     {{/if}}                 </scipt>':"popup"===e?'<script id="kore_popup_tmpl" type="text/x-jquery-tmpl">                     <div class="kore-auth-layover">                        <div class="kore-auth-popup">                             <div class="popup_controls"><span class="close-popup" title="Close">&times;</span></div>                             <iframe id="authIframe" src="${link_url}"></iframe>                         </div>                     </div>                <\/script>':"templatebutton"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                            class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon">                             <div class="buttonTmplContent">                                 {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                                 {{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                                 <ul class="buttonTmplContentBox">                                    <li class="buttonTmplContentHeading">                                         {{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "user")}} {{/if}}                                         {{if msgData.message[0].cInfo && msgData.message[0].cInfo.emoji}}                                             <span class="emojione emojione-${msgData.message[0].cInfo.emoji[0].code}">${msgData.message[0].cInfo.emoji[0].title}</span>                                         {{/if}}                                     </li>                                    {{each(key, msgItem) msgData.message[0].component.payload.buttons}}                                         <a href=""#>                                            <li {{if msgData}}msgData="${JSON.stringify(msgData)}"{{/if}} {{if msgItem.payload}}value="${msgItem.payload}"{{/if}} {{if msgItem.payload}}actual-value="${msgItem.payload}"{{/if}} {{if msgItem.url}}url="${msgItem.url}"{{/if}} class="buttonTmplContentChild" data-value="${msgItem.value}" type="${msgItem.type}">                                                ${msgItem.title}                                            </li>                                         </a>                                     {{/each}}                                 </ul>                            </div>                        </li>                     {{/if}}                 </scipt>':"templatelist"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                            class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon">                             <div class="listTmplContent">                                 {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                                 {{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                                 <ul class="listTmplContentBox">                                     {{if msgData.message[0].component.payload.text || msgData.message[0].component.payload.heading}}                                         <li class="listTmplContentHeading">                                             {{if msgData.type === "bot_response" && msgData.message[0].component.payload.heading}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.heading, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "user")}} {{/if}}                                             {{if msgData.message[0].cInfo && msgData.message[0].cInfo.emoji}}                                                 <span class="emojione emojione-${msgData.message[0].cInfo.emoji[0].code}">${msgData.message[0].cInfo.emoji[0].title}</span>                                             {{/if}}                                         </li>                                     {{/if}}                                     {{each(key, msgItem) msgData.message[0].component.payload.elements}}                                         {{if msgData.message[0].component.payload.buttons}}                                             {{if key<= 2 }}                                                <li class="listTmplContentChild">                                                     {{if msgItem.image_url}}                                                         <div class="listRightContent" {{if msgItem.default_action && msgItem.default_action.url}}url="${msgItem.default_action.url}"{{/if}} {{if msgItem.default_action && msgItem.default_action.title}}data-value="${msgItem.default_action.title}"{{/if}} {{if msgItem.default_action && msgItem.default_action.type}}type="${msgItem.default_action.type}"{{/if}} {{if msgItem.default_action && msgItem.default_action.payload}} value="${msgItem.default_action.payload}"{{/if}}>                                                             <img alt="image" src="${msgItem.image_url}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/>                                                         </div>                                                     {{/if}}                                                     <div class="listLeftContent">                                                         <div class="listItemTitle">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.title, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.title, "user")}} {{/if}}</div>                                                         {{if msgItem.subtitle}}<div class="listItemSubtitle">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "user")}} {{/if}}</div>{{/if}}                                                         {{if msgItem.default_action && msgItem.default_action.url}}<div class="listItemPath" type="url" url="${msgItem.default_action.url}">${msgItem.default_action.url}</div>{{/if}}                                                         {{if msgItem.buttons}}                                                        <div>                                                             <span class="buyBtn" {{if msgItem.buttons[0].type}}type="${msgItem.buttons[0].type}"{{/if}} {{if msgItem.buttons[0].url}}url="${msgItem.buttons[0].url}"{{/if}} {{if msgItem.buttons[0].payload}}value="${msgItem.buttons[0].payload}"{{/if}}>{{if msgItem.buttons[0].title}}${msgItem.buttons[0].title}{{else}}Buy{{/if}}</span>                                                         </div>                                                         {{/if}}                                                    </div>                                                </li>                                             {{/if}}                                        {{else}}                                             <li class="listTmplContentChild">                                                 {{if msgItem.image_url}}                                                     <div class="listRightContent" {{if msgItem.default_action && msgItem.default_action.url}}url="${msgItem.default_action.url}"{{/if}} {{if msgItem.default_action && msgItem.default_action.title}}data-value="${msgItem.default_action.title}"{{/if}} {{if msgItem.default_action && msgItem.default_action.type}}type="${msgItem.default_action.type}"{{/if}} {{if msgItem.default_action && msgItem.default_action.payload}} value="${msgItem.default_action.payload}"{{/if}}>                                                         <img alt="image" src="${msgItem.image_url}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';" />                                                     </div>                                                 {{/if}}                                                 <div class="listLeftContent">                                                     <div class="listItemTitle">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.title, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.title, "user")}} {{/if}}</div>                                                     {{if msgItem.subtitle}}<div class="listItemSubtitle">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "user")}} {{/if}}</div>{{/if}}                                                     {{if msgItem.default_action && msgItem.default_action.url}}<div class="listItemPath" type="url" url="${msgItem.default_action.url}">${msgItem.default_action.url}</div>{{/if}}                                                     {{if msgItem.buttons}}                                                    <div>                                                         <span class="buyBtn" {{if msgItem.buttons[0].type}}type="${msgItem.buttons[0].type}"{{/if}} {{if msgItem.buttons[0].url}}url="${msgItem.buttons[0].url}"{{/if}} {{if msgItem.buttons[0].payload}}value="${msgItem.buttons[0].payload}"{{/if}}>{{if msgItem.buttons[0].title}}${msgItem.buttons[0].title}{{else}}Buy{{/if}}</span>                                                     </div>                                                     {{/if}}                                                </div>                                            </li>                                         {{/if}}                                     {{/each}}                                     </li>                                     {{if msgData.message[0].component.AlwaysShowGlobalButtons || (msgData.message[0].component.payload.elements.length > 3 && msgData.message[0].component.payload.buttons)}}                                    <li class="viewMoreList">                                         <span class="viewMore" url="{{if msgData.message[0].component.payload.buttons[0].url}}${msgData.message[0].component.payload.buttons[0].url}{{/if}}" type="${msgData.message[0].component.payload.buttons[0].type}" value="{{if msgData.message[0].component.payload.buttons[0].payload}}${msgData.message[0].component.payload.buttons[0].payload}{{else}}${msgData.message[0].component.payload.buttons[0].title}{{/if}}">${msgData.message[0].component.payload.buttons[0].title}</span>                                     </li>                                     {{/if}}                                </ul>                             </div>                         </li>                     {{/if}}                 </scipt>':"templatequickreply"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon quickReplies">                             <div class="buttonTmplContent">                                 {{if msgData.createdOn}}<div class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                                 {{if msgData.icon}}<div class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                                 {{if msgData.message[0].component.payload.text}}                                     <div class="buttonTmplContentHeading quickReply">                                         {{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "user")}} {{/if}}                                         {{if msgData.message[0].cInfo && msgData.message[0].cInfo.emoji}}                                             <span class="emojione emojione-${msgData.message[0].cInfo.emoji[0].code}">${msgData.message[0].cInfo.emoji[0].title}</span>                                         {{/if}}                                     </div>                                {{/if}}                                 <div class="fa fa-chevron-left quickreplyLeftIcon hide"></div><div class="fa fa-chevron-right quickreplyRightIcon hide"></div>                                    <div class="quick_replies_btn_parent"><div class="autoWidth">                                        {{if msgData.message[0].component.payload.quick_replies && msgData.message[0].component.payload.quick_replies.length}}                                             {{each(key, msgItem) msgData.message[0].component.payload.quick_replies}}                                                 <div class="buttonTmplContentChild quickReplyDiv"> <span {{if msgItem.payload}}value="${msgItem.payload}"{{/if}} class="quickReply {{if msgItem.image_url}}with-img{{/if}}" type="${msgItem.content_type}">                                                    {{if msgItem.image_url}}<img src="${msgItem.image_url}">{{/if}} <span class="quickreplyText {{if msgItem.image_url}}with-img{{/if}}">${msgItem.title}</span></span>                                                </div>                                             {{/each}}                                         {{/if}}                                         {{if msgData.message[0].component.payload.buttons && msgData.message[0].component.payload.buttons.length}}                                             {{each(key, msgItem) msgData.message[0].component.payload.buttons}}                                                 <div class="buttonTmplContentChild quickReplyDiv displayInline"> <span actual-value="${msgItem.title}" {{if msgData}}msgData="${JSON.stringify(msgData)}"{{/if}} {{if msgItem.payload}}value="${msgItem.payload}"{{/if}} class="buttonQuickReply {{if msgItem.image_url}}with-img{{/if}}" type="${msgItem.type}" {{if msgItem.url}}url="${msgItem.url}"{{/if}}>                                                    {{if msgItem.image_url}}<img src="${msgItem.image_url}">{{/if}} <span class="quickreplyText {{if msgItem.image_url}}with-img{{/if}}">${msgItem.title}</span></span>                                                </div>                                             {{/each}}                                         {{/if}}                                     </div>                                </div>                            </div>                        </li>                     {{/if}}                 </scipt>':"templateAttachment"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         {{each(key, msgItem) msgData.message}}                             {{if msgItem.component && msgItem.component.payload.url}}                                 <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                                    class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} {{if msgData.icon}}with-icon{{/if}}">                                     {{if msgData.createdOn}}<div class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                                     {{if msgData.icon}}<div class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                                     <div class="messageBubble">                                        {{if msgItem.component.payload.url}}                                             <div class="msgCmpt botResponseAttachments" fileid="${msgItem.component.payload.url}">                                                 <div class="uploadedFileIcon">                                                     {{if msgItem.component.type == "image"}}                                                         <span class="icon cf-icon icon-photos_active"></span>                                                     {{else msgItem.component.type == "audio"}}                                                        <span class="icon cf-icon icon-files_audio"></span>                                                     {{else msgItem.component.type == "video"}}                                                         <span class="icon cf-icon icon-video_active"></span>                                                     {{else}}                                                         {{if extension[1]=="xlsx" || extension[1]=="xls" || extension[1]=="docx" || extension[1]=="doc" || extension[1]=="pdf" || extension[1]=="ppsx" || extension[1]=="pptx" || extension[1]=="ppt" || extension[1]=="zip" || extension[1]=="rar"}}                                                            <span class="icon cf-icon icon-files_${extension[1]}"></span>                                                         {{else extension[1]}}                                                            <span class="icon cf-icon icon-files_other_doc"></span>                                                         {{/if}}                                                    {{/if}}                                                </div>                                                 <div class="botuploadedFileName">${extractedFileName}</div>                                             </div>                                         {{/if}}                                     </div>                                 </li>                             {{/if}}                         {{/each}}                     {{/if}}                 </scipt>':"carouselTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                            class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon">                             {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                             {{if msgData.icon}}<div aria-live="off" class="profile-photo extraBottom"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                             {{if msgData.message[0].component.payload.text}}<div class="messageBubble tableChart">                                <span>{{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}}</span>                            </div>{{/if}}                            <div class="carousel" id="carousel-one-by-one" style="height: 0px;">                                {{each(key, msgItem) msgData.message[0].component.payload.elements}}                                     <div class="slide">                                        {{if msgItem.image_url}}                                             <div class="carouselImageContent" {{if msgItem.default_action && msgItem.default_action.url}}url="${msgItem.default_action.url}"{{/if}} {{if msgItem.default_action && msgItem.default_action.title}}data-value="${msgItem.default_action.title}"{{/if}} {{if msgItem.default_action && msgItem.default_action.type}}type="${msgItem.default_action.type}"{{/if}} {{if msgItem.default_action && msgItem.default_action.payload}} value="${msgItem.default_action.payload}"{{/if}}>                                                 <img alt="image" src="${msgItem.image_url}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/>                                             </div>                                         {{/if}}                                         <div class="carouselTitleBox">                                             <p class="carouselTitle">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.title, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.title, "user")}} {{/if}}</p>                                             {{if msgItem.subtitle}}<p class="carouselDescription">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "user")}} {{/if}}</p>{{/if}}                                             {{if msgItem.default_action && msgItem.default_action.type === "web_url"}}<div class="listItemPath carouselDefaultAction" type="url" url="${msgItem.default_action.url}">${msgItem.default_action.url}</div>{{/if}}                                             {{if msgItem.buttons}}                                                 {{each(key, msgBtn) msgItem.buttons}}                                                     <div {{if msgBtn.payload}}value="${msgBtn.payload}"{{/if}} {{if msgBtn.url}}url="${msgBtn.url}"{{/if}} class="listItemPath carouselButton" data-value="${msgBtn.value}" type="${msgBtn.type}">                                                        ${msgBtn.title}                                                    </div>                                                 {{/each}}                                             {{/if}}                                         </div>                                    </div>                                {{/each}}                             </div>                        </li>                     {{/if}}                </scipt>':"pieChartTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                            class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon piechart">                             {{if msgData.createdOn}}<div class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                             {{if msgData.icon}}<div class="profile-photo extraBottom"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                             {{if msgData.message[0].component.payload.text}}<div class="messageBubble pieChart">                                <span>{{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}}</span>                            </div>{{/if}}                            <div id="d3Pie">                            </div>                            <div class="piechartDiv">                                <div class="lineChartChildDiv" id="piechart${msgData.messageId}"></div>                            </div>                        </li>                     {{/if}}                 </scipt>':"tableChartTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                            class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon tablechart">                             {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                             {{if msgData.icon}}<div aria-live="off" class="profile-photo extraBottom"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                             {{if msgData.message[0].component.payload.text}}<div class="messageBubble tableChart">                                <span>{{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}}</span>                            </div>{{/if}}                            <div class="tablechartDiv {{if msgData.message[0].component.payload.table_design && msgData.message[0].component.payload.table_design == "regular"}}regular{{else}}hide{{/if}}">                                <div style="overflow-x:auto; padding: 0 8px;">                                    <table cellspacing="0" cellpadding="0">                                        <tr class="headerTitle">                                            {{each(key, tableHeader) msgData.message[0].component.payload.columns}}                                                 <th {{if tableHeader[1]}}style="text-align:${tableHeader[1]};"{{/if}}>${tableHeader[0]}</th>                                            {{/each}}                                         </tr>                                        {{each(key, tableRow) msgData.message[0].component.payload.elements}}                                             {{if tableRow.Values.length>1}}                                                <tr {{if key > 4}}class="hide"{{/if}}>                                                    {{each(cellkey, cellValue) tableRow.Values}}                                                         <td  {{if cellkey === tableRow.Values.length-1}}colspan="2"{{/if}} class=" {{if key == 0}} addTopBorder {{/if}}" {{if msgData.message[0].component.payload.columns[cellkey][1]}}style="text-align:${msgData.message[0].component.payload.columns[cellkey][1]};" {{/if}} title="${cellValue}">${cellValue}</td>                                                    {{/each}}                                                 </tr>                                            {{/if}}                                        {{/each}}                                     </table>                                </div>                                {{if msgData.message[0].component.payload.elements.length > 5 && msgData.message[0].component.payload.table_design && msgData.message[0].component.payload.table_design == "regular"}}<div class="showMore">Show more</div>{{/if}}                            </div>                             <div class="accordionTable {{if msgData.message[0].component.payload.table_design && msgData.message[0].component.payload.table_design == "regular"}}hide{{else}}responsive{{/if}}">                                {{each(key, tableRow) msgData.message[0].component.payload.elements}}                                     {{if key < 4}}                                        <div class="accordionRow">                                            {{each(cellkey, cellValue) tableRow.Values}}                                                 {{if cellkey < 2}}                                                    <div class="accordionCol">                                                        <div class="colTitle hideSdkEle">${msgData.message[0].component.payload.columns[cellkey][0]}</div>                                                        <div class="colVal">${cellValue}</div>                                                    </div>                                                {{else}}                                                    <div class="accordionCol hideSdkEle">                                                        <div class="colTitle">${msgData.message[0].component.payload.columns[cellkey][0]}</div>                                                        <div class="colVal">${cellValue}</div>                                                    </div>                                                {{/if}}                                            {{/each}}                                             <span class="fa fa-caret-right tableBtn"></span>                                        </div>                                    {{/if}}                                {{/each}}                                 <div class="showMore">Show more</div>                            </div>                        </li>                     {{/if}}                 </scipt>':"miniTableChartTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                            class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon tablechart">                             {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                             {{if msgData.icon}}<div aria-live="off" class="profile-photo extraBottom"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                             {{if msgData.message[0].component.payload.text}}<div class="messageBubble tableChart">                                <span>{{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}}</span>                            </div>{{/if}}                            {{each(key, table) msgData.message[0].component.payload.elements}}                                <div class="minitableDiv">                                    <div style="overflow-x:auto; padding: 0 8px;">                                        <table cellspacing="0" cellpadding="0">                                            <tr class="headerTitle">                                                {{each(key, tableHeader) table.primary}}                                                     <th {{if tableHeader[1]}}style="text-align:${tableHeader[1]};" {{/if}}>${tableHeader[0]}</th>                                                {{/each}}                                             </tr>                                            {{each(key, additional) table.additional}}                                                 <tr>                                                    {{each(cellkey, cellValue) additional}}                                                         <td  {{if cellkey === additional.length-1}}colspan="2"{{/if}}  {{if table.primary[cellkey][1]}}style="text-align:${table.primary[cellkey][1]};" {{/if}} title="${cellValue}">${cellValue}</td>                                                    {{/each}}                                                 </tr>                                            {{/each}}                                         </table>                                    </div>                                </div>                            {{/each}}                        </li>                     {{/if}}                 </scipt>':"miniTableHorizontalTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                            class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon tablechart">                             {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                             {{if msgData.icon}}<div aria-live="off" class="profile-photo extraBottom"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                             {{if msgData.message[0].component.payload.text}}<div class="messageBubble tableChart">                                <span>{{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}}</span>                            </div>{{/if}}                            <div class="carousel" id="carousel-one-by-one" style="height: 0px;">                                {{each(key, table) msgData.message[0].component.payload.elements}}                                    <div class="slide">                                        <div class="minitableDiv">                                            <div style="overflow-x:auto; padding: 0 8px;">                                                <table cellspacing="0" cellpadding="0">                                                    <tr class="headerTitle">                                                        {{each(key, tableHeader) table.primary}}                                                             <th {{if tableHeader[1]}}style="text-align:${tableHeader[1]};" {{/if}}>${tableHeader[0]}</th>                                                        {{/each}}                                                     </tr>                                                    {{each(key, additional) table.additional}}                                                         <tr>                                                            {{each(cellkey, cellValue) additional}}                                                                 <td  {{if cellkey === additional.length-1}}colspan="2"{{/if}}  {{if table.primary[cellkey][1]}}style="text-align:${table.primary[cellkey][1]};" {{/if}} title="${cellValue}">${cellValue}</td>                                                            {{/each}}                                                         </tr>                                                    {{/each}}                                                 </table>                                            </div>                                        </div>                                    </div>                                {{/each}}                            </div>                        </li>                     {{/if}}                 </scipt>':"barchartTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                            class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon barchart">                             {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                             {{if msgData.icon}}<div aria-live="off" class="profile-photo extraBottom"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                             {{if msgData.message[0].component.payload.text}}<div class="messageBubble barchart">                                <span>{{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}}</span>                            </div>{{/if}}                            <div class="barchartDiv">                                <div class="lineChartChildDiv" id="barchart${msgData.messageId}"></div>                            </div>                        </li>                     {{/if}}                 </scipt>':"linechartTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                     {{if msgData.message}}                         <li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}"                            class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon linechart">                             {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                             {{if msgData.icon}}<div aria-live="off" class="profile-photo extraBottom"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                             {{if msgData.message[0].component.payload.text}}<div class="messageBubble linechart">                                <span>{{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}}</span>                            </div>{{/if}}                            <div class="linechartDiv">                                <div class="lineChartChildDiv" id="linechart${msgData.messageId}"></div>                            </div>                        </li>                     {{/if}}                 </scipt>':"actionSheetTemplate"===e?'<script id="chat-window-listTemplate" type="text/x-jqury-tmpl">                    <div class="list-template-sheet hide">                        {{if msgData.message}}                             <div class="sheetHeader">                                <span class="choose">${msgData.message[0].component.payload.heading}</span>                                <button class="close-button" title="Close"><img src="data:image/svg+xml;base64,           PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>                            </div>                            <div class="listTemplateContainer" >                                <div class="displayMonth">                                    {{each(key, tab) tabs}}                                         <span class="tabs" data-tabid="${tab}"><span class="btnBG">${tab}</span></span>                                    {{/each}}                                </div>                                <ul class="displayListValues">                                    {{each(key, msgItem) dataItems}}                                         <li class="listViewTmplContentChild">                                                 {{if msgItem.image_url}}                                                     <div class="listViewRightContent" {{if msgItem.default_action && msgItem.default_action.url}}url="${msgItem.default_action.url}"{{/if}} {{if msgItem.default_action && msgItem.default_action.title}}data-value="${msgItem.default_action.title}"{{/if}} {{if msgItem.default_action && msgItem.default_action.type}}type="${msgItem.default_action.type}"{{/if}} {{if msgItem.default_action && msgItem.default_action.payload}} value="${msgItem.default_action.payload}"{{/if}}>                                                         <img alt="image" src="${msgItem.image_url}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/>                                                     </div>                                                 {{/if}}                                                     <div class="listViewLeftContent" data-url="${msgItem.default_action.url}" data-title="${msgItem.default_action.title}" data-value="${msgItem.default_action.title}">                                                     <span class="titleDesc">                                                        <div class="listViewItemTitle" title="${msgItem.title}">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.title, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.title, "user")}} {{/if}}</div>                                                             {{if msgItem.subtitle}}<div class="listViewItemSubtitle" title="${msgItem.subtitle}">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "user")}} {{/if}}</div>{{/if}}                                                         </span>                                                            {{if msgItem.value}}<div class="listViewItemValue" title="${msgItem.value}">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.value, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.value, "user")}} {{/if}}</div>{{/if}}                                                     </div>                                            </li>                                     {{/each}}                                 </ul>                             </div>                        {{/if}}                    </div>                <\/script>':"iframe"===e?'<script id="chat_message_tmpl" type="text/x-jquery-tmpl">                     {{if link_url}}                        {{if (msgData && msgData.renderType ==="inline")}}                            <li class="inlineIframeContainer">                                 <div class="iframeBubble">                                         <div class="uiformComponent">                                        <div id="closeInlineModel" class="loading_form iframeLoader"></div>                                        <iframe id="inlineIframeModal" src="${link_url}"></iframe>                                         </div>                                </div>                            </li>                         {{else}}                            <iframe id="iframeModal" src="${link_url}"></iframe>                         {{/if}}                    {{else}}                        <div class="failedIframe">Failed to load iFrame</div>                    {{/if}}                <\/script>':"NotificationTmpl"===e?'<script id="notification_tmpl" type="tet/x-jqury-tmpl">                    {{if msgData.message}}                        <li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon notification">                             <div class="notificationTemplate">                                <div class="setLeftHeight"></div>                                <div class="setRightHeight"></div>                                <div title="${msgData.message[0].component.payload.text}" class="notificationHeader">${msgData.message[0].component.payload.text}                                </div>                                <div class="notificationDescp">                                    <div class="notificationImg">                                    {{if msgData.message[0].component.payload.image_url}} <div class="notificationImg">                                    <img alt="image" src="${msgData.message[0].component.payload.image_url}">                                    </div>{{/if}}                           </div>                                    <div class="titleDescp">                                        <div class="notificationTitle">${msgData.message[0].component.payload.title}                                        </div>                                        <div class="notificationSubtitle">${msgData.message[0].component.payload.subtitle}                                        </div>                                    </div>                                    <div class="btn-notification">                                    {{each(key, msgItem) msgData.message[0].component.payload.buttons}}                                    <div class="link" data-value="${msgItem.postback.value}">${msgItem.name}</div>                                    {{/each}}                                    </div>                                </div>                            </div>                        </li>                    {{/if}}                <\/script>':'<script id="chat_window_tmpl" type="text/x-jqury-tmpl">                     <div class="kr-sdkMainContainer no-show">                    <div class="kore-chat-window droppable liteTheme-one">                     <div class="kr-wiz-menu-chat defaultTheme-kore">                    </div>\t                        <div class="minimized"><span class="messages">Ask Citi</span></div>                         <div class="kore-chat-header">                             <div class="logo-icon"></div>                            <div id="botHeaderTitle" aria-labelledby="botHeaderTitle" class="header-title" title="${chatTitle}">${chatTitle}</div>                             <div class="chat-box-controls">                                 <button class="reload-btn hide" title="Reconnect"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTNweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTMgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5yZWxvYWQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQXJ0Ym9hcmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zNTcuMDAwMDAwLCAtMjQxLjAwMDAwMCkiIGZpbGw9IiM4QTk1OUYiIHN0cm9rZT0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJyZWxvYWQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM1OC4wMDAwMDAsIDI0Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMC44LDUuMjczNTc2NTggQzEwLjgsMi4zNjU3MTQyIDguMzc3NTg1NzEsMCA1LjQwMDAyMzg3LDAgQzIuNDIyNDYyMDMsMCAwLDIuMzY1NzE0MiAwLDUuMjczNTc2NTggQzAsNS40NDYzMTE0MiAwLjE0MzQwNjM1Myw1LjU4NjM1OTc2IDAuMzIwMjgyOTQyLDUuNTg2MzU5NzYgQzAuNDk3MTU5NTMsNS41ODYzNTk3NiAwLjY0MDU2NTg4Myw1LjQ0NjI4ODEgMC42NDA1NjU4ODMsNS4yNzM1NzY1OCBDMC42NDA1NjU4ODMsMi43MTA2NDc2NSAyLjc3NTY0MjI2LDAuNjI1NTg5NjY4IDUuNCwwLjYyNTU4OTY2OCBDOC4wMjQzNTc3NCwwLjYyNTU4OTY2OCAxMC4xNTk0MzQxLDIuNzEwNjcwOTYgMTAuMTU5NDM0MSw1LjI3MzU3NjU4IEMxMC4xNTk0MzQxLDcuODM2NDU4ODkgOC4wMjQzNTc3NCw5LjkyMTU0MDE4IDUuNCw5LjkyMTU0MDE4IEw0Ljg0NDMyNzI0LDkuOTIxNTQwMTggTDUuNjM4ODc1MzEsOS4wNTI5NzAwMyBDNS43NTY3MzczMyw4LjkyNDE1OTEyIDUuNzQ1MzAyMDYsOC43MjY0MDgxNiA1LjYxMzQwMjYsOC42MTEzMDYgQzUuNDgxNTAzMTMsOC40OTYyMDM4NSA1LjI3ODk4NjcyLDguNTA3Mzk0NjYgNS4xNjExNDg1Nyw4LjYzNjIwNTU2IEw0LjAyNTM1Njg4LDkuODc3ODAyNzYgQzMuODM5NDMyMzUsMTAuMDgxMDU1OSAzLjgzOTQzMjM1LDEwLjM4NzU5MDggNC4wMjUzNTY4OCwxMC41OTA4NDQgTDUuMTYxMTQ4NTcsMTEuODMyNDQxMiBDNS4yMjQ0MzY0NCwxMS45MDE2Mzc3IDUuMzEyMDc0OTgsMTEuOTM2ODQyMSA1LjQwMDExOTM3LDExLjkzNjg0MjEgQzUuNDc2MDYwMDQsMTEuOTM2ODQyMSA1LjU1MjMxMTA2LDExLjkxMDU5MDMgNS42MTM0MDI2LDExLjg1NzM0MDcgQzUuNzQ1MzI1OTQsMTEuNzQyMjM4NiA1Ljc1NjczNzMzLDExLjU0NDQ4NzYgNS42Mzg4NzUzMSwxMS40MTU2NzY3IEw0Ljg0NDMyNzI0LDEwLjU0NzEwNjUgTDUuNCwxMC41NDcxMDY1IEM4LjM3NzU4NTcxLDEwLjU0NzEwNjUgMTAuOCw4LjE4MTM5MjM0IDEwLjgsNS4yNzM1NzY1OCBaIiBpZD0iUGF0aCI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="></button>                                 <button class="minimize-btn" title="Minimize"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIycHgiIHZpZXdCb3g9IjAgMCAxNCAyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi4zICg2NzI5NykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+bWluaW1pemU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQXJ0Ym9hcmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjYuMDAwMDAwLCAtMjMzLjAwMDAwMCkiIGZpbGw9IiM4QTk1OUYiPgogICAgICAgICAgICA8ZyBpZD0ibWluaW1pemUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMyNi4wMDAwMDAsIDIzMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBwb2ludHM9IjAgMCAxMy45Mzk5OTk2IDAgMTMuOTM5OTk5NiAxLjk5OTk5OTk0IDAgMS45OTk5OTk5NCI+PC9wb2x5Z29uPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="></button>                                 <button class="expand-btn hide" title="Expand"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5leHBhbmQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQXJ0Ym9hcmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDUuMDAwMDAwLCAtMjUyLjAwMDAwMCkiIGZpbGw9IiM4QTk1OUYiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJleHBhbmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwNS4wMDAwMDAsIDI1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xLjg2NjY2NjY3LDkuMzMzMzMzMzMgTDAsOS4zMzMzMzMzMyBMMCwxNCBMNC42NjY2NjY2NywxNCBMNC42NjY2NjY2NywxMi4xMzMzMzMzIEwxLjg2NjY2NjY3LDEyLjEzMzMzMzMgTDEuODY2NjY2NjcsOS4zMzMzMzMzMyBaIE0wLDQuNjY2NjY2NjcgTDEuODY2NjY2NjcsNC42NjY2NjY2NyBMMS44NjY2NjY2NywxLjg2NjY2NjY3IEw0LjY2NjY2NjY3LDEuODY2NjY2NjcgTDQuNjY2NjY2NjcsMCBMMCwwIEwwLDQuNjY2NjY2NjcgWiBNMTIuMTMzMzMzMywxMi4xMzMzMzMzIEw5LjMzMzMzMzMzLDEyLjEzMzMzMzMgTDkuMzMzMzMzMzMsMTQgTDE0LDE0IEwxNCw5LjMzMzMzMzMzIEwxMi4xMzMzMzMzLDkuMzMzMzMzMzMgTDEyLjEzMzMzMzMsMTIuMTMzMzMzMyBaIE05LjMzMzMzMzMzLDAgTDkuMzMzMzMzMzMsMS44NjY2NjY2NyBMMTIuMTMzMzMzMywxLjg2NjY2NjY3IEwxMi4xMzMzMzMzLDQuNjY2NjY2NjcgTDE0LDQuNjY2NjY2NjcgTDE0LDAgTDkuMzMzMzMzMzMsMCBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>                                <button class="close-btn hide" title="Close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>                             </div>                             <div class="sdkThemeContainer" title="Themes">                                <i class="icon-More dropbtnWidgt sdkThemeIcon drpdown_theme"></i>                                <ul class="dropdown-contentWidgt rmpmW themeContent" style="list-style:none;">                                    <li class="themeName" id="logo_theme">Logo theme<span class="checkMarkIcon checkMarkIcon-1"></span></li>                                    <li class="action themeName" id="shopping_theme">Shopping theme<span class="checkMarkIcon checkMarkIcon-2"></span></li>                                </ul>                            </div>                        </div>                         <div class="kore-chat-header historyLoadingDiv">                             <div class="historyWarningTextDiv displayTable">                                 <span><img class = "loadingHistory" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAYZJREFUOBGtVLFKA0EQfbMiiERQEgjpRQt/wULB/opIFCuJvb1iKdprbbASDaa4L9DCX7BQ7CVwQcEggph13t7t3RlivMKBsDsz701mZ9+eYNjaNyX0e9saDmCxZJv1mrQ6zxDcayxEqXyOxmo/TzN5B2fXDbxFT7D2VH9rgK3FeV3pM848cTnLirQ6e0q60lw1lx+11bziHD5Oi1tcZVfAkyIYOYRM3GF69gHvr4uwX8sY2AMFVDwIkA3srLcFnAFb9B2I3GJqchNbQTcDJ7uLsIqPz0s91koS6WKmMm+SIfojRL8WIIuF+QdAlBSpks+ZBEkA7gijOkgBumGeR80sMLzG1OcMilgep3wDseWUxyEWsTnzmMKUr51ILw3wForYy2AhhSlfO3FKjGO8xiKWxymfgw1THnXAaxxnzMd68ajQuLcAeE1UnA5+K+R1kgmuS/4/KdY3xbdgB0fe/XMVs49m/Zi4uBPPiN/Qibrj5qJHl12+GU/7WYTRoe+J0xFlMOZ78g1n4achujvX7QAAAABJRU5ErkJggg=="></span>                                 <p class="headerTip warningTip">Loading chat history..</p>                             </div>                         </div>                         <div class="kore-chat-header trainWarningDiv">                             <div class="trainWarningTextDiv displayTable">                                 <span class="exclamation-circle"><i class="fa fa-exclamation-circle" aria-hidden="true"></i></span>                                 <p class="headerTip warningTip">Something went wrong.Please try again later.</p>                             </div>                         </div>                         <div role="log" aria-live="polite" aria-atomic="true" class="kore-chat-body">                             <div class="errorMsgBlock">                             </div>                             <ul class="chat-container"></ul>                         </div>                         <div class="typingIndicatorContent"><div class="typingIndicator"></div><div class="movingDots"></div></div>                         <div class="kore-chat-footer disableFooter"><div class="footerContainer pos-relative">                         {{if userAgentIE}}                         <div role="textbox" class="chatInputBox inputCursor" aria-label="Message"aria-label="Message" contenteditable="true" placeholder="${botMessages.message}"></div>                         {{else}}                         <div role="textbox" class="chatInputBox" contenteditable="true" placeholder="${botMessages.message}"></div>                         {{/if}}                     <div class="footerIonsContainer">                    <div class="attachment"></div>                     {{if isTTSEnabled}}                         <div class="sdkFooterIcon ttspeakerDiv ttsOff">                             <button class="ttspeaker" title="Text to Speech">                                 <span class="ttsSpeakerEnable"></span>                                 <span class="ttsSpeakerDisable"></span>                                 <span style="display:none;"><audio id="ttspeaker" controls="" autoplay="" name="media"><source src="" type="audio/wav"></audio></span>                            </button>                         </div>                     {{/if}}                     {{if isSpeechEnabled}}                    <div class="sdkFooterIcon microphoneBtn">                         <button class="notRecordingMicrophone" title="Microphone On">                             <i class="microphone"></i>                         </button>                         <button class="recordingMicrophone" title="Microphone Off" >                             <i class="microphone"></i>                             <span class="recordingGif"></span>                         </button>                         <div id="textFromServer"></div>                     </div>                     {{/if}}                    <div class="sdkFooterIcon">                         <button class="sdkAttachment attachmentBtn" title="Attachment">                             <i class="paperclip"></i>                         </button>                         <input type="file" name="Attachment" class="filety" id="captureAttachmnts" title="Upload attachment">                     </div>                     {{if !(isSendButton)}}<div class="chatSendMsg">Press enter to send</div>{{/if}}                     </div>                </div>{{if isSendButton}}<div class="sendBtnCnt"><button class="sendButton disabled" type="button">Send</button></div>{{/if}}</div>                          <div id="myModal" class="modalImagePreview">                              <span class="closeImagePreview">&times;</span>                              <img class="modal-content-imagePreview" id="img01">                              <div id="caption"></div>                        </div>                        <div id="chatBodyModal" class="chatBodyModal animate-bottom">                        <span class="closeChatBodyModal "></span>                        <div id="closeInlineModel" class="loading_form iframeLoader"></div>                        <div id="chatBodyModalContent"></div>                        </div>                        <div id="myPreviewModal" class="modalImagePreview">                              <span class="closeElePreview">&times;</span>                              <div class="largePreviewContent"></div>                        </div>                        <div class="kr-wiz-content-chat defaultTheme-kore">                        </div>                    </div>                     </div>                <\/script>'},window.onbeforeunload=function(){s&&0<W(s.config.chatContainer).length&&s.destroy()},this.addListener=function(e,t){l=l||{},e&&0<e.trim().length&&(l[e]||(l[e]=[]),"function"==typeof t&&l[e].push(t))},this.removeListener=function(e){l&&l[e]&&delete l[e]},this.callListener=function(e,t){if(l&&l[e])for(var n=0;n<l[e].length;n++)"function"==typeof l[e][n]&&l[e][n].call(this,t)},this.show=function(e){return!(0<W("body").find(".kore-chat-window").length)&&(e.chatHistory=this.chatHistory,e.handleError=this.showError,e.widgetSDKInstace&&this.addWidgetEvents(e),s=new T(e),de=new customTemplate(e,s),this)},this.showChatWindow=function(e){W(".kore-chat-window").show()},this.openMinimisedChatWindow=function(e){W(".kore-chat-window").hasClass("minimize")?W(".kore-chat-window").removeClass("minimize"):W(".kore-chat-window").addClass("minimize")},this.hideChatWindow=function(e){W(".kore-chat-window").hide()},this.isChatWindowMinimized=function(e){return!!W(".kore-chat-window").hasClass("minimize")},this.addWidgetEvents=function(e){e&&(e.widgetSDKInstace.events.onPostback=function(e){W(".chatInputBox").text(e.payload),s.sendMessage(W(".chatInputBox"),e.utterance,e)})},this.setWidgetInstance=function(e){e&&(s.config.widgetSDKInstace=e,this.addWidgetEvents(s.config))},this.destroy=function(){s&&s.destroy&&(l={},s.destroy()),D&&(D.close(),D=null),window.removeEventListener("online",Me),window.removeEventListener("offline",Me)},this.initToken=function(e){q="bearer "+e.accessToken},this.hideError=function(){W(".errorMsgBlock").removeClass("showError")},this.showError=function(t){try{(t=JSON.parse(t)).errors&&t.errors[0]&&(W(".errorMsgBlock").text(t.errors[0].msg),W(".errorMsgBlock").addClass("showError"))}catch(e){W(".errorMsgBlock").text(t),W(".errorMsgBlock").addClass("showError")}},this.botDetails=function(e,t){window.AgentDesktop?(console.log("AgentDesktop initialization1 - did not receive authResponse",JSON.stringify(e)),e&&e.userInfo?AgentDesktop(e.userInfo.userId,e):console.log("AgentDesktop initialization2 - did not receive authResponse")):console.log("AgentDesktop initialization3 - did not receive authResponse")},this.chatHistory=function(i){var o=window.chatContainerConfig;"historysync"===i[2]?i&&i[1]&&0<i[1].messages.length&&i[1].messages.forEach(function(t,e){setTimeout(function(){if("outgoing"===t.type||"bot_response"===t.type){t.fromHistorySync=!0;try{t.message[0].cInfo.body=JSON.parse(t.message[0].cInfo.body),t.message[0].cInfo.body&&t.message[0].cInfo.body.text&&(t.message[0].cInfo.body=t.message[0].cInfo.body.text),t.message[0].component=t.message[0].cInfo.body,"dropdown_template"===t.message[0].component.payload.template_type&&(t.message[0].component.selectedValue=i[1].messages[e+1].message[0].cInfo.body),"feedbackTemplate"===t.message[0].component.payload.template_type&&(t.message[0].cInfo.body="Rate this chat session"),t.message[0].component&&t.message[0].component.payload&&(t.message[0].component.payload.videoUrl||t.message[0].component.payload.audioUrl)&&(t.message[0].cInfo.body=""),o.renderMessage(t)}catch(e){o.renderMessage(t)}}},100*e)}):m&&(g=!0,i&&i[1]&&0<i[1].messages.length?(W(".chat-container").hide(),W(".historyLoadingDiv").addClass("showMsg"),i[1].messages.forEach(function(t,n){setTimeout(function(e){if(!e.filter(function(e){return e.messageId===t.messageId}).length)try{t.message[0].cInfo.body=JSON.parse(t.message[0].cInfo.body),t.message[0].cInfo.body&&t.message[0].cInfo.body.text&&(t.message[0].cInfo.body=t.message[0].cInfo.body.text),t.message[0].component=t.message[0].cInfo.body,"dropdown_template"===t.message[0].component.payload.template_type&&(t.message[0].component.payload.fromHistory=!0,t.message[0].component.selectedValue=i[1].messages[n+1].message[0].cInfo.body),"multi_select"!==t.message[0].component.payload.template_type&&"advanced_multi_select"!==t.message[0].component.payload.template_type||(t.message[0].component.payload.fromHistory=!0),"form_template"===t.message[0].component.payload.template_type&&(t.message[0].component.payload.fromHistory=!0),"tableList"===t.message[0].component.payload.template_type&&(t.message[0].component.payload.fromHistory=!0),"listView"===t.message[0].component.payload.template_type&&(t.message[0].component.payload.fromHistory=!0),"feedbackTemplate"===t.message[0].component.payload.template_type&&(t.message[0].component.payload.fromHistory=!0,t.message[0].cInfo.body="Rate this chat session"),t.message[0].component&&t.message[0].component.payload&&(t.message[0].component.payload.videoUrl||t.message[0].component.payload.audioUrl)&&(t.message[0].cInfo.body=""),o.renderMessage(t)}catch(e){o.renderMessage(t)}n===i[1].messages.length-1&&setTimeout(function(n){W(".chat-container").show(),W(".chat-container").animate({scrollTop:W(".chat-container").prop("scrollHeight")},2500),W(".historyLoadingDiv").removeClass("showMsg"),n.length?n.forEach(function(e,t){o.renderMessage(e),n.length-1===t&&(n=[],setTimeout(function(){W(".chatInputBox").focus(),W(".disableFooter").removeClass("disableFooter"),g=!1}))}):setTimeout(function(){W(".chatInputBox").focus(),W(".disableFooter").removeClass("disableFooter"),g=!1})},500,e)},100*n,Z)})):setTimeout(function(){W(".chatInputBox").focus(),W(".disableFooter").removeClass("disableFooter"),g=!1}))};var E="",S=!1,e=null,N="";function xe(){var e=window.chrome,t=window.navigator,n=t.vendor,i=-1<t.userAgent.indexOf("OPR"),o=-1<t.userAgent.indexOf("Edge");return t.userAgent.match("CriOS")||null!=e&&"Google Inc."===n&&!1==i&&!1==o}function Ee(){setTimeout(function(){m&&(W(".chatInputBox").focus(),W(".disableFooter").removeClass("disableFooter"),g=!1)},2e4)}setTimeout(function(){y&&(window.initGapi?initGapi():console.warn("Please uncomment Google Speech files('speech/app.js','speech/key.js' and 'client_api.js' in index.html"))},2e3),"webkitSpeechRecognition"in window&&xe()&&(e=new window.webkitSpeechRecognition,E="",e.continuous=!0,e.interimResults=!0,e.onstart=function(){S=!(N=""),W(".recordingMicrophone").css("display","block"),W(".notRecordingMicrophone").css("display","none")},e.onerror=function(e){console.log(e.error),W(".recordingMicrophone").trigger("click"),W(".recordingMicrophone").css("display","none"),W(".notRecordingMicrophone").css("display","block")},e.onend=function(){S=!1,W(".recordingMicrophone").trigger("click"),W(".recordingMicrophone").css("display","none"),W(".notRecordingMicrophone").css("display","block")},e.onresult=function(e){for(var t=E="",n=e.resultIndex;n<e.results.length;++n)e.results[n].isFinal?E+=e.results[n][0].transcript:t+=e.results[n][0].transcript;E=je(E=Oe(E)),t=je(t),""!==E&&(N+=E),S&&(W(".chatInputBox").html(N+""+t),W(".sendButton").removeClass("disabled")),setTimeout(function(){x(document.getElementsByClassName("chatInputBox")),document.getElementsByClassName("chatInputBox")[0].scrollTop=document.getElementsByClassName("chatInputBox")[0].scrollHeight},350)});var Se=/\n\n/g,Ne=/\n/g;function je(e){return e.replace(Se,"<p></p>").replace(Ne,"<br>")}function Oe(e){return e.replace(e.substr(0,1),function(e){return e.toUpperCase()})}function Le(){S?e.stop():(E="",e.lang="en-US",e.start())}function ze(){n&&(n.record(),W(".recordingMicrophone").css("display","block"),W(".notRecordingMicrophone").css("display","none"),console.log("recording..."),P=setInterval(function(){n.export16kMono(function(e){console.log(new Date),y?sendBlobToSpeech(e,"LINEAR16",16e3):Ye(e),n.clear()},"audio/x-raw")},1e3))}function Fe(){y?(e?Le:Pe)():$?W.ajax({url:$+"asr/wss/start?email="+K,type:"post",headers:{Authorization:G||q},dataType:"json",success:function(e){ee=e.link,Pe()},error:function(e){console.log(e)}}):console.warn("Please provide speech socket url")}function Pe(){f||(v.getUserMedia||(v.getUserMedia=v.getUserMedia||v.webkitGetUserMedia||v.mozGetUserMedia||v.msGetUserMedia),v.getUserMedia?(f=!0,v.getUserMedia({audio:!0},Ue,function(e){f=!1,alert("Please enable the microphone permission for this page")})):(f=!1,alert("getUserMedia is not supported in this browser.")))}function Re(){if(v.getUserMedia){if(!n)return f=!1,void console.error("Recorder undefined");i&&Be();try{i=He()}catch(e){f=!1,console.log(e),console.error("Web socket not supported in the browser")}}}function Ue(e){J=!0,t=e,R||(e=window.AudioContext||window.webkitAudioContext,R=new e),F=R.createMediaStreamSource(t),window.userSpeechAnalyser=R.createAnalyser(),F.connect(window.userSpeechAnalyser),console.log("Mediastream created"),i&&(i.close(),i=null),n&&(n.stop(),n.clear(),n=null),n=new Recorder(F,{workerPath:ie}),console.log("Recorder Initialized"),(y?ze:Re)(),setTimeout(function(){x(document.getElementsByClassName("chatInputBox"))},600)}function Be(){clearInterval(P),f=!1,W(".recordingMicrophone")&&W(".recordingMicrophone").css("display","none"),W(".notRecordingMicrophone")&&W(".notRecordingMicrophone").css("display","block"),null!==t&&t&&t.getTracks()[0].enabled&&t.getTracks()[0].stop(),i&&(i.close(),i=null),n&&(n.stop(),n.clear()),ee=""}function Ye(e){var t;i?1===(t=i.readyState)?e instanceof Blob?0<e.size&&i.send(e):(console.log(e),i.send(e)):(f=!1,console.error("Web Socket readyState != 1: ",t,"failed to send :"+e.type+", "+e.size),Be()):(f=!1,console.error("No web socket connection: failed to send: ",e))}function He(){window.ENABLE_MICROPHONE=!0,window.SPEECH_SERVER_SOCKET_URL=ee;var e=window.SPEECH_SERVER_SOCKET_URL,t=K;window.WebSocket=window.WebSocket||window.MozWebSocket;e=new WebSocket(e+"&"+ne+"&email="+t);return e.onopen=function(e){console.log("User connected"),n.record(),W(".recordingMicrophone").css("display","block"),W(".notRecordingMicrophone").css("display","none"),console.log("recording..."),N="",P=setInterval(function(){n.export16kMono(function(e){Ye(e),n.clear()},"audio/x-raw")},oe)},e.onmessage=function(e){var e=e.data,t="";e instanceof Object&&!(e instanceof Blob)?console.log("Got object that is not a blob"):e instanceof Blob?console.log("Got Blob"):(e=JSON.parse(e),J&&0===e.status?(t=e.result.hypotheses[0].transcript,e.result.final&&(N+=e.result.hypotheses[0].transcript+" ",t=""),console.log("Interm: ",t),console.log("final: ",N),W(".chatInputBox").html(N+""+t),setTimeout(function(){x(document.getElementsByClassName("chatInputBox")),document.getElementsByClassName("chatInputBox")[0].scrollTop=document.getElementsByClassName("chatInputBox")[0].scrollHeight},350)):console.log("Server error : ",e.status))},e.onclose=function(e){""!==W(".chatInputBox").text()&&le&&window.chatContainerConfig.sendMessage(W(".chatInputBox")),f=!1,console.log("Server is closed"),console.log(e),Be()},e.onerror=function(e){console.log("Error : ",e)},e}function We(){""!==W(".chatInputBox").text()&&le&&window.chatContainerConfig.sendMessage(W(".chatInputBox")),clearInterval(P),W(".recordingMicrophone").css("display","none"),W(".notRecordingMicrophone").css("display","block"),n?(n.stop(),J=!1,console.log("stopped recording.."),setTimeout(function(){i&&(i.close(),i=null)},1e3),n.export16kMono(function(e){Ye(e),n.clear(),i&&i.close(),t.getTracks()[0].stop(),n.destroy(),f=!1},"audio/x-raw")):console.error("Recorder undefined"),S&&(e.stop(),S=!1)}function Qe(e){var t;"speechSynthesis"in window?(window.speechSynthesis.cancel(),(t=new SpeechSynthesisUtterance).text=e,window.speechSynthesis.speak(t)):console.warn("KORE:Your browser doesn't support TTS(Speech Synthesiser)")}function Ve(){if(!se)return console.warn("Please provide tts socket url"),!1;window.TTS_SOCKET_URL=se;var e=window.TTS_SOCKET_URL,e=(window.WebSocket=window.WebSocket||window.MozWebSocket,new WebSocket(e));return e.binaryType="arraybuffer",e.onopen=function(e){qe(C)},e.onmessage=function(e){C="","string"!=typeof e.data&&(e=e.data,M&&Ze(e))},e.onclose=function(e){},e.onerror=function(e){console.log("Error : ",e)},e}function Ge(){_&&(_.close(),_=null)}function qe(e){var t,n;_?1===(t=_.readyState)?(n=G||q,e={message:e,user:a.name,authorization:n},_.send(JSON.stringify(e))):(console.error("Web Socket readyState != 1: ",t),Ge()):console.error("No web socket connection: failed to send")}function Ze(e){D.decodeAudioData(e,function(e){if(e)try{b&&b.stop(),(b=D.createBufferSource()).buffer=e,b.connect(D.destination),b.start(0),b.addEventListener("ended",function(){setTimeout(function(){M&&le&&W(".notRecordingMicrophone").trigger("click")},350)})}catch(e){}else console.error("failed to decode:","buffer null")},function(e){console.error("failed to decode:",e)})}function Ke(t,n){var e=document.createElement("input");function i(e){var t;e.dataTransfer?t=e.dataTransfer.files:e.target&&(t=e.target.files),n.call(null,t)}e.setAttribute("type","file"),e.setAttribute("multiple",!1),e.style.display="none",e.addEventListener("change",i),t.appendChild(e),t.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("dragover")}),t.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation(),t.classList.remove("dragover")}),t.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation(),t.classList.remove("dragover"),i(e)})}function Je(i,o,e){var t,r={};o&&o.size&&o.size>I.file.limit.size?alert(I.file.limit.msg):(o&&e&&(o.name=e),o&&(o.name||e)&&(t=(e=e||o.name).split(".").pop().toLowerCase(),r.name=e,r.mediaName=Xe(),r.fileType=e.split(".").pop().toLowerCase(),-1<I.image.indexOf(r.fileType)?(r.type="image",r.uploadFn="acceptFileRecording"):-1<I.video.indexOf(r.fileType)?(r.type="video",r.uploadFn="acceptVideoRecording"):(-1<I.audio.indexOf(r.fileType)?r.type="audio":(r.type="attachment",r.componentSize=o.size),r.uploadFn="acceptFile"),ue&&-1!==ue.indexOf(t)?"audio"===r.type||"video"===r.type?((e=new FileReader).onload=function(e){var e=new Blob([e.target.result],{type:o.type}),t=(URL||webkitURL).createObjectURL(e),n=document.createElement(r.type);n.preload="metadata",0===n.readyState?(n.addEventListener("loadedmetadata",function(e){Math.round(e.target.duration);"audio"===r.type&&((URL||webkitURL).revokeObjectURL(t),tt(i,o,r))}),"video"===r.type&&n.addEventListener("loadeddata",function(e){r.resulttype=$e(n),(URL||webkitURL).revokeObjectURL(t),tt(i,o,r)}),n.src=t):((URL||webkitURL).revokeObjectURL(t),tt(i,o,r))},e.readAsArrayBuffer(o)):-1!==o.type.indexOf("image")?((t=new FileReader).onload=function(e){var e=new Blob([e.target.result],{type:o.type}),e=(URL||webkitURL).createObjectURL(e),t=new Image;t.src=e,t.onload=function(){r.resulttype=$e(t),tt(i,o,r)}},t.readAsArrayBuffer(o)):tt(i,o,r):alert("SDK not supported this type of file")))}function Xe(e){return(e||"xxxxyx").replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function $e(e){var t=document.createElement("canvas");return t.height=180,t.width=320,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t.toDataURL()}function et(e,t,n){var i,o,r=e,e=nt(n);e.chunkUpload=t.size>w.CHUNK_SIZE,e.chunkSize=w.CHUNK_SIZE,e.file=t,e.chunkUpload?(it(r,n),i=W(".chatInputBox"),ot(n,i),i.uploader(e)):((o=new FileReader).onloadend=function(e){e.target.readyState===FileReader.DONE&&(e=o.result.replace(/^.*;base64,/,""),o.result,n.resulttype=e,ut(r,n,i))},o.readAsDataURL(t))}function tt(t,n,i){var e=G||q;W.ajax({type:"POST",url:o+"1.1/attachment/file/token",dataType:"json",headers:{Authorization:e},success:function(e){z=e.fileToken,et(t,n,i)},error:function(e){s.config.botOptions._reconnecting=!0,_self.showError("Failed to upload file.Please try again"),e.responseJSON&&e.responseJSON.errors&&e.responseJSON.errors.length&&"401"===e.responseJSON.errors[0].httpStatus&&(setTimeout(function(){_self.hideError()},5e3),W(".kore-chat-window .reload-btn").trigger("click")),console.log("Oops, something went horribly wrong")}})}function nt(e){return w.UPLOAD={FILE_ENDPOINT:o+"1.1/attachment/file",FILE_TOKEN_ENDPOINT:o+"1.1/attachment/file/token",FILE_CHUNK_ENDPOINT:o+"1.1/attachment/file/:fileID/chunk"},_accessToke="bearer "+L,(_uploadConfg={}).url=w.UPLOAD.FILE_ENDPOINT.replace(":fileID",z),_uploadConfg.tokenUrl=w.UPLOAD.FILE_TOKEN_ENDPOINT,_uploadConfg.chunkUrl=w.UPLOAD.FILE_CHUNK_ENDPOINT.replace(":fileID",z),_uploadConfg.fieldName="file",_uploadConfg.data={fileExtension:e.fileType,fileContext:"workflows",thumbnailUpload:!1,filename:e.name},_uploadConfg.headers={Authorization:_accessToke},_uploadConfg}function it(e,t,n){var i={};i.meta={thumbNail:t.resulttype||void 0},i.values={componentId:t.mediaName,componentType:t.type,componentFileId:n,componentData:{filename:t.name}},t.componentSize&&(i.values.componentSize=t.componentSize),lt(0,i)}function ot(t,e){var n=this;(e=e||n.ele).on("success.ke.uploader",function(e){rt(n,e,t)}),e.on("error.ke.uploader",st)}function rt(e,t,n){t=t.params;t&&t.fileId?n.mediaName&&ct(0,n,t.fileId):at()}function st(e,t,n){_recfileLisnr.onError({code:"UPLOAD_FAILED"}),e.removeCmpt(n)}function at(){alert("Failed to upload content. Try again"),A={},W(".attachment").html(""),W(".sendButton").addClass("disabled"),p=0}function lt(e,t){var n,i;(i=W("<div/>").attr({class:"msgCmpt "+t.values.componentType+" "+t.values.componentId})).data("value",t.values),t.values.componentFileId||"contact"===t.values.componentType||"location"===t.values.componentType||"filelink"===t.values.componentType||"alert"===t.values.componentType||"email"===t.values.componentType||i.append('<div class="upldIndc"></div>'),"attachment"===t.values.componentType&&("xls"===(n=(t.values.componentDescription||t.values.componentData.filename).split(".").pop().toLowerCase())||"xlsx"===n?i.append('<div class="uploadedFileIcon"><span class="icon cf-icon icon-files_excel"></span></div>'):"docx"===n||"doc"===n?i.append('<div class="uploadedFileIcon"><span class="icon cf-icon icon-files_word"></span></div>'):"pdf"===n?i.append('<div class="uploadedFileIcon"><span class="icon cf-icon icon-files_pdf"></span></div>'):"ppsx"===n||"pptx"===n||"ppt"===n?i.append('<div class="uploadedFileIcon"><span class="icon cf-icon icon-files_ppt"></span></div>'):"zip"===n||"rar"===n?i.append('<div class="uploadedFileIcon"><span class="icon cf-icon icon-files_zip"></span></div>'):i.append('<div class="uploadedFileIcon"><span class="icon cf-icon icon-files_other_doc"></span></div>'),i.append('<div class="uploadedFileName">'+t.values.componentData.filename+"</div>")),"image"===t.values.componentType&&(i.append('<div class="uploadedFileIcon"><span class="icon cf-icon icon-photos_active"></span></div>'),i.append('<div class="uploadedFileName">'+t.values.componentData.filename+"</div>")),"audio"===t.values.componentType&&(i.append('<div class="uploadedFileIcon"><span class="icon cf-icon icon-files_audio"></span></div>'),i.append('<div class="uploadedFileName">'+t.values.componentData.filename+"</div>")),"video"===t.values.componentType&&(i.append('<div class="uploadedFileIcon"><span class="icon cf-icon icon-video_active"></span></div>'),i.append('<div class="uploadedFileName">'+t.values.componentData.filename+"</div>")),i.append('<div class="removeAttachment"><span>&times;</span></div>'),W(".footerContainer").find(".attachment").html(i),W(".chatInputBox").focus(),A.fileName=t.values.componentData.filename,A.fileType=t.values.componentType,W(".sendButton").removeClass("disabled")}function ut(e,t,n){var i=nt(t),o=t.resulttype;ct(0,t),i.data[i.fieldName]={fileName:t.name,data:o,type:"image/png"},i.data.thumbnail={fileName:t.name+"_thumb",data:o,type:"image/png"},ot(t,n=W(".chatInputBox")),n.uploader(i)}function ct(e,t,n){var i={};i.meta={thumbNail:t.resulttype},i.values={componentId:t.mediaName,componentType:t.type,componentFileId:n,componentData:{filename:t.name}},lt(0,i)}function ft(){this.boundary="--------MultipartData"+Math.random(),this._fields=[]}function dt(e,t){this.options=t,this.$element=e,(this.options.chunkUpload?Dt:_t)(this)}function ht(){return new fe.net.HttpRequest}function pt(e,t){W(".upldIndc").is(":visible")&&(e.events.success.params=W.parseJSON(t.target.response),A.fileId=e.events.success.params.fileId,W(".sendButton").removeClass("disabled"),W(".kore-chat-window").addClass("kore-chat-attachment"),W(".chat-container").scrollTop(W(".chat-container").prop("scrollHeight")),p=1,W(".upldIndc").remove(),e.$element.trigger(e.events.success))}function j(e,t){e.events.error.params=t,e.$element.trigger(e.events.error)}function gt(e,t){return e.options=t,e}function mt(e){var t=e,n=ht(),i=new ft;if(n.addEventListener("load",function(e){200===e.target.status?t.$element.parent().length&&pt(t,e):j(t,e)},!1),n.addEventListener("error",function(e){j(t,e)},!1),n.withCredentials=!1,n.open("PUT",e.options.chunkUrl.replace(/\/chunk/,"")),e.options.headers)for(var o in e.options.headers)n.setRequestHeader(o,e.options.headers[o]);if(i.append("totalChunks",t.totalChunks),i.append("messageToken",t.messageToken),e.options.data)for(var r in e.options.data)i.append(r,e.options.data[r]);n.setRequestHeader("Content-Type","multipart/form-data; boundary="+i.boundary),n.send(i.toString())}function vt(e){var t=e,n=ht(),i=new ft;if(n.addEventListener("load",function(e){200===e.target.status?(t.currChunk++,t.$element.parent().length&&(t.currChunk===t.totalChunks?mt:yt)(t)):j(t,e)},!1),n.addEventListener("error",function(e){j(t,e)},!1),n.withCredentials=!1,n.open("POST",e.options.chunkUrl),e.options.headers)for(var o in e.options.headers)n.setRequestHeader(o,e.options.headers[o]);i.append("chunkNo",t.currChunk),i.append("messageToken",t.messageToken),i.append("chunk",{data:t.chunk,fileName:t.options.file.name}),n.setRequestHeader("Content-Type","multipart/form-data; boundary="+i.boundary),n.send(i.toString())}function yt(e){var t=e,e=t.options.file,n=t.options.chunkSize*t.currChunk,i=t.currChunk===t.totalChunks-1?e.size:(t.currChunk+1)*t.options.chunkSize,o=new FileReader,e=e.slice(n,i);o.onloadend=function(e){e.target.readyState===FileReader.DONE&&t.$element.parent().length?(t.chunk=e.target.result,t.chunk=t.chunk.replace(/data:;base64,/,""),t.currChunk<t.totalChunks&&t.$element.parent().length&&vt(t)):j(t,e)},o.readAsDataURL(e)}function Dt(e){var t=e,n=ht();if(n.addEventListener("error",function(e){j(t,e)},!1),n.addEventListener("load",function(e){200===e.target.status?(t.messageToken=JSON.parse(e.target.response).fileToken,t.totalChunks=Math.floor(t.options.file.size/t.options.chunkSize)+1,t.currChunk=0,t.options.chunkUrl=t.options.chunkUrl.replace(":token",t.messageToken),t.$element.parent().length&&yt(t)):j(t,e)},!1),n.withCredentials=!1,n.open("POST",e.options.tokenUrl),e.options.headers)for(var i in e.options.headers)n.setRequestHeader(i,e.options.headers[i]);n.send()}function _t(e){var t=e;if(_conc=ht(),_mdat=new ft,_conc.upload&&_conc.upload.addEventListener&&_conc.upload.addEventListener("progress",function(e){},!1),_conc.addEventListener("load",function(e){t.$element.parent().length&&pt(t,e)},!1),_conc.addEventListener("error",function(e){j(t,e)},!1),_conc.withCredentials=!1,_conc.open("POST",e.options.url),e.options.headers)for(var n in e.options.headers)_conc.setRequestHeader(n,e.options.headers[n]);if(e.options.data)for(var i in e.options.data)_mdat.append(i,e.options.data[i]);_conc.setRequestHeader("Content-Type","multipart/form-data; boundary="+_mdat.boundary),_conc.send(_mdat.toString())}function bt(){var e=document.getElementById("myPreviewModal");W(".largePreviewContent").empty(),W(".largePreviewContent").addClass("addheight"),W(".largePreviewContent").html("<div class='chartContainerDiv'></div>"),e.style.display="block",document.getElementsByClassName("closeElePreview")[0].onclick=function(){e.style.display="none",W(".largePreviewContent").removeClass("addheight")}}function Ct(){W(".piechartDiv,.barchartDiv, .linechartDiv").click(function(e){for(var t,n=e.currentTarget.firstElementChild.getAttribute("id"),i=null,o=null,r=null,s=0;s<k.length;s++)if(k[s].id==n){o=jQuery.extend({},k[s]),bt();break}if("d3"===graphLibGlob)bt(),void 0===o.data.message[0].component.payload.pie_type&&(o.data.message[0].component.payload.pie_type="regular"),"linechart"!==o.data.message[0].component.payload.template_type&&"piechart"!==o.data.message[0].component.payload.template_type?(t={outerWidth:650,outerHeight:460,innerWidth:450,innerHeight:350,legendRectSize:15,legendSpacing:4},W(".chartContainerDiv").html(""),"barchart"===o.data.message[0].component.payload.template_type&&"vertical"===o.data.message[0].component.payload.direction&&"barchart"===o.type?(t.innerWidth=500,KoreGraphAdapter.drawD3barChart(o.data,t,".chartContainerDiv",12)):"barchart"===o.data.message[0].component.payload.template_type&&"horizontal"===o.data.message[0].component.payload.direction&&"stackedBarchart"===o.type?KoreGraphAdapter.drawD3barStackedChart(o.data,t,".chartContainerDiv",12):"barchart"===o.data.message[0].component.payload.template_type&&"vertical"===o.data.message[0].component.payload.direction&&"stackedBarchart"===o.type?(t.innerWidth=550,KoreGraphAdapter.drawD3barVerticalStackedChart(o.data,t,".chartContainerDiv",12)):"barchart"===o.data.message[0].component.payload.template_type&&"horizontal"===o.data.message[0].component.payload.direction&&"barchart"===o.type&&(t.outerWidth=650,t.outerHeight=350,t.innerWidth=450,t.innerHeight=310,KoreGraphAdapter.drawD3barHorizontalbarChart(o.data,t,".chartContainerDiv",12))):"linechart"===o.data.message[0].component.payload.template_type?(t={outerWidth:650,outerHeight:450,innerWidth:480,innerHeight:350,legendRectSize:15,legendSpacing:4},W(".chartContainerDiv").html(""),KoreGraphAdapter.drawD3lineChartV2(o.data,t,".chartContainerDiv",12)):o.data.message[0].component.payload.pie_type&&(t={width:600,height:400,legendRectSize:15,legendSpacing:4},W("chartContainerDiv").html(""),"regular"===o.data.message[0].component.payload.pie_type?KoreGraphAdapter.drawD3Pie(o.data,t,".chartContainerDiv",16):"donut"===o.data.message[0].component.payload.pie_type?KoreGraphAdapter.drawD3PieDonut(o.data,t,".chartContainerDiv",16,"donut"):"donut_legend"===o.data.message[0].component.payload.pie_type&&(W("chartContainerDiv").html(""),KoreGraphAdapter.drawD3PieDonut(o.data,t,".chartContainerDiv",16,"donut_legend")));else if("google"===graphLibGlob){{function a(){r=document.getElementsByClassName("chartContainerDiv"),i=new google.visualization.PieChart(r[0])}function a(){r=document.getElementsByClassName("chartContainerDiv"),i=new google.visualization.LineChart(r[0])}function a(){r=document.getElementsByClassName("chartContainerDiv"),i=new("vertical"===o.direction?google.visualization.ColumnChart:google.visualization.BarChart)(r[0])}"piechart"===o.type?(google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(a)):"linechart"===o.type?(google.charts.load("current",{packages:["corechart","line"]}),google.charts.setOnLoadCallback(a)):"barchart"===o.type&&(google.charts.load("current",{packages:["corechart","bar"]}),google.charts.setOnLoadCallback(a))}setTimeout(function(){o.options.chartArea={height:"85%",width:"85%"},google.visualization.events.addListener(i,"ready",function(){setTimeout(function(){W(".largePreviewContent .chartContainerDiv").css("height","91%")})}),i.draw(o.data,o.options)},200)}})}W(window).on("beforeunload",function(){Be()}),function(){if(!D){if(!window.AudioContext){if(!window.webkitAudioContext)return console.error("Your browser does not support any AudioContext and cannot play back this audio.");window.AudioContext=window.webkitAudioContext}D=new AudioContext}}(),ft.prototype.append=function(e,t){this._fields.push([e,t])},ft.prototype.toString=function(){var n=this.boundary,i="";return this._fields.forEach(function(e){var t;i+="--"+n+"\r\n",i=e[1].data?((t=e[1]).fileName?i+='Content-Disposition: form-data; name="'+e[0]+'"; filename="'+t.fileName+'"':i+='Content-Disposition: form-data; name="'+e[0]+'"',i+="\r\n",t.type&&(i+="Content-Type: UTF-8; charset=ISO-8859-1\r\n"),(i+="Content-Transfer-Encoding: base64\r\n")+"\r\n"+t.data+"\r\n"):(i+='Content-Disposition: form-data; name="'+e[0]+'";\r\n\r\n')+e[1]+"\r\n"}),i+="--"+n+"--"},dt.prototype.events={error:W.Event("error.ke.uploader"),progressChange:W.Event("progress.ke.uploader"),success:W.Event("success.ke.uploader")};var Mt=W.fn.uploader;function wt(){var e;return!(e=new XMLHttpRequest)&&"undefined"!=typeof XDomainRequest?new XDomainRequest:e}return W.fn.uploader=function(n){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=W(this),t="";return options="object"==typeof n&&n,t?n&&("string"==typeof n&&t[n]?t[n].apply(t,i):options&&_t(gt(t,options))):e.data("ke.uploader",t=new dt(e,options)),n&&t[n]&&t[n].apply(t,i)})},W.fn.uploader.Constructor=dt,W.fn.uploader.noConflict=function(){return W.fn.uploader=Mt,this},fe.net.HttpRequest=function(){var e=wt();if(!e)throw"Unsupported HTTP Connection";try{e.withCredentials=!0}catch(e){}return e.onreadystatechange=function(){return e.onReadyStateChange&&e.onReadyStateChange.call(e)},e},{initToken:initToken,addListener:addListener,removeListener:removeListener,show:show,destroy:destroy,showError:showError,botDetails:botDetails,chatHistory:chatHistory,addWidgetEvents:addWidgetEvents,setWidgetInstance:setWidgetInstance,showChatWindow:showChatWindow,hideChatWindow:hideChatWindow,isChatWindowMinimized:isChatWindowMinimized,openMinimisedChatWindow:openMinimisedChatWindow}}(t,e=window.PerfectScrollbar&&"function"==typeof PerfectScrollbar?window.PerfectScrollbar:e)}}),function(f){function r(e,t){this.cfg=e,this.chatInitialize=t,this.helpers=null,this.extension=null}r.prototype.renderMessage=function(e){var t="";if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"SYSTEM"==e.message[0].component.payload.template_type)t=f(this.getChatTemplate("agentConnectedTemplate")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension}),-1<e.message[0].component.payload.text.indexOf("connected")?localStorage.setItem("agentConnected",!0):(localStorage.setItem("agentConnected",!1),KoreSDK.chatConfig.agentImage="");else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"dropdown_template"==e.message[0].component.payload.template_type)t=f(this.getChatTemplate("dropdown_template")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension}),this.dropdownTemplateBindEvents(t);else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"multi_select"==e.message[0].component.payload.template_type)t=f(this.getChatTemplate("checkBoxesTemplate")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension});else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"like_dislike"==e.message[0].component.payload.template_type)t=f(this.getChatTemplate("likeDislikeTemplate")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension});else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"form_template"==e.message[0].component.payload.template_type)t=f(this.getChatTemplate("formTemplate")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension}),this.bindEvents(t),e.message[0].component&&e.message[0].component.payload&&e.message[0].component.payload.fromHistory&&f(t).find(".formMainComponent form").addClass("hide");else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"advanced_multi_select"==e.message[0].component.payload.template_type)t=f(this.getChatTemplate("advancedMultiSelect")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension}),f(t).data(e),this.bindEvents(t);else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"tableList"==e.message[0].component.payload.template_type)t=f(this.getChatTemplate("tableListTemplate")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension}),this.bindEvents(t);else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"listView"==e.message[0].component.payload.template_type)t=f(this.getChatTemplate("templatelistView")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension}),this.bindEvents(t),f(t).data(e),e&&e.message[0]&&e.message[0].component&&e.message[0].component.payload&&e.message[0].component.payload.fromHistory&&f(t).css({"pointer-events":"none"});else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"feedbackTemplate"===e.message[0].component.payload.template_type&&("star"===e.message[0].component.payload.view||"emojis"===e.message[0].component.payload.view))t=f(this.getChatTemplate("ratingTemplate")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension}),this.bindEvents(t),f(t).data(e);else if(e&&e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"listWidget"==e.message[0].component.payload.template_type)t=f(this.getChatTemplate("listWidget")).tmpl({msgData:e,tempdata:e.message[0].component.payload,dataItems:e.message[0].component.payload.elements||{},viewmore:null,helpers:this.helpers,extension:this.extension}),this.templateEvents(t,"listWidget"),f(t).data(e);else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"quick_replies_welcome"==e.message[0].component.payload.template_type){var n,t=f(this.getChatTemplate("quick_replies_welcome")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension});e&&e.message[0]&&e.message[0].component&&e.message[0].component.payload&&e.message[0].component.payload.meta&&e.message[0].component.payload.meta.custSegId&&(n=this.cfg,f.ajax({url:this.cfg.botOptions.koreAPIUrl+"/workbench/sdkData?objectId=hamburgermenu&objectId=brandingwidgetdesktop",headers:{tenantId:this.cfg.botOptions.accountId,Authorization:"bearer "+window.jwtDetails.authorization.accessToken,"Accept-Language":"en_US","Accepts-version":"1",botId:this.cfg.botOptions.botInfo._id,state:"published",segmentId:e.message[0].component.payload.meta.custSegId},type:"get",dataType:"json",success:function(e){var t=koreBotChat();n.botOptions.botDetails=t.botDetails(e[1].brandingwidgetdesktop)},error:function(e){console.log(e)}}))}else if(e.message[0]&&e.message[0].component&&e.message[0].component.payload&&"bankingFeedbackTemplate"===e.message[0].component.payload.template_type)t=f(this.getChatTemplate("bankingFeedbackTemplate")).tmpl({msgData:e,helpers:this.helpers,extension:this.extension}),this.bankingFeedbackTemplateEvents(t),f(t).data(e);else if(e&&e.message[0]&&e.message[0].cInfo&&e.message[0].cInfo.body&&this.toCheckBankingFeedbackTemplate(e))return;return t},r.prototype.getChatTemplate=function(e){return"dropdown_template"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \t\t\t{{if msgData.message}} \t\t\t\t<li {{if msgData.type !== "bot_response"}} id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon"> \t\t\t\t\t<div class="buttonTmplContent"> \t\t\t\t\t\t{{if msgData.createdOn}}<div class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}} \t\t\t\t\t\t{{if msgData.icon}}<div class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}} \t\t\t\t\t\t<div class="{{if msgData.message[0].component.payload.fromHistory}} dummy messageBubble {{else}}messageBubble{{/if}}"> \t\t\t\t\t\t\t{{if msgData.message[0].component.payload.heading}}<div class="templateHeading">${msgData.message[0].component.payload.heading}</div>{{/if}} \t\t\t\t\t\t\t<select class="selectTemplateDropdowm">\t\t\t\t\t\t\t<option>select</option> \t\t\t\t\t\t\t\t{{each(key, msgItem) msgData.message[0].component.payload.elements}} \t\t\t\t\t\t\t\t\t<option xyz = ${msgData.message[0].component.selectedValue} {{if msgData.message[0].component.selectedValue === msgItem.value}}selected{{/if}} class = "dropdownTemplatesValues" type = "postback" value="${msgItem.value}"> \t\t\t\t\t\t\t\t\t\t${msgItem.title}\t\t\t\t\t\t\t\t\t</option> \t\t\t\t\t\t\t\t{{/each}} \t\t\t\t\t\t\t</select> \t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</li> \t\t\t{{/if}} \t\t<\/script>':"checkBoxesTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \t\t\t{{if msgData.message}} \t\t\t<li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon"> \t\t\t\t\t<div class = "listTmplContent"> \t\t\t\t\t\t{{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}} \t\t\t\t\t\t{{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}} \t\t\t\t\t\t<ul class="{{if msgData.message[0].component.payload.fromHistory}} dummy listTmplContentBox  {{else}} listTmplContentBox{{/if}} "> \t\t\t\t\t\t\t{{if msgData.message[0].component.payload.title || msgData.message[0].component.payload.heading}} \t\t\t\t\t\t\t\t<li class="listTmplContentHeading"> \t\t\t\t\t\t\t\t\t{{if msgData.type === "bot_response" && msgData.message[0].component.payload.heading}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.heading, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "user")}} {{/if}} \t\t\t\t\t\t\t\t\t{{if msgData.message[0].cInfo && msgData.message[0].cInfo.emoji}} \t\t\t\t\t\t\t\t\t\t<span class="emojione emojione-${msgData.message[0].cInfo.emoji[0].code}">${msgData.message[0].cInfo.emoji[0].title}</span> \t\t\t\t\t\t\t\t\t{{/if}} \t\t\t\t\t\t\t\t</li> \t\t\t\t\t\t\t{{/if}} \t\t\t\t\t\t\t{{each(key, msgItem) msgData.message[0].component.payload.elements}} \t\t\t\t\t\t\t\t{{if msgData.message[0].component.payload.buttons}} \t\t\t\t\t\t\t\t\t<li class="listTmplContentChild"> \t\t\t\t\t\t\t\t\t\t<div class="checkbox checkbox-primary styledCSS checkboxesDiv"> \t\t\t\t\t\t\t\t\t\t\t<input  class = "checkInput" type="checkbox" text = "${msgItem.title}" value = "${msgItem.value}" id="${msgItem.value}${msgData.messageId}"> \t\t\t\t\t\t\t\t\t\t\t<label for="${msgItem.value}${msgData.messageId}">{{html helpers.convertMDtoHTML(msgItem.title, "bot")}}</label> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</li> \t\t\t\t\t\t\t\t{{/if}} \t\t\t\t\t\t\t{{/each}} \t\t\t\t\t\t\t<div class="{{if msgData.message[0].component.payload.fromHistory}} hide  {{else}} checkboxButtons {{/if}} "> \t\t\t\t\t\t\t\t{{each(key, buttonData) msgData.message[0].component.payload.buttons}} \t\t\t\t\t\t\t\t\t<div class="checkboxBtn" value=${buttonData.payload} title="${buttonData.title}"> \t\t\t\t\t\t\t\t\t\t${buttonData.title} \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t{{/each}} \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</ul> \t\t\t\t\t</div> \t\t\t\t</li> \t\t\t{{/if}} \t\t<\/script>':"likeDislikeTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \t\t\t{{if msgData.message}} \t\t\t\t<li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon quickReplies"> \t\t\t\t\t<div class="buttonTmplContent"> \t\t\t\t\t\t{{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}} \t\t\t\t\t\t{{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}} \t\t\t\t\t\t{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "user")}} {{/if}} \t\t\t\t\t\t{{if msgData.message[0].cInfo && msgData.message[0].cInfo.emoji}} \t\t\t\t\t\t\t<span class="emojione emojione-${msgData.message[0].cInfo.emoji[0].code}">${msgData.message[0].cInfo.emoji[0].title}</span> \t\t\t\t\t\t{{/if}} \t\t\t\t\t\t<div type ="postback" value = "like" class="likeDislikeDiv likeDiv">\t\t\t\t\t\t\t<img class = "likeImg" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5saWtlSWNvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsaWtlSWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIuMDAwMDAwLCAxMi41MDAwMDApIHNjYWxlKDEsIC0xKSB0cmFuc2xhdGUoLTEyLjAwMDAwMCwgLTEyLjUwMDAwMCkgIiBmaWxsPSIjOUI5QjlCIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0iTGlrZS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMi4wMDAwMDAsIDEyLjQyODU3MSkgc2NhbGUoLTEsIDEpIHJvdGF0ZSgtMTgwLjAwMDAwMCkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0xMi40Mjg1NzEpIHRyYW5zbGF0ZSgwLjAwMDAwMCwgMC40Mjg1NzEpIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMy44NCwxMC41MTQyODU3IEMyMy44NCw4LjkzNjMyOTI5IDIyLjU2MDgxMzYsNy42NTcxNDI4NiAyMC45ODI4NTcxLDcuNjU3MTQyODYgTDE2Ljk4Mjg1NzEsNy42NTcxNDI4NiBMMTYuOTgyODU3MSwzLjY1NzE0Mjg2IEMxNi45ODI4NTcxLDEuOTQyODU3MTQgMTYsMC4yMjg1NzE0MjkgMTQuMTI1NzE0MywwLjIyODU3MTQyOSBDMTIuMjUxNDI4NiwwLjIyODU3MTQyOSAxMS4yNjg1NzE0LDEuOTQyODU3MTQgMTEuMjY4NTcxNCwzLjY1NzE0Mjg2IEwxMS4yNjg1NzE0LDUuMjM0Mjg1NzEgTDkuMjA1NzE0MjksNy4yOTcxNDI4NiBMNi41NjU3MTQyOSw4LjE1NDI4NTcxIEM2LjMwMTk0MDQxLDcuNTEyMjExMjUgNS42NzcwMDA0Nyw3LjA5MjU3NjQ5IDQuOTgyODU3MTQsNy4wOTE0Mjg1NyBMMi4xMjU3MTQyOSw3LjA5MTQyODU3IEMxLjE3ODk0MDQzLDcuMDkxNDI4NTcgMC40MTE0Mjg1NzEsNy44NTg5NDA0MyAwLjQxMTQyODU3MSw4LjgwNTcxNDI5IEwwLjQxMTQyODU3MSwyMS4zNzcxNDI5IEMwLjQxMTQyODU3MSwyMi4zMjM5MTY3IDEuMTc4OTQwNDMsMjMuMDkxNDI4NiAyLjEyNTcxNDI5LDIzLjA5MTQyODYgTDQuOTgyODU3MTQsMjMuMDkxNDI4NiBDNS45Mjk2MzEsMjMuMDkxNDI4NiA2LjY5NzE0Mjg2LDIyLjMyMzkxNjcgNi42OTcxNDI4NiwyMS4zNzcxNDI5IEw2LjY5NzE0Mjg2LDIxLjE1NDI4NTcgTDkuMTc3MTQyODYsMjIuODA1NzE0MyBDOS40NTgzMjQ3NywyMi45OTIyMjk0IDkuNzg4Mjk1OTgsMjMuMDkxNjE4MyAxMC4xMjU3MTQzLDIzLjA5MTQyODYgTDIwLjk4Mjg1NzEsMjMuMDkxNDI4NiBDMjIuNTYwODEzNiwyMy4wOTE0Mjg2IDIzLjg0LDIxLjgxMjI0MjEgMjMuODQsMjAuMjM0Mjg1NyBMMjMuODQsMTkuNjYyODU3MSBDMjMuNTMzNzcyNCwxOS4xMzI0NTUzIDIzLjUzMzc3MjQsMTguNDc4OTczMyAyMy44NCwxNy45NDg1NzE0IEwyMy44NCwxNi4yMzQyODU3IEMyMy41MzM3NzI0LDE1LjcwMzg4MzkgMjMuNTMzNzcyNCwxNS4wNTA0MDE4IDIzLjg0LDE0LjUyIEwyMy44NCwxMi44MDU3MTQzIEMyMy41MzM3NzI0LDEyLjI3NTMxMjQgMjMuNTMzNzcyNCwxMS42MjE4MzA0IDIzLjg0LDExLjA5MTQyODYgTDIzLjg0LDEwLjUxNDI4NTcgWiBNNC45ODI4NTcxNCwyMS4zNzE0Mjg2IEwyLjEyNTcxNDI5LDIxLjM3MTQyODYgTDIuMTI1NzE0MjksOC44IEw0Ljk4Mjg1NzE0LDguOCBMNC45ODI4NTcxNCwyMS4zNzE0Mjg2IFogTTIyLjEyNTcxNDMsMTEuMDg1NzE0MyBMMjEuMjY4NTcxNCwxMS4wODU3MTQzIEMyMC43OTUxODQ1LDExLjA4NTcxNDMgMjAuNDExNDI4NiwxMS40Njk0NzAyIDIwLjQxMTQyODYsMTEuOTQyODU3MSBDMjAuNDExNDI4NiwxMi40MTYyNDQxIDIwLjc5NTE4NDUsMTIuOCAyMS4yNjg1NzE0LDEyLjggTDIyLjEyNTcxNDMsMTIuOCBMMjIuMTI1NzE0MywxNC41MTQyODU3IEwyMS4yNjg1NzE0LDE0LjUxNDI4NTcgQzIwLjc5NTE4NDUsMTQuNTE0Mjg1NyAyMC40MTE0Mjg2LDE0Ljg5ODA0MTYgMjAuNDExNDI4NiwxNS4zNzE0Mjg2IEMyMC40MTE0Mjg2LDE1Ljg0NDgxNTUgMjAuNzk1MTg0NSwxNi4yMjg1NzE0IDIxLjI2ODU3MTQsMTYuMjI4NTcxNCBMMjIuMTI1NzE0MywxNi4yMjg1NzE0IEwyMi4xMjU3MTQzLDE3Ljk0Mjg1NzEgTDIxLjI2ODU3MTQsMTcuOTQyODU3MSBDMjAuNzk1MTg0NSwxNy45NDI4NTcxIDIwLjQxMTQyODYsMTguMzI2NjEzMSAyMC40MTE0Mjg2LDE4LjggQzIwLjQxMTQyODYsMTkuMjczMzg2OSAyMC43OTUxODQ1LDE5LjY1NzE0MjkgMjEuMjY4NTcxNCwxOS42NTcxNDI5IEwyMi4xMjU3MTQzLDE5LjY1NzE0MjkgTDIyLjEyNTcxNDMsMjAuMjI4NTcxNCBDMjIuMTI1NzE0MywyMC44NTk3NTQgMjEuNjE0MDM5NywyMS4zNzE0Mjg2IDIwLjk4Mjg1NzEsMjEuMzcxNDI4NiBMMTAuMTI1NzE0MywyMS4zNzE0Mjg2IEw2LjY5NzE0Mjg2LDE5LjA4NTcxNDMgTDYuNjk3MTQyODYsOS45MDg1NzE0MyBMMTAuMTI1NzE0Myw4LjggTDEyLjk4Mjg1NzEsNS45NDI4NTcxNCBMMTIuOTgyODU3MSwzLjY1NzE0Mjg2IEMxMi45ODI4NTcxLDMuNjU3MTQyODYgMTIuOTgyODU3MSwxLjk0Mjg1NzE0IDE0LjEyNTcxNDMsMS45NDI4NTcxNCBDMTUuMjY4NTcxNCwxLjk0Mjg1NzE0IDE1LjI2ODU3MTQsMy42NTcxNDI4NiAxNS4yNjg1NzE0LDMuNjU3MTQyODYgTDE1LjI2ODU3MTQsOS4zNzE0Mjg1NyBMMjAuOTgyODU3MSw5LjM3MTQyODU3IEMyMS42MTQwMzk3LDkuMzcxNDI4NTcgMjIuMTI1NzE0Myw5Ljg4MzEwMzE0IDIyLjEyNTcxNDMsMTAuNTE0Mjg1NyIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="> \t\t\t\t\t\t\t<img class = "hide likedImg" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5saWtlSWNvblNlbGVjdEJsdWU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0ibGlrZUljb25TZWxlY3RCbHVlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMi4wMDAwMDAsIDEyLjUwMDAwMCkgc2NhbGUoMSwgLTEpIHRyYW5zbGF0ZSgtMTIuMDAwMDAwLCAtMTIuNTAwMDAwKSAiIGZpbGw9IiM3RkE0REIiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJMaWtlLTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMTIuNDI4NTcxKSBzY2FsZSgtMSwgMSkgcm90YXRlKC0xODAuMDAwMDAwKSB0cmFuc2xhdGUoLTEyLjAwMDAwMCwgLTEyLjQyODU3MSkgdHJhbnNsYXRlKDAuMDAwMDAwLCAwLjQyODU3MSkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTIzLjg0LDEwLjUxNDI4NTcgTDIzLjg0LDExLjA5MTQyODYgQzIzLjUzMzc3MjQsMTEuNjIxODMwNCAyMy41MzM3NzI0LDEyLjI3NTMxMjQgMjMuODQsMTIuODA1NzE0MyBMMjMuODQsMTQuNTIgQzIzLjUzMzc3MjQsMTUuMDUwNDAxOCAyMy41MzM3NzI0LDE1LjcwMzg4MzkgMjMuODQsMTYuMjM0Mjg1NyBMMjMuODQsMTcuOTQ4NTcxNCBDMjMuNTMzNzcyNCwxOC40Nzg5NzMzIDIzLjUzMzc3MjQsMTkuMTMyNDU1MyAyMy44NCwxOS42NjI4NTcxIEwyMy44NCwyMC4yMzQyODU3IEMyMy44NCwyMS44MTIyNDIxIDIyLjU2MDgxMzYsMjMuMDkxNDI4NiAyMC45ODI4NTcxLDIzLjA5MTQyODYgTDEwLjEyNTcxNDMsMjMuMDkxNDI4NiBDOS43ODgyOTU5OCwyMy4wOTE2MTgzIDkuNDU4MzI0NzcsMjIuOTkyMjI5NCA5LjE3NzE0Mjg2LDIyLjgwNTcxNDMgTDYuNjk3MTQyODYsMjEuMTU0Mjg1NyBMNi42OTcxNDI4NiwyMS4zNzcxNDI5IEM2LjY5NzE0Mjg2LDIyLjMyMzkxNjcgNS45Mjk2MzEsMjMuMDkxNDI4NiA0Ljk4Mjg1NzE0LDIzLjA5MTQyODYgTDIuMTI1NzE0MjksMjMuMDkxNDI4NiBDMS4xNzg5NDA0MywyMy4wOTE0Mjg2IDAuNDExNDI4NTcxLDIyLjMyMzkxNjcgMC40MTE0Mjg1NzEsMjEuMzc3MTQyOSBMMC40MTE0Mjg1NzEsOC44MDU3MTQyOSBDMC40MTE0Mjg1NzEsNy44NTg5NDA0MyAxLjE3ODk0MDQzLDcuMDkxNDI4NTcgMi4xMjU3MTQyOSw3LjA5MTQyODU3IEw0Ljk4Mjg1NzE0LDcuMDkxNDI4NTcgQzUuNjc3MDAwNDcsNy4wOTI1NzY0OSA2LjMwMTk0MDQxLDcuNTEyMjExMjUgNi41NjU3MTQyOSw4LjE1NDI4NTcxIEw5LjIwNTcxNDI5LDcuMjk3MTQyODYgTDExLjI2ODU3MTQsNS4yMzQyODU3MSBMMTEuMjY4NTcxNCwzLjY1NzE0Mjg2IEMxMS4yNjg1NzE0LDEuOTQyODU3MTQgMTIuMjUxNDI4NiwwLjIyODU3MTQyOSAxNC4xMjU3MTQzLDAuMjI4NTcxNDI5IEMxNiwwLjIyODU3MTQyOSAxNi45ODI4NTcxLDEuOTQyODU3MTQgMTYuOTgyODU3MSwzLjY1NzE0Mjg2IEwxNi45ODI4NTcxLDcuNjU3MTQyODYgTDIwLjk4Mjg1NzEsNy42NTcxNDI4NiBDMjIuNTYwODEzNiw3LjY1NzE0Mjg2IDIzLjg0LDguOTM2MzI5MjkgMjMuODQsMTAuNTE0Mjg1NyBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div type ="postback" value = "dislike" class="likeDislikeDiv disLikeDiv">\t\t\t\t\t\t\t<img class = "disLikeImg" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5kaXNsaWtlSWNvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJkaXNsaWtlSWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIC0xLjAwMDAwMCkiIGZpbGw9IiM5QjlCOUIiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJMaWtlLTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMTIuNDI4NTcxKSBzY2FsZSgtMSwgMSkgcm90YXRlKC0xODAuMDAwMDAwKSB0cmFuc2xhdGUoLTEyLjAwMDAwMCwgLTEyLjQyODU3MSkgdHJhbnNsYXRlKDAuMDAwMDAwLCAwLjQyODU3MSkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTIzLjg0LDEwLjUxNDI4NTcgQzIzLjg0LDguOTM2MzI5MjkgMjIuNTYwODEzNiw3LjY1NzE0Mjg2IDIwLjk4Mjg1NzEsNy42NTcxNDI4NiBMMTYuOTgyODU3MSw3LjY1NzE0Mjg2IEwxNi45ODI4NTcxLDMuNjU3MTQyODYgQzE2Ljk4Mjg1NzEsMS45NDI4NTcxNCAxNiwwLjIyODU3MTQyOSAxNC4xMjU3MTQzLDAuMjI4NTcxNDI5IEMxMi4yNTE0Mjg2LDAuMjI4NTcxNDI5IDExLjI2ODU3MTQsMS45NDI4NTcxNCAxMS4yNjg1NzE0LDMuNjU3MTQyODYgTDExLjI2ODU3MTQsNS4yMzQyODU3MSBMOS4yMDU3MTQyOSw3LjI5NzE0Mjg2IEw2LjU2NTcxNDI5LDguMTU0Mjg1NzEgQzYuMzAxOTQwNDEsNy41MTIyMTEyNSA1LjY3NzAwMDQ3LDcuMDkyNTc2NDkgNC45ODI4NTcxNCw3LjA5MTQyODU3IEwyLjEyNTcxNDI5LDcuMDkxNDI4NTcgQzEuMTc4OTQwNDMsNy4wOTE0Mjg1NyAwLjQxMTQyODU3MSw3Ljg1ODk0MDQzIDAuNDExNDI4NTcxLDguODA1NzE0MjkgTDAuNDExNDI4NTcxLDIxLjM3NzE0MjkgQzAuNDExNDI4NTcxLDIyLjMyMzkxNjcgMS4xNzg5NDA0MywyMy4wOTE0Mjg2IDIuMTI1NzE0MjksMjMuMDkxNDI4NiBMNC45ODI4NTcxNCwyMy4wOTE0Mjg2IEM1LjkyOTYzMSwyMy4wOTE0Mjg2IDYuNjk3MTQyODYsMjIuMzIzOTE2NyA2LjY5NzE0Mjg2LDIxLjM3NzE0MjkgTDYuNjk3MTQyODYsMjEuMTU0Mjg1NyBMOS4xNzcxNDI4NiwyMi44MDU3MTQzIEM5LjQ1ODMyNDc3LDIyLjk5MjIyOTQgOS43ODgyOTU5OCwyMy4wOTE2MTgzIDEwLjEyNTcxNDMsMjMuMDkxNDI4NiBMMjAuOTgyODU3MSwyMy4wOTE0Mjg2IEMyMi41NjA4MTM2LDIzLjA5MTQyODYgMjMuODQsMjEuODEyMjQyMSAyMy44NCwyMC4yMzQyODU3IEwyMy44NCwxOS42NjI4NTcxIEMyMy41MzM3NzI0LDE5LjEzMjQ1NTMgMjMuNTMzNzcyNCwxOC40Nzg5NzMzIDIzLjg0LDE3Ljk0ODU3MTQgTDIzLjg0LDE2LjIzNDI4NTcgQzIzLjUzMzc3MjQsMTUuNzAzODgzOSAyMy41MzM3NzI0LDE1LjA1MDQwMTggMjMuODQsMTQuNTIgTDIzLjg0LDEyLjgwNTcxNDMgQzIzLjUzMzc3MjQsMTIuMjc1MzEyNCAyMy41MzM3NzI0LDExLjYyMTgzMDQgMjMuODQsMTEuMDkxNDI4NiBMMjMuODQsMTAuNTE0Mjg1NyBaIE00Ljk4Mjg1NzE0LDIxLjM3MTQyODYgTDIuMTI1NzE0MjksMjEuMzcxNDI4NiBMMi4xMjU3MTQyOSw4LjggTDQuOTgyODU3MTQsOC44IEw0Ljk4Mjg1NzE0LDIxLjM3MTQyODYgWiBNMjIuMTI1NzE0MywxMS4wODU3MTQzIEwyMS4yNjg1NzE0LDExLjA4NTcxNDMgQzIwLjc5NTE4NDUsMTEuMDg1NzE0MyAyMC40MTE0Mjg2LDExLjQ2OTQ3MDIgMjAuNDExNDI4NiwxMS45NDI4NTcxIEMyMC40MTE0Mjg2LDEyLjQxNjI0NDEgMjAuNzk1MTg0NSwxMi44IDIxLjI2ODU3MTQsMTIuOCBMMjIuMTI1NzE0MywxMi44IEwyMi4xMjU3MTQzLDE0LjUxNDI4NTcgTDIxLjI2ODU3MTQsMTQuNTE0Mjg1NyBDMjAuNzk1MTg0NSwxNC41MTQyODU3IDIwLjQxMTQyODYsMTQuODk4MDQxNiAyMC40MTE0Mjg2LDE1LjM3MTQyODYgQzIwLjQxMTQyODYsMTUuODQ0ODE1NSAyMC43OTUxODQ1LDE2LjIyODU3MTQgMjEuMjY4NTcxNCwxNi4yMjg1NzE0IEwyMi4xMjU3MTQzLDE2LjIyODU3MTQgTDIyLjEyNTcxNDMsMTcuOTQyODU3MSBMMjEuMjY4NTcxNCwxNy45NDI4NTcxIEMyMC43OTUxODQ1LDE3Ljk0Mjg1NzEgMjAuNDExNDI4NiwxOC4zMjY2MTMxIDIwLjQxMTQyODYsMTguOCBDMjAuNDExNDI4NiwxOS4yNzMzODY5IDIwLjc5NTE4NDUsMTkuNjU3MTQyOSAyMS4yNjg1NzE0LDE5LjY1NzE0MjkgTDIyLjEyNTcxNDMsMTkuNjU3MTQyOSBMMjIuMTI1NzE0MywyMC4yMjg1NzE0IEMyMi4xMjU3MTQzLDIwLjg1OTc1NCAyMS42MTQwMzk3LDIxLjM3MTQyODYgMjAuOTgyODU3MSwyMS4zNzE0Mjg2IEwxMC4xMjU3MTQzLDIxLjM3MTQyODYgTDYuNjk3MTQyODYsMTkuMDg1NzE0MyBMNi42OTcxNDI4Niw5LjkwODU3MTQzIEwxMC4xMjU3MTQzLDguOCBMMTIuOTgyODU3MSw1Ljk0Mjg1NzE0IEwxMi45ODI4NTcxLDMuNjU3MTQyODYgQzEyLjk4Mjg1NzEsMy42NTcxNDI4NiAxMi45ODI4NTcxLDEuOTQyODU3MTQgMTQuMTI1NzE0MywxLjk0Mjg1NzE0IEMxNS4yNjg1NzE0LDEuOTQyODU3MTQgMTUuMjY4NTcxNCwzLjY1NzE0Mjg2IDE1LjI2ODU3MTQsMy42NTcxNDI4NiBMMTUuMjY4NTcxNCw5LjM3MTQyODU3IEwyMC45ODI4NTcxLDkuMzcxNDI4NTcgQzIxLjYxNDAzOTcsOS4zNzE0Mjg1NyAyMi4xMjU3MTQzLDkuODgzMTAzMTQgMjIuMTI1NzE0MywxMC41MTQyODU3IiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"> \t\t\t\t\t\t\t<img class = "hide disLikedImg" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5kaXNsaWtlSWNvblNlbGVjdEJsdWU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iZGlzbGlrZUljb25TZWxlY3RCbHVlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgLTEuMDAwMDAwKSIgZmlsbD0iIzdGQTREQiIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9Ikxpa2UtMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIuMDAwMDAwLCAxMi40Mjg1NzEpIHNjYWxlKC0xLCAxKSByb3RhdGUoLTE4MC4wMDAwMDApIHRyYW5zbGF0ZSgtMTIuMDAwMDAwLCAtMTIuNDI4NTcxKSB0cmFuc2xhdGUoMC4wMDAwMDAsIDAuNDI4NTcxKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjMuODQsMTAuNTE0Mjg1NyBMMjMuODQsMTEuMDkxNDI4NiBDMjMuNTMzNzcyNCwxMS42MjE4MzA0IDIzLjUzMzc3MjQsMTIuMjc1MzEyNCAyMy44NCwxMi44MDU3MTQzIEwyMy44NCwxNC41MiBDMjMuNTMzNzcyNCwxNS4wNTA0MDE4IDIzLjUzMzc3MjQsMTUuNzAzODgzOSAyMy44NCwxNi4yMzQyODU3IEwyMy44NCwxNy45NDg1NzE0IEMyMy41MzM3NzI0LDE4LjQ3ODk3MzMgMjMuNTMzNzcyNCwxOS4xMzI0NTUzIDIzLjg0LDE5LjY2Mjg1NzEgTDIzLjg0LDIwLjIzNDI4NTcgQzIzLjg0LDIxLjgxMjI0MjEgMjIuNTYwODEzNiwyMy4wOTE0Mjg2IDIwLjk4Mjg1NzEsMjMuMDkxNDI4NiBMMTAuMTI1NzE0MywyMy4wOTE0Mjg2IEM5Ljc4ODI5NTk4LDIzLjA5MTYxODMgOS40NTgzMjQ3NywyMi45OTIyMjk0IDkuMTc3MTQyODYsMjIuODA1NzE0MyBMNi42OTcxNDI4NiwyMS4xNTQyODU3IEw2LjY5NzE0Mjg2LDIxLjM3NzE0MjkgQzYuNjk3MTQyODYsMjIuMzIzOTE2NyA1LjkyOTYzMSwyMy4wOTE0Mjg2IDQuOTgyODU3MTQsMjMuMDkxNDI4NiBMMi4xMjU3MTQyOSwyMy4wOTE0Mjg2IEMxLjE3ODk0MDQzLDIzLjA5MTQyODYgMC40MTE0Mjg1NzEsMjIuMzIzOTE2NyAwLjQxMTQyODU3MSwyMS4zNzcxNDI5IEwwLjQxMTQyODU3MSw4LjgwNTcxNDI5IEMwLjQxMTQyODU3MSw3Ljg1ODk0MDQzIDEuMTc4OTQwNDMsNy4wOTE0Mjg1NyAyLjEyNTcxNDI5LDcuMDkxNDI4NTcgTDQuOTgyODU3MTQsNy4wOTE0Mjg1NyBDNS42NzcwMDA0Nyw3LjA5MjU3NjQ5IDYuMzAxOTQwNDEsNy41MTIyMTEyNSA2LjU2NTcxNDI5LDguMTU0Mjg1NzEgTDkuMjA1NzE0MjksNy4yOTcxNDI4NiBMMTEuMjY4NTcxNCw1LjIzNDI4NTcxIEwxMS4yNjg1NzE0LDMuNjU3MTQyODYgQzExLjI2ODU3MTQsMS45NDI4NTcxNCAxMi4yNTE0Mjg2LDAuMjI4NTcxNDI5IDE0LjEyNTcxNDMsMC4yMjg1NzE0MjkgQzE2LDAuMjI4NTcxNDI5IDE2Ljk4Mjg1NzEsMS45NDI4NTcxNCAxNi45ODI4NTcxLDMuNjU3MTQyODYgTDE2Ljk4Mjg1NzEsNy42NTcxNDI4NiBMMjAuOTgyODU3MSw3LjY1NzE0Mjg2IEMyMi41NjA4MTM2LDcuNjU3MTQyODYgMjMuODQsOC45MzYzMjkyOSAyMy44NCwxMC41MTQyODU3IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="> \t\t\t\t\t\t</div> \t\t\t\t\t</div>\t\t\t\t</li> \t\t\t{{/if}} \t\t<\/script>':"formTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> {{if msgData.message}} <li {{if msgData.type !== "bot_response"}} id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon"> \t<div class="buttonTmplContent"> \t{{if msgData.createdOn}}<div class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}} \t\t{{if msgData.icon}}<div class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}} \t   <div class="{{if msgData.message[0].component.payload.fromHistory}} dummy messageBubble {{else}}messageBubble{{/if}}"> \t\t\t<div class="formMainComponent">\t\t\t  {{if msgData.message[0].component.payload.heading}}<div class="templateHeading">${msgData.message[0].component.payload.heading}</div>{{else}}Submit Form{{/if}}\t\t\t\t<form>\t\t\t\t   <div class="formBody">\t\t\t\t\t   {{each(key, msgItem) msgData.message[0].component.payload.formFields}} \t\t\t\t\t   <div class="input_group">\t\t\t\t\t{{if msgData.message[0].component.payload.formFields[0].label}}<div class="input_label">${msgData.message[0].component.payload.formFields[0].label} : </div>{{/if}}\t\t\t\t\t\t\t<div class="inputMainComponent">\t\t\t\t\t\t\t <div class="input-btn-submit">\t\t\t\t\t\t\t\t  <input type="${msgItem.type}" class="form-control" id="email" name="email" placeholder="${msgItem.placeholder}" value=""/>\t\t\t\t\t\t\t </div>\t\t\t\t\t\t\t <div id="submit" class="submit" value={{if msgData.message[0].component.payload.text}} "${msgData.message[0].component.payload.text}"{{/if}} >\t\t\t\t\t\t\t\t <div class="ok_btn" value="${msgData.message[0].component.payload.formFields[0].fieldButton.title}">${msgData.message[0].component.payload.formFields[0].fieldButton.title}</div>\t\t\t\t\t\t\t </div>\t\t\t\t\t\t\t </div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t{{/each}} \t\t\t\t\t   </div>\t\t\t\t\t\t <div class="errorMessage hide"></div>\t\t\t   </form>\t\t\t</div>\t   </div>\t</div></li> {{/if}} <\/script>':"advancedMultiSelect"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \t{{if msgData.message}} \t<li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} {{if msgData.icon}}with-icon{{/if}}"> \t\t\t<div class = "listTmplContent advancedMultiSelect"> \t\t\t\t{{if msgData.createdOn && !msgData.message[0].component.payload.sliderView}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}} \t\t\t\t{{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}} \t\t\t\t<ul class="{{if msgData.message[0].component.payload.fromHistory}} fromHistory listTmplContentBox  {{else}} listTmplContentBox{{/if}} "> \t\t\t\t\t{{if msgData.message[0].component.payload.title || msgData.message[0].component.payload.heading}} \t\t\t\t\t<div class="advMultiSelectHeader">\t\t\t\t\t\t<h4 class="advMultiSelectHeaderTitle">${(msgData.message[0].component.payload.title) || (msgData.message[0].component.payload.heading)}{{if msgData.message[0].component.payload.sliderView}}<div class="closeIcon closeBottomSlider"></div>{{/if}}</h4>\t\t\t\t\t\t<p class="orderDate">${msgData.message[0].component.payload.description}</p>\t\t\t\t\t</div>\t\t\t\t\t{{/if}} \t\t\t\t\t<div class="advancedMultiSelectScroll">\t\t\t\t\t  {{each(index, element) msgData.message[0].component.payload.elements}} \t\t\t\t\t  <div class="collectionDiv {{if msgData.message[0].component.payload.showViewMore && (index >= msgData.message[0].component.payload.limit)}}hide{{/if}}">\t\t\t\t\t\t\t{{if element.collection && element.collection.length}}\t\t\t\t\t\t\t\t{{if element && element.collection && element.collection.length > 1}}\t\t\t\t\t\t\t\t\t<div class="checkbox checkbox-primary styledCSS checkboxesDiv groupMultiSelect"> \t\t\t\t\t\t\t\t\t<input  class = "checkInput " type="checkbox" text = "${element.collectionName}" value = "${element.collectionName}" id="${element.collectionName}${msgData.messageId}${index}"> \t\t\t\t\t\t\t\t\t\t<label for="${element.collectionName}${msgData.messageId}${index}">\t\t\t\t\t\t\t\t\t\t\t\t{{if element && element.collectionHeader}}\t\t\t\t\t\t\t\t\t\t\t\t<div class="imgDescContainer">\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="checkImgContainer">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="https://image12.coupangcdn.com/image/displayitem/displayitem_8ad9b5e0-fd76-407b-b820-6494f03ffc31.jpg">\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="multiSelectDescContainer">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="multiTitle">{{html helpers.convertMDtoHTML(msgItem.title, "bot")}}</p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="multiDesc">Consultation on weekends and holidays</p>\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t{{else}}\t\t\t\t\t\t\t\t\t\t\t\tSelect all\t\t\t\t\t\t\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t\t\t\t\t\t</label> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t\t\t{{each(key, msgItem) element.collection}} \t\t\t\t\t\t\t\t\t{{if msgData.message[0].component.payload.buttons}} \t\t\t\t\t\t\t\t\t\t<li class="listTmplContentChild"> \t\t\t\t\t\t\t\t\t\t\t<div class="checkbox checkbox-primary styledCSS checkboxesDiv singleSelect {{if !msgItem.description}}nodescription{{/if}} {{if !msgItem.description && !msgItem.image_url}}noImgdescription{{/if}}"> \t\t\t\t\t\t\t\t\t\t\t\t<input  class = "checkInput" type="checkbox" text = "${msgItem.title}" value = "${msgItem.value}" id="${msgItem.value}${msgData.messageId}${index}${key}"> \t\t\t\t\t\t\t\t\t\t\t\t<label for="${msgItem.value}${msgData.messageId}${index}${key}">\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="imgDescContainer">\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{if msgItem.image_url}}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="checkImgContainer">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="${msgItem.image_url}">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="multiSelectDescContainer">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="multiTitle">{{html helpers.convertMDtoHTML(msgItem.title, "bot")}}</p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{if msgItem.description}}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p class="multiDesc">${msgItem.description}</p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t</label> \t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t</li> \t\t\t\t\t\t\t\t\t{{/if}} \t\t\t\t\t\t\t\t{{/each}} \t\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t</div>\t\t\t\t\t  {{/each}} \t\t\t\t\t  {{if !(msgData.message[0].component.payload.fromHistory)}}\t\t\t\t\t  <li class="viewMoreContainer {{if !(msgData.message[0].component.payload.showViewMore) || (msgData.message[0].component.payload.showViewMore && (msgData.message[0].component.payload.elements.length <= msgData.message[0].component.payload.limit))}}hide{{/if}}"> \t\t\t\t\t\t  <span class="viewMoreGroups">ViewMore</span> \t\t\t\t\t  </li> \t\t\t\t\t  {{/if}}\t\t\t\t\t  </div>\t\t\t\t\t{{if !(msgData.message[0].component.payload.fromHistory)}}\t\t\t\t\t<li class="multiCheckboxBtn hide">\t\t\t\t\t\t<span title="Here are your selected items " class="{{if msgData.message[0].component.payload.fromHistory}} hide  {{else}} viewMore {{/if}}" type="postback" value="{{if msgData.message[0].component.payload.buttons[0].payload}}${msgData.message[0].component.payload.buttons[0].payload}{{else}}${msgData.message[0].component.payload.buttons[0].title}{{/if}}">${msgData.message[0].component.payload.buttons[0].title}</span> \t\t\t\t\t</li> \t\t\t\t\t{{/if}}\t\t\t\t</ul> \t\t\t</div> \t\t</li> \t{{/if}}    </scipt>':"templatelistView"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \t\t{{if msgData.message}} \t\t\t<li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon listView"> \t\t\t\t<div class="listViewTmplContent {{if msgData.message[0].component.payload.boxShadow}}noShadow{{/if}}">  \t\t\t\t{{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}} \t\t\t\t{{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}} \t\t\t\t<ul class="listViewTmplContentBox"> \t\t\t\t\t{{if msgData.message[0].component.payload.text || msgData.message[0].component.payload.heading}} \t\t\t\t\t\t<li class="listViewTmplContentHeading"> \t\t\t\t\t\t\t{{if msgData.type === "bot_response" && msgData.message[0].component.payload.heading}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "user")}} {{/if}} \t\t\t\t\t\t\t{{if msgData.message[0].component.payload.sliderView}} <button class="close-button" title="Close"><img src="data:image/svg+xml;base64, PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>{{/if}}\t\t\t\t\t\t\t{{if msgData.message[0].cInfo && msgData.message[0].cInfo.emoji}} \t\t\t\t\t\t\t\t<span class="emojione emojione-${msgData.message[0].cInfo.emoji[0].code}">${msgData.message[0].cInfo.emoji[0].title}</span> \t\t\t\t\t\t\t{{/if}} \t\t\t\t\t\t</li> \t\t\t\t\t{{/if}} \t\t\t\t\t<div class="listItems">\t\t\t\t\t\t{{each(key, msgItem) msgData.message[0].component.payload.elements}} \t\t\t\t\t\t\t{{if (msgData.message[0].component.payload.seeMore && key < msgData.message[0].component.payload.moreCount) || (!msgData.message[0].component.payload.seeMore)}}\t\t\t\t\t\t\t\t<li class="listViewTmplContentChild"> \t\t\t\t\t\t\t\t\t{{if msgItem.image_url}} \t\t\t\t\t\t\t\t\t\t<div class="listViewRightContent" {{if msgItem.default_action && msgItem.default_action.url}}url="${msgItem.default_action.url}"{{/if}} {{if msgItem.default_action && msgItem.default_action.title}}data-value="${msgItem.default_action.title}"{{/if}} {{if msgItem.default_action && msgItem.default_action.type}}type="${msgItem.default_action.type}"{{/if}} {{if msgItem.default_action && msgItem.default_action.payload}} value="${msgItem.default_action.payload}"{{/if}}> \t\t\t\t\t\t\t\t\t\t\t<img alt="image" src="${msgItem.image_url}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t{{/if}} \t\t\t\t\t\t\t\t\t<div class="listViewLeftContent" data-url="${msgItem.default_action.url}" data-title="${msgItem.default_action.title}" data-value="${msgItem.default_action.payload}"> \t\t\t\t\t\t\t\t\t\t<span class="titleDesc">\t\t\t\t\t\t\t\t\t\t\t<div class="listViewItemTitle" title="${msgItem.title}">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.title, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.title, "user")}} {{/if}}</div> \t\t\t\t\t\t\t\t\t\t\t{{if msgItem.subtitle}}<div class="listViewItemSubtitle" title="${msgItem.subtitle}">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "user")}} {{/if}}</div>{{/if}} \t\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\t\t{{if msgItem.value}}<div class="listViewItemValue" {{if msgItem && msgItem.color}}style="color:${msgItem.color}"{{/if}} title=${msgItem.value}>{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.value, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.value, "user")}} {{/if}}</div>{{/if}} \t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</li> \t\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t{{/each}} \t\t\t\t\t</div>\t\t\t\t\t{{if msgData.message[0].component.payload.seeMore}}\t\t\t\t\t\t<li class="seeMore"> \t\t\t\t\t\t\t<span class="seeMoreList">Show more</span> \t\t\t\t\t\t</li> \t\t\t\t\t{{/if}}\t\t\t\t</ul> \t\t\t\t</div> \t\t\t</li> \t\t{{/if}} \t<\/script>':"actionSheetTemplate"===e?'<script id="chat-window-listTemplate" type="text/x-jqury-tmpl"> <div class="list-template-sheet hide">  {{if msgData.message}} \t<div class="sheetHeader">\t  <span class="choose">${msgData.message[0].component.payload.heading}</span>\t  <button class="close-button" title="Close"><img src="data:image/svg+xml;base64,           PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>\t</div>\t<div class="listTemplateContainer" >\t\t <div class="displayMonth">\t\t\t {{each(key, tab) tabs}} \t\t\t\t <span class="tabs" data-tabid="${tab}"><span class="btnBG">${tab}</span></span>\t\t\t {{/each}}\t\t </div>\t\t   <ul class="displayListValues">\t\t\t   {{each(key, msgItem) dataItems}} \t\t\t\t\t<li class="listViewTmplContentChild"> \t\t\t\t\t\t  {{if msgItem.image_url}} \t\t\t\t\t\t\t  <div class="listViewRightContent" {{if msgItem.default_action && msgItem.default_action.url}}url="${msgItem.default_action.url}"{{/if}} {{if msgItem.default_action && msgItem.default_action.title}}data-value="${msgItem.default_action.title}"{{/if}} {{if msgItem.default_action && msgItem.default_action.type}}type="${msgItem.default_action.type}"{{/if}} {{if msgItem.default_action && msgItem.default_action.payload}} value="${msgItem.default_action.payload}"{{/if}}> \t\t\t\t\t\t\t\t <img alt="image" src="${msgItem.image_url}" onerror="this.onerror=null;this.src=\'../libs/img/no_image.png\';"/> \t\t\t\t\t\t\t </div> \t\t\t\t\t\t {{/if}} \t\t\t\t\t\t\t <div class="listViewLeftContent" data-url="${msgItem.default_action.url}" data-title="${msgItem.default_action.title}" data-value="${msgItem.default_action.payload}"> \t\t\t\t\t\t\t\t<span class="titleDesc">\t\t\t\t\t\t\t\t\t<div class="listViewItemTitle" title="${msgItem.title}">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.title, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.title, "user")}} {{/if}}</div> \t\t\t\t\t\t\t\t\t {{if msgItem.subtitle}}<div class="listViewItemSubtitle" title="${msgItem.subtitle}">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.subtitle, "user")}} {{/if}}</div>{{/if}} \t\t\t\t\t\t\t\t </span>\t\t\t\t\t\t\t\t\t {{if msgItem.value}}<div class="listViewItemValue" title="${msgItem.value}">{{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgItem.value, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgItem.value, "user")}} {{/if}}</div>{{/if}} \t\t\t\t\t\t\t </div>\t\t\t\t\t </li> \t\t\t\t{{/each}} \t\t\t</ul> \t</div>{{/if}}</div><\/script>':"tableListTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">                 {{if msgData.message}}                     <li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon">                         <div class="listTmplContent">                             {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                             {{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}} \t\t\t\t\t\t\t<div class="{{if msgData.message[0].component.payload.fromHistory}}dummy listTableContainerDiv {{else}}listTableContainerDiv{{/if}} ">                <div class="listTableContainerDivRepet">                <div class="listTableContainer">                {{each(index,element) msgData.message[0].component.elements}}                        <div class="listTableDetailsBorderDiv">                                <div class="listTableDetails">                                <div class="listTableHeader">                                    <div class="listTableDetailsTitle">${element.sectionHeader}</div>                                    <div class="listTableHeaderDesc{{if element.value && element.value.layout && element.value.layout.align}}${element.value.layout.align}{{/if}}" {{if element.value && element.value.layout && element.value.layout.colSize}} style="width:${element.value.layout.colSize};"{{/if}} {{if element.value && element.value.layout && element.value.layout.color}} style="color:${element.value.layout.color}"{{/if}}>${element.sectionHeaderDesc}</div>                                </div>                        {{each(index,msgItem) element.rowItems}}                                    <div class="listTableDetailsDesc {{if msgItem.title.image && msgItem.title.image.size==="medium"}}mediumImg{{/if}} {{if msgItem.title.type!=="url" && msgItem.default_action}}pointerStyle{{/if}}" {{if msgItem.title.image && msgItem.title.image.size==="large"}}mediumImg{{/if}}" {{if msgItem.title.image && msgItem.title.image.size==="small"}}smallImg{{/if}}" {{if msgItem && msgItem.bgcolor}} style="background-color:${msgItem.bgcolor};"{{/if}} {{if msgItem && msgItem.title && msgItem.title.rowColor}}style="color:${msgItem.title.rowColor}"{{/if}} {{if msgItem.default_action && msgItem.default_action.url}}url="${msgItem.default_action.url}"{{/if}} {{if msgItem.default_action && msgItem.default_action.title}} data-title="${msgItem.default_action.title}"{{/if}} {{if msgItem.default_action && msgItem.default_action.type}}type="${msgItem.default_action.type}"{{/if}} {{if msgItem.default_action && msgItem.default_action.payload}} data-value="${msgItem.default_action.payload}"{{/if}}>                                      {{if msgItem && msgItem.title.image && msgItem.title.image.image_type && msgItem.title.image.image_src}}                                        <div class="listTableBigImgConytainer">                                          {{if msgItem.title.image.image_type === "image"}}                                              <img src="${msgItem.title.image.image_src}">                                          {{/if}}                                          {{if msgItem.title.image.image_type === "fontawesome"}}                                              <i class="fa {{msgItem.title.image.image_src}}" ></i>                                          {{/if}}                                        </div>                                      {{/if}}                                        <div class="listTableDetailsDescSub ">                                        {{if (msgItem.title && msgItem.title.type && msgItem.title.type ==="url")}}                                        <div class="listTableDetailsDescName {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}} {{if !msgItem.default_action}} pointer {{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>                                        <div actionObj="${JSON.stringify(msgItem.title.url)}" type="${msgItem.title.type}" url="${msgItem.title.url.link}" class="listViewItemValue actionLink action {{if !msgItem.subtitle}}top10{{/if}}">${msgItem.title.url.title}</div>                                        </div>{{else}}                                        <p class="listTableDetailsDescName">${msgItem.title.text.title}</p>                                      {{/if}}                                      {{if (msgItem.title && msgItem.title.url && msgItem.title.url.subtitle)}}                                            <p class="listTableDetailsDescValue">${msgItem.title.url.subtitle}</p>                                            {{else (msgItem.title && msgItem.title.text)}}                                            <p class="listTableDetailsDescValue">${msgItem.title.text.subtitle}</p>                                        {{/if}}                                        </div>                                          {{if (msgItem.value && msgItem.value.type === "text" && msgItem.value.text)}}                                            <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>                                                <div class="listViewItemValue {{if !msgItem.subtitle}}top10{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.color}} style="color:${msgItem.value.layout.color}"{{/if}} title="${msgItem.value.text}">${msgItem.value.text}</div>                                            </div>                                          {{/if}}                                          {{if (msgItem.value && msgItem.value.type === "image" && msgItem.value.image && msgItem.value.image.image_src)}}                                            <div actionObj="${JSON.stringify(msgItem.value.image)}" class="titleActions imageValue action {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>                                                {{if msgItem.value.image && msgItem.value.image.image_type === "image" && msgItem.value.image.image_src}}                                                    <span class="wid-temp-btnImage">                                                         <img alt="image" src="${msgItem.value.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/>                                                     </span>                                                 {{/if}}                                            </div>                                          {{/if}}                                          {{if (msgItem.value && msgItem.value.type === "url" && msgItem.value.url.link && msgItem.value.url.title)}}                                            <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && (msgItem.value.layout.colSize || msgItem.value.layout.color)}} style="width:${msgItem.value.layout.colSize};color:${msgItem.value.layout.color}"{{/if}}>                                                <div actionObj="${JSON.stringify(msgItem.value.url)}" type="${msgItem.value.type}" url="${msgItem.value.url.link}"class="listViewItemValue actionLink action {{if !msgItem.subtitle}}top10{{/if}}">${msgItem.value.url.title}</div>                                            </div>                                          {{/if}}                                          {{if msgItem.value && msgItem.value.type=="button" && msgItem.value.button && (msgItem.value.button.title || (msgItem.value.button.image && msgItem.value.button.image.image_src))}}                                            <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}}style="width:${msgItem.value.layout.colSize};"{{/if}}>                                                <div class="actionBtns action singleBTN {{if !msgItem.value.button.title && (msgItem.value.button.image && msgItem.value.button.image.image_src)}}padding5{{/if}}" actionObj="${JSON.stringify(msgItem.value.button)}">                                                    {{if msgItem.value.button.image && msgItem.value.button.image.image_type === "image" && msgItem.value.button.image.image_src}}                                                            <span class="wid-temp-btnImage">                                                                 <img alt="image" src="${msgItem.value.button.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/>                                                             </span>                                                     {{/if}}                                                    {{if msgItem.value.button.title}}                                                    ${msgItem.value.button.title}                                                    {{/if}}                                                </div>                                            </div>                                          {{/if}}                                          {{if msgItem.value && msgItem.value.type=="menu" && msgItem.value.menu && msgItem.value.menu.length}}                                          <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}}style="width:${msgItem.value.layout.colSize};"{{/if}}>                                              <i class="icon-More dropbtnWidgt moreValue"  onclick="showDropdown(this)"></i>                                                  <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">                                                    {{each(key, actionbtnli) msgItem.value.menu}}                                                           <li class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">                                                        <i>                                                        {{if actionbtnli.image && actionbtnli.image.image_type === "image" && msgItem.title.image.image_src}}                                                        <span class="wid-temp-btnImage">                                                             <img alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/>                                                         </span>                                                         {{/if}}                                                         </i>${actionbtnli.title}</li>                                                    {{/each}}                                                  </ul>                                          </div>                                          {{/if}}                                    </div>                        {{/each}}                                </div>                        </div>                {{/each}}                </div>                {{if msgData.elements && msgData.elements.length > 3 && viewmore}}                     <div class="seeMoreFooter">                        <span class="seeMoreLink" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')">Show more</span>                    </div>                {{/if}}                </div>            </div>\t\t\t</div>             </li>         {{/if}}     </scipt>':"ratingTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \t{{if msgData.message}} \t<li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} {{if msgData.icon}}with-icon{{/if}}"> \t\t<div class="buttonTmplContent"> \t\t        {{if msgData.createdOn && !msgData.message[0].component.payload.sliderView}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}} \t\t\t\t{{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}} \t\t\t\t{{if msgData.message[0].component.payload.fromHistory}}<ul class="fromHistory listTempView">\t\t\t\t              ${msgData.message[0].cInfo.body}</ul>\t\t\t\t{{else}}<ul class="listTmplContentBox rating-main-component"> \t\t\t\t{{if msgData.message[0].component.payload.view == "star"}}\t\t\t\t  <div class="ratingMainComponent">\t\t\t\t  {{if msgData.message[0].component.payload.sliderView}}<button class="close-btn" title="Close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button> {{/if}}\t\t\t\t  {{if msgData.message[0].component.payload.text}}<div class="templateHeading">${msgData.message[0].component.payload.text}</div>{{else}}Rate the chat session{{/if}}\t\t\t\t\t<div class="star-rating">\t\t\t\t\t   {{each(key, msgItem) msgData.message[0].component.payload.starArrays}}\t\t\t\t\t   <input type="radio" id="${msgItem.starId}-stars" name="rating" value="${msgItem.value}" />\t\t\t\t\t   <label for="${msgItem.starId}-stars" class="star">&#9733;</label>\t\t\t\t\t   {{/each}}\t\t\t\t    </div>\t\t\t\t  </div>\t\t\t\t  {{else msgData.message[0].component.payload.view == "emojis"}}\t\t\t\t  <div class="emojiComponent">\t\t\t\t  {{if msgData.message[0].component.payload.sliderView}}<button class="close-btn" title="Close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button> {{/if}}\t\t\t\t  {{if msgData.message[0].component.payload.text}}<div class="templateHeading">${msgData.message[0].component.payload.text}</div>{{else}}Rate the chat session{{/if}}\t\t\t\t  {{each(key, msgItem) msgData.message[0].component.payload.smileyArrays}}\t\t\t\t     <div class="rating" id="rating_${msgItem.smileyId}" value="${msgItem.value}"></div>\t\t\t\t  {{/each}}\t\t\t\t  {{/if}}\t\t       </ul>{{/if}}\t\t</div>\t\t</li>\t{{/if}} \t<\/script>':"quick_replies_welcome"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl">             {{if msgData.message}}                 <li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon quickReplies">                     <div class="buttonTmplContent ">                         {{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}}                         {{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}}                         {{if msgData.message[0].component.payload.text}}                             <div class="buttonTmplContentHeading quickReply">                                 {{if msgData.type === "bot_response"}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "bot")}} {{else}} {{html helpers.convertMDtoHTML(msgData.message[0].component.payload.text, "user")}} {{/if}}                                 {{if msgData.message[0].cInfo && msgData.message[0].cInfo.emoji}}                                     <span class="emojione emojione-${msgData.message[0].cInfo.emoji[0].code}">${msgData.message[0].cInfo.emoji[0].title}</span>                                 {{/if}}                             </div>                            {{/if}}                             {{if msgData.message[0].component.payload.quick_replies && msgData.message[0].component.payload.quick_replies.length}}                                 <div class="quick_replies_btn_parent"><div class="autoWidth">                                    {{each(key, msgItem) msgData.message[0].component.payload.quick_replies}}                                         <div class="buttonTmplContentChild quickReplyDiv displayInline"> <span {{if msgItem.payload}} actual-value="${msgItem.payload}" {{/if}} value="${msgItem.title}" class="buttonQuickReply {{if msgItem.image_url}}with-img{{/if}}" type="${msgItem.content_type}">                                            {{if msgItem.image_url}}<img src="${msgItem.image_url}">{{/if}} <span class="quickreplyText {{if msgItem.image_url}}with-img{{/if}}">${msgItem.title}</span></span>                                        </div>                                     {{/each}}                                 </div>                            </div>                        {{/if}}                     </div>                </li>             {{/if}} \t</scipt>':"listWidget"===e?'<script id="chat-window-listTemplate" type="text/x-jqury-tmpl">\t{{if msgData.message}} \t<li {{if msgData.type !== "bot_response"}}id="msg_${msgItem.clientMessageId}"{{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon"> \t\t<div class="listTmplContent"> \t\t\t{{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>{{/if}} \t\t\t{{if msgData.icon}}<div aria-live="off" class="profile-photo"> <div class="user-account avtar" style="background-image:url(${msgData.icon})"></div> </div> {{/if}} \t\t\t<div class="{{if msgData.message[0].component.payload.fromHistory}}dummy listTableContainerDiv {{else}}listTableContainerDiv{{/if}} ">\t\t\t<div role="main" class="tab-list-template" mainObj="${JSON.stringify(tempdata)}">\t\t\t{{if tempdata}} \t\t\t <div class="sheetHeader">\t\t\t\t <div class="headerLeft">\t\t\t\t\t  <span class="choose">${tempdata.title}</span>\t\t\t\t {{if tempdata.description}}\t\t\t\t <p class="listViewItemSubtitle">${tempdata.description}</p>\t\t\t\t {{/if}}\t\t\t\t </div>\t\t\t\t {{if tempdata && tempdata.headerOptions && tempdata.headerOptions.type==="text" && tempdata.headerOptions.text}}\t\t\t\t <div class="headerRight">\t\t\t\t\t <div role="button"  tabindex="0" actionObj="${JSON.stringify(tempdata.headerOptions.text)}" class="headerActionBTN action" title="${tempdata.headerOptions.text}">${tempdata.headerOptions.text}</div>\t\t\t\t </div>\t\t\t\t {{/if}}\t\t\t\t {{if tempdata && tempdata.headerOptions && tempdata.headerOptions.type==="button" && tempdata.headerOptions.button && tempdata.headerOptions.button.title}}\t\t\t\t <div class="headerRight">\t\t\t\t\t <div role="button"  tabindex="0" actionObj="${JSON.stringify(tempdata.headerOptions.button)}" class="headerActionBTN action" title="${tempdata.headerOptions.button.title}">${tempdata.headerOptions.button.title}</div>\t\t\t\t </div>\t\t\t\t {{/if}}\t\t\t\t {{if (tempdata.headerOptions && tempdata.headerOptions.type === "url" && tempdata.headerOptions.url && tempdata.headerOptions.url.title)}}\t\t\t\t   <div class="headerRight">\t\t\t\t\t  <div role="button" tabindex="0" actionObj="${JSON.stringify(tempdata.headerOptions.url)}" class="headerActionLink action" title="${tempdata.headerOptions.url.title}">${tempdata.headerOptions.url.title}</div>\t\t\t\t  </div>\t\t\t\t {{/if}}\t\t\t\t {{if tempdata.headerOptions && tempdata.headerOptions.type === "menu" && tempdata.headerOptions.menu && tempdata.headerOptions.menu.length}}\t\t\t\t <div class="headerRight">\t\t\t\t <div role="menu" aria-label="Dropdown Menu" class="titleActions">\t\t\t\t\t <i class="icon-More dropbtnWidgt moreValue"></i>\t\t\t\t\t\t <ul role="list" class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\t\t\t\t\t\t   {{each(key, actionbtnli) tempdata.headerOptions.menu}} \t\t\t\t\t\t\t\t <li role="button" tabindex="0" title="${actionbtnli.title}" class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\t\t\t\t\t\t\t   <i>\t\t\t\t\t\t\t   {{if actionbtnli.image && actionbtnli.image.image_type === "image" && actionbtnli.image.image_src}}\t\t\t\t\t\t\t   <span class="wid-temp-btnImage"> \t\t\t\t\t\t\t\t   <img aria-hidden="true" alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t\t   </span> \t\t\t\t\t\t\t   {{/if}} \t\t\t\t\t\t\t   </i>${actionbtnli.title}</li>\t\t\t\t\t\t   {{/each}}\t\t\t\t\t\t </ul>\t\t\t\t </div>\t\t\t\t </div>\t\t\t\t {{/if}}\t\t\t\t <div class="headerRight" style="display:none;">\t\t\t\t   <div class="headerActionEllipsis">\t\t\t\t   <i class="icon-More dropbtnWidgt moreValue"></i>\t\t\t\t   <ul  class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\t\t\t\t\t\t   <li class="dropdown-item action"> one</li>\t\t\t\t\t\t   <li class="dropdown-item action"> two</li>\t\t\t\t   </ul>\t\t\t\t   </div>\t\t\t\t </div>\t\t\t  </div>\t\t\t <div class="listTemplateContainer">\t\t\t {{if tempdata.tabs && tabs.length}} \t\t\t   <div class="tabsContainer">\t\t\t\t  {{each(key, tab) tabs}} \t\t\t\t  <span class="tabs" data-tabid="${tab}" ><span class="btnBG">${tab}</span></span>\t\t\t\t  {{/each}}\t\t\t   </div>\t\t\t {{/if}} \t\t\t   <ul class="displayListValues"w>\t\t\t\t{{each(key, msgItem) dataItems}} \t\t\t\t{{if ((viewmore && (key<=2)) || (!viewmore))}}\t\t\t\t  <li class="listViewTmplContentChild" role="listitem"> \t\t\t\t   <div class="listViewTmplContentChildRow">\t\t\t\t   {{if msgItem.image && msgItem.image.image_type === "image" && msgItem.image.image_src}} \t\t\t\t\t\t   <div class="listViewRightContent {{if msgItem.image.size}}${msgItem.image.size}{{/if}}" {{if msgItem.image.radius}}style="border-radius:$(msgItem.image.radius)"{{/if}}>\t\t\t\t\t\t\t   <img aria-hidden="true" alt="image" src="${msgItem.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t   </div> \t\t\t\t   {{/if}} \t\t\t\t\t   <div class="listViewLeftContent {{if (!msgItem.value) || (msgItem.value && msgItem.value.type==="text" && !msgItem.value.text) || (msgItem.value && msgItem.value.type==="button" && !msgItem.value.button)}}fullWidthTitle{{/if}} {{if msgItem.default_action}}handCursor{{/if}}" {{if msgItem && msgItem.default_action}}actionObj="${JSON.stringify(msgItem.default_action)}"{{/if}} {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize && ((msgItem.value && msgItem.value.type === "text" && msgItem.value.text) || (msgItem.value && msgItem.value.type === "url" && msgItem.value.url && msgItem.value.url.title) || (msgItem.value && msgItem.value.type=="button" && msgItem.value.button && (msgItem.value.button.title || (msgItem.value.button.image && msgItem.value.button.image.image_src))) || (msgItem.value && msgItem.value.type=="menu" && msgItem.value.menu && msgItem.value.menu.length))}} col-size="${msgItem.value.layout.colSize}"{{/if}}> \t\t\t\t\t\t\t <span class="titleDesc ">\t\t\t\t\t\t\t   <div class="listViewItemTitleLabel" title="${msgItem.title}">${msgItem.title}</div> \t\t\t\t\t\t\t   {{if msgItem.subtitle}}\t\t\t\t\t\t\t\t <div class="listViewItemSubtitle" title="${msgItem.subtitle}">${msgItem.subtitle}</div>\t\t\t\t\t\t\t   {{/if}} \t\t\t\t\t\t\t </span>\t\t\t\t\t   </div>\t\t\t\t\t   {{if (msgItem.value && msgItem.value.type === "text" && msgItem.value.text)}}\t\t\t\t\t\t <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>\t\t\t\t\t\t\t <div class="listViewItemValue {{if !msgItem.subtitle}}top10{{/if}}" title="${msgItem.value.text}">${msgItem.value.text}</div>\t\t\t\t\t\t </div>\t\t\t\t\t   {{/if}}\t\t\t\t\t   {{if (msgItem.value && msgItem.value.type === "image" && msgItem.value.image && msgItem.value.image.image_src)}}\t\t\t\t\t\t <div actionObj="${JSON.stringify(msgItem.value.image)}" class="titleActions imageValue action {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>\t\t\t\t\t\t\t {{if msgItem.value.image && msgItem.value.image.image_type === "image" && msgItem.value.image.image_src}}\t\t\t\t\t\t\t\t <span class="wid-temp-btnImage"> \t\t\t\t\t\t\t\t\t <img aria-hidden="true" alt="image" src="${msgItem.value.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t\t\t </span> \t\t\t\t\t\t\t {{/if}}\t\t\t\t\t\t </div>\t\t\t\t\t   {{/if}}\t\t\t\t\t   {{if (msgItem.value && msgItem.value.type === "url" && msgItem.value.url && msgItem.value.url.title)}}\t\t\t\t\t\t <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}} style="width:${msgItem.value.layout.colSize};"{{/if}}>\t\t\t\t\t\t\t <div role="navigation" actionObj="${JSON.stringify(msgItem.value.url)}" class="listViewItemValue actionLink action {{if !msgItem.subtitle}}top10{{/if}}" title="${msgItem.value.url.title}">${msgItem.value.url.title}</div>\t\t\t\t\t\t </div>\t\t\t\t\t   {{/if}}\t\t\t\t\t   {{if msgItem.value && msgItem.value.type=="button" && msgItem.value.button && (msgItem.value.button.title || (msgItem.value.button.image && msgItem.value.button.image.image_src))}}\t\t\t\t\t\t <div class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}}style="width:${msgItem.value.layout.colSize};"{{/if}}>\t\t\t\t\t\t\t <div role="button" aria-live="polite" tabindex="1" class="actionBtns action singleBTN {{if !msgItem.value.button.title && (msgItem.value.button.image && msgItem.value.button.image.image_src)}}padding5{{/if}}" actionObj="${JSON.stringify(msgItem.value.button)}">\t\t\t\t\t\t\t\t {{if msgItem.value.button.image && msgItem.value.button.image.image_type === "image" && msgItem.value.button.image.image_src}}\t\t\t\t\t\t\t\t\t\t <span class="wid-temp-btnImage"> \t\t\t\t\t\t\t\t\t\t\t <img aria-hidden="true" alt="image" src="${msgItem.value.button.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t\t\t\t\t </span> \t\t\t\t\t\t\t\t {{/if}}\t\t\t\t\t\t\t\t {{if msgItem.value.button.title}}\t\t\t\t\t\t\t\t ${msgItem.value.button.title}\t\t\t\t\t\t\t\t {{/if}}\t\t\t\t\t\t\t </div>\t\t\t\t\t\t </div>\t\t\t\t\t   {{/if}}\t\t\t\t\t   {{if msgItem.value && msgItem.value.type=="menu" && msgItem.value.menu && msgItem.value.menu.length}}\t\t\t\t\t   <div role="menu" aria-label="Dropdown Menu" class="titleActions {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.align}}${msgItem.value.layout.align}{{/if}}" {{if msgItem.value && msgItem.value.layout && msgItem.value.layout.colSize}}style="width:${msgItem.value.layout.colSize};"{{/if}}>\t\t\t\t\t\t   <i class="icon-More dropbtnWidgt moreValue"></i>\t\t\t\t\t\t\t   <ul role="list" class="dropdown-contentWidgt  rmpmW moreValueContent" style="list-style:none;">\t\t\t\t\t\t\t\t {{each(key, actionbtnli) msgItem.value.menu}} \t\t\t\t\t\t\t\t\t   <li role="button" tabindex="0" title="${actionbtnli.title}" class="dropdown-item action" actionObj="${JSON.stringify(actionbtnli)}">\t\t\t\t\t\t\t\t\t <i>\t\t\t\t\t\t\t\t\t {{if actionbtnli.image && actionbtnli.image.image_type === "image" && msgItem.image.image_src}}\t\t\t\t\t\t\t\t\t <span class="wid-temp-btnImage"> \t\t\t\t\t\t\t\t\t\t <img aria-hidden="true" alt="image" src="${actionbtnli.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t\t\t\t </span> \t\t\t\t\t\t\t\t\t {{/if}} \t\t\t\t\t\t\t\t\t </i>${actionbtnli.title}</li>\t\t\t\t\t\t\t\t {{/each}}\t\t\t\t\t\t\t   </ul>\t\t\t\t\t   </div>\t\t\t\t\t   {{/if}}\t\t\t\t\t </div>\t\t\t\t   {{if msgItem.details && msgItem.details.length}} \t\t\t\t   <div role="contentinfo" class="tabListViewDiscription">\t\t\t\t\t {{each(key, content) msgItem.details}} \t\t\t\t\t   {{if key < 3 }}\t\t\t\t\t\t  <div class="wid-temp-contentDiv" role="complementary">\t\t\t\t\t\t\t{{if content.image && content.image.image_type === "image" && content.image.image_src}} \t\t\t\t\t\t\t   <span class="wid-temp-discImage"> \t\t\t\t\t\t\t\t   <img aria-hidden="true" alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t\t   </span> \t\t\t\t\t\t\t{{/if}} \t\t\t\t\t\t\t{{if content.description}} \t\t\t\t\t\t\t  <span class="wid-temp-discription">${content.description}</span>\t\t\t\t\t\t\t{{/if}} \t\t\t\t\t\t\t{{if ((key===2) || ((msgItem.details.length < 3) && (key===msgItem.details.length-1))) && (msgItem.buttons && msgItem.buttons.length)}} \t\t\t\t\t\t\t<span class="wid-temp-showActions" aria-live="polite" role="button" tabindex="1" aria-label="Show buttons icon">\t\t\t\t\t\t\t </span>\t\t\t\t\t\t\t{{/if}} \t\t\t\t\t\t  </div>\t\t\t\t\t   {{/if}}\t\t\t\t\t {{/each}}\t\t\t\t\t {{if msgItem.details.length > 3}}\t\t\t\t\t <span class="wid-temp-showMore" id="showMoreContents">Show more <span class="show-more"></span></span>\t\t\t\t\t {{/if}}\t\t\t\t   </div>\t\t\t\t   <div class="wid-temp-showMoreBottom hide">\t\t\t\t\t <div class="showMoreContainer">\t\t\t\t\t   <div class="headerTitleMore">MORE<span class="wid-temp-showMoreClose"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAANlJREFUKBWdkkEKwjAQRWdSqBfwHDmEPYTgBVwXvIWCO8GlG6GHaA/hObxAC3Xan5AmrUkFZ1OY+S//Txo+3x6a6HPlbLM/HQ9vWqnL/bmVvq2IVKkAidBO+q7GIMVZqKuhBaPgxMwvEdEp2EOioTUMHL4HeeFip2bsosUEmCEF0lgnf+AEQrSEDRiB0J+BaISwEZidvBN6qPFW/6uZY+iGnXBkbD/0J3AJcZYXBly7nBj083esQXBExTQKby+1h8WI4I7o/oW11XirqmSmBgMXzwHh18PUgBkAXhfn47Oroz4AAAAASUVORK5CYII=" class="closeCross"></span></div>\t\t\t\t\t   <div class="moreItemsScroll">\t\t\t\t\t\t {{each(key, content) msgItem.details}} \t\t\t\t\t\t\t <div class="wid-temp-contentDiv">\t\t\t\t\t\t\t   {{if content.image && content.image.image_type === "image" && content.image.image_src}}\t\t\t\t\t\t\t\t\t <span class="wid-temp-discImage"> \t\t\t\t\t\t\t\t\t\t <img aria-hidden="true" alt="image" src="${content.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t\t\t\t </span> \t\t\t\t\t\t\t   {{/if}} \t\t\t\t\t\t\t   {{if content.description}} \t\t\t\t\t\t\t\t   <span class="wid-temp-discription">${content.description}</span>\t\t\t\t\t\t\t   {{/if}} \t\t\t\t\t\t\t </div>\t\t\t\t\t\t   {{/each}}\t\t\t\t\t\t </div>\t\t\t\t\t </div>\t\t\t\t   </div>\t\t\t\t   {{/if}}\t\t\t\t   {{if (msgItem.buttons && msgItem.buttons.length)}} \t\t\t\t   <div aria-live="polite" role="region" class="meetingActionButtons {{if ((msgItem.buttonsLayout && msgItem.buttonsLayout.style==="float"))}}float{{else}}fix{{/if}} {{if ((msgItem.details && msgItem.details.length))}}hide{{/if}}">\t\t\t\t\t   {{each(key, actionbtn) msgItem.buttons}}\t\t\t\t\t\t\t   {{if (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && msgItem.buttonsLayout.displayLimit.count && (key < msgItem.buttonsLayout.displayLimit.count)) || (!msgItem.buttonsLayout && key < 2) || (msgItem.buttonsLayout && !msgItem.buttonsLayout.displayLimit && key < 2) || (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && !msgItem.buttonsLayout.displayLimit.count && key < 2)}}\t\t\t\t\t\t\t\t {{if actionbtn.title}}\t\t\t\t\t\t\t\t   <div role="listitem" tabindex="0" class="actionBtns action" actionObj="${JSON.stringify(actionbtn)}">\t\t\t\t\t\t\t\t   <i>\t\t\t\t\t\t\t\t   {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\t\t\t\t\t\t\t\t   <span class="wid-temp-btnImage"> \t\t\t\t\t\t\t\t\t   <img aria-hidden="true" alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t\t\t   </span> \t\t\t\t\t\t\t\t   {{/if}} \t\t\t\t\t\t\t\t   </i><span role="button">${actionbtn.title}</span></div>\t\t\t\t\t\t\t\t {{/if}}\t\t\t\t\t\t\t   {{/if}}\t\t\t\t\t   {{/each}}\t\t\t\t\t   {{if (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && msgItem.buttonsLayout.displayLimit.count && (msgItem.buttons.length > msgItem.buttonsLayout.displayLimit.count)) || (!msgItem.buttonsLayout && msgItem.buttons.length > 2) || (msgItem.buttonsLayout && !msgItem.buttonsLayout.displayLimit && msgItem.buttons.length > 2) || (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && !msgItem.buttonsLayout.displayLimit.count && msgItem.buttons.length > 2)}}\t\t\t\t\t   {{if (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && msgItem.buttonsLayout.displayLimit.count && (msgItem.buttons.length > msgItem.buttonsLayout.displayLimit.count)) || (!msgItem.buttonsLayout && msgItem.buttons.length > 3) || (msgItem.buttonsLayout && !msgItem.buttonsLayout.displayLimit && msgItem.buttons.length > 3) || (msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && !msgItem.buttonsLayout.displayLimit.count && msgItem.buttons.length > 3)}}\t\t\t\t\t\t <div class="dropbtnWidgt actionBtns" style="margin:0;margin-top: 0px;top: unset;">... More</div>\t\t\t\t\t\t <ul  class="dropdown-contentWidgt" style="list-style:none;">\t\t\t\t\t\t   {{each(key, actionbtn) msgItem.buttons}} \t\t\t\t\t\t\t{{if key >= 2}}\t\t\t\t\t\t\t\t   <li role="button" tabindex="0" title="${actionbtn.title}" class="dropdown-item action" href="javascript:void(0)" actionObj="${JSON.stringify(actionbtn)}">\t\t\t\t\t\t\t\t   <i>\t\t\t\t\t\t\t\t   {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\t\t\t\t\t\t\t\t   <span class="wid-temp-btnImage"> \t\t\t\t\t\t\t\t\t   <img aria-hidden="true" alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t\t\t   </span> \t\t\t\t\t\t\t\t   {{/if}} \t\t\t\t\t\t\t\t   </i>${actionbtn.title}</li>\t\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t   {{/each}}\t\t\t\t\t\t </ul>\t\t\t\t\t   {{/if}}\t\t\t\t\t   {{if ((msgItem.buttonsLayout && msgItem.buttonsLayout.displayLimit && !msgItem.buttonsLayout.displayLimit.count) || (!msgItem.buttonsLayout) ) && msgItem.buttons.length === 3}}\t\t\t\t\t   {{each(key, actionbtn) msgItem.buttons}}\t\t\t\t\t\t{{if key === 2 }}\t\t\t\t\t\t {{if actionbtn.title}}\t\t\t\t\t\t   <div role="button" tabindex="0" class="actionBtns action" actionObj="${JSON.stringify(actionbtn)}">\t\t\t\t\t\t   <i>\t\t\t\t\t\t   {{if actionbtn.image && actionbtn.image.image_type === "image" && actionbtn.image.image_src}}\t\t\t\t\t\t   <span class="wid-temp-btnImage"> \t\t\t\t\t\t\t   <img aria-hidden="true" alt="image" src="${actionbtn.image.image_src}" onerror="this.onerror=null;this.src=\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA/FJREFUWAnNmItK60AQQLdN05eIIoog+v+/pQiKIlhab9M2SXv3TDthk25evenFgTbJPmZOdndmM9ubL/7szC+WwalsvZ4xg2BggqBvevah3+/JFX273c5stzu5punWJGli70+z1BowDAcmHAQWaA/mM7sH3teEIcChBd6aOElNHCe+LqVljQEHFmo0DAWsVFtJBcBBEMhvaF9wvYlNYmGbSC0gyifjoShvorCuDSM/GY9MmqYmWm1kGVT16VdVBlbZdDLuDM61xYiKbmujSkprmdLJZCSLv0rBv9ThWNjAVpl4p5iRG4+GmVcyHT8/P7XTUTQyHA4twCTTU6znmSWErWi7Nql1pKIcAUoHu0a4qry+vpr1eq2Pra5APjw8mNFoVNpPbS6j1dEgHAHiEAy9K8Bh6Pb21i0uvV8sFobfdDo1y+XS8IJPT0+VkDLd1vYyyg9EDpC1wOL1CeWXl5e+qqOyzWYjgDc3N9Ln4+OjESQ2YHBDUM5JiHNdy/X1tbm/v5ew0mSpFBkyQHYIYtQ5pA0kDLCoZERsX+cUF/Lt7e3IGVzbLoug4rDnGL3VauXatSMTZo4TRZHc5xocHmCBiQ8MAeSrxA0rvk5tyvB45Ovrq7QbjoSX+wQWmOIk2QPyydRWCD388Oziy1FG7AOiKPQhBNUJTHz4HKY4H/fqOr+/v5v5fC7NPj8/zePjoxmPx7luZSFJY2SusedBX1qGrhiYPe2zojiOMzgK2Qa/v7+z+q5ulEkAlbaJct+0Ad21KFPrxXdxcSHe6AIRQlwBuC6UuO2r7mUNkkMocVVjrWNfnc1m4iRXV1e5LRA4dgyuifVC2rbRrTZgQgSQBKfNJkI8u7u7U13Z1YWjkFgH7CmQMCEyxUorJS3+GCGVIpyWK2RbG9peAEkN2wpfKM/PzzLNZXCqE0jWZBtRJpnifd4aNl4rwLEGEaaQrQnIKvF5f1l7Rg8m5DDFRvLWsg5uOQFa4SgnDtbBuf2b3JNDH3xkD0gnkuomQudzi8uSxUEy/v9hvO7l5ATCOX2QNaidyPhJqquEoFwMzFXt29bB4EoOkFyANeXLS3iz4vedq6jpfZWzYNvNR9CZA6SA4wgyft2sKSMw85n08vLCYyeCTlcIzNguSs93PkjiTsavWxRweK8Gz6KSts/kyGyRKuiNbLrpS9y9gHQc2BzFPV1QZV1fgVutN0dTq3YyL9YCvbIWeCvdE7W8y6tMq7VRXHeujVJAGjHkHEeweLsWdIrumrh65CRFEKaA4wim/NQDTFcn0aDTA0xVzjTwa3IErH30yktKALb9z3YErMYwwI+89VceoiuoHRTJW51dSas6vf4FP88rnfrjdTEAAAAASUVORK5CYII=\';"/> \t\t\t\t\t\t   </span> \t\t\t\t\t\t   {{/if}} \t\t\t\t\t\t   </i>${actionbtn.title}</div>\t\t\t\t\t\t {{/if}}\t\t\t\t\t\t  {{/if}}\t\t\t\t\t\t{{/each}}\t\t\t\t\t   {{/if}}\t\t\t\t\t {{/if}}\t\t\t\t   </div>\t\t\t\t   {{/if}}\t\t\t\t </li> \t\t\t\t {{/if}}\t\t\t\t{{/each}} \t\t\t   </ul> \t   <div style="clear:both"></div>\t   {{if dataItems && dataItems.length > 3 && viewmore}} \t\t   <div class="listViewMore" onclick="viewMorePanel(\'${JSON.stringify(panelDetail)}\')"><span class="seeMoreText">See more <span class="see-more"></span></span></div>\t   {{/if}}\t   {{if dataItems && dataItems.length === 0}}\t\t   <div class="noContent">\t\t\t   <img aria-hidden="true" class="img img-fluid" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNzEiIGhlaWdodD0iNjMiIHZpZXdCb3g9IjAgMCAxNzEgNjMiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBmaWxsPSIjRTVFOEVDIj4KICAgICAgICAgICAgPHJlY3Qgd2lkdGg9IjEzMSIgaGVpZ2h0PSIxMiIgeD0iMzkiIHk9IjUiIHJ4PSIyIi8+CiAgICAgICAgICAgIDxyZWN0IHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgcng9IjIiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgZmlsbD0iI0U1RThFQyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA0MSkiPgogICAgICAgICAgICA8cmVjdCB3aWR0aD0iMTMxIiBoZWlnaHQ9IjEyIiB4PSIzOSIgeT0iNSIgcng9IjIiLz4KICAgICAgICAgICAgPHJlY3Qgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiByeD0iMiIvPgogICAgICAgIDwvZz4KICAgICAgICA8cGF0aCBzdHJva2U9IiNFNUU4RUMiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHN0cm9rZS13aWR0aD0iLjciIGQ9Ik0uNSAzMS41aDE3MCIvPgogICAgPC9nPgo8L3N2Zz4K" width="118px" height="118px" style="margin-top:15px;">\t\t\t   <div class="col-12 rmpmW nodataTxt">No Data</div>\t\t   </div>\t   {{/if}}\t\t\t </div>\t\t  {{/if}}\t\t </div>     </div>\t\t</div>\t</li>\t{{/if}} \t<\/script>':"bankingFeedbackTemplate"===e?'<script id="chat-window-listTemplate" type="text/x-jqury-tmpl">\t{{if msgData.message && msgData.message[0].component.payload}} \t<li {{if msgData.type !=="bot_response" }}id="msg_${msgItem.clientMessageId}" {{/if}} class="{{if msgData.type === "bot_response"}}fromOtherUsers{{else}}fromCurrentUser{{/if}} with-icon"> \t\t<div class="{{if msgData.message[0].component.payload.fromHistory}} dummy bankingFeedBackTemplate messageBubble {{else}}bankingFeedBackTemplate messageBubble{{/if}}"> \t\t\t\t{{if msgData.createdOn}}<div aria-live="off" class="extra-info">${helpers.formatDate(msgData.createdOn)}</div>\t\t\t\t{{/if}} \t\t\t\t{{if msgData.icon}}\t\t\t\t<div aria-live="off" class="profile-photo">\t\t\t\t\t<div class="user-account avtar" style="background-image:url(${msgData.icon})"></div>\t\t\t\t</div> \t\t\t\t{{/if}} \t\t\t\t<div class="bankingFeedBackTemplate-experience-content">\t\t\t\t\t{{if msgData.message[0].component.payload}}<div class="content-heading"> ${msgData.message[0].component.payload.heading}</div>{{/if}}\t\t\t\t\t<div class="bankingFeedBackTemplate-content-experience">\t\t\t\t\t\t{{if msgData && msgData.message[0].component.payload.experienceContent}}\t\t\t\t\t\t\t{{each(key, experience) msgData.message[0].component.payload.experienceContent}}\t\t\t\t\t\t\t\t<div class="content-list-view radiobutton-custom-type">\t\t\t\t\t\t\t\t\t<input  class="checkInput radio-custom" type="radio" text = "${experience.value}" value = "${experience.value}" id="${experience.id}${msgData.messageId}" actionObj="${JSON.stringify(experience)}"> \t\t\t\t\t\t\t\t\t<label for="${experience.id}${msgData.messageId}" class="checkInput-label radio-custom-label">${experience.value}</label> \t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t{{/each}}\t\t\t\t\t\t{{/if}}\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t{{if msgData && msgData.message[0].component.payload.experienceContent}}\t\t\t\t\t{{each(key, experience) msgData.message[0].component.payload.experienceContent}}\t\t\t\t\t    {{if experience && experience.empathyMessage && experience.empathyMessage.length}}\t\t\t\t\t\t\t<div class="empathy-message hide" id="${experience.id}${msgData.messageId}"> ${experience.empathyMessage}</div>\t\t\t\t\t\t{{/if}}\t\t\t\t\t{{/each}}\t\t\t\t{{/if}}\t\t\t\t{{if msgData &&  msgData.message[0] &&  msgData.message[0].component && msgData.message[0].component.payload && msgData.message[0].component.payload.feedbackList}}\t\t\t\t<div class="bankingFeedBackTemplate-feedback-content hide">\t\t\t\t\t\t\t{{if msgData &&  msgData.message[0] &&  msgData.message[0].component && msgData.message[0].component.payload && msgData.message[0].component.payload.feedbackListHeading}}<div class="feebackList-heading">${msgData.message[0].component.payload.feedbackListHeading}</div>{{/if}}\t\t\t\t\t\t\t\t{{if msgData &&  msgData.message[0] &&  msgData.message[0].component && msgData.message[0].component.payload && msgData.message[0].component.payload.feedbackList && msgData.message[0].component.payload.feedbackList.length}}\t\t\t\t\t\t\t\t<div class="experience-feedback-listItems">\t\t\t\t\t\t\t\t\t{{each(keyval, list) msgData.message[0].component.payload.feedbackList}}\t\t\t\t\t\t\t\t\t<div class="feedback-listItem">\t\t\t\t\t\t\t\t\t\t<div class="checkbox checkbox-primary styledCSS checkboxesDiv"> \t\t\t\t\t\t\t\t\t\t\t<input  class = "checkInput" type="checkbox" text = "${list.value}" value = "${list.value}" id="${list.id}${msgData.messageId}" actionObj="${JSON.stringify(list)}" > \t\t\t\t\t\t\t\t\t\t\t<label for="${list.id}${msgData.messageId}">${list.value}</label> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t{{/each}}\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t\t\t<div class="suggestions-component"><textarea type="text" class="feedback-suggestionInput" rows="5" id="bankingSuggestionInput" placeholder="Tell us more.."></textarea></div>\t\t\t\t\t\t\t\t{{if msgData.message[0].component.payload.buttons && msgData.message[0].component.payload.buttons.length}}\t\t\t\t\t\t\t\t\t<div class="buttons-div">\t\t\t\t\t\t\t\t\t\t{{each(btnKey,button) msgData.message[0].component.payload.buttons}}\t\t\t\t\t\t\t\t\t\t\t<div class="{{if (button.btnType == "confirm") }}feedback-submit {{else (button.btnType == "cancel")}}feedback-cancel{{/if}}"><button type="button" class="{{if (button.btnType == "confirm") }}submitBtn {{else (button.btnType == "cancel")}}cancelBtn{{/if}}">${button.label}</button></div>\t\t\t\t\t\t\t\t\t\t{{/each}}\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t{{/if}}\t\t\t\t\t</div>\t\t\t\t{{/if}}\t\t</div>\t</li>\t{{/if}}    <\/script>':"agentConnectedTemplate"===e?'<script id="chat_message_tmpl" type="text/x-jqury-tmpl"> \t{{if msgData.message}} \t\t{{each(key, msgItem) msgData.message}} \t\t\t<li data-time="${msgData.createdOnTimemillis}" id="${msgData.messageId || msgItem.clientMessageId}" class="agentIdentity"> \t\t\t\t<div><span class="simpleMsg" {{if msgData}}msgData="${JSON.stringify(msgData)}" {{/if}}>{{html helpers.convertMDtoHTML(msgItem.component.payload.text, "bot",msgItem)}}</span> </div> \t\t\t</li> \t\t{{/each}} \t{{/if}} </scipt>':""},r.prototype.dropdownTemplateBindEvents=function(e){f(e).find(".selectTemplateDropdowm").on("change",function(e){e.preventDefault(),e.stopPropagation(),f(".chatInputBox").text(this.value);e=window.KoreSDK.dependencies.jQuery.Event("keydown",{which:13});e.keyCode=13,f(".chatInputBox").trigger(e)})},r.prototype.bindEvents=function(a){chatInitialize=this.chatInitialize,helpers=this.helpers,f(a).find(".selectTemplateDropdowm").on("change",function(e){e.preventDefault(),e.stopPropagation(),f(".chatInputBox").text(this.value);e=window.KoreSDK.dependencies.jQuery.Event("keydown",{which:13});e.keyCode=13,f(".chatInputBox").trigger(e)}),f(a).find(".formMainComponent").on("keydown",function(e){13==e.keyCode&&(e.preventDefault(),e.stopPropagation())}),f(a).find("#submit").on("click",function(e){var t,n=f(e.currentTarget).closest(".buttonTmplContent").find(".formMainComponent .formBody"),e=f(e.currentTarget).closest(".fromOtherUsers.with-icon"),i=f(e).data();if(i.tmplItem.data.msgData.message[0].component.payload&&(i.tmplItem.data.msgData.message[0].component.payload.ignoreCheckMark=!0,t=i.tmplItem.data.msgData),""==n.find("#email").val())f(e).find(".buttonTmplContent").last().find(".errorMessage").removeClass("hide"),f(".errorMessage").text("Please enter value");else if(0!=n.find("input[type='password']").length){for(var i=n.find("#email").val(),o=i.length,r="",s=0;s<o;s++)r+="*";f(".chatInputBox").text(i),f(a).find(".formMainComponent form").addClass("hide")}else 0==n.find("input[type='password']").length&&(f(".chatInputBox").text(n.find("#email").val()),r=n.find("#email").val(),f(a).find(".formMainComponent form").addClass("hide"));chatInitialize.sendMessage(f(".chatInputBox"),r,t)}),f(a).off("click",".closeBottomSlider").on("click",".closeBottomSlider",function(e){bottomSliderAction("hide")}),f(a).off("click",".singleSelect").on("click",".singleSelect",function(e){var t=f(e.currentTarget).closest(".listTmplContentBox"),n=f(t).find(".collectionDiv"),o=f(t).find(".checkbox input"),e=(f(n).removeClass("selected"),f(e.currentTarget).closest(".collectionDiv")),r=(f(e).addClass("selected"),f(e).find(".groupMultiSelect input"));if(n&&n.length)for(i=0;i<n.length;i++)if(n&&!f(n[i]).hasClass("selected")){var s=f(n[i]).find(".checkbox input");for(j=0;j<s.length;j++)f(s[j]).prop("checked",!1)}if(e&&e[0]){var a=!0,l=f(e).find(".checkbox.singleSelect input");if(l&&l.length)for(i=0;i<l.length;i++)f(l[i]).prop("checked")||(a=!1);a?f(r).prop("checked",!0):f(r).prop("checked",!1)}var u=!1,e=f(t).find(".multiCheckboxBtn");if(o&&o.length)for(i=0;i<o.length;i++)f(o[i]).prop("checked")&&(u=!0);u?f(e).removeClass("hide"):f(e).addClass("hide")}),f(a).off("click",".viewMoreGroups").on("click",".viewMoreGroups",function(e){e=f(e.currentTarget).closest(".listTmplContentBox"),e=f(e).find(".collectionDiv");f(e).removeClass("hide"),f(".viewMoreContainer").addClass("hide")}),f(a).off("click",".groupMultiSelect").on("click",".groupMultiSelect",function(e){var t=f(e.currentTarget).find("input"),t=f(t[0]).prop("checked"),n=f(e.currentTarget).closest(".collectionDiv"),o=f(n).find(".checkbox input"),n=f(e.currentTarget).closest(".listTmplContentBox"),r=f(n).find(".checkbox input");if(r&&r.length)for(i=0;i<r.length;i++)f(r[i]).prop("checked",!1);if(t){if(o&&o.length)for(i=0;i<o.length;i++)f(o[i]).prop("checked",!0)}else if(o&&o.length)for(i=0;i<o.length;i++)f(o[i]).prop("checked",!1);var s=!1,e=f(n).find(".multiCheckboxBtn");if(r&&r.length)for(i=0;i<r.length;i++)f(r[i]).prop("checked")&&(s=!0);s?f(e).removeClass("hide"):f(e).addClass("hide")}),f(a).find(".multiCheckboxBtn").on("click",function(e){for(var t=f(a).data(),n=(!0===t.message[0].component.payload.sliderView&&(t.message[0].component.payload.sliderView=!1,chatInitialize.renderMessage(t),bottomSliderAction("hide")),t.message[0].component.payload.sliderView=!1,f(e.currentTarget.parentElement).find(".checkInput:checked")),i=[],o=[],r=0;r<n.length;r++)i.push(f(n[r]).attr("value")),o.push(f(n[r]).attr("text"));f(".chatInputBox").text("Here are the selected items : "+i.toString()),chatInitialize.sendMessage(f(".chatInputBox"),"Here are the selected items : "+o.toString()),f(a).find(".multiCheckboxBtn").hide(),f(a).find(".advancedMultiSelectScroll").css({"pointer-events":"none"}),f(a).find(".advancedMultiSelectScroll").css({overflow:"hidden"})}),f(a).off("click",".listViewTmplContent .seeMoreList").on("click",".listViewTmplContent .seeMoreList",function(e){0!==f(".list-template-sheet").length?(f(".list-template-sheet").remove(),listViewTabs()):0===f(".list-template-sheet").length&&((e=f(e.currentTarget).closest("li.fromOtherUsers.with-icon.listView").data()).message[0].component.payload.seeMore&&(e.message[0].component.payload.seeMore=!1),e.message[0].component.payload.sliderView||(e.message[0].component.payload.sliderView=!0),a=f(r.prototype.getChatTemplate("templatelistView")).tmpl({msgData:e,helpers:helpers}),f(a).find(".listViewTmplContent .extra-info").hide(),bottomSliderAction("show",a))}),f(a).find(".listViewLeftContent").on("click",function(e){var t,n;f(this).attr("data-url")?((t=f(this).attr("data-url")).indexOf("http:")<0&&t.indexOf("https:")<0&&(t="http:////"+t),r.prototype.openExternalLink(t)):(t=f(this).attr("data-value")||f(this).attr("data-title"),n=f(this).attr("data-title"),chatInitialize.sendMessage(f(".chatInputBox").text(t),n),f(".listViewTmplContentBox").css({"pointer-events":"none"}))}),f(a).off("click",".listViewItemValue.actionLink.action,.listTableDetailsDesc").on("click",".listViewItemValue.actionLink.action,.listTableDetailsDesc",function(){valueClick(this)}),f(a).find(".ratingMainComponent").off("click",'[type*="radio"]').on("click",'[type*="radio"]',function(e){var t,n=f(e.currentTarget).attr("value"),o=f(a).data(),e=o.message[0].component.payload.sliderView;for(f("label.active")&&f("label").removeClass("active"),i=parseInt(n);0<i;i--)f('label[for="'+i+'-stars"]').addClass("active");n==o.message[0].component.payload.starArrays.length?(t=o.message[0].component.payload.messageTodisplay,f(".suggestionsMainComponent").remove(),f(".ratingStar").remove(),f(".submitButton")&&f(".submitButton").remove(),f(".kore-action-sheet").find(".ratingMainComponent").append('<div class="ratingStar">'+t+'</div><div class="submitButton"><button type="button" class="submitBtn">Submit</button></div>')):(f(".submitButton")&&f(".submitButton").remove(),f(".ratingStar").remove(),0<f(".suggestionsMainComponent").length&&f(".suggestionsMainComponent").remove(),f(".kore-action-sheet").find(".ratingMainComponent").append(r.prototype.suggestionComponent())),!1===e&&chatInitialize.sendMessage(f(".chatInputBox").text(n),n),f(".buttonTmplContent .ratingMainComponent .submitBtn").click(function(){var e;o.message[0].component.payload.sliderView=!1,n==o.message[0].component.payload.starArrays.length?(e=o.message[0].component.payload.messageTodisplay,chatInitialize.renderMessage(o),chatInitialize.sendMessage(f(".chatInputBox").text(n+" :"+e),n+" :"+e)):""==f(".suggestionInput").val()?(chatInitialize.renderMessage(o),chatInitialize.sendMessage(f(".chatInputBox").text(n),n)):(e=f(".suggestionInput").val(),chatInitialize.renderMessage(o),chatInitialize.sendMessage(f(".chatInputBox").text(n+" :"+e),n+" :"+e)),bottomSliderAction("hide"),o.message[0].component.payload.sliderView=!0})}),f(a).find(".buttonTmplContent .ratingMainComponent .close-btn").click(function(e){bottomSliderAction("hide"),e.stopPropagation()}),f(a).find(".emojiComponent").off("click",".rating").on("click",".rating",function(e){var n=f(a).data(),t=n.message[0].component.payload.sliderView,i=("0"==f(a).find(".emojiComponent .active").length&&f(".emojiElement").remove(),f(this).attr("value"));f(e.currentTarget).addClass("active"),"rating_1"==f(this).attr("id")&&f("#rating_1.active")?(f("<img class='emojiElement' />").attr("src","libs/images/emojis/gifs/rating_1.gif").appendTo(this),f(e.currentTarget).removeClass("active")):"rating_2"==f(this).attr("id")&&f("#rating_2.active")?(f("<img class='emojiElement' />").attr("src","libs/images/emojis/gifs/rating_2.gif").appendTo(this),f(e.currentTarget).removeClass("active")):"rating_3"==f(this).attr("id")&&f("#rating_3.active")?(f("<img class='emojiElement' />").attr("src","libs/images/emojis/gifs/rating_3.gif").appendTo(this),f(e.currentTarget).removeClass("active")):"rating_4"==f(this).attr("id")&&f("#rating_4.active")?(f("<img class='emojiElement' />").attr("src","libs/images/emojis/gifs/rating_4.gif").appendTo(this),f(e.currentTarget).removeClass("active")):"rating_5"==f(this).attr("id")&&f("#rating_5.active")&&(f("<img class='emojiElement' />").attr("src","libs/images/emojis/gifs/rating_5.gif").appendTo(this),f(e.currentTarget).removeClass("active")),f(this).attr("value")<"5"?(f(".ratingStar").remove(),f(".submitButton")&&f(".submitButton").remove(),0<f(".suggestionsMainComponent").length&&f(".suggestionsMainComponent").remove(),f(".kore-action-sheet").find(".emojiComponent").append(r.prototype.suggestionComponent())):(f(".submitButton")&&f(".submitButton").remove(),0<f(".ratingStar").length&&f(".ratingStar").remove(),e=n.message[0].component.payload.messageTodisplay,f(".suggestionsMainComponent").remove(),f(".kore-action-sheet").find(".emojiComponent").append('<div class="ratingStar">'+e+'</div><div class="submitButton"><button type="button" class="submitBtn">Submit</button></div>')),!1===t&&chatInitialize.sendMessage(f(".chatInputBox").text(i),i),f(".emojiComponent").off("click",".submitBtn").on("click",".submitBtn",function(e){var t;n.message[0].component.payload.sliderView=!1,"5"==i?(t=n.message[0].component.payload.messageTodisplay,chatInitialize.renderMessage(n),chatInitialize.sendMessage(f(".chatInputBox").text(i+" :"+t),"Rating: "+i+" and "+t)):""==f(".suggestionInput").val()?(chatInitialize.renderMessage(n),chatInitialize.sendMessage(f(".chatInputBox").text(i),i)):(t=f(".suggestionInput").val(),chatInitialize.renderMessage(n),chatInitialize.sendMessage(f(".chatInputBox").text(i+" :"+t),i+" :"+t)),bottomSliderAction("hide"),n.message[0].component.payload.sliderView=!0})}),f(a).find(".buttonTmplContent .emojiComponent .close-btn").click(function(e){bottomSliderAction("hide"),e.stopPropagation()})},r.prototype.suggestionComponent=function(){return'<div class="suggestionsMainComponent">\t<div class="suggestionsHeading">What can be improved?</div>\t<div class="suggestionBox">\t<textarea type="text" class="suggestionInput" placeholder="Add Suggestions"></textarea></div>\t<div class="submitButton"><button type="button" class="submitBtn">Submit</button></div>\t</div>'},this.bottomSliderAction=function(e,t){f(".kore-action-sheet").animate({height:"toggle"}),"hide"==e?(f(".kore-action-sheet").innerHTML="",f(".kore-action-sheet").addClass("hide")):(f(".kore-action-sheet")&&f(".kore-action-sheet").length<=0&&KorePickers.prototype.addSlider(),f(".kore-action-sheet").removeClass("hide"),f(".kore-action-sheet .actionSheetContainer").empty(),setTimeout(function(){f(".kore-action-sheet .actionSheetContainer").append(t),f(".kore-action-sheet .listViewTmplContentBox .close-button").on("click",function(e){bottomSliderAction("hide")})},200))},this.listViewTabs=function(){var e=f("li.fromOtherUsers.with-icon.listView").data(),e=(e.message[0].component.payload.seeMore&&(e.message[0].component.payload.seeMore=!1),f(r.prototype.getChatTemplate("actionSheetTemplate")).tmpl({msgData:e,dataItems:e.message[0].component.payload.moreData.Tab1,tabs:Object.keys(e.message[0].component.payload.moreData),helpers:helpers}));f(f(e).find(".tabs")[0]).addClass("active"),f(".kore-action-sheet").append(e),f(".kore-action-sheet .list-template-sheet").removeClass("hide"),this.bottomSliderAction("show",f(".list-template-sheet")),f(".kore-action-sheet .list-template-sheet .displayMonth .tabs").on("click",function(e){var e=f(e.target).text(),t=f("li.fromOtherUsers.with-icon.listView").data(),t=f(r.prototype.getChatTemplate("actionSheetTemplate")).tmpl({msgData:t,dataItems:t.message[0].component.payload.moreData[e],tabs:Object.keys(t.message[0].component.payload.moreData),helpers:helpers});f(".list-template-sheet .displayMonth").find(".tabs").removeClass("active"),f(".list-template-sheet .displayMonth").find(".tabs[data-tabid='"+e+"']").addClass("active"),f(".list-template-sheet .displayListValues").html(f(t).find(".displayListValues")),f(".kore-action-sheet .list-template-sheet .listViewLeftContent").on("click",function(){valueClick(this)})}),f(".kore-action-sheet .list-template-sheet .close-button").on("click",function(e){bottomSliderAction("hide")}),f(".kore-action-sheet .list-template-sheet .listViewLeftContent").on("click",function(){valueClick(this)})},this.valueClick=function(e){var t;f(e).attr("data-url")||f(e).attr("url")?((t=f(e).attr("data-url")||f(e).attr("url")).indexOf("http:")<0&&t.indexOf("https:")<0&&(t="http:////"+t),this.openExternalLink(t)):(t=f(e).attr("data-value"),e=f(e).attr("data-title"),chatInitialize.sendMessage(f(".chatInputBox").text(t),e),f(".kore-action-sheet .list-template-sheet").animate({height:"toggle"}),bottomSliderAction("hide"),f(".listViewTmplContentBox").css({"pointer-events":"none"}))},r.prototype.openExternalLink=function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noopener noreferrer",t.click()},r.prototype.listWidgetClick=function(e,t,n){if(t){if("url"===t.type)return void window.open(t.url,"_blank");var i,o;t.payload&&(i=e.innerText||t.title,(o={}).payload=t.payload,this.chatInitialize.sendMessage(f(".chatInputBox").text(i),o.payload))}n&&e.hasClass("dropdown-contentWidgt")&&f(e).removeClass("show")},r.prototype.templateEvents=function(e,t,n){var r=this,o=this,s=f(e);if("TabbedList"===t||"listWidget"===t){f(s.find(".tabs")[0]).addClass("active");var a=s.find(".listViewLeftContent");if(a&&a.length)for(i=0;i<a.length;i++){var l,e=a[i];f(e).attr("col-size")&&(l=f(e).hasClass("listViewLeftContent")?o.getColumnWidthListWidget(100-parseInt(f(e).attr("col-size"))+"%"):o.getColumnWidthListWidget(f(e).attr("col-size")),f(e).css("width",l+"%"))}console.log(n),s.off("click",".listViewLeftContent").on("click",".listViewLeftContent",function(e){e.stopPropagation();var e=f(e.currentTarget).attr("actionObj"),t={};e&&(t=JSON.parse(e));o.listWidgetClick(this,t)}),s.off("click",".moreValue").on("click",".moreValue",function(e){e.stopPropagation()}),s.off("click",".tabs").on("click",".tabs",function(e){e.stopPropagation();var t=f(e.target).text(),n=f(e.target).closest(".tab-list-template").data(),i=(i=f(e.target).closest(".tab-list-template").attr("panelDetail"))&&JSON.parse(i),o=(delete n.tmplItem,{tempdata:n,dataItems:n.elements,helpers:helpers,viewmore:i.viewmore,panelDetail:i}),n=(n&&n.tabs&&Object.keys(n.tabs)&&Object.keys(n.tabs).length&&(o={tempdata:n,dataItems:n.tabs[t],tabs:Object.keys(n.tabs),helpers:helpers,viewmore:i.viewmore,panelDetail:i}),f(r.getTemplate("TabbedList")).tmplProxy(o));f(n).find(".tabs[data-tabid='"+t+"']").addClass("active"),f(e.target).closest(".tab-list-template").html(f(n).html())}),s.off("click","#showMoreContents").on("click","#showMoreContents",function(e){e.stopPropagation(),f(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showMoreBottom").removeClass("hide")}),s.off("click",".wid-temp-showMoreClose").on("click",".wid-temp-showMoreClose",function(e){e.stopPropagation(),f(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showMoreBottom").addClass("hide")}),s.off("click",".wid-temp-showActions").on("click",".wid-temp-showActions",function(e){e.stopPropagation(),f(e.currentTarget)&&f(e.currentTarget).closest(".listViewTmplContentChild")&&f(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions")&&f(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions").hasClass("active")?(f(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions").removeClass("active"),f(e.currentTarget).closest(".listViewTmplContentChild").find(".meetingActionButtons").addClass("hide")):(f(e.currentTarget).closest(".listViewTmplContentChild").find(".wid-temp-showActions").addClass("active"),f(e.currentTarget).closest(".listViewTmplContentChild").find(".meetingActionButtons").removeClass("hide"))}),s.off("click",".action").on("click",".action",function(e){e.stopPropagation();var t=f(e.currentTarget).attr("actionObj"),n={};"object"==typeof(n=t?JSON.parse(t):n)&&n.link?window.open(n.link):(t=f(e.currentTarget).parent(),o.listWidgetClick(t,n,"menuItemClick"))})}s.off("click",".dropbtnWidgt.moreValue,.dropbtnWidgt.actionBtns").on("click",".dropbtnWidgt.moreValue,.dropbtnWidgt.actionBtns",function(e){f(this).next().hasClass("dropdown-contentWidgt")&&f(this).next().toggleClass("show"),f(".dropdown-contentWidgt.show").not(f(this).next()).removeClass("show")}),window.onclick=function(e){if(!e.target.matches(".dropbtnWidgt"))for(var t=document.getElementsByClassName("dropdown-contentWidgt"),n=0;n<t.length;n++){var i=t[n];i.classList.contains("show")&&i.classList.remove("show")}}},r.prototype.getColumnWidthListWidget=function(t){var e,n="100%";if(t){e=t.replace(/[^\d.-]/g,""),console.log(t);try{n=100-parseInt(e,10)}catch(e){console.log(t)}return n}},r.prototype.bankingFeedbackTemplateEvents=function(u){var c=this,e=c.chatInitialize.config.chatContainer;e.off("click",'.bankingFeedBackTemplate-experience-content [type*="radio"]').on("click",'.bankingFeedBackTemplate-experience-content [type*="radio"]',function(e){for(var t=f(e.currentTarget).attr("id"),n=(f(u).data(),f(".bankingFeedBackTemplate-content-experience").find('[type*="radio"]')),i=f(".bankingFeedBackTemplate").find(".empathy-message"),o=0;o<i.length;o++)f(i[o]).hasClass("hide")||f(i[o]).addClass("hide");for(o=0;o<n.length;o++)t!=f(n[o]).attr("id")&&f(n[o]).prop("checked")?f(n[o]).prop("checked",!1):t===f(n[o]).attr("id")&&f(n[o]).prop("checked")&&f(".empathy-message#"+t).hasClass("hide")&&f(".empathy-message#"+t).removeClass("hide");f(".bankingFeedBackTemplate-feedback-content").hasClass("hide")&&f(".bankingFeedBackTemplate-feedback-content").removeClass("hide")}),e.off("click",".bankingFeedBackTemplate-feedback-content .buttons-div .feedback-submit").on("click",".bankingFeedBackTemplate-feedback-content .buttons-div .feedback-submit",function(e){var t=f(u).data();if(t&&t.message&&t.message[0]&&t.message[0].component&&t.message[0].component.payload&&t.message[0].component.payload.experienceContent){t.message[0].component.payload.experienceContent;for(var n,i={selectedFeedback:[]},o=f(".bankingFeedBackTemplate-content-experience").find('[type*="radio"]'),r=0;r<o.length;r++)f(o[r]).prop("checked")&&(n=f(o[r]).attr("actionObj"),delete(n=JSON.parse(n)).empathyMessage,i.selectedExperience=n);for(var s,a=f(".experience-feedback-listItems").find('[type*="checkbox"]'),r=0;r<a.length;r++)f(a[r]).prop("checked")&&(s=f(a[r]).attr("actionObj"),s=JSON.parse(s),i.selectedFeedback.push(s));var l=f("#bankingSuggestionInput").val(),l=(i.userSuggestion=l,console.log(JSON.stringify(i)),t.message[0].component.payload.messageToDisplay);f(".chatInputBox").text(JSON.stringify(i)),f(".kore-chat-window .bankingFeedBackTemplate").addClass("disabled"),c.chatInitialize.sendMessage(f(".chatInputBox"),l,t)}}),e.off("click",".bankingFeedBackTemplate-feedback-content .buttons-div .feedback-cancel").on("click",".bankingFeedBackTemplate-feedback-content .buttons-div .feedback-cancel",function(e){var t=f(u).data();if(t&&t.message&&t.message[0]&&t.message[0].component&&t.message[0].component.payload&&t.message[0].component.payload.experienceContent){t.message[0].component.payload.experienceContent;for(var n,i={selectedFeedback:[]},o=f(".bankingFeedBackTemplate-content-experience").find('[type*="radio"]'),r=0;r<o.length;r++)f(o[r]).prop("checked")&&(f(o[r]).prop("checked",!1),n=f(o[r]).attr("actionObj"),delete(n=JSON.parse(n)).empathyMessage,i.selectedExperience=n);for(var s,a=f(".experience-feedback-listItems").find('[type*="checkbox"]'),r=0;r<a.length;r++)f(a[r]).prop("checked")&&(f(a[r]).prop("checked",!1),s=f(a[r]).attr("actionObj"),s=JSON.parse(s),i.selectedFeedback.push(s));f("#bankingSuggestionInput").val("");var l=f("#bankingSuggestionInput").val();i.userSuggestion=l,console.log(JSON.stringify(i)),t.message[0].component.payload.messageToDisplay;f(".chatInputBox").text("Cancel"),f(".kore-chat-window .bankingFeedBackTemplate").addClass("disabled"),c.chatInitialize.sendMessage(f(".chatInputBox"),"Cancel",t)}})},r.prototype.toCheckBankingFeedbackTemplate=function(e){if(e&&e.message[0]&&e.message[0].cInfo&&e.message[0].cInfo.body&&"string"==typeof e.message[0].cInfo.body)try{if(JSON.parse(e.message[0].cInfo.body)&&JSON.parse(e.message[0].cInfo.body).hasOwnProperty("userSuggestion"))return!0}catch(e){return!1}return!1},window.customTemplate=r,bottomSliderAction,listViewTabs,valueClick}($),function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(K,J){K.dateRangePickerLanguages={default:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},id:{selected:"Terpilih:",day:"Hari",days:"Hari",apply:"Tutup","week-1":"sen","week-2":"sel","week-3":"rab","week-4":"kam","week-5":"jum","week-6":"sab","week-7":"min","week-number":"W","month-name":["januari","februari","maret","april","mei","juni","juli","agustus","september","oktober","november","desember"],shortcuts:"Pintas","custom-values":"Nilai yang ditentukan",past:"Yang Lalu",following:"Mengikuti",previous:"Sebelumnya","prev-week":"Minggu","prev-month":"Bulan","prev-year":"Tahun",next:"Selanjutnya","next-week":"Minggu","next-month":"Bulan","next-year":"Tahun","less-than":"Tanggal harus lebih dari %d hari","more-than":"Tanggal harus kurang dari %d hari","default-more":"Jarak tanggal harus lebih lama dari %d hari","default-single":"Silakan pilih tanggal","default-less":"Jarak rentang tanggal tidak boleh lebih lama dari %d hari","default-range":"Rentang tanggal harus antara %d dan %d hari","default-default":"Silakan pilih rentang tanggal",time:"Waktu",hour:"Jam",minute:"Menit"},az:{selected:"Seçildi:",day:" gün",days:" gün",apply:"tətbiq","week-1":"1","week-2":"2","week-3":"3","week-4":"4","week-5":"5","week-6":"6","week-7":"7","month-name":["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],shortcuts:"Qısayollar",past:"Keçmiş",following:"Növbəti",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Öncəki həftə","prev-month":"Öncəki ay","prev-year":"Öncəki il",next:"&nbsp;&nbsp;&nbsp;","next-week":"Növbəti həftə","next-month":"Növbəti ay","next-year":"Növbəti il","less-than":"Tarix aralığı %d gündən çox olmamalıdır","more-than":"Tarix aralığı %d gündən az olmamalıdır","default-more":"%d gündən çox bir tarix seçin","default-single":"Tarix seçin","default-less":"%d gündən az bir tarix seçin","default-range":"%d və %d gün aralığında tarixlər seçin","default-default":"Tarix aralığı seçin"},bg:{selected:"Избрано:",day:"Ден",days:"Дни",apply:"Затвори","week-1":"пн","week-2":"вт","week-3":"ср","week-4":"чт","week-5":"пт","week-6":"сб","week-7":"нд","week-number":"С","month-name":["януари","февруари","март","април","май","юни","юли","август","септември","октомври","ноември","декември"],shortcuts:"Преки пътища","custom-values":"Персонализирани стойности",past:"Минал",following:"Следващ",previous:"Предишен","prev-week":"Седмица","prev-month":"Месец","prev-year":"Година",next:"Следващ","next-week":"Седмица","next-month":"Месец","next-year":"Година","less-than":"Периодът от време не трябва да е повече от %d дни","more-than":"Периодът от време не трябва да е по-малко от %d дни","default-more":"Моля изберете период по-дълъг от %d дни","default-single":"Моля изберете дата","default-less":"Моля изберете период по-къс от %d дни","default-range":"Моля изберете период между %d и %d дни","default-default":"Моля изберете период",time:"Време",hour:"Час",minute:"Минута"},cn:{selected:"已选择:",day:"天",days:"天",apply:"确定","week-1":"一","week-2":"二","week-3":"三","week-4":"四","week-5":"五","week-6":"六","week-7":"日","week-number":"周","month-name":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortcuts:"快捷选择",past:"过去",following:"将来",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"上周","prev-month":"上个月","prev-year":"去年",next:"&nbsp;&nbsp;&nbsp;","next-week":"下周","next-month":"下个月","next-year":"明年","less-than":"所选日期范围不能大于%d天","more-than":"所选日期范围不能小于%d天","default-more":"请选择大于%d天的日期范围","default-less":"请选择小于%d天的日期范围","default-range":"请选择%d天到%d天的日期范围","default-single":"请选择一个日期","default-default":"请选择一个日期范围",time:"时间",hour:"小时",minute:"分钟"},cz:{selected:"Vybráno:",day:"Den",days:"Dny",apply:"Zavřít","week-1":"po","week-2":"út","week-3":"st","week-4":"čt","week-5":"pá","week-6":"so","week-7":"ne","month-name":["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],shortcuts:"Zkratky",past:"po",following:"následující",previous:"předchozí","prev-week":"týden","prev-month":"měsíc","prev-year":"rok",next:"další","next-week":"týden","next-month":"měsíc","next-year":"rok","less-than":"Rozsah data by neměl být větší než %d dnů","more-than":"Rozsah data by neměl být menší než %d dnů","default-more":"Prosím zvolte rozsah data větší než %d dnů","default-single":"Prosím zvolte datum","default-less":"Prosím zvolte rozsah data menší než %d dnů","default-range":"Prosím zvolte rozsah data mezi %d a %d dny","default-default":"Prosím zvolte rozsah data"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Día",days:"Días",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no debería ser mayor de %d días","more-than":"El rango no debería ser menor de %d días","default-more":"Por favor selecciona un rango mayor a %d días","default-single":"Por favor selecciona un día","default-less":"Por favor selecciona un rango menor a %d días","default-range":"Por favor selecciona un rango entre %d y %d días","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},hu:{selected:"Kiválasztva:",day:"Nap",days:"Nap",apply:"Ok","week-1":"h","week-2":"k","week-3":"sz","week-4":"cs","week-5":"p","week-6":"sz","week-7":"v","month-name":["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],shortcuts:"Gyorsválasztó",past:"Múlt",following:"Következő",previous:"Előző","prev-week":"Hét","prev-month":"Hónap","prev-year":"Év",next:"Következő","next-week":"Hét","next-month":"Hónap","next-year":"Év","less-than":"A kiválasztás nem lehet több %d napnál","more-than":"A kiválasztás nem lehet több %d napnál","default-more":"Válassz ki egy időszakot ami hosszabb mint %d nap","default-single":"Válassz egy napot","default-less":"Válassz ki egy időszakot ami rövidebb mint %d nap","default-range":"Válassz ki egy %d - %d nap hosszú időszakot","default-default":"Válassz ki egy időszakot"},it:{selected:"Selezionati:",day:"Giorno",days:"Giorni",apply:"Chiudi","week-1":"lu","week-2":"ma","week-3":"me","week-4":"gi","week-5":"ve","week-6":"sa","week-7":"do","month-name":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortcuts:"Scorciatoie",past:"Scorso",following:"Successivo",previous:"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno",next:"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni","default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni","default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"},ko:{selected:"기간:",day:"일",days:"일간",apply:"닫기","week-1":"월","week-2":"화","week-3":"수","week-4":"목","week-5":"금","week-6":"토","week-7":"일","week-number":"주","month-name":["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],shortcuts:"단축키들",past:"지난(오늘기준)",following:"이후(오늘기준)",previous:"이전","prev-week":"1주","prev-month":"1달","prev-year":"1년",next:"다음","next-week":"1주","next-month":"1달","next-year":"1년","less-than":"날짜 범위는 %d 일보다 많을 수 없습니다","more-than":"날짜 범위는 %d 일보다 작을 수 없습니다","default-more":"날짜 범위를 %d 일보다 길게 선택해 주세요","default-single":"날짜를 선택해 주세요","default-less":"%d 일보다 작은 날짜를 선택해 주세요","default-range":"%d와 %d 일 사이의 날짜 범위를 선택해 주세요","default-default":"날짜 범위를 선택해 주세요",time:"시각",hour:"시",minute:"분"},no:{selected:"Valgt:",day:"Dag",days:"Dager",apply:"Lukk","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lø","week-7":"sø","month-name":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],shortcuts:"Snarveier","custom-values":"Egendefinerte Verdier",past:"Over",following:"Følger",previous:"Forrige","prev-week":"Uke","prev-month":"Måned","prev-year":"År",next:"Neste","next-week":"Uke","next-month":"Måned","next-year":"År","less-than":"Datoperioden skal ikkje være lengre enn %d dager","more-than":"Datoperioden skal ikkje være kortere enn %d dager","default-more":"Vennligst velg ein datoperiode lengre enn %d dager","default-single":"Vennligst velg ein dato","default-less":"Vennligst velg ein datoperiode mindre enn %d dager","default-range":"Vennligst velg ein datoperiode mellom %d og %d dager","default-default":"Vennligst velg ein datoperiode",time:"Tid",hour:"Time",minute:"Minutter"},nl:{selected:"Geselecteerd:",day:"Dag",days:"Dagen",apply:"Ok","week-1":"ma","week-2":"di","week-3":"wo","week-4":"do","week-5":"vr","week-6":"za","week-7":"zo","month-name":["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortcuts:"Snelkoppelingen","custom-values":"Aangepaste waarden",past:"Verleden",following:"Komend",previous:"Vorige","prev-week":"Week","prev-month":"Maand","prev-year":"Jaar",next:"Volgende","next-week":"Week","next-month":"Maand","next-year":"Jaar","less-than":"Interval moet langer dan %d dagen zijn","more-than":"Interval mag niet minder dan %d dagen zijn","default-more":"Selecteer een interval langer dan %dagen","default-single":"Selecteer een datum","default-less":"Selecteer een interval minder dan %d dagen","default-range":"Selecteer een interval tussen %d en %d dagen","default-default":"Selecteer een interval",time:"Tijd",hour:"Uur",minute:"Minuut"},ru:{selected:"Выбрано:",day:"День",days:"Дней",apply:"Применить","week-1":"пн","week-2":"вт","week-3":"ср","week-4":"чт","week-5":"пт","week-6":"сб","week-7":"вс","month-name":["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],shortcuts:"Быстрый выбор","custom-values":"Пользовательские значения",past:"Прошедшие",following:"Следующие",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Неделя","prev-month":"Месяц","prev-year":"Год",next:"&nbsp;&nbsp;&nbsp;","next-week":"Неделя","next-month":"Месяц","next-year":"Год","less-than":"Диапазон не может быть больше %d дней","more-than":"Диапазон не может быть меньше %d дней","default-more":"Пожалуйста выберите диапазон больше %d дней","default-single":"Пожалуйста выберите дату","default-less":"Пожалуйста выберите диапазон меньше %d дней","default-range":"Пожалуйста выберите диапазон между %d и %d днями","default-default":"Пожалуйста выберите диапазон",time:"Время",hour:"Часы",minute:"Минуты"},uk:{selected:"Вибрано:",day:"День",days:"Днів",apply:"Застосувати","week-1":"пн","week-2":"вт","week-3":"ср","week-4":"чт","week-5":"пт","week-6":"сб","week-7":"нд","month-name":["січень","лютий","березень","квітень","травень","червень","липень","серпень","вересень","жовтень","листопад","грудень"],shortcuts:"Швидкий вибір","custom-values":"Значення користувача",past:"Минулі",following:"Наступні",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Тиждень","prev-month":"Місяць","prev-year":"Рік",next:"&nbsp;&nbsp;&nbsp;","next-week":"Тиждень","next-month":"Місяць","next-year":"Рік","less-than":"Діапазон не може бути більш ніж %d днів","more-than":"Діапазон не може бути меньш ніж %d днів","default-more":"Будь ласка виберіть діапазон більше %d днів","default-single":"Будь ласка виберіть дату","default-less":"Будь ласка виберіть діапазон менше %d днів","default-range":"Будь ласка виберіть діапазон між %d та %d днями","default-default":"Будь ласка виберіть діапазон",time:"Час",hour:"Години",minute:"Хвилини"},pl:{selected:"Wybrany:",day:"Dzień",days:"Dni",apply:"Zamknij","week-1":"pon","week-2":"wt","week-3":"śr","week-4":"czw","week-5":"pt","week-6":"so","week-7":"nd","month-name":["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],shortcuts:"Skróty","custom-values":"Niestandardowe wartości",past:"Przeszłe",following:"Następne",previous:"Poprzednie","prev-week":"tydzień","prev-month":"miesiąc","prev-year":"rok",next:"Następny","next-week":"tydzień","next-month":"miesiąc","next-year":"rok","less-than":"Okres nie powinien być dłuższy niż %d dni","more-than":"Okres nie powinien być krótszy niż  %d ni","default-more":"Wybierz okres dłuższy niż %d dni","default-single":"Wybierz datę","default-less":"Wybierz okres krótszy niż %d dni","default-range":"Wybierz okres trwający od %d do %d dni","default-default":"Wybierz okres",time:"Czas",hour:"Godzina",minute:"Minuta"},se:{selected:"Vald:",day:"dag",days:"dagar",apply:"godkänn","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lö","week-7":"sö","month-name":["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],shortcuts:"genvägar","custom-values":"Anpassade värden",past:"över",following:"följande",previous:"förra","prev-week":"vecka","prev-month":"månad","prev-year":"år",next:"nästa","next-week":"vecka","next-month":"måned","next-year":"år","less-than":"Datumintervall bör inte vara mindre än %d dagar","more-than":"Datumintervall bör inte vara mer än %d dagar","default-more":"Välj ett datumintervall längre än %d dagar","default-single":"Välj ett datum","default-less":"Välj ett datumintervall mindre än %d dagar","default-range":"Välj ett datumintervall mellan %d och %d dagar","default-default":"Välj ett datumintervall",time:"tid",hour:"timme",minute:"minut"},pt:{selected:"Selecionado:",day:"Dia",days:"Dias",apply:"Fechar","week-1":"seg","week-2":"ter","week-3":"qua","week-4":"qui","week-5":"sex","week-6":"sab","week-7":"dom","week-number":"N","month-name":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortcuts:"Atalhos","custom-values":"Valores Personalizados",past:"Passado",following:"Seguinte",previous:"Anterior","prev-week":"Semana","prev-month":"Mês","prev-year":"Ano",next:"Próximo","next-week":"Próxima Semana","next-month":"Próximo Mês","next-year":"Próximo Ano","less-than":"O período selecionado não deve ser maior que %d dias","more-than":"O período selecionado não deve ser menor que %d dias","default-more":"Selecione um período superior a %d dias","default-single":"Selecione uma data","default-less":"Selecione um período inferior a %d dias","default-range":"Selecione um período de %d a %d dias","default-default":"Selecione um período",time:"Tempo",hour:"Hora",minute:"Minuto"},tc:{selected:"已選擇:",day:"天",days:"天",apply:"確定","week-1":"一","week-2":"二","week-3":"三","week-4":"四","week-5":"五","week-6":"六","week-7":"日","week-number":"周","month-name":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortcuts:"快速選擇",past:"過去",following:"將來",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"上週","prev-month":"上個月","prev-year":"去年",next:"&nbsp;&nbsp;&nbsp;","next-week":"下周","next-month":"下個月","next-year":"明年","less-than":"所選日期範圍不能大於%d天","more-than":"所選日期範圍不能小於%d天","default-more":"請選擇大於%d天的日期範圍","default-less":"請選擇小於%d天的日期範圍","default-range":"請選擇%d天到%d天的日期範圍","default-single":"請選擇一個日期","default-default":"請選擇一個日期範圍",time:"日期",hour:"小時",minute:"分鐘"},ja:{selected:"選択しました:",day:"日",days:"日々",apply:"閉じる","week-1":"月","week-2":"火","week-3":"水","week-4":"木","week-5":"金","week-6":"土","week-7":"日","month-name":["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],shortcuts:"クイック選択",past:"過去",following:"将来",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"先週、","prev-month":"先月","prev-year":"昨年",next:"&nbsp;&nbsp;&nbsp;","next-week":"来週","next-month":"来月","next-year":"来年","less-than":"日付の範囲は ％d 日以上にすべきではありません","more-than":"日付の範囲は ％d 日を下回ってはいけません","default-more":"％d 日よりも長い期間を選択してください","default-less":"％d 日未満の期間を選択してください","default-range":"％d と％ d日の間の日付範囲を選択してください","default-single":"日付を選択してください","default-default":"日付範囲を選択してください",time:"時間",hour:"時間",minute:"分"},da:{selected:"Valgt:",day:"Dag",days:"Dage",apply:"Luk","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lö","week-7":"sö","month-name":["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],shortcuts:"genveje","custom-values":"Brugerdefinerede værdier",past:"Forbi",following:"Følgende",previous:"Forrige","prev-week":"uge","prev-month":"månad","prev-year":"år",next:"Næste","next-week":"Næste uge","next-month":"Næste måned","next-year":"Næste år","less-than":"Dato interval bør ikke være med end %d dage","more-than":"Dato interval bør ikke være mindre end %d dage","default-more":"Vælg datointerval længere end %d dage","default-single":"Vælg dato","default-less":"Vælg datointerval mindre end %d dage","default-range":"Vælg datointerval mellem %d og %d dage","default-default":"Vælg datointerval",time:"tid",hour:"time",minute:"minut"},fi:{selected:"Valittu:",day:"Päivä",days:"Päivää",apply:"Sulje","week-1":"ma","week-2":"ti","week-3":"ke","week-4":"to","week-5":"pe","week-6":"la","week-7":"su","week-number":"V","month-name":["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortcuts:"Pikavalinnat","custom-values":"Mukautetut Arvot",past:"Menneet",following:"Tulevat",previous:"Edellinen","prev-week":"Viikko","prev-month":"Kuukausi","prev-year":"Vuosi",next:"Seuraava","next-week":"Viikko","next-month":"Kuukausi","next-year":"Vuosi","less-than":"Aikajakson tulisi olla vähemmän kuin %d päivää","more-than":"Aikajakson ei tulisi olla vähempää kuin %d päivää","default-more":"Valitse pidempi aikajakso kuin %d päivää","default-single":"Valitse päivä","default-less":"Valitse lyhyempi aikajakso kuin %d päivää","default-range":"Valitse aikajakso %d ja %d päivän väliltä","default-default":"Valitse aikajakso",time:"Aika",hour:"Tunti",minute:"Minuutti"},cat:{selected:"Seleccionats:",day:"Dia",days:"Dies",apply:"Tanca","week-1":"Dl","week-2":"Dm","week-3":"Dc","week-4":"Dj","week-5":"Dv","week-6":"Ds","week-7":"Dg","week-number":"S","month-name":["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortcuts:"Dreçeres","custom-values":"Valors personalitzats",past:"Passat",following:"Futur",previous:"Anterior","prev-week":"Setmana","prev-month":"Mes","prev-year":"Any",next:"Següent","next-week":"Setmana","next-month":"Mes","next-year":"Any","less-than":"El període no hauria de ser de més de %d dies","more-than":"El període no hauria de ser de menys de %d dies","default-more":"Perfavor selecciona un període més gran de %d dies","default-single":"Perfavor selecciona una data","default-less":"Perfavor selecciona un període de menys de %d dies","default-range":"Perfavor selecciona un període d'entre %d i %d dies","default-default":"Perfavor selecciona un període",time:"Temps",hour:"Hora",minute:"Minut"}},K.fn.dateRangePicker=function(h){h=h||{},(h=K.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return K(this).val()},setValue:function(e){K(this).attr("readonly")||K(this).is(":disabled")||e==K(this).val()||K(this).val(e)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!1,shortcuts:{},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(e,t,n){return 1<e?e+" "+L("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(e){return J(e).format("w")},customOpenAnimation:null,customCloseAnimation:null,customArrowPrevSymbol:null,customArrowNextSymbol:null,monthSelect:!1,yearSelect:!1},h)).start=!1,h.end=!1,h.startWeek=!1,h.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,h.isTouchDevice&&(h.hoveringTooltip=!1),"auto"==h.singleMonth&&(h.singleMonth=K(window).width()<480),h.singleMonth&&(h.stickyMonths=!1),h.showTopbar||(h.autoClose=!0),h.startDate&&"string"==typeof h.startDate&&(h.startDate=J(h.startDate,h.format).toDate()),h.endDate&&"string"==typeof h.endDate&&(h.endDate=J(h.endDate,h.format).toDate()),h.yearSelect&&"boolean"==typeof h.yearSelect&&(h.yearSelect=function(e){return[e-5,e+5]});var l,e,o=function(){{var e;return"auto"==h.language?(e=navigator.language||navigator.browserLanguage)&&(e=e.toLowerCase())in K.dateRangePickerLanguages?K.dateRangePickerLanguages[e]:K.dateRangePickerLanguages.default:h.language&&h.language in K.dateRangePickerLanguages?K.dateRangePickerLanguages[h.language]:K.dateRangePickerLanguages.default}}(),i=!1,r=this,s=K(r).get(0);return K(this).off(".datepicker").on("click.datepicker",function(e){l.is(":visible")||t(h.duration)}).on("change.datepicker",function(e){n()}).on("keyup.datepicker",function(){try{clearTimeout(e)}catch(e){}e=setTimeout(function(){n()},2e3)}),function(){var e,t,n=this;K(this).data("date-picker-opened")?x():(K(this).data("date-picker-opened",!0),(l=function(){var e='<div class="date-picker-wrapper';h.extraClass&&(e+=" "+h.extraClass+" ");h.singleDate&&(e+=" single-date ");h.showShortcuts||(e+=" no-shortcuts ");h.showTopbar||(e+=" no-topbar ");h.customTopBar&&(e+=" custom-topbar ");e+='">',h.showTopbar&&(e+='<div class="drp_top-bar">',h.customTopBar?("function"==typeof h.customTopBar&&(h.customTopBar=h.customTopBar()),e+='<div class="custom-top">'+h.customTopBar+"</div>"):(e+='<div class="normal-top"><span class="selection-top">'+L("selected")+' </span> <b class="start-day">...</b>',h.singleDate||(e+=' <span class="separator-day">'+h.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+L("days")+")</i>"),e+='</div><div class="error-top">error</div><div class="default-top">default</div>'),e=e+('<input type="button" class="apply-btn disabled'+function(){var e="";!0===h.autoClose&&(e+=" hide");""!==h.applyBtnClass&&(e+=" "+h.applyBtnClass);return e}()+'" value="'+L("apply"))+'" /></div>');var t=h.showWeekNumbers?6:5,n="&lt;";h.customArrowPrevSymbol&&(n=h.customArrowPrevSymbol);var i,o="&gt;";h.customArrowNextSymbol&&(o=h.customArrowNextSymbol);e+='<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th>                   <span class="prev">'+n+'                   </span>               </th>               <th colspan="'+t+'" class="month-name">               </th>               <th>'+(h.singleDate||!h.stickyMonths?'<span class="next">'+o+"</span>":"")+'               </th>           </tr>           <tr class="week-name">'+Q()+"       </thead>       <tbody></tbody>   </table>",h.singleMonth||(e+='<div class="gap">'+function(){for(var e=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'],t=0;t<20;t++)e.push('<div class="gap-line"><div class="gap-1"></div><div class="gap-2"></div><div class="gap-3"></div></div>');return e.push("</div>"),e.join("")}()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th>'+(h.stickyMonths?"":'<span class="prev">'+n+"</span>")+'       </th>       <th colspan="'+t+'" class="month-name">       </th>       <th>           <span class="next">'+o+'</span>       </th>   </tr>   <tr class="week-name">'+Q()+"   </thead>   <tbody></tbody></table>");e+='<div class="dp-clearfix"></div><div class="time"><div class="time1"></div>',h.singleDate||(e+='<div class="time2"></div>');if(e+='</div><div class="dp-clearfix"></div></div><div class="footer">',h.showShortcuts){e+='<div class="shortcuts"><b>'+L("shortcuts")+"</b>";var r=h.shortcuts;if(r){if(r["prev-days"]&&0<r["prev-days"].length){e+='&nbsp;<span class="prev-days">'+L("past");for(var s=0;s<r["prev-days"].length;s++)i=r["prev-days"][s],i+=1<r["prev-days"][s]?L("days"):L("day"),e+=' <a href="javascript:;" shortcut="day,-'+r["prev-days"][s]+'">'+i+"</a>";e+="</span>"}if(r["next-days"]&&0<r["next-days"].length){e+='&nbsp;<span class="next-days">'+L("following");for(s=0;s<r["next-days"].length;s++)i=r["next-days"][s],i+=1<r["next-days"][s]?L("days"):L("day"),e+=' <a href="javascript:;" shortcut="day,'+r["next-days"][s]+'">'+i+"</a>";e+="</span>"}if(r.prev&&0<r.prev.length){e+='&nbsp;<span class="prev-buttons">'+L("previous");for(s=0;s<r.prev.length;s++)i=L("prev-"+r.prev[s]),e+=' <a href="javascript:;" shortcut="prev,'+r.prev[s]+'">'+i+"</a>";e+="</span>"}if(r.next&&0<r.next.length){e+='&nbsp;<span class="next-buttons">'+L("next");for(s=0;s<r.next.length;s++)i=L("next-"+r.next[s]),e+=' <a href="javascript:;" shortcut="next,'+r.next[s]+'">'+i+"</a>";e+="</span>"}}if(h.customShortcuts)for(s=0;s<h.customShortcuts.length;s++){var a=h.customShortcuts[s];e+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+a.name+"</a></span>"}e+="</div>"}if(h.showCustomValues&&(e+='<div class="customValues"><b>'+(h.customValueLabel||L("custom-values"))+"</b>",h.customValues))for(s=0;s<h.customValues.length;s++){var l=h.customValues[s];e+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+l.value+'">'+l.name+"</a></span>"}return K(e+="</div></div>")}().hide()).append('<div class="date-range-length-tip"></div>'),K(h.container).append(l),h.inline?l.addClass("inline-wrapper"):a(),h.alwaysOpen&&l.find(".apply-btn").hide(),t=G(),q(t),h.time.enabled&&(h.startDate&&h.endDate||h.start&&h.end?(I(J(h.start||h.startDate).toDate(),"time1"),I(J(h.end||h.endDate).toDate(),"time2")):(e=h.defaultEndTime||t,I(t,"time1"),I(e,"time2"))),t="",t=h.singleDate?L("default-single"):h.minDays&&h.maxDays?L("default-range"):h.minDays?L("default-more"):h.maxDays?L("default-less"):L("default-default"),l.find(".default-top").html(t.replace(/\%d/,h.minDays).replace(/\%d/,h.maxDays)),h.singleMonth?l.addClass("single-month"):l.addClass("two-months"),setTimeout(function(){c(),i=!0},0),l.click(function(e){e.stopPropagation()}),K(document).on("click.datepicker",Z),l.find(".next").click(function(){var e,t;h.stickyMonths?(e=N(h.month1),O(t=N(h.month2))||!h.singleDate&&0<=E(e,t)||(A(e,"month1"),A(t,"month2"),w())):(e=K(e=this).parents("table").hasClass("month2"),t=N(t=e?h.month2:h.month1),!h.singleMonth&&!h.singleDate&&!e&&0<=E(t,h.month2)||O(t)||(A(t,e?"month2":"month1"),T()))}),l.find(".prev").click(function(){var e,t;h.stickyMonths?(t=j(h.month1),e=j(h.month2),O(t)||!h.singleDate&&E(e,t)<=0||(A(e,"month2"),A(t,"month1"),w())):(e=K(e=this).parents("table").hasClass("month2"),t=j(t=e?h.month2:h.month1),e&&E(t,h.month1)<=0||O(t)||(A(t,e?"month2":"month1"),T()))}),l.attr("unselectable","on").css("user-select","none").on("selectstart",function(e){return e.preventDefault(),!1}),l.find(".apply-btn").click(function(){x();var e=k(new Date(h.start))+h.separator+k(new Date(h.end));K(n).trigger("datepicker-apply",{value:e,date1:new Date(h.start),date2:new Date(h.end)})}),l.find("[custom]").click(function(){var e=K(this).attr("custom");h.start=!1,h.end=!1,l.find(".day.checked").removeClass("checked"),h.setValue.call(s,e),_(),b(!0),w(),h.autoClose&&x()}),l.find("[shortcut]").click(function(){var e=K(this).attr("shortcut"),t=new Date,n=!1;if(-1!=e.indexOf("day"))var i=parseInt(e.split(",",2)[1],10),n=new Date((new Date).getTime()+864e5*i),t=new Date(t.getTime()+864e5*(0<i?1:-1));else if(-1!=e.indexOf("week")){var o,r=1==(o=-1!=e.indexOf("prev,")?-1:1)?"monday"==h.startOfWeek?1:0:"monday"==h.startOfWeek?0:6;for(t=new Date(t.getTime()-864e5);t.getDay()!=r;)t=new Date(t.getTime()+864e5*o);n=new Date(t.getTime()+864e5*o*6)}else if(-1!=e.indexOf("month"))(n=(1==(o=-1!=e.indexOf("prev,")?-1:1)?N:j)(t)).setDate(1),(t=N(n)).setDate(1),t=new Date(t.getTime()-864e5);else if(-1!=e.indexOf("year"))o=-1!=e.indexOf("prev,")?-1:1,(n=new Date).setFullYear(t.getFullYear()+o),n.setMonth(0),n.setDate(1),t.setFullYear(t.getFullYear()+o),t.setMonth(11),t.setDate(31);else if("custom"==e){var s=K(this).html();if(h.customShortcuts&&0<h.customShortcuts.length)for(var a=0;a<h.customShortcuts.length;a++){var l=h.customShortcuts[a];if(l.name==s){(l=l.dates.call())&&2==l.length&&(n=l[0],t=l[1]),l&&1==l.length&&(A(l=l[0],"month1"),A(N(l),"month2"),T());break}}}n&&t&&(M(n,t),_())}),l.find(".time1 input[type=range]").on("change touchmove",function(e){e=e.target;p("time1","hour"==e.name?K(e).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==e.name?K(e).val().replace(/^(\d{1})$/,"0$1"):void 0)}),l.find(".time2 input[type=range]").on("change touchmove",function(e){e=e.target;p("time2","hour"==e.name?K(e).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==e.name?K(e).val().replace(/^(\d{1})$/,"0$1"):void 0)}))}.call(this),h.alwaysOpen&&t(0),K(this).data("dateRangePicker",{setStart:function(e){return"string"==typeof e&&(e=J(e,h.format).toDate()),h.end=!1,U(e),this},setEnd:function(e,t){var n=new Date;return n.setTime(h.start),M(n,e="string"==typeof e?J(e,h.format).toDate():e,t),this},setDateRange:function(e,t,n){"string"==typeof e&&"string"==typeof t&&(e=J(e,h.format).toDate(),t=J(t,h.format).toDate()),M(e,t,n)},clear:function(){h.start=!1,h.end=!1,l.find(".day.checked").removeClass("checked"),l.find(".day.last-date-selected").removeClass("last-date-selected"),l.find(".day.first-date-selected").removeClass("first-date-selected"),h.setValue.call(s,""),_(),b(),w()},close:x,open:t,redraw:W,getDatePicker:function(){return l},resetMonthsView:q,destroy:function(){K(r).off(".datepicker"),K(r).data("dateRangePicker",""),K(r).data("date-picker-opened",null),l.remove(),K(window).off("resize.datepicker",a),K(document).off("click.datepicker",Z)}}),K(window).on("resize.datepicker",a),this;function a(){var e,t,n;h.inline||(e=K(r).offset(),"relative"==K(h.container).css("position")?(t=K(h.container).offset(),n=Math.max(0,e.left+l.outerWidth()-K("body").width()+16),l.css({top:e.top-t.top+K(r).outerHeight()+4,left:e.left-t.left-n})):e.left<460?l.css({top:e.top+K(r).outerHeight()+parseInt(K("body").css("border-top")||0,10),left:e.left}):l.css({top:e.top+K(r).outerHeight()+parseInt(K("body").css("border-top")||0,10),left:e.left+K(r).width()-l.width()-16}))}function t(e){W(),n(),h.customOpenAnimation?h.customOpenAnimation.call(l.get(0),function(){K(r).trigger("datepicker-opened",{relatedTarget:l})}):l.slideDown(e,function(){K(r).trigger("datepicker-opened",{relatedTarget:l})}),K(r).trigger("datepicker-open",{relatedTarget:l}),T(),c(),a()}function n(){var e,t=h.getValue.call(s),t=t?t.split(h.separator):"";t&&(1==t.length&&h.singleDate||2<=t.length)&&((e=h.format).match(/Do/)&&(e=e.replace(/Do/,"D"),t[0]=t[0].replace(/(\d+)(th|nd|st)/,"$1"),2<=t.length&&(t[1]=t[1].replace(/(\d+)(th|nd|st)/,"$1"))),i=!1,2<=t.length?M(u(t[0],e,J.locale(h.language)),u(t[1],e,J.locale(h.language))):1==t.length&&h.singleDate&&U(u(t[0],e,J.locale(h.language))),i=!0)}function u(e,t,n){return(J(e,t,n).isValid()?J(e,t,n):J()).toDate()}function c(){var e=(e=l.find(".gap").css("margin-left"))&&parseInt(e),t=l.find(".month1").width(),e=l.find(".gap").width()+(e?2*e:0),n=l.find(".month2").width();l.find(".month-wrapper").width(t+e+n)}function f(e,t){l.find("."+e+" input[type=range].hour-range").val(J(t).hours()),l.find("."+e+" input[type=range].minute-range").val(J(t).minutes()),p(e,J(t).format("HH"),J(t).format("mm"))}function d(e,t){h[e]=parseInt(J(parseInt(t)).startOf("day").add(J(h[e+"Time"]).format("HH"),"h").add(J(h[e+"Time"]).format("mm"),"m").valueOf())}function p(e,o,r){switch(o&&l.find("."+e+" .hour-val").text(o),r&&l.find("."+e+" .minute-val").text(r),e){case"time1":h.start&&t("start",J(h.start)),t("startTime",J(h.startTime||J().valueOf()));break;case"time2":h.end&&t("end",J(h.end)),t("endTime",J(h.endTime||J().valueOf()))}function t(e,t){var n=t.format("HH"),i=t.format("mm");h[e]=t.startOf("day").add(o||n,"h").add(r||i,"m").valueOf()}_(),b(),w()}function g(e){var t=e;return"week-range"===h.batchMode?t=("monday"===h.startOfWeek?J(parseInt(e)).startOf("isoweek"):J(parseInt(e)).startOf("week")).valueOf():"month-range"===h.batchMode&&(t=J(parseInt(e)).startOf("month").valueOf()),t}function m(e){var t=e;return"week-range"===h.batchMode?t=("monday"===h.startOfWeek?J(parseInt(e)).endOf("isoweek"):J(parseInt(e)).endOf("week")).valueOf():"month-range"===h.batchMode&&(t=J(parseInt(e)).endOf("month").valueOf()),t}function z(e){var t;e.hasClass("invalid")||(t=e.attr("time"),e.addClass("checked"),h.singleDate?(h.start=t,h.end=!1):"week"===h.batchMode?"monday"===h.startOfWeek?(h.start=J(parseInt(t)).startOf("isoweek").valueOf(),h.end=J(parseInt(t)).endOf("isoweek").valueOf()):(h.end=J(parseInt(t)).endOf("week").valueOf(),h.start=J(parseInt(t)).startOf("week").valueOf()):"workweek"===h.batchMode?(h.start=J(parseInt(t)).day(1).valueOf(),h.end=J(parseInt(t)).day(5).valueOf()):"weekend"===h.batchMode?(h.start=J(parseInt(t)).day(6).valueOf(),h.end=J(parseInt(t)).day(7).valueOf()):"month"===h.batchMode?(h.start=J(parseInt(t)).startOf("month").valueOf(),h.end=J(parseInt(t)).endOf("month").valueOf()):h.start&&h.end||!h.start&&!h.end?(h.start=g(t),h.end=!1):h.start&&(h.end=m(t),h.time.enabled&&d("end",h.end)),h.time.enabled&&(h.start&&d("start",h.start),h.end&&d("end",h.end)),!h.singleDate&&h.start&&h.end&&h.start>h.end&&(t=h.end,h.end=m(h.start),h.start=g(t),h.time.enabled&&h.swapTime&&(f("time1",h.start),f("time2",h.end))),h.start=parseInt(h.start),h.end=parseInt(h.end),P(),h.start&&!h.end&&(K(r).trigger("datepicker-first-date-selected",{date1:new Date(h.start)}),F(e)),y(),_(),b(),w(),D())}function v(e){if(e=parseInt(e,10),h.startDate&&S(e,h.startDate)<0)return!1;if(h.endDate&&0<S(e,h.endDate))return!1;if(h.start&&!h.end&&!h.singleDate){if(0<h.maxDays&&C(e,h.start)>h.maxDays)return!1;if(0<h.minDays&&C(e,h.start)<h.minDays)return!1;if(h.selectForward&&e<h.start)return!1;if(h.selectBackward&&e>h.start)return!1;if(h.beforeShowDay&&"function"==typeof h.beforeShowDay){for(var t=!0,n=e;1<C(n,h.start);){if(!h.beforeShowDay(new Date(n))[0]){t=!1;break}if(Math.abs(n-h.start)<864e5)break;n>h.start&&(n-=864e5),n<h.start&&(n+=864e5)}if(!t)return!1}}return!0}function y(){l.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),h.start&&!h.end&&l.find(".day.toMonth.valid").each(function(){v(parseInt(K(this).attr("time"),10))?K(this).addClass("valid tmp").removeClass("invalid"):K(this).addClass("invalid tmp").removeClass("valid")})}function F(e){var t,n,i,o,r,s=parseInt(e.attr("time")),a="";e.hasClass("has-tooltip")&&e.attr("data-tooltip")?a='<span class="tooltip-content">'+e.attr("data-tooltip")+"</span>":e.hasClass("invalid")||(h.singleDate?(l.find(".day.hovering").removeClass("hovering"),e.addClass("hovering")):(l.find(".day").each(function(){var e=parseInt(K(this).attr("time"));h.start,h.end;e==s?K(this).addClass("hovering"):K(this).removeClass("hovering"),h.start&&!h.end&&(h.start<e&&e<=s||h.start>e&&s<=e)?K(this).addClass("hovering"):K(this).removeClass("hovering")}),h.start&&!h.end&&(o=C(s,h.start),h.hoveringTooltip&&("function"==typeof h.hoveringTooltip?a=h.hoveringTooltip(o,h.start,s):!0===h.hoveringTooltip&&1<o&&(a=o+" "+L("days")))))),a?(o=e.offset(),r=l.offset(),t=o.left-r.left,n=o.top-r.top,t+=e.width()/2,o=(i=l.find(".date-range-length-tip")).css({visibility:"hidden",display:"none"}).html(a).width(),r=i.height(),t-=o/2,n-=r,setTimeout(function(){i.css({left:t,top:n,display:"block",visibility:"visible"})},10)):l.find(".date-range-length-tip").hide()}function P(){l.find(".day.hovering").removeClass("hovering"),l.find(".date-range-length-tip").hide()}function R(e){var t=e.val(),n=e.attr("name"),e=e.parents("table").hasClass("month1")?"month1":"month2",i="month1"==e?"month2":"month1",o=!!h.startDate&&J(h.startDate),r=!!h.endDate&&J(h.endDate),n=J(h[e])[n](t);o&&n.isSameOrBefore(o)&&(n=o.add("month2"==e?1:0,"month")),A(n=r&&n.isSameOrAfter(r)?r.add(h.singleMonth||"month1"!=e?0:-1,"month"):n,e),"month1"==e?(h.stickyMonths||J(n).isSameOrAfter(h[i],"month"))&&A(J(n).add(1,"month"),i):(h.stickyMonths||J(n).isSameOrBefore(h[i],"month"))&&A(J(n).add(-1,"month"),i),T()}function D(){!0===h.singleDate?i&&h.start&&h.autoClose&&x():i&&h.start&&h.end&&h.autoClose&&x()}function _(){var e=Math.ceil((h.end-h.start)/864e5)+1;h.singleDate?h.start&&!h.end?l.find(".drp_top-bar").removeClass("error").addClass("normal"):l.find(".drp_top-bar").removeClass("error").removeClass("normal"):h.maxDays&&e>h.maxDays?(h.start=!1,h.end=!1,l.find(".day").removeClass("checked"),l.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(L("less-than").replace("%d",h.maxDays))):h.minDays&&e<h.minDays?(h.start=!1,h.end=!1,l.find(".day").removeClass("checked"),l.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(L("more-than").replace("%d",h.minDays))):h.start||h.end?l.find(".drp_top-bar").removeClass("error").addClass("normal"):l.find(".drp_top-bar").removeClass("error").removeClass("normal"),h.singleDate&&h.start&&!h.end||!h.singleDate&&h.start&&h.end?l.find(".apply-btn").removeClass("disabled"):l.find(".apply-btn").addClass("disabled"),h.batchMode&&(h.start&&h.startDate&&S(h.start,h.startDate)<0||h.end&&h.endDate&&0<S(h.end,h.endDate))&&(h.start=!1,h.end=!1,l.find(".day").removeClass("checked"))}function b(e,t){var n;l.find(".start-day").html("..."),l.find(".end-day").html("..."),l.find(".selected-days").hide(),h.start&&l.find(".start-day").html(k(new Date(parseInt(h.start)))),h.end&&l.find(".end-day").html(k(new Date(parseInt(h.end)))),h.start&&h.singleDate?(l.find(".apply-btn").removeClass("disabled"),n=k(new Date(h.start)),h.setValue.call(s,n,k(new Date(h.start)),k(new Date(h.end))),i&&!t&&K(r).trigger("datepicker-change",{value:n,date1:new Date(h.start)})):h.start&&h.end?(l.find(".selected-days").show().find(".selected-days-num").html(C(h.end,h.start)),l.find(".apply-btn").removeClass("disabled"),n=k(new Date(h.start))+h.separator+k(new Date(h.end)),h.setValue.call(s,n,k(new Date(h.start)),k(new Date(h.end))),i&&!t&&K(r).trigger("datepicker-change",{value:n,date1:new Date(h.start),date2:new Date(h.end)})):e?l.find(".apply-btn").removeClass("disabled"):l.find(".apply-btn").addClass("disabled")}function C(e,t){return Math.abs(J(e).diff(J(t),"d"))+1}function M(e,t,n){e.getTime()>t.getTime()&&(i=t,t=e,e=i,i=null);var i=!0;if(h.startDate&&S(e,h.startDate)<0&&(i=!1),!(i=h.endDate&&0<S(t,h.endDate)?!1:i))return A(h.startDate,"month1"),A(N(h.startDate),"month2"),void T();h.start=e.getTime(),h.end=t.getTime(),h.time.enabled&&(f("time1",e),f("time2",t)),(h.stickyMonths||0<S(e,t)&&0===E(e,t))&&(h.lookBehind?e=j(t):t=N(e)),h.stickyMonths&&!1!==h.endDate&&0<E(t,h.endDate)&&(e=j(e),t=j(t)),h.stickyMonths||0===E(e,t)&&(h.lookBehind?e=j(t):t=N(e)),A(e,"month1"),A(t,"month2"),T(),_(),b(!1,n),D()}function U(e){var t=!0;h.startDate&&S(e,h.startDate)<0&&(t=!1),(t=!(h.endDate&&0<S(e,h.endDate))&&t)?(h.start=e.getTime(),h.time.enabled&&f("time1",e),A(e,"month1"),!0!==h.singleMonth&&A(N(e),"month2"),T(),b(),D()):A(h.startDate,"month1")}function w(){(h.start||h.end)&&(l.find(".day").each(function(){var e=parseInt(K(this).attr("time")),t=h.start,n=h.end;h.time.enabled&&(e=J(e).startOf("day").valueOf(),t=J(t||J().valueOf()).startOf("day").valueOf(),n=J(n||J().valueOf()).startOf("day").valueOf()),h.start&&h.end&&e<=n&&t<=e||h.start&&!h.end&&J(t).format("YYYY-MM-DD")==J(e).format("YYYY-MM-DD")?K(this).addClass("checked"):K(this).removeClass("checked"),h.start&&J(t).format("YYYY-MM-DD")==J(e).format("YYYY-MM-DD")?K(this).addClass("first-date-selected"):K(this).removeClass("first-date-selected"),h.end&&J(n).format("YYYY-MM-DD")==J(e).format("YYYY-MM-DD")?K(this).addClass("last-date-selected"):K(this).removeClass("last-date-selected")}),l.find(".week-number").each(function(){K(this).attr("data-start-time")==h.startWeek&&K(this).addClass("week-number-selected")}))}function A(e,t){var n=function(e,t){var n=(e=J(e)).get("month"),i='<div class="month-element">'+H(n)+"</div>";if(!h.monthSelect)return i;var o=!!h.startDate&&J(h.startDate).add(h.singleMonth||"month2"!==t?0:1,"month"),t=!!h.endDate&&J(h.endDate).add(h.singleMonth||"month1"!==t?0:-1,"month"),o=o&&e.isSame(o,"year")?o.get("month"):0,e=t&&e.isSame(t,"year")?t.get("month"):11,t=Math.min(o,n),r=Math.max(e,n);return t!==r?Y("month",B({minSelectable:o,maxSelectable:e,minVisible:t,maxVisible:r},n,H)):i}(e=J(e).toDate(),t),i=function(e,t){var e=(e=J(e)).get("year"),n='<div class="month-element">'+e+"</div>";if(!h.yearSelect)return n;var i=h.yearSelect&&"function"==typeof h.yearSelect,o=!!h.startDate&&J(h.startDate).add(h.singleMonth||"month2"!==t?0:1,"month"),t=!!h.endDate&&J(h.endDate).add(h.singleMonth||"month1"!==t?0:-1,"month"),i=i?h.yearSelect(e):h.yearSelect.slice(),o=o?Math.max(i[0],o.get("year")):Math.min(i[0],e),t=t?Math.min(i[1],t.get("year")):Math.max(i[1],e),i=Math.min(o,e),r=Math.max(t,e);return i!==r?Y("year",B({minSelectable:o,maxSelectable:t,minVisible:i,maxVisible:r},e)):n}(e,t);l.find("."+t+" .month-name").html(n+" "+i),l.find("."+t+" tbody").html(function(e){var t,n,i=[],o=(e.setDate(1),new Date(e.getTime()-864e5),new Date),r=e.getDay();0===r&&"monday"===h.startOfWeek&&(r=7);if(0<r)for(var s=r;0<s;s--){var a=new Date(e.getTime()-864e5*s);n=v(a.getTime()),h.startDate&&S(a,h.startDate)<0&&(n=!1),h.endDate&&0<S(a,h.endDate)&&(n=!1),i.push({date:a,type:"lastMonth",day:a.getDate(),time:a.getTime(),valid:n})}for(var l=e.getMonth(),s=0;s<40;s++)t=J(e).add(s,"days").toDate(),n=v(t.getTime()),h.startDate&&S(t,h.startDate)<0&&(n=!1),h.endDate&&0<S(t,h.endDate)&&(n=!1),i.push({date:t,type:t.getMonth()==l?"toMonth":"nextMonth",day:t.getDate(),time:t.getTime(),valid:n});for(var u=[],c=0;c<6&&"nextMonth"!=i[7*c].type;c++){u.push("<tr>");for(a=0;a<7;a++){var f="monday"==h.startOfWeek?a+1:a,f=(t=i[7*c+f],J(t.time).format("L")==J(o).format("L")),d=(t.extraClass="",t.tooltip="",t.valid&&h.beforeShowDay&&"function"==typeof h.beforeShowDay&&(d=h.beforeShowDay(J(t.time).toDate()),t.valid=d[0],t.extraClass=d[1]||"",t.tooltip=d[2]||"",""!==t.tooltip&&(t.extraClass+=" has-tooltip ")),{time:t.time,"data-tooltip":t.tooltip,class:"day "+t.type+" "+t.extraClass+" "+(t.valid?"valid":"invalid")+" "+(f?"real-today":"")});0===a&&h.showWeekNumbers&&u.push('<td><div class="week-number" data-start-time="'+t.time+'">'+h.getWeekNumber(t.date)+"</div></td>"),u.push("<td "+V({},h.dayTdAttrs,t)+"><div "+V(d,h.dayDivAttrs,t)+">"+function(e,t){return h.showDateFilter&&"function"==typeof h.showDateFilter?h.showDateFilter(e,t):t}(t.time,t.day)+"</div></td>")}u.push("</tr>")}return u.join("")}(e)),h[t]=e,y(),l.find(".day").off("click").click(function(e){z(K(this))}),l.find(".day").off("mouseenter").mouseenter(function(e){F(K(this))}),l.find(".day").off("mouseleave").mouseleave(function(e){l.find(".date-range-length-tip").hide(),h.singleDate&&P()}),l.find(".week-number").off("click").click(function(e){var t,n,i,o;t=K(this),o=parseInt(t.attr("data-start-time"),10),h.startWeek?(l.find(".week-number-selected").removeClass("week-number-selected"),n=new Date(o<h.startWeek?o:h.startWeek),i=new Date(o<h.startWeek?h.startWeek:o),h.startWeek=!1,h.start=J(n).day("monday"==h.startOfWeek?1:0).valueOf(),h.end=J(i).day("monday"==h.startOfWeek?7:6).valueOf()):(h.startWeek=o,t.addClass("week-number-selected"),n=new Date(o),h.start=J(n).day("monday"==h.startOfWeek?1:0).valueOf(),h.end=J(n).day("monday"==h.startOfWeek?7:6).valueOf()),y(),_(),b(),w(),D()}),l.find(".month").off("change").change(function(e){R(K(this))}),l.find(".year").off("change").change(function(e){R(K(this))})}function B(e,t,n){var i=[];n=n||function(e){return e};for(var o=e.minVisible;o<=e.maxVisible;o++)i.push({value:o,text:n(o),selected:o===t,disabled:o<e.minSelectable||o>e.maxSelectable});return i}function Y(e,t){for(var n,i='<div class="select-wrapper"><select class="'+e+'" name="'+e+'">',o=0,r=t.length;o<r;o++){var s=t[o];i+='<option value="'+s.value+'"'+(s.selected?" selected":"")+(s.disabled?" disabled":"")+">"+s.text+"</option>",s.selected&&(n=s.text)}return i+="</select>"+n+"</div>"}function I(e,t){l.find("."+t).append("<div><span>"+L("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+L("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+L("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'),f(t,e)}function H(e){return L("month-name")[e]}function k(e){return J(e).format(h.format)}function T(){w();var e=parseInt(J(h.month1).format("YYYYMM")),t=parseInt(J(h.month2).format("YYYYMM")),e=Math.abs(e-t),t=(1<e&&89!=e?l.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):l.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden"),l.find("table.month1").height()),e=l.find("table.month2").height();l.find(".gap").height(Math.max(t,e)+10)}function x(){var e;h.alwaysOpen||(e=function(){K(r).data("date-picker-opened",!1),K(r).trigger("datepicker-closed",{relatedTarget:l})},h.customCloseAnimation?h.customCloseAnimation.call(l.get(0),e):K(l).slideUp(h.duration,e),K(r).trigger("datepicker-close",{relatedTarget:l}))}function W(){A(h.month1,"month1"),A(h.month2,"month2")}function E(e,t){e=parseInt(J(e).format("YYYYMM"))-parseInt(J(t).format("YYYYMM"));return 0<e?1:0==e?0:-1}function S(e,t){e=parseInt(J(e).format("YYYYMMDD"))-parseInt(J(t).format("YYYYMMDD"));return 0<e?1:0==e?0:-1}function N(e){return J(e).add(1,"months").toDate()}function j(e){return J(e).add(-1,"months").toDate()}function Q(){var e=h.showWeekNumbers?"<th>"+L("week-number")+"</th>":"";return"monday"==h.startOfWeek?e+"<th>"+L("week-1")+"</th><th>"+L("week-2")+"</th><th>"+L("week-3")+"</th><th>"+L("week-4")+"</th><th>"+L("week-5")+"</th><th>"+L("week-6")+"</th><th>"+L("week-7")+"</th>":e+"<th>"+L("week-7")+"</th><th>"+L("week-1")+"</th><th>"+L("week-2")+"</th><th>"+L("week-3")+"</th><th>"+L("week-4")+"</th><th>"+L("week-5")+"</th><th>"+L("week-6")+"</th>"}function O(e){return e=J(e),h.startDate&&e.endOf("month").isBefore(h.startDate)||!(!h.endDate||!e.startOf("month").isAfter(h.endDate))}function V(e,t,o){var n,r=K.extend(!0,{},e),i=(K.each(t,function(e,t){var n,i=t(o);for(n in i)r.hasOwnProperty(n)?r[n]+=i[n]:r[n]=i[n]}),"");for(n in r)r.hasOwnProperty(n)&&(i+=n+'="'+r[n]+'" ');return i}function L(e){var t=e.toLowerCase(),n=e in o?o[e]:t in o?o[t]:null,i=K.dateRangePickerLanguages.default;return n=null==n?e in i?i[e]:t in i?i[t]:"":n}function G(){var e=h.defaultTime||new Date;return h.lookBehind?(h.startDate&&E(e,h.startDate)<0&&(e=N(J(h.startDate).toDate())),h.endDate&&0<E(e,h.endDate)&&(e=J(h.endDate).toDate())):(h.startDate&&E(e,h.startDate)<0&&(e=J(h.startDate).toDate()),h.endDate&&0<E(N(e),h.endDate)&&(e=j(J(h.endDate).toDate()))),h.singleDate&&(h.startDate&&E(e,h.startDate)<0&&(e=J(h.startDate).toDate()),h.endDate&&0<E(e,h.endDate)&&(e=J(h.endDate).toDate())),e}function q(e){e=e||G(),h.lookBehind?(A(j(e),"month1"),A(e,"month2")):(A(e,"month1"),A(N(e),"month2")),h.singleDate&&A(e,"month1"),w(),T()}function Z(e){var t;e=e,(t=r[0]).contains(e.target)||e.target==t||null!=t.childNodes&&0<=K.inArray(e.target,t.childNodes)||l.is(":visible")&&x()}}}),function(){var D,e,_=window.jQuery,o=_(window),b=_(document),t="http://www.w3.org/2000/svg",C="SVGAngle"in window&&((e=document.createElement("div")).innerHTML="<svg/>",n=(e.firstChild&&e.firstChild.namespaceURI)==t,e.innerHTML="",n),n="transition"in(e=document.createElement("div").style)||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e,i="ontouchstart"in window,M="mousedown"+(i?" touchstart":""),w="mousemove.clockpicker"+(i?" touchmove.clockpicker":""),A="mouseup.clockpicker"+(i?" touchend.clockpicker":""),u=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null;function I(e){return document.createElementNS(t,e)}function k(e){return(e<10?"0":"")+e}var r=0;function T(e){var t=++r+"";return e?e+t:t}var x=n?350:1,E=['<div class="popover clockpicker-popover">','<div class="arrow"></div>','<div class="popover-title">','<span class="clockpicker-span-hours text-primary"></span>'," : ",'<span class="clockpicker-span-minutes"></span>','<span class="clockpicker-span-am-pm"></span>',"</div>",'<div class="popover-content">','<div class="clockpicker-plate">','<div class="clockpicker-canvas"></div>','<div class="clockpicker-dial clockpicker-hours"></div>','<div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div>',"</div>",'<span class="clockpicker-am-pm-block">',"</span>","</div>","</div>"].join("");function s(e,c){var t,f,n=_(E),d=n.find(".clockpicker-plate"),i=n.find(".clockpicker-hours"),o=n.find(".clockpicker-minutes"),r=n.find(".clockpicker-am-pm-block"),s="INPUT"===e.prop("tagName"),a=s?e:e.find("input"),l=e.find(".input-group-addon"),h=this,u=(this.id=T("cp"),this.element=e,this.options=c,this.isAppended=!1,this.isShown=!1,this.currentView="hours",this.isInput=s,this.input=a,this.addon=l,this.popover=n,this.plate=d,this.hoursView=i,this.minutesView=o,this.amPmBlock=r,this.spanHours=n.find(".clockpicker-span-hours"),this.spanMinutes=n.find(".clockpicker-span-minutes"),this.spanAmPm=n.find(".clockpicker-span-am-pm"),this.amOrPm="PM",c.twelvehour&&(e=['<div class="clockpicker-am-pm-block">','<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-am-button">',"AM</button>",'<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-pm-button">',"PM</button>","</div>"].join(""),_(e),_('<button type="button" class="btn btn-sm btn-default clockpicker-button am-button">AM</button>').on("click",function(){h.amOrPm="AM",_(".clockpicker-span-am-pm").empty().append("AM")}).appendTo(this.amPmBlock),_('<button type="button" class="btn btn-sm btn-default clockpicker-button pm-button">PM</button>').on("click",function(){h.amOrPm="PM",_(".clockpicker-span-am-pm").empty().append("PM")}).appendTo(this.amPmBlock)),c.autoclose||_('<button type="button" class="btn btn-sm btn-default btn-block clockpicker-button">'+c.donetext+"</button>").click(_.proxy(this.done,this)).appendTo(n),"top"!==c.placement&&"bottom"!==c.placement||"top"!==c.align&&"bottom"!==c.align||(c.align="left"),"left"!==c.placement&&"right"!==c.placement||"left"!==c.align&&"right"!==c.align||(c.align="top"),n.addClass(c.placement),n.addClass("clockpicker-align-"+c.align),this.spanHours.click(_.proxy(this.toggleView,this,"hours")),this.spanMinutes.click(_.proxy(this.toggleView,this,"minutes")),a.on("focus.clockpicker click.clockpicker",_.proxy(this.show,this)),l.on("click.clockpicker",_.proxy(this.toggle,this)),_('<div class="clockpicker-tick"></div>'));if(c.twelvehour)for(t=1;t<13;t+=1)p=u.clone(),g=t/6*Math.PI,v=80,p.css("font-size","120%"),p.css({left:100+Math.sin(g)*v-13,top:100-Math.cos(g)*v-13}),p.html(0===t?"00":t),i.append(p),p.on(M,y);else for(t=0;t<24;t+=1){var p=u.clone(),g=t/6*Math.PI,m=0<t&&t<13,v=m?54:80;p.css({left:100+Math.sin(g)*v-13,top:100-Math.cos(g)*v-13}),m&&p.css("font-size","120%"),p.html(0===t?"00":t),i.append(p),p.on(M,y)}for(t=0;t<60;t+=5)p=u.clone(),g=t/30*Math.PI,p.css({left:100+80*Math.sin(g)-13,top:100-80*Math.cos(g)-13}),p.css("font-size","120%"),p.html(k(t)),o.append(p),p.on(M,y);function y(e,i){var o,t=d.offset(),n=/^touch/.test(e.type),r=t.left+100,s=t.top+100,a=(n?e.originalEvent.touches[0]:e).pageX-r,l=(n?e.originalEvent.touches[0]:e).pageY-s,t=Math.sqrt(a*a+l*l),u=!1;i&&(t<67||93<t)||(e.preventDefault(),o=setTimeout(function(){D.addClass("clockpicker-moving")},200),C&&d.append(h.canvas),h.setHand(a,l,!i,!0),b.off(w).on(w,function(e){e.preventDefault();var t=/^touch/.test(e.type),n=(t?e.originalEvent.touches[0]:e).pageX-r,t=(t?e.originalEvent.touches[0]:e).pageY-s;!u&&n==a&&t==l||(u=!0,h.setHand(n,t,!1,!0))}),b.off(A).on(A,function(e){b.off(A),e.preventDefault();var t=/^touch/.test(e.type),n=(t?e.originalEvent.changedTouches[0]:e).pageX-r,t=(t?e.originalEvent.changedTouches[0]:e).pageY-s;(i||u)&&n==a&&t==l&&h.setHand(n,t),"hours"===h.currentView?h.toggleView("minutes",x/2):c.autoclose&&(h.minutesView.addClass("clockpicker-dial-out"),setTimeout(function(){h.done()},x/2)),d.prepend(f),clearTimeout(o),D.removeClass("clockpicker-moving"),b.off(w)}))}d.on(M,function(e){0===_(e.target).closest(".clockpicker-tick").length&&y(e,!0)}),C&&(f=n.find(".clockpicker-canvas"),(s=I("svg")).setAttribute("class","clockpicker-svg"),s.setAttribute("width",200),s.setAttribute("height",200),(r=I("g")).setAttribute("transform","translate(100,100)"),(e=I("circle")).setAttribute("class","clockpicker-canvas-bearing"),e.setAttribute("cx",0),e.setAttribute("cy",0),e.setAttribute("r",2),(a=I("line")).setAttribute("x1",0),a.setAttribute("y1",0),(l=I("circle")).setAttribute("class","clockpicker-canvas-bg"),l.setAttribute("r",13),(n=I("circle")).setAttribute("class","clockpicker-canvas-fg"),n.setAttribute("r",3.5),r.appendChild(a),r.appendChild(l),r.appendChild(n),r.appendChild(e),s.appendChild(r),f.append(s),this.hand=a,this.bg=l,this.fg=n,this.bearing=e,this.g=r,this.canvas=f),S(this.options.init,this)}function S(e,t){e&&"function"==typeof e&&e(t)}s.DEFAULTS={default:"",fromnow:0,placement:"bottom",align:"left",donetext:"完成",autoclose:!1,twelvehour:!1,vibrate:!0},s.prototype.toggle=function(){this[this.isShown?"hide":"show"]()},s.prototype.locate=function(){var e=this.element,t=this.popover,n=e.offset(),i=e.outerWidth(),o=e.outerHeight(),e=this.options.placement,r=this.options.align,s={};switch(t.show(),e){case"bottom":s.top=n.top+o;break;case"right":s.left=n.left+i;break;case"top":s.top=n.top-t.outerHeight();break;case"left":s.left=n.left-t.outerWidth()}switch(r){case"left":s.left=n.left;break;case"right":s.left=n.left+i-t.outerWidth();break;case"top":s.top=n.top;break;case"bottom":s.top=n.top+o-t.outerHeight()}t.css(s)},s.prototype.show=function(e){var t,n,i;this.isShown||(S(this.options.beforeShow),(t=this).isAppended||(D=(this.options.parentEl?_(this.options.parentEl):_(document.body)).append(this.popover),o.on("resize.clockpicker"+this.id,function(){t.isShown&&t.locate()}),this.isAppended=!0),"now"===(i=((this.input.prop("value")||this.options.default||"")+"").split(":"))[0]&&(i=[(n=new Date(+new Date+this.options.fromnow)).getHours(),n.getMinutes()]),this.hours=+i[0]||0,this.minutes=+i[1]||0,this.spanHours.html(k(this.hours)),this.spanMinutes.html(k(this.minutes)),this.toggleView("hours"),this.locate(),this.isShown=!0,b.on("click.clockpicker."+this.id+" focusin.clockpicker."+this.id,function(e){e=_(e.target);(e.hasClass("closeButton")||e.hasClass("confirmBTN"))&&0===e.closest(t.popover).length&&0===e.closest(t.addon).length&&0===e.closest(t.input).length&&(_(".kore-action-sheet").animate({height:"toggle"}),_(".kore-action-sheet").addClass("hide"),t.hide())}),b.on("keyup.clockpicker."+this.id,function(e){27===e.keyCode&&t.hide()}),S(this.options.afterShow))},s.prototype.hide=function(){S(this.options.beforeHide),this.isShown=!1,b.off("click.clockpicker."+this.id+" focusin.clockpicker."+this.id),b.off("keyup.clockpicker."+this.id),this.popover.hide(),S(this.options.afterHide)},s.prototype.toggleView=function(e,t){var n=!1,i=("minutes"===e&&"visible"===_(this.hoursView).css("visibility")&&(S(this.options.beforeHourSelect),n=!0),"hours"===e),o=i?this.hoursView:this.minutesView,r=i?this.minutesView:this.hoursView;this.currentView=e,this.spanHours.toggleClass("text-primary",i),this.spanMinutes.toggleClass("text-primary",!i),r.addClass("clockpicker-dial-out"),o.css("visibility","visible").removeClass("clockpicker-dial-out"),this.resetClock(t),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){r.css("visibility","hidden")},x),n&&S(this.options.afterHourSelect)},s.prototype.resetClock=function(e){var t=this.currentView,n=this[t],t="hours"===t,i=n*(Math.PI/(t?6:30)),t=t&&0<n&&n<13?54:80,o=Math.sin(i)*t,r=-Math.cos(i)*t,s=this;C&&e?(s.canvas.addClass("clockpicker-canvas-out"),setTimeout(function(){s.canvas.removeClass("clockpicker-canvas-out"),s.setHand(o,r)},e)):this.setHand(o,r)},s.prototype.setHand=function(e,t,n,i){var o,r=Math.atan2(e,-t),s="hours"===this.currentView,a=Math.PI/(s||n?6:30),e=Math.sqrt(e*e+t*t),t=this.options,e=s&&e<67,l=e?54:80;t.twelvehour&&(l=80),r<0&&(r=2*Math.PI+r),r=(o=Math.round(r/a))*a,t.twelvehour?s?0===o&&(o=12):(n&&(o*=5),60===o&&(o=0)):s?(12===o&&(o=0),o=e?0===o?12:o:0===o?0:o+12):(n&&(o*=5),60===o&&(o=0)),this[this.currentView]!==o&&u&&this.options.vibrate&&(this.vibrateTimer||(navigator[u](10),this.vibrateTimer=setTimeout(_.proxy(function(){this.vibrateTimer=null},this),100))),this[this.currentView]=o,this[s?"spanHours":"spanMinutes"].html(k(o)),C?(i||!s&&o%5?(this.g.insertBefore(this.hand,this.bearing),this.g.insertBefore(this.bg,this.fg),this.bg.setAttribute("class","clockpicker-canvas-bg clockpicker-canvas-bg-trans")):(this.g.insertBefore(this.hand,this.bg),this.g.insertBefore(this.fg,this.bg),this.bg.setAttribute("class","clockpicker-canvas-bg")),a=Math.sin(r)*l,t=-Math.cos(r)*l,this.hand.setAttribute("x2",a),this.hand.setAttribute("y2",t),this.bg.setAttribute("cx",a),this.bg.setAttribute("cy",t),this.fg.setAttribute("cx",a),this.fg.setAttribute("cy",t)):this[s?"hoursView":"minutesView"].find(".clockpicker-tick").each(function(){var e=_(this);e.toggleClass("active",o===+e.html())})},s.prototype.done=function(){S(this.options.beforeDone,this),this.hide();var e=this.input.prop("value"),t=k(this.hours)+":"+k(this.minutes);this.options.twelvehour&&(t+=this.amOrPm),this.input.prop("value",t),t!==e&&(this.input.triggerHandler("change"),this.isInput||this.element.trigger("change")),this.options.autoclose&&this.input.trigger("blur"),S(this.options.afterDone,this)},s.prototype.remove=function(){this.element.removeData("clockpicker"),this.input.off("focus.clockpicker click.clockpicker"),this.addon.off("click.clockpicker"),this.isShown&&this.hide(),this.isAppended&&(o.off("resize.clockpicker"+this.id),this.popover.remove())},_.fn.clockpicker=function(n){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=_(this),t=e.data("clockpicker");t?"function"==typeof t[n]&&t[n].apply(t,i):(t=_.extend({},s.DEFAULTS,e.data(),"object"==typeof n&&n),e.data("clockpicker",new s(e,t)))})}}(),function(){var u,s,a,r,c,t,n,i,o,l,f,d,h,p,g,m,e,v,y,D,_,b,C,M,w=document.createElement("i");function A(e,t){try{return e.querySelectorAll(t)}catch(e){return[]}}function I(e,t){for(var n,i={selector:e,callback:t,elements:new WeakMap},o=A(s,i.selector),r=0;n=o[r++];)i.elements.set(n,!0),i.callback.call(n,n);u.push(i),a||(a=new MutationObserver(F)).observe(s,{childList:!0,subtree:!0}),k(i)}function k(e,t){var n,i=0,o=[];try{t&&t.matches(e.selector)&&o.push(t)}catch(e){}for(r&&Array.prototype.push.apply(o,A(t||s,e.selector));n=o[i++];)e.elements.has(n)||(e.elements.set(n,!0),e.callback.call(n,n))}function F(e){for(var t,n,i,o,r=0;n=e[r++];)for(i=n.addedNodes,t=0;o=i[t++];)if(1===o.nodeType){s=void 0;l=void 0;a=void 0;var s=o;for(var a,l=0;a=u[l++];)k(a,s)}}function T(e,t,n){t=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,t)}function E(n){if(!n.ieCP_polyfilled&&!n.ieCP_elementSheet&&n.sheet){if(n.href)return i=n.href,e=function(e){var t=S(e);e!==t&&U(n,t)},(t=new XMLHttpRequest).open("GET",i),t.overrideMimeType("text/css"),t.onload=function(){200<=t.status&&t.status<400&&e(t.responseText)},void t.send();var e,t,i=n.innerHTML,o=S(i);i!==o&&U(n,o)}}function S(e){return e.replace(o,function(e,t,n,i,o,r){return t+"-ie-"+(r?"❗":"")+i+":"+N(o)}).replace(l,function(e,t,n,i){return t+"-ieVar-"+(i?"❗":"")+n+"; "+n})}function N(e){return e}function P(e){return e}function R(t){t["z-index"]===t&&x();const e=t.cssText;var n,i=e.match(f);if(i)for(var o=[],r=0;n=i[r++];){let e=n.slice(7,-1);"❗"===e[0]&&(e=e.substr(1)),o.push(e),c[e]||(c[e]=[]),c[e].push(t)}var s=e.match(d);if(s){var a={};for(r=0;n=s[r++];){var l=n.substr(4).split(":");let e=l[0];l=l[1];a[e="❗"===e[0]?e.substr(1):e]=l}}return{getters:o,setters:a}}function U(e,t){e.sheet.cssText=t,e.ieCP_polyfilled=!0;for(var n=e.sheet.rules,i=0;r=n[i++];){var o=R(r.style),r=(o.getters&&!function(t,n){W(t),I(j(t),function(e){B(e,n,t),O(e)})}(r.selectorText,o.getters),o.setters&&!function(e,t){W(e),I(j(e),function(e){Y(e,t)})}(r.selectorText,o.setters),r.parentRule&&r.parentRule.media&&r.parentRule.media.mediaText);r&&(o.getters||o.setters)&&matchMedia(r).addListener(function(){L(document.documentElement)})}H()}function B(e,t,n){var i,o,r=0,s=n.split(",");for(e.setAttribute("iecp-needed",!0),e.ieCPSelectors||(e.ieCPSelectors={});i=t[r++];)for(o=0;n=s[o++];){var a=n.trim().split("::");e.ieCPSelectors[i]||(e.ieCPSelectors[i]=[]),e.ieCPSelectors[i].push({selector:a[0],pseudo:a[1]?"::"+a[1]:""})}}function Y(e,t){for(var n in e.ieCP_setters||(e.ieCP_setters={}),t)e.ieCP_setters["--"+n]=1;L(e)}function H(){for(var e in c)for(var t,n=c[e],i=0;t=n[i++];)if(!t.owningElement){var o=t["-ieVar-"+e];if(o&&""!==(o=z(getComputedStyle(document.documentElement),o)))try{t[e]=o}catch(e){}}}function W(e){for(var t in e=e.split(",")[0],p){var n=e.split(":"+t);if(1<n.length){var i=n[1].match(/^[^\s]*/),n=j(n[0]+i);const o=p[t];I(n,function(e){e.addEventListener(o.on,V),e.addEventListener(o.off,V)})}}}function j(e){return e.replace(h,"").replace(":not()","")}function O(e){t.add(e),n||(n=!0,requestAnimationFrame(function(){i=!(n=!1),t.forEach(Q),t.clear(),setTimeout(function(){i=!1}),i=!1}))}function Q(e){e.ieCP_unique||(e.ieCP_unique=++m,e.classList.add("iecp-u"+e.ieCP_unique));var t,n=getComputedStyle(e);let i="";for(t in e.runtimeStyle.cssText="",e.ieCPSelectors){var o=n["-ieVar-❗"+t],r=o||n["-ieVar-"+t];if(r){var s={},a=z(n,r,s);o&&(a+=" !important");for(var l,u=0;l=e.ieCPSelectors[t][u++];)"%styleAttr"===l.selector&&(e.style[t]=a),!o&&!1!==s.allByRoot||(l.pseudo?i+=l.selector+".iecp-u"+e.ieCP_unique+l.pseudo+"{"+t+":"+a+"}\n":o?e.style.cssText+=t+":"+a:e.runtimeStyle[t]=a)}}var c=e,f=i;if(!c.ieCP_styleEl&&f){const d=document.createElement("style");d.ieCP_elementSheet=1,document.head.appendChild(d),c.ieCP_styleEl=d}c.ieCP_styleEl&&(c.ieCP_styleEl.innerHTML=f)}function L(e){if(e){e===document.documentElement&&H();var t=e.querySelectorAll("[iecp-needed]");e.hasAttribute&&e.hasAttribute("iecp-needed")&&O(e);for(var n,i=0;n=t[i++];)O(n)}}function V(e){L(e.target)}function z(a,l,u){{var c=l,f=function(e,t,n){e=a.getPropertyValue(e);return n&&(e=e.replace(/^calc\(/,"(")),u&&a.lastPropertyServedBy!==document.documentElement&&(u.allByRoot=!1),e=""===e&&t?z(a,t,u):e};let e=0,n=null,i=0,o="",r=0,t,s;for(;t=c[r++];){if("("===t&&(++e,null===n&&c[r-4]+c[r-3]+c[r-2]==="var"&&(n=e,o+=c.substring(i,r-4),i=r),c[r-5]+c[r-4]+c[r-3]+c[r-2]==="calc"&&(s=e)),")"===t&&n===e){let e=c.substring(i,r-1).trim(),t;var d=e.indexOf(",");-1!==d&&(t=e.slice(d+1),e=e.slice(0,d)),o+=f(e,t,s),i=r,n=null}")"===t&&(--e,s===e&&(s=null))}return o+=c.substring(i)}}w.style.setProperty("--x","y"),"y"!==w.style.getPropertyValue("--x")&&w.msMatchesSelector&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),u=[],s=document,r=!1,document.addEventListener("DOMContentLoaded",function(){r=!0}),"classList"in Element.prototype||T("classList",HTMLElement.prototype,Element.prototype),"innerHTML"in Element.prototype||T("innerHTML",HTMLElement.prototype,Element.prototype),"runtimeStyle"in Element.prototype||T("runtimeStyle",HTMLElement.prototype,Element.prototype),"sheet"in SVGStyleElement.prototype||Object.defineProperty(SVGStyleElement.prototype,"sheet",{get:function(){for(var e,t=document.styleSheets,n=0;e=t[n++];)if(e.ownerNode===this)return e}}),c={},t=new Set,i=n=!1,o=/([\s{;])(--([A-Za-z0-9-_]*)\s*:([^;!}{]+)(!important)?)(?=\s*([;}]|$))/g,l=/([{;]\s*)([A-Za-z0-9-_]+\s*:[^;}{]*var\([^!;}{]+)(!important)?(?=\s*([;}$]|$))/g,f=/-ieVar-([^:]+):/g,d=/-ie-([^};]+)/g,h=/:(hover|active|focus|target|visited|link|:before|:after|:first-letter|:first-line)/,I("style:not([iecp-ignore])",E),I("link[rel=stylesheet]:not([iecp-ignore])",E),I("[ie-style]",function(e){var t=S("{"+e.getAttribute("ie-style")).substr(1),t=(e.style.cssText+=";"+t,R(e.style));t.getters&&B(e,t.getters,"%styleAttr"),t.setters&&Y(e,t.setters)}),p={hover:{on:"mouseenter",off:"mouseleave"},focus:{on:"focusin",off:"focusout"},active:{on:"CSSActivate",off:"CSSDeactivate"}},g=null,document.addEventListener("mousedown",function(t){setTimeout(function(){var e;t.target===document.activeElement&&((e=document.createEvent("Event")).initEvent("CSSActivate",!0,!0),(g=t.target).dispatchEvent(e))})}),document.addEventListener("mouseup",function(){var e;g&&((e=document.createEvent("Event")).initEvent("CSSDeactivate",!0,!0),g.dispatchEvent(e),g=null)}),m=0,e=new MutationObserver(function(e){if(!i)for(var t,n=0;t=e[n++];)"iecp-needed"!==t.attributeName&&L(t.target)}),setTimeout(function(){e.observe(document,{attributes:!0,subtree:!0})}),v=location.hash,addEventListener("hashchange",function(e){var t,n=document.getElementById(location.hash.substr(1));n?(t=document.getElementById(v.substr(1)),L(n),L(t)):L(document),v=location.hash}),w=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"style"),y=w.get,w.get=function(){const e=y.call(this);return e.owningElement=this,e},Object.defineProperty(HTMLElement.prototype,"style",w),D=getComputedStyle,window.getComputedStyle=function(e){var t=D.apply(this,arguments);return t.computedFor=e,t},w=CSSStyleDeclaration.prototype,_=w.getPropertyValue,w.getPropertyValue=function(e){if(!e)return _.apply(this,arguments);if(this.lastPropertyServedBy=!1,"-"!==(e=e.trim())[0]||"-"!==e[1])return _.apply(this,arguments);var t=e.substr(2),n="-ie-"+t,i="-ie-❗"+t;let o=P(this[i]||this[n]);if(this.computedFor){if(void 0===o||b[o]){if(b[o]||!M[e]||M[e].inherits){let e=this.computedFor.parentNode;for(;e&&1===e.nodeType;){var r=getComputedStyle(e),r=P(r[i]||r[n]);if(void 0!==r){o=z(this,r),this.lastPropertyServedBy=e;break}e=e.parentNode}}}else o=z(this,o),this.lastPropertyServedBy=this.computedFor;if("initial"===o)return""}return void 0===(o=void 0===o&&M[e]?M[e].initialValue:o)?"":o},b={inherit:1,revert:1,unset:1},C=w.setProperty,w.setProperty=function(e,t,n){if("-"!==e[0]||"-"!==e[1])return C.apply(this,arguments);const i=this.owningElement;i&&(i.ieCP_setters||(i.ieCP_setters={}),i.ieCP_setters[e]=1),e="-ie-"+("important"===n?"❗":"")+e.substr(2),this.cssText+="; "+e+":"+N(t)+";",i&&L(i)},window.CSS||(window.CSS={}),M={},CSS.registerProperty=function(e){M[e.name]=e})}(),function(i){function e(e,t){var n,i=t||{},t=i.bufferLen||4096,o=(this.context=e.context,this.node=this.context.createScriptProcessor(t,1,1),new Worker(i.workerPath||s)),r=(o.postMessage({command:"init",config:{sampleRate:this.context.sampleRate}}),!1);this.node.onaudioprocess=function(e){r&&o.postMessage({command:"record",buffer:[e.inputBuffer.getChannelData(0)]})},this.configure=function(e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t])},this.record=function(){r=!0},this.stop=function(){r=!1},this.clear=function(){o.postMessage({command:"clear"})},this.getBuffer=function(e){n=e||i.callback,o.postMessage({command:"getBuffer"})},this.exportWAV=function(e,t){if(n=e||i.callback,t=t||i.type||"audio/wav",!n)throw new Error("Callback not set");o.postMessage({command:"exportWAV",type:t})},this.exportRAW=function(e,t){if(n=e||i.callback,t=t||i.type||"audio/raw",!n)throw new Error("Callback not set");o.postMessage({command:"exportRAW",type:t})},this.export16kMono=function(e,t){if(n=e||i.callback,t=t||i.type||"audio/raw",!n)throw new Error("Callback not set");o.postMessage({command:"export16kMono",type:t})},this.exportSpeex=function(e,t){if(n=e||i.callback,t=t||i.type||"audio/speex",!n)throw new Error("Callback not set");o.postMessage({command:"exportSpeex",type:t})},o.onmessage=function(e){e=e.data;n(e)},e.connect(this.node),this.node.connect(this.context.destination)}var s=i.staticpath+"/js/libs/recorderWorker.js";e.forceDownload=function(e,t){var e=(i.URL||i.webkitURL).createObjectURL(e),n=i.document.createElement("a"),e=(n.href=e,n.download=t||"output.wav",document.createEvent("Event"));e.initEvent("click",!0,!0),n.dispatchEvent(e)},i.Recorder=e}(window),Resampler.prototype.initialize=function(){if(!(0<this.fromSampleRate&&0<this.toSampleRate&&0<this.channels))throw new Error("Invalid settings specified for the resampler.");this.fromSampleRate==this.toSampleRate?(this.resampler=this.bypassResampler,this.ratioWeight=1):(this.compileInterpolationFunction(),this.resampler=this.interpolate,this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.tailExists=!1,this.lastWeight=0,this.initializeBuffers())},Resampler.prototype.compileInterpolationFunction=function(){for(var e="var bufferLength = Math.min(buffer.length, this.outputBufferSize);\tif ((bufferLength % "+this.channels+") == 0) {\t\tif (bufferLength > 0) {\t\t\tvar ratioWeight = this.ratioWeight;\t\t\tvar weight = 0;",t=0;t<this.channels;++t)e+="var output"+t+" = 0;";for(e+="var actualPosition = 0;\t\t\tvar amountToNext = 0;\t\t\tvar alreadyProcessedTail = !this.tailExists;\t\t\tthis.tailExists = false;\t\t\tvar outputBuffer = this.outputBuffer;\t\t\tvar outputOffset = 0;\t\t\tvar currentPosition = 0;\t\t\tdo {\t\t\t\tif (alreadyProcessedTail) {\t\t\t\t\tweight = ratioWeight;",t=0;t<this.channels;++t)e+="output"+t+" = 0;";for(e+="}\t\t\t\telse {\t\t\t\t\tweight = this.lastWeight;",t=0;t<this.channels;++t)e+="output"+t+" = this.lastOutput["+t+"];";for(e+="alreadyProcessedTail = true;\t\t\t\t}\t\t\t\twhile (weight > 0 && actualPosition < bufferLength) {\t\t\t\t\tamountToNext = 1 + actualPosition - currentPosition;\t\t\t\t\tif (weight >= amountToNext) {",t=0;t<this.channels;++t)e+="output"+t+" += buffer[actualPosition++] * amountToNext;";for(e+="currentPosition = actualPosition;\t\t\t\t\t\tweight -= amountToNext;\t\t\t\t\t}\t\t\t\t\telse {",t=0;t<this.channels;++t)e+="output"+t+" += buffer[actualPosition"+(0<t?" + "+t:"")+"] * weight;";for(e+="currentPosition += weight;\t\t\t\t\t\tweight = 0;\t\t\t\t\t\tbreak;\t\t\t\t\t}\t\t\t\t}\t\t\t\tif (weight == 0) {",t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = output"+t+" / ratioWeight;";for(e+="}\t\t\t\telse {\t\t\t\t\tthis.lastWeight = weight;",t=0;t<this.channels;++t)e+="this.lastOutput["+t+"] = output"+t+";";e+='this.tailExists = true;\t\t\t\t\tbreak;\t\t\t\t}\t\t\t} while (actualPosition < bufferLength);\t\t\treturn this.bufferSlice(outputOffset);\t\t}\t\telse {\t\t\treturn (this.noReturn) ? 0 : [];\t\t}\t}\telse {\t\tthrow(new Error("Buffer was of incorrect sample length."));\t}',this.interpolate=Function("buffer",e)},Resampler.prototype.bypassResampler=function(e){return this.noReturn?(this.outputBuffer=e).length:e},Resampler.prototype.bufferSlice=function(t){if(this.noReturn)return t;try{return this.outputBuffer.subarray(0,t)}catch(e){try{return this.outputBuffer.length=t,this.outputBuffer}catch(e){return this.outputBuffer.slice(0,t)}}},Resampler.prototype.initializeBuffers=function(e){try{this.outputBuffer=new Float32Array(this.outputBufferSize),this.lastOutput=new Float32Array(this.channels)}catch(e){this.outputBuffer=[],this.lastOutput=[]}};var sampleRate,resampler,recLength=0,recBuffers=[];function init(e){sampleRate=e.sampleRate,resampler=new Resampler(sampleRate,16e3,1,51200)}function record(e){recBuffers.push(e[0]),recLength+=e[0].length}function exportWAV(e){var t=encodeWAV(mergeBuffers(recBuffers,recLength)),t=new Blob([t],{type:e});this.postMessage(t)}function exportRAW(e){var t=encodeRAW(mergeBuffers(recBuffers,recLength)),t=new Blob([t],{type:e});this.postMessage(t)}function export16kMono(e){var t=mergeBuffers(recBuffers,recLength),t=encodeRAW(resampler.resampler(t)),t=new Blob([t],{type:e});this.postMessage(t)}function exportSpeex(e){var t=mergeBuffers(recBuffers,recLength),t=Speex.process(t),t=new Blob([t],{type:e});this.postMessage(t)}function getBuffer(){var e=[];e.push(mergeBuffers(recBuffers,recLength)),this.postMessage(e)}function clear(){recLength=0,recBuffers=[]}function mergeBuffers(e,t){for(var n=new Float32Array(t),i=0,o=0;o<e.length;o++)n.set(e[o],i),i+=e[o].length;return n}function interleave(e,t){for(var n=e.length+t.length,i=new Float32Array(n),o=0,r=0;o<n;)i[o++]=e[r],i[o++]=t[r],r++;return i}function mix(e,t){for(var n=e.length,i=new Float32Array(n),o=0,r=0;o<n;)i[o++]=e[r]+t[r],r++;return i}function floatTo16BitPCM(e,t,n){for(var i=0;i<n.length;i++,t+=2){var o=Math.max(-1,Math.min(1,n[i]));e.setInt16(t,o<0?32768*o:32767*o,!0)}}function writeString(e,t,n){for(var i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}function encodeWAV(e){var t=new ArrayBuffer(44+2*e.length),t=new DataView(t);return writeString(t,0,"RIFF"),t.setUint32(4,32+2*e.length,!0),writeString(t,8,"WAVE"),writeString(t,12,"fmt "),t.setUint32(16,16,!0),t.setUint16(20,1,!0),t.setUint16(22,2,!0),t.setUint32(24,sampleRate,!0),t.setUint32(28,4*sampleRate,!0),t.setUint16(32,4,!0),t.setUint16(34,16,!0),writeString(t,36,"data"),t.setUint32(40,2*e.length,!0),floatTo16BitPCM(t,44,e),t}function encodeRAW(e){var t=new ArrayBuffer(2*e.length),t=new DataView(t);return floatTo16BitPCM(t,0,e),t}this.onmessage=function(e){switch(e.data.command){case"init":init(e.data.config);break;case"record":record(e.data.buffer);break;case"exportWAV":exportWAV(e.data.type);break;case"exportRAW":exportRAW(e.data.type);break;case"export16kMono":export16kMono(e.data.type);break;case"getBuffer":getBuffer();break;case"clear":clear()}};var apiKey=apiKey||{},gapi=gapi||{},gapiLoaded=!1;function initGapi(){if(!apiKey)return!1;console.log("loading gapi"),gapi.client.setApiKey(apiKey),gapi.client.load("speech","v1beta1",function(){console.log("gapi loaded"),gapiLoaded=!0})}function handleFile(){sendBlobToSpeech($("#inputFile")[0].files[0],"flac",16e3)}function setCaretEnd(e){var t,n;e&&e.item(0)&&e.item(0).innerText.length?((t=document.createRange()).selectNodeContents(e[0]),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t),prevRange=t):(prevRange=!1,e&&e[0]&&e[0].focus())}function uiCallback(e){e.results&&e.results[0]?($(".chatInputBox").html($(".chatInputBox").html()+" "+e.results[0].alternatives[0].transcript),setTimeout(function(){setCaretEnd(document.getElementsByClassName("chatInputBox")),document.getElementsByClassName("chatInputBox")[0].scrollTop=document.getElementsByClassName("chatInputBox")[0].scrollHeight},350)):403===e.code&&(gapiLoaded=!1,$(".recordingMicrophone").is(":visible")&&$(".recordingMicrophone").trigger("click"),alert(e.message||"Please provide valid Google speech API key"))}function sendBlobToSpeech(e,t,n){if(!gapiLoaded)return $(".recordingMicrophone").is(":visible")&&$(".recordingMicrophone").trigger("click"),void alert("Please provide valid Google speech API key");var i=new FileReader;i.addEventListener("loadend",function(){sendBytesToSpeech(btoa(i.result),t,n,uiCallback)}),i.readAsBinaryString(e)}function sendBytesToSpeech(e,t,n,i){gapi.client&&gapi.client.speech?gapi.client.speech.speech.syncrecognize({config:{encoding:t,sampleRate:n,languageCode:"en_US"},audio:{content:e}}).execute(function(e){i(e)}):(gapiLoaded=!1,$(".recordingMicrophone").is(":visible")&&$(".recordingMicrophone").trigger("click"),alert("Please provide valid Google speech API key"))}apiKey="";(gapi=window.gapi=window.gapi||{})._bs=(new Date).getTime(),function(){var e,t=this,l=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},u=function(e,t){return e<t?-1:t<e?1:0};e:{var n=t.navigator;if(n){n=n.userAgent;if(n){e=n;break e}}e=""}function i(){var e=t.document;return e?e.documentMode:void 0}var o,z=function(e,t){var n=B;Object.prototype.hasOwnProperty.call(n,e)||(n[e]=t(e))},F=-1!=e.indexOf("Opera"),r=-1!=e.indexOf("Trident")||-1!=e.indexOf("MSIE"),P=-1!=e.indexOf("Edge"),s=!(-1==e.indexOf("Gecko")||-1!=e.toLowerCase().indexOf("webkit")&&-1==e.indexOf("Edge")||-1!=e.indexOf("Trident")||-1!=e.indexOf("MSIE")||-1!=e.indexOf("Edge")),R=-1!=e.toLowerCase().indexOf("webkit")&&-1==e.indexOf("Edge");e:{var a="",c=(c=e,s?/rv:([^\);]+)(\)|;)/.exec(c):P?/Edge\/([\d\.]+)/.exec(c):r?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(c):R?/WebKit\/(\S+)/.exec(c):F?/(?:Version)[ \/]?(\S+)/.exec(c):void 0);if(c&&(a=c?c[1]:""),r){c=i();if(null!=c&&c>parseFloat(a)){o=String(c);break e}}o=a}function f(a){z(a,function(){for(var e=0,t=l(String(p)).split("."),n=l(String(a)).split("."),i=Math.max(t.length,n.length),o=0;0==e&&o<i;o++)for(var r=t[o]||"",s=n[o]||"";r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=r[0].length||0!=s[0].length)&&(e=u(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||u(0==r[2].length,0==s[2].length)||u(r[2],s[2]),r=r[3],s=s[3],0==e););return 0<=e})}function U(e,t,n,i){function o(e){return encodeURIComponent(e).replace(/%2C/g,",")}return e=$(e),K.test(n)||E("invalid_callback"),t=N(t),i=i&&i.length?N(i):null,[encodeURIComponent(e.g).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",o(e.version),"/m=",o(t),i?"/exm="+o(i):"","/rt=j/sv=1/d=1/ed=1",e.a?"/am="+o(e.a):"",e.c?"/rs="+o(e.c):"",e.f?"/t="+o(e.f):"","/cb=",o(n)].join("")}var d,h,p=o,B={},g=t.document,g=g&&r?i()||("CSS1Compat"==g.compatMode?parseInt(p,10):5):void 0,y=((h=(h=!s&&!r)?h:d=(d=r)?9<=Number(g):d)||s&&f("1.9.1"),r&&f("9"),window),m=document,Y=y.location,H=function(){},W=/\[native code\]/,D=function(e,t,n){return e[t]=e[t]||n},Q=function(e){e=e.sort();for(var t=[],n=void 0,i=0;i<e.length;i++){var o=e[i];o!=n&&t.push(o),n=o}return t},v=function(){var e;if((e=Object.create)&&W.test(e))e=e(null);else for(var t in e={})e[t]=void 0;return e},_=D(y,"gapi",{}),b=D(y,"___jsl",v()),C=(D(b,"I",0),D(b,"hel",10),function(){var e=Y.href;if(b.dpo)var t=b.h;else{t=b.h;if(e=e&&(/([#].*&|[#])jsh=([^&#]*)/g.exec(e)||/([?#].*&|[?#])jsh=([^&#]*)/g.exec(e)))try{t=decodeURIComponent(e[2])}catch(e){}}return t}),V=function(e){var t=D(b,"PQ",[]),n=(b.PQ=[],t.length);if(0===n)e();else for(var i=0,o=function(){++i===n&&e()},r=0;r<n;r++)t[r](o)},M=function(e){return D(D(b,"H",v()),e,v())},w=D(b,"perf",v()),g=D(w,"g",v()),G=D(w,"i",v()),A=(D(w,"r",[]),v(),v(),function(e,t,n){var i=w.r;"function"==typeof i?i(e,t,n):i.push([e,t,n])}),I=function(e,t,n){t&&0<t.length&&(t=k(t),n&&0<n.length&&(t+="___"+k(n)),n=t=28<t.length?t.substr(0,28)+(t.length-28):t,t=D(G,"_p",v()),D(t,n,v())[e]=(new Date).getTime(),A(e,"_p",n))},k=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},T=v(),x=[],E=function(e){throw Error("Bad hint"+(e?": "+e:""))},q=(x.push(["jsl",function(e){for(var t in e){var n;Object.prototype.hasOwnProperty.call(e,t)&&("object"==typeof(n=e[t])?b[t]=D(b,t,[]).concat(n):D(b,t,n))}(t=e.u)&&((e=D(b,"us",[])).push(t),(t=/^https:(.*)$/.exec(t))&&e.push("http:"+t[1]))}]),/^(\/[a-zA-Z0-9_\-]+)+$/),S=[/\/amp\//,/\/amp$/,/^\/amp$/],Z=/^[a-zA-Z0-9\-_\.,!]+$/,K=/^gapi\.loaded_[0-9]+$/,J=/^[a-zA-Z0-9,._-]+$/,X=function(e,t,n,i){var o=e.split(";"),r=o.shift(),s=T[r],a=null;return s?a=s(o,t,n,i):E("no hint processor for: "+r),a||E("failed to generate load url"),n=(t=a).match(ne),(i=t.match(te))&&1===i.length&&ee.test(t)&&n&&1===n.length||E("failed sanity: "+e),a},$=function(e){"/"!==e.charAt(0)&&E("relative path");for(var t=e.substring(1).split("/"),n=[];t.length;){if((e=t.shift()).length&&0!=e.indexOf(".")){if(0<e.indexOf("=")){t.unshift(e);break}}else E("empty/relative directory");n.push(e)}e={};for(var i=0,o=t.length;i<o;++i){var r=t[i].split("="),s=decodeURIComponent(r[0]),a=decodeURIComponent(r[1]);2==r.length&&s&&a&&(e[s]=e[s]||a)}for(t="/"+n.join("/"),q.test(t)||E("invalid_prefix"),n=0,i=S.length;n<i;++n)S[n].test(t)&&E("invalid_prefix");return{g:t,version:n=j(e,"k",!0),a:i=j(e,"am"),c:o=j(e,"rs"),f:e=j(e,"t")}},N=function(e){for(var t=[],n=0,i=e.length;n<i;++n){var o=e[n].replace(/\./g,"_").replace(/-/g,"_");J.test(o)&&t.push(o)}return t.join(",")},j=function(e,t,n){if(!(e=e[t])&&n&&E("missing: "+t),e){if(Z.test(e))return e;E("invalid: "+t)}return null},ee=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,te=/\/cb=/g,ne=/\/\//g,ie=function(){var e=C();if(e)return e;throw Error("Bad hint")},O=(T.m=function(e,t,n,i){return(e=e[0])||E("missing_hint"),"https://apis.google.com"+U(e,t,n,i)},decodeURI("%73cript")),L=/^[-+_0-9\/A-Za-z]+={0,2}$/,oe=function(e,t){for(var n=[],i=0;i<e.length;++i){var o,r=e[i];if(o=r){e:{for(o=0;o<t.length;o++)if(t[o]===r)break e;o=-1}o=o<0}o&&n.push(r)}return n},re=function(){var e=b.nonce;if(void 0!==e)return e&&e===String(e)&&e.match(L)?e:b.nonce=null;var t=D(b,"us",[]);if(!t||!t.length)return b.nonce=null;for(var n=m.getElementsByTagName(O),i=0,o=n.length;i<o;++i){var r=n[i];if(r.src&&(e=String(r.nonce||r.getAttribute("nonce")||"")||null)){for(var s=0,a=t.length;s<a&&t[s]!==r.src;++s);if(s!==a&&e&&e===String(e)&&e.match(L))return b.nonce=e}}return null},se=function(e){var t;"loading"!=m.readyState?ae(e):(t=null!==(t=re())?' nonce="'+t+'"':"",m.write("<"+O+' src="'+encodeURI(e)+'"'+t+"></"+O+">"))},ae=function(e){var t=m.createElement(O);t.setAttribute("src",e),null!==(e=re())&&t.setAttribute("nonce",e),t.async="true",(e=m.getElementsByTagName(O)[0])?e.parentNode.insertBefore(t,e):(m.head||m.body||m.documentElement).appendChild(t)},le=function(e,t){var n=t&&t._c;if(n)for(var i=0;i<x.length;i++){var o=x[i][0],r=x[i][1];r&&Object.prototype.hasOwnProperty.call(n,o)&&r(n[o],e,t)}},ue=function(t,n,e){de(function(){var e=n===C()?D(_,"_",v()):v(),e=D(M(n),"_",e);t(e)},e)},ce=function(e,t){var n=t||{},i=("function"==typeof t&&((n={}).callback=t),le(e,n),t=e?e.split(":"):[],n.h||ie()),o=D(b,"ah",v());if(o["::"]&&t.length){e=[];for(var r=null;r=t.shift();){var s=r.split("."),s=o[r]||o[s[1]&&"ns:"+s[0]||""]||i,a=e.length&&e[e.length-1]||null,l=a;a&&a.hint==s||e.push(l={hint:s,b:[]}),l.b.push(r)}var u,c=e.length;for(1<c&&((u=n.callback)&&(n.callback=function(){0==--c&&u()}));t=e.shift();)fe(t.b,n,t.hint)}else fe(t||[],n,i)},fe=function(e,t,i){e=Q(e)||[];var o=t.callback,r=t.config,n=t.timeout,s=t.ontimeout,a=t.onerror,l=void 0,u=("function"==typeof a&&(l=a),null),c=!1;if(n&&!s||!n&&s)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";function f(e,t){if(!c){y.clearTimeout(u),g.push.apply(g,v);var n=((_||{}).config||{}).update;if(n?n(r):r&&D(b,"cu",[]).push(r),t){I("me0",e,m);try{ue(t,i,l)}finally{I("me1",e,m)}}return 1}}var d,h,p,a=D(M(i),"r",[]).sort(),g=D(M(i),"L",[]).sort(),m=[].concat(a),v=(0<n&&(u=y.setTimeout(function(){c=!0,s()},n)),oe(e,g));v.length?(v=oe(e,a),d=D(b,"CP",[]),h=d.length,d[h]=function(t){if(!t)return 0;I("ml1",v,m);function e(e){d[h]=null,f(v,t)&&V(function(){o&&o(),e()})}function n(){var e=d[h+1];e&&e()}0<h&&d[h-1]?d[h]=function(){e(n)}:e(n)},v.length?(p="loaded_"+b.I++,_[p]=function(e){d[h](e),_[p]=null},e=X(i,v,"gapi."+p,a),a.push.apply(a,v),I("ml0",v,m),(t.sync||y.___gapisync?se:ae)(e)):d[h](H)):f(v)&&o&&o()},de=function(e,n){if(b.hee&&0<b.hel)try{return e()}catch(t){n&&n(t),b.hel--,ce("debug_error",function(){try{window.___jsl.hefn(t)}catch(e){throw t}})}else try{return e()}catch(e){throw n&&n(e),e}};_.load=function(e,t){return de(function(){return ce(e,t)})},g.bs0=window.gapi._bs||(new Date).getTime(),A("bs0"),g.bs1=(new Date).getTime(),A("bs1"),delete window.gapi._bs}.call(this),gapi.load("client",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},shortlists:{url:""},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},donation:{url:"https://onetoday.google.com/home/donationWidget?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},additnow:{url:"https://apis.google.com/additnow/additnow.html?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://gsuite.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"},youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},udc_webconsentflow:{params:{url:""},url:"https://myaccount.google.com/webconsent?usegapi=1"},savetoandroidpay:{url:"https://androidpay.google.com/a/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},":gplus_url:":"https://plus.google.com",rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},sharetoclassroom:{url:"https://www.gstatic.com/classroom/sharewidget/widget_stable.html?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},savetowallet:{url:"https://androidpay.google.com/a/widget/save"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en.eHREbSEMRRA.O/m=__features__/am=AQ/rt=j/d=1/rs=AGLTcCOt6BoAnQMKeQ-jZgcZrCjxtuDnlA",u:"https://apis.google.com/js/client:api.js",hee:!0,fp:"1fc2dd475dcc7ca759499d98ade252554e0156c5",dpo:!1},fp:"1fc2dd475dcc7ca759499d98ade252554e0156c5",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}}),function(s){function n(e){var t={dateRangeConfig:{alwaysOpen:!0,singleMonth:!0,showShortcuts:!1,showTopbar:!1,selectForward:!0,format:"DD-MM-YYYY",startDate:"",endDate:"",inline:!0},daterangepicker:{title:"Please Choose"},dateConfig:{alwaysOpen:!0,singleMonth:!0,singleDate:!0,showShortcuts:!1,showTopbar:!1,format:"MM-DD-YYYY",startDate:"",endDate:"",inline:!0},datepicker:{title:"Please Choose"},clockPicker:{title:""}},n=[],e=(n.push(e),n.push(t),this.mainConfig=n,this.pickerSubconfig=t,this.chatWindowInstance=n[0].chatWindowInstance,this.chatConfig=n[1],n[0].chatConfig.chatContainer);this._korePickers=e,chatContainerConfig.pickerMainConfig=n}n.prototype.showTaskMenuItems=function(e){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA8jSURBVHgB7d09bBzlFsbxM04qaEwBbYY6SDENLXYNEraRoCShRgppoCMxHdV1BLTgdEBhjIA6pqXBkUjNpIUCXwnoyHLOZsZZr/drduf9nP9P2uyGGG5y4/eZ837MmUJ6ant7UOrbhr7W19bEPl+xz4OBlEUh6/WXlYIcVPaD/t0O3/Xv194fPX48fLfXydFRcSo9VEgP1IN9Uwf6Nf0m2NRvAPv5ugBPner3xol+b5zo5wcaDhYKJ5K5LAPABrwO9m39eM1+Kgx2LKfSl4XAdxoIxxoIlWQmmwDQQW9X+Fc1xbc1xTcE6FhdIRxrGNzLpTpIOgB00Nv8/aZ+vC7M1+FXpa+7GgZHKVcGSQaAXe01iW/ra1OAwLQyONbvxXuHh8WBJCaZABi52r8vzOkRp0pfe3VVkMSuQvQBwMBHgip9HdRrBZVELNoAYOAjA5W+DnRqsCeRijIA3nxzcFPnVXeEgY88VPrai3GNIKoAYHEPmat0WrAV07QgigCoy/3b8qTcB3K3r0FwN4YgCB4A9QGeL4V9fPRLJRFMC4IFAFd9YGhfQ+CWBBIkAOqz+veFqz5ggq0NrIlntsKvg/8XYfADDbsg/rK7O/BeDXutAPQP+D+h5AdmuePz3ICXALD5vm7tfcv2HjCf3Vugrx0fx4mdBwDzfWApXtYFnAYAgx9YifMQcLYIqIN/g8EPrGR4AbWxJI44qQBGBj9n+YHVndaVQOddiDoPAAY/4ISTEOg0AJjzA051vibQWQAw+AEvOg2BTgKgPtfP6T7ADwuBl7s4J9DJLoAd8hEGP+BLWY+5la0cALu7Axp4AJ7ZmKuP1q/235EV1K279gVAKLcOD4ulx+DSAVAv+tm8n+0+IJzTej2gkiUsPQVgrx+Iwnp9WnCpsbhUANRzj1IAxKCsu2u11noKoElzve7hByAi9fmA4zb/TqsA4LAPELXW5wNaTQHqJ/WUAiBGracCC1cA9dX/NwEQtTZTgYUrgLr0BxA5e7rWol+7UADYwp9Q+gNJqE8JLtR8d6EAWHaLAUAwtxc5GzA3AOysv3D1B1JjB4TmVgEzFwHZ9gOSZseEX5y1LTizAtDB/44w+IFUza0CplYANPkAsjCzCphVAWwLgx9I3cwqYGoAsPIPZOPmtF+YGADs+wNZWdcxvTnpFyYGQFEMF/8AZGLa6cALi4Cc+QfypIuBz40vBl6oAHTwbwuA7ExaDJw0BZi6YAAgaRem9ucCoH4KaSkAclSOLwaeCwBdKLguALKl04DNcz8f+8VXBUC2BgN5Y/TnZ7sArP4DvVEeHhaP7MNoBbApAPpgp/lwFgCXLp0vDQBk61rz4SwAdG6wIQD64OyszzAA2P4DemV9d3dwxT40FQBXf6BftuyHYQAUBQEA9Ekz5W8qgGsCoE+GZ36oAIAe0jFfDt/r3n9/CuDICy88/fz774J4lJeFBUA4sLX15FWWIs8++/Sf//23yM8/i9y/L/LwoSAge5KwBUApQEeuXhV5773zV/1RFgZNOFgIfPMNVUEoWvmvX9YfSgE68PrrIjduLP71FgIWGLdvEwKBlGu6HVAKsKK2g79hlcLe3vSKAU5dsV2AKwKs4MUXlxv8DRv8H3wg8Ewv/s8t9HRgYJquBq+FiFUR8OrKWrMfCLTVdfn+1lsCj3Tsr1MBYGl25e9y7m47BLYoCH8sAEoBWnr33Sdle9deekngT0kFgNasVH/tNXHCDg7BHwIArbzyisjbb4szo6cG4R4BgIXZfN9O+SEfBAAW0qz4u75C270C8IcAwFw26H2d1uNIsF8EAOaadXNP1+xOQfhDAGAmW/G3hT8f/viDW4R9IwAwlQ1+lyv+477+WuAZAYCJXG/3jbOrv/UHgF8EAC7wvd33zz8iH30kCIAAwDm+tvtGffopq/+hEAA4Y4O+6xt85rGWYKz8h0MA4IzN+V3c4DONDX4W/sIiADDk8gafSeyqz+APjwDAsBOP7xX/zz4TRIAA6LlV+/m1ZYPfVvw58x8HAqDHfDfjtO2+Tz5hxT8mBEBPhWjH/dVXIr/9JogIAdBTIbb7fvxREBkCoIdc9fOb5ocfWPGPFQHQM763+6pK5MsvBZEiAHrEnsXne7vPFv0QLwKgJ0Jt97HiHzcCoAea7T6fN/iw3ZcGAiBzPvv5Nb74gu2+VBAAmfPZz8+w3ZcWAiBjPvv5Gevow3ZfWgiATPnu58d2X5oIgAyF6Odni37c4JMeAiAzofr5seKfJgIgI/TzQ1sEQCZCbPfRzy99BEAm7JSf78HPin/6CIAM2Iq/nfP3hX5++SAAEkc/P6yCAEgY/fywKgIgUSH6+bHdlx8CIEEh+vnZDT4M/vwQAAkK0c+PJ/fmiQBIDP380CUCICH080PXCIBEhNjuo59f/giABNDPD64QAJHzvd1n6OfXHwRAxOjnB9eK3d3BQBCljz8WuXpVvIr1yt8cROIUYrcuC6JkK/6+B7/xWW20YfcfMPi7xxQgQr77+cWOg0juEACR8d3PL3Z2FoGDSO4QABHx3c8vdpxFcI8AiESIfn6xo9+gewRABEJs98XO5v0PHwocIwAi4PvxXbGj5Zg/BEBgvh/fFTub93MDkj8EQEC+b/BJAfcg+EUABGKHfHze4JMCug75RwAEYPP9Dz8UjLDGIzxW3D8CwDO2+y5i3h8OAeCZ735+sWt6DyAMAsAj3/38UsC8PywCwBPf/fxSwMNFwyMAPGC776Jff+WwTwwIAMd89/NLgc37P/9cEAECwKEQ/fxSQM/BeBAAjoR4fFcKbN5Pz8F4EACOcIPPRdbVh3l/XAgAB2y7L0Q/v5hx2CdONAXtmF31//or/iud/T63tsQLOvrGiwDomC1u2Tw3dtZy3BcO+8SLKUAP+Ww5TkffuBEAPWNlv69DSXT0jR8B0CM277ervw909E0DAdATvhuP0tE3DQRAT1jZ72vw09E3HQRAD9jNSL7uRKSjb1oIgMzZVd/XzUgc9kkPAZCx5n4EX+jomx4CIGN25fc17+ewT5oIgEz5fOAIHX3TRQBkyE75+Trsw7w/bQRAZnw+YpyOvukjADLj87AP8/70EQAZsXm/z8M+dPRNHwGQCZ+dh+nomw8CIAO+b/Kho28+CIDENTf5+HrWIB1980IAJM7nYR86+uaHAEiYlf2++vrR0TdPBECi7IlDHPbBqgiABPl84hAdffNGACTI50NHOOyTNwIgMXT0RZcIgITY3X109EWXCIBE+O7sQ0fffiAAEkFHX7hAACTAHjZKR1+4QABEjo6+cIkAiBgdfeEaARApOvrCBwIgUnT0hQ8EQITo6AtfCIDI0NEXPhEAEaGjL3wjACLis6kn834YAiASNvB9Nfegoy8aBEAkfDX1pKMvRhEAkShLcY6OvhhHAETAOvpaiy/X6OiLcQRABHws/NHRF5MQABF45hlxio6+mIYAiIDNzV3+tznsg2kIgAi46rhLR1/MQwBEwAaoiyYcHPbBPBYAlSA425/vEh19sYCKCiASdkeelexdoKMvFrVWFHIqCM6mAd9/Lyujoy8WNRg8qQAqQRSsCrCr9yro6Is21h4/lv8LomBVgF29l90WpKMv2tDqv7IpQCWIhl29beuuzUC2tQMLDub9aOnRZa0AqjWWAqPShIDdHmzdgZ5/fvLX2cC3dQObOrDXjyVUly9dklNdDECEbBvPXnajkLUKsyCwG4csIGytwKoEBj6WZRf/y//+KydUAHGzm3i4kQcOnBT24+7u4E99WxcAfXF6eFg8N7z2sxAI9ItO+0/sfRgAOhf4SQD0yQP7YRgATRoA6Aet+p9WAOpYAPSGVv3DACiaf8BCINAblS4ADrtQnm0A6jTgOwGQPR3rD5rPZwHQzAkA5E3H+lHz+SwAdE5wJACyp2P9uPl8FgBHR0VFFQDkzXb8bKw3P18b+0XWAYC8nTvzcy4ARksDAPnRi/zB6M+L8S/Q7UC77aQUALk52/5rTLoP8J4AyNHd8X9wIQB0GrAvALIzaafvQgDoCqE1CDkWANmwMT26+t9Ym/LFewIgG7rFP3FqX0z7F7g3AMjGhcW/xqxmYHcFQA6mVvRTA6BeDOSpQUDaqlnH/KcGgC0GClUAkLp79VieaGY/YKoAIGl29T+Y9QUzA4AqAEjavUlbf6PmPhGAKgBIkq3835n3RXMDoK4COBcApGWhMVvIgnZ2BveLQjYFQOym7vuPW/ihYJwOBNKg0/atRb924QDQqcCxhgALgkDEbIzOW/gb1eqxoPofv6NvlQCIUaVjtNXdvK0CwBYEtby4IQBitNfm6m9aPxicqQAQHxuTuvB3IC21DoD6f+yOMBUAYlF9+23xvixhqQCopwK20sgBISCs0zar/uOWCgBTzzXYGgTCaj3vH7V0ABidc+yzHgAEs2djUFaw8EnAWTglCPhlPf503r906d9YqQKQp7+ZHWFREPClqsfcyjoJgJFFwUoAuGT3+G/NavLRRidTgMb29qBcW5P7wpOFABeawV9JRzoNAKMhsFGHAB2Fge6c1oO/0yd4dx4AhhAAOuVk8JtO1gDG2W+UNQGgE5WrwW+cVAAN1gSAlXQ+5x/nNAAMIQAsxfngN06mAKPsD6B/kJd54CiwGBsrNmZcD37jvAIYtbs7uKNvtwXARHa0ftk7+5bhvAIYVbcpviXcRQiMszFxy+fgN14rgAbrAsA5Xub7kwQJgMbOzmC/KOSmAD1lJb812OnqaG9bQQPAaDVwXasBWxcoBegPu+rfsBZ7EpDXNYBJ9P+AAyt/6CuAvrDv9XqV/1gCC14BjGJtADmz7T17wE4MA78RVQA0mBYgM8Pna67avceFKAOgUZ8beEcIAqTJBr6V+/uhFvnmiToATD0tuC4EAdIR/cBvRB8ADQ0Cu7V4m6kBIpbMwG8kEwCjbI2gKOQdGpEiBjEu7i0qyQBo1NODbf1oh4lKAfyp9HUvpav9JEkHwCjrQqQVwXX9+Kq+bwjQMb3Kn+j31nc66I9TvNpPkk0AjLLKQN82tTp4Q98tDEoB2rMr+5G+HuigPwpxVt+1LANgnFUH+rZRVwbX6nf6FWLUqV7hK33/ya70+n6c44Af14sAmKTeVRhWB1oplPp+Rf/i7V00IMr6y0pBDir7Qf9+T/Xv1j7blf2RXtWbzyd9GOyT/AdA4Hc4mSKEhwAAAABJRU5ErkJggg==";return{tasks:[{title:"Get balance",icon:t,postback:{title:"Get my leave balance",value:"leaveintent"}},{title:"Change Password",icon:t,postback:{title:"change my password",value:"leaveintent"}},{title:"Pay Bill",icon:t,postback:{title:"Pay the bill",value:"leaveintent"}},{title:"Setup Balance Alert",icon:t,postback:{title:"Give alert message for balance",value:"leaveintent"}}],heading:"Choose Task"}},n.prototype.showRadioOptionMenuItems=function(e){return{radioOptions:[{title:"Shanmuga",value:"1234 4567 5678 6789",postback:{title:"Transaction Successful",value:"Payment Successful"}},{title:"Madhu",value:"1234 4567 5678 9876",postback:{title:"radioOptionDetails",value:"AccountData"}},{title:"Santhosh",value:"4678 1234 5678 9876",postback:{title:"Get my leave balance",value:"leaveintent"}},{title:"Manjula",value:"9876 1234 4567 5678",postback:{title:"Transaction Successful",value:"leaveintent"}},{title:"Ravi Kiran",value:"8976 5677 7946 2345",postback:{title:"radioOptionDetails",value:"leaveintent"}}]}},n.prototype.init=function(t){t=this.mainConfig,(chatWindowInstance=this.chatWindowInstance).config.pickersConfig.showDateRangePickerIcon&&(this.showDateRangeIconToFooter(),chatWindowInstance.config.chatContainer.on("click",".sdkRangeCalender.calenderBtn",function(e){n.prototype.showDateRangePicker(t)})),chatWindowInstance.config.pickersConfig.showDatePickerIcon&&(this.showDateIconToFooter(),chatWindowInstance.config.chatContainer.on("click",".sdkCalender.calenderBtn",function(e){n.prototype.showDatePicker(t)})),chatWindowInstance.config.pickersConfig.showClockPickerIcon&&(this.showClockIconToFooter(),chatWindowInstance.config.chatContainer.on("click",".sdkClock.clockBtn",function(e){n.prototype.showClockPicker(t)})),chatWindowInstance.config.pickersConfig.showradioOptionMenuPickerIcon&&(this.showAccountIconToFooter(),chatWindowInstance.config.chatContainer.on("click",".sdkAccount.accountBtn",function(e){n.prototype.showradioOptionsPicker(t)})),chatWindowInstance.config.pickersConfig.showTaskMenuPickerIcon&&(this.addTaskIconToFooter(),chatWindowInstance.config.chatContainer.on("click",".sdkMenu.menuBtn",function(e){n.prototype.showTaskPicker(t)}))},n.prototype.addSlider=function(){s(".kore-chat-window").remove(".kore-action-sheet");s(".kore-chat-window").append('<div class="kore-action-sheet hide">    <div class="actionSheetContainer"></div>    </div>')},n.prototype.bottomSlider=function(e,t){s(".kore-action-sheet").animate({height:"toggle"}),"hide"==e?(s(".kore-action-sheet").innerHTML="",s(".kore-action-sheet").addClass("hide")):(s(".kore-action-sheet").removeClass("hide"),s(".kore-action-sheet .actionSheetContainer").empty(),setTimeout(function(){s(".kore-action-sheet .actionSheetContainer").append(t)},200))},n.prototype.showradioOptionsPicker=function(e){_korePickers.find(".kore-action-sheet").length&&(_korePickers.find(".radioOptionsPickerContainer").remove(),_korePickers.find(".kore-action-sheet").remove()),this.addSlider(),accountData=this.showRadioOptionMenuItems(),_korePickers.find(".kore-action-sheet").append(this.getradioOptionsPickerContainer()),this.addAccountIconToFooter(),_korePickers.find(".radioOptionsPickerContainer").append(this.getradioOptionsPickerTemplate(accountData)),this.addradioOptionsMenuListener(e)},n.prototype.getradioOptionsPickerTemplate=function(e){var t=s('<div class="radioOptionMenuPicker"></div>');return e.radioOptions.forEach(function(e){e=s('<label class="radioButton"><div class="btnAccount">      <div class="radioValue">         <input type="radio" id="selectedValue" name="radio">         <span class="checkmark"></span>         </div>         <span class="radioOptionDetails">            <span class="radioOptionName" title="'+e.title+'" data-value="'+e.postback.value+'" data-title="'+e.postback.title+'">'+e.title+'</span>            <div class="radioOptionValue" title="'+e.value+'">'+e.value+"</div>         </span>    </div> </label>");t.append(e)}),t},n.prototype.addradioOptionsMenuListener=function(i){var o,r=this;_korePickers.find(".radioOptionsPickerContainer").removeClass("hide"),_korePickers.find(".TaskPickerContainer").addClass("hide"),_korePickers.find(".kore-action-sheet .dateRangePickerContainer").addClass("hide"),_korePickers.find(".clockPickerContainer").addClass("hide"),_korePickers.find(".listViewTmplContent").hide(),_korePickers.find(".list-template-sheet").hide(),_korePickers.find(".listTmplContent.advancedMultiSelect").hide(),_korePickers.find(".kore-action-sheet  .datePickerContainer").addClass("hide"),_korePickers.find(".radioOptionsPickerContainer .confirmBTN").css({display:"none"}),r.bottomSlider("show",_korePickers.find(".radioOptionsPickerContainer")),setTimeout(function(){_korePickers.find(".radioOptionsPickerContainer .confirmBTN").css({display:"block"})},300),_korePickers.find(".btnAccount").click(function(e){(o=s(e.currentTarget)).find(".checkmark").addClass("selected")}),_korePickers.find(".radioOptionsPickerContainer .confirmBTN").click(function(e){var t=o.find(".radioOptionName").attr("data-value"),n=o.find(".radioOptionName").attr("data-title");i[0].chatWindowInstance.sendMessage(s(".chatInputBox").text(t),n),_korePickers.find(".radioOptionsPickerContainer .confirmBTN").css({display:"block"}),r.bottomSlider("hide"),_korePickers.find(".kore-action-sheet").remove()}),_korePickers.find(".radioOptionsPickerContainer .closePicker").click(function(){_korePickers.find(".radioOptionsPickerContainer .confirmBTN").css({display:"none"}),r.bottomSlider("hide"),setTimeout(function(){_korePickers.find(".radioOptionsPickerContainer .confirmBTN").css({display:"block"})},100),_korePickers.find(".kore-action-sheet").remove()})},n.prototype.getAccountIconTemplate=function(){return'<div class="sdkFooterIcon account">     <button type="button"  class="sdkAccount accountBtn" title="AccountMenu">          <i class="accountIcon"></i>     </button>     </div>'},n.prototype.addAccountIconToFooter=function(){_korePickers.find(".radioOptionsPickerContainer").append(this.getAccountIconTemplate)},n.prototype.getradioOptionsPickerContainer=function(){return'<div class="radioOptionsPickerContainer hide">    <div class="radioOptionMenuHeader">       <button class="closePicker" title="Close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>       <label class="radioOptionHeading">Select an Account</label>    </div>    <div class="confirmBTN">Confirm</div>    </div>'},n.prototype.showAccountIconToFooter=function(){(_korePickers=this._korePickers).find(".footerContainer").append(this.getAccountIconTemplate)},n.prototype.showTaskPicker=function(e){actionsData=this.showTaskMenuItems(),_korePickers.find(".kore-action-sheet").length&&(_korePickers.find(".TaskPickerContainer").remove(),_korePickers.find(".kore-action-sheet").remove()),this.addSlider(),_korePickers.find(".kore-action-sheet").append(this.getTaskPickerContainer()),_korePickers.find(".TaskPickerContainer").append(this.getTaskPickerTemplate(actionsData)),this.addTaskMenuListener(e)},n.prototype.getTaskPickerTemplate=function(e){var t=s('<div class="taskMenuPicker"></div>');return e.tasks.forEach(function(e){e=s('<div class="btnTask">        <span class="taskName" data-value="'+e.postback.value+'" data-title="'+e.postback.title+'" title="'+e.title+'">'+e.title+'</span>        <div class="imageIcon"> <img src="'+e.icon+'" class="displayIcon"></div>        </div>');t.append(e)}),t},n.prototype.addTaskMenuListener=function(n){var i=this;_korePickers.find(".TaskPickerContainer .searchInput").hide(),_korePickers.find(".TaskPickerContainer").removeClass("hide"),_korePickers.find(".radioOptionsPickerContainer").addClass("hide"),_korePickers.find(".kore-action-sheet .dateRangePickerContainer").addClass("hide"),_korePickers.find(".clockPickerContainer").addClass("hide"),_korePickers.find(".listViewTmplContent").hide(),_korePickers.find(".list-template-sheet").hide(),_korePickers.find(".listTmplContent.advancedMultiSelect").hide(),_korePickers.find(".kore-action-sheet  .datePickerContainer").addClass("hide"),i.bottomSlider("show",_korePickers.find(".TaskPickerContainer")),_korePickers.find(".TaskPickerContainer .btnTask").click(function(e){var t=s(e.currentTarget).find(".taskName").text(),t=(_korePickers.find(".footerContainer.pos-relative .chatInputBox").text(t),s(e.currentTarget).find(".taskName").attr("data-value")),e=s(e.currentTarget).find(".taskName").attr("data-title");n[0].chatWindowInstance.sendMessage(s(".chatInputBox").text(t),e),i.bottomSlider("hide"),_korePickers.find(".kore-action-sheet").remove()}),_korePickers.find(".TaskPickerContainer .closeSheet").click(function(){i.bottomSlider("hide"),_korePickers.find(".kore-action-sheet").remove()})},n.prototype.getTaskIconTemplate=function(){return'<div class="sdkFooterIcon menu">     <button type="button"  class="sdkMenu menuBtn" title="TaskMenu">          <i class="menuIcon"></i>     </button>     </div>'},n.prototype.addTaskIconToFooter=function(){(_korePickers=this._korePickers).find(".footerContainer").append(this.getTaskIconTemplate)},n.prototype.getTaskPickerContainer=function(){return'<div class="TaskPickerContainer hide">    <div class="taskMenuHeader">         <button class="closeSheet" title="Close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>          <input class="searchInput" placeholder="Write a reply">       <label class="taskHeading"> Choose Tasks</label>    </div>'},n.prototype.showDateRangePicker=function(e){(_korePickers=e&&e.length&&e[0]&&e[0].chatConfig&&e[0].chatConfig.chatContainer?e[0].chatConfig.chatContainer:_korePickers).find(".kore-action-sheet").length&&(_korePickers.find(".kore-action-sheet .dateRangePickerContainer").remove(),_korePickers.find(".kore-action-sheet").remove()),this.addSlider(),_korePickers.find(".kore-action-sheet").append(this.getdateRangePickerContainer),this.addDateRangeIconToFooter();var t={alwaysOpen:!0,singleMonth:!0,showShortcuts:!1,showTopbar:!1,format:e[1].dateRangeConfig.format,startDate:e[1].dateRangeConfig.startDate,endDate:e[1].dateRangeConfig.endDate,inline:!0,container:_korePickers.find(".kore-action-sheet .dateRangePickerContainer")};s.extend(t,e[1].dateRangeConfig),daterangeInput=_korePickers.find(".kore-action-sheet .dateRangePickerContainer #rangeCalenderBtn").dateRangePicker(t),this.addDateRangeListener(e)},n.prototype.addDateRangeListener=function(e){e&&e.length&&e[0]&&e[0].chatConfig&&e[0].chatConfig.chatContainer&&(_korePickers=e[0].chatConfig.chatContainer);var i,n,t=this,o=null,r=null;this.addClickEventRangeCalender(e),daterangeInput.bind("datepicker-first-date-selected",function(e,t){i=t.date1;var t=moment(i).format("YYYY"),n=moment(i).format("ddd,MMM DD");_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showStartdate .showStartYear").html(t),o=_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showStartdate .showStartMonth").html(n),r=null,_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showEnddate .showEndMonth").html("Select"),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showEnddate .showEndYear").css({opacity:"0"})}),daterangeInput.bind("datepicker-change",function(e,t){_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showEnddate .showEndYear").css({opacity:"1"}),n=t.date2;t=moment(n).format("YYYY"),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showEnddate .showEndYear").html(t),t=moment(n).format("ddd,MMM DD");r=_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showEnddate .showEndMonth").html(t)}),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .confirmBTN").click(function(){var e;null!==o&&null==r?_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showEnddate .showEndMonth").html("Select"):null!==r&&(e=(moment(i).format("MM-DD-YYYY")||moment())+" to "+(moment(n).format("MM-DD-YYYY")||moment()),_korePickers.find(".footerContainer.pos-relative .chatInputBox").text(e),(e=s.Event("keydown")).keyCode=13,_korePickers.find(".footerContainer.pos-relative .chatInputBox").trigger(e),t.bottomSlider("hide"),daterangeInput.data("dateRangePicker").clear(),daterangeInput.data("dateRangePicker").resetMonthsView(),_korePickers.find(".kore-action-sheet").remove())}),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .close-button").click(function(){t.bottomSlider("hide"),_korePickers.find(".kore-action-sheet").remove()})},n.prototype.addClickEventRangeCalender=function(e){(_korePickers=e&&e.length&&e[0]&&e[0].chatConfig&&e[0].chatConfig.chatContainer?e[0].chatConfig.chatContainer:_korePickers).find(".kore-action-sheet .datePickerContainer").addClass("hide"),_korePickers.find(".kore-action-sheet .clockPickerContainer").addClass("hide"),_korePickers.find(".kore-action-sheet .radioOptionsPickerContainer").addClass("hide"),_korePickers.find(".kore-action-sheet .TaskPickerContainer").addClass("hide"),_korePickers.find(".listViewTmplContent").hide(),_korePickers.find(".list-template-sheet").hide(),_korePickers.find(".listTmplContent.advancedMultiSelect").hide(),_korePickers.find(".kore-action-sheet .dateRangePickerContainer #rangeCalenderBtn").data("dateRangePicker").open(),_korePickers.find(".cancelBtn").hide(),_korePickers.find(".drp-selected").hide(),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showStartdate .showStartMonth").html(moment().format("ddd,MMM DD")),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showStartdate .showStartYear").html((new Date).getFullYear()),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showEnddate .showEndYear").html((new Date).getFullYear()),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showEnddate .showEndMonth").html("Select"),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .showEnddate .showEndYear").css({opacity:"0"}),_korePickers.find(".kore-action-sheet .dateRangePickerContainer").removeClass("hide"),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .date-picker-wrapper").css({border:"0px","background-color":"white"}),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .month-wrapper").css({border:"0px"}),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .headerCalendar .choose").html(e[1].daterangepicker.title),this.bottomSlider("show",_korePickers.find(".dateRangePickerContainer"));_korePickers.find(".kore-action-sheet .dateRangePickerContainer .date-picker-wrapper .month-wrapper .real-today").addClass("first-date-selected"),_korePickers.find(".kore-action-sheet .dateRangePickerContainer .date-picker-wrapper .month-wrapper .real-today.first-date-selected").trigger("click"),moment()._d,_korePickers.find(".kore-action-sheet .dateRangePickerContainer .confirmBTN").css({display:"block"})},n.prototype.getDateRangeIconTemplate=function(){return'<div class="sdkFooterIcon rangeCalender">                     <button name="dates" class="sdkRangeCalender calenderBtn" title="RangeCalender">                         <i class="Rangecalender"></i>                     </button>                 </div>'},n.prototype.addDateRangeIconTemplate=function(){return'<div id="rangeCalenderBtn">    </div>'},n.prototype.showDateRangeIconToFooter=function(){(_korePickers=this._korePickers).find(".footerContainer").append(this.getDateRangeIconTemplate)},n.prototype.addDateRangeIconToFooter=function(){_korePickers.find(".kore-action-sheet .dateRangePickerContainer").append(this.addDateRangeIconTemplate)},n.prototype.getdateRangePickerContainer=function(){return'<div class="dateRangePickerContainer hide">                <div class="headerCalendar">                    <span class="choose"></span>                    <button class="close-button" title="Close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>                </div>                <div class="showDatevalues">                    <div class="showStartdate">                        <div class="showStartYear"></div>                        <div class="showStartMonth"></div>                    </div>                    <div class="showEnddate">                        <div class="showEndYear"></div>                        <div class="showEndMonth"></div>                   </div>                </div>               <div class="confirmBTN">Confirm</div>           </div>'},n.prototype.showDatePicker=function(e){(_korePickers=e&&e.length&&e[0]&&e[0].chatConfig&&e[0].chatConfig.chatContainer?e[0].chatConfig.chatContainer:_korePickers).find(".kore-action-sheet").length&&(_korePickers.find(".kore-action-sheet  .datePickerContainer").remove(),_korePickers.find(".kore-action-sheet").remove()),this.addSlider(),_korePickers.find(".kore-action-sheet").append(this.getdatePickerContainer),s(".chat-container").animate({scrollTop:s(".chat-container").height()},10),this.addDateIconToFooter();var t={alwaysOpen:!0,singleMonth:!0,showShortcuts:!1,singleDate:!0,showTopbar:!1,format:e[1].dateRangeConfig.format,startDate:e[1].dateRangeConfig.startDate,endDate:e[1].dateRangeConfig.endDate,inline:!0,container:_korePickers.find(".kore-action-sheet .datePickerContainer")};s.extend(t,e[1].dateConfig),daterangeInput=_korePickers.find(".kore-action-sheet .datePickerContainer #calender").dateRangePicker(t),this.addDateListener(e)},n.prototype.addDateListener=function(e){e&&e.length&&e[0]&&e[0].chatConfig&&e[0].chatConfig.chatContainer&&(_korePickers=e[0].chatConfig.chatContainer);var i,t=this;this.addClickEventCalender(e),daterangeInput.bind("datepicker-first-date-selected",function(e,t){i=t.date1;var t=moment(i).format("YYYY"),n=moment(i).format("ddd,MMM DD");showStartYearValue=_korePickers.find(".kore-action-sheet .datePickerContainer .showStartdate .showStartYear").html(t),showStartDateValue=_korePickers.find(".kore-action-sheet .datePickerContainer .showStartdate .showStartMonth").html(n)}),_korePickers.find(".kore-action-sheet .datePickerContainer .confirmBTN").click(function(){var e=moment(i).format("MMMM Do, YYYY")||moment(),e=(_korePickers.find(".footerContainer.pos-relative .chatInputBox").text(e),s.Event("keydown"));e.keyCode=13,_korePickers.find(".footerContainer.pos-relative .chatInputBox").trigger(e),t.bottomSlider("hide"),daterangeInput.data("dateRangePicker").clear(),daterangeInput.data("dateRangePicker").resetMonthsView(),_korePickers.find(".kore-action-sheet").remove()}),_korePickers.find(".kore-action-sheet .datePickerContainer .close-button").click(function(){t.bottomSlider("hide"),_korePickers.find(".kore-action-sheet").remove()})},n.prototype.addClickEventCalender=function(e){(_korePickers=e&&e.length&&e[0]&&e[0].chatConfig&&e[0].chatConfig.chatContainer?e[0].chatConfig.chatContainer:_korePickers).find(".kore-action-sheet .dateRangePickerContainer").addClass("hide"),_korePickers.find(".kore-action-sheet .clockPickerContainer").addClass("hide"),_korePickers.find(".kore-action-sheet .radioOptionsPickerContainer").addClass("hide"),_korePickers.find(".kore-action-sheet .TaskPickerContainer").addClass("hide"),_korePickers.find(".listViewTmplContent").hide(),_korePickers.find(".list-template-sheet").hide(),_korePickers.find(".listTmplContent.advancedMultiSelect").hide(),_korePickers.find("#calender").data("dateRangePicker").open(),_korePickers.find(".cancelBtn").hide(),_korePickers.find(".drp-selected").hide(),_korePickers.find(".kore-action-sheet .datePickerContainer  .showStartdate .showStartMonth").html(moment().format("ddd,MMM DD")),_korePickers.find(".kore-action-sheet .datePickerContainer .showStartdate .showStartYear").html((new Date).getFullYear()),_korePickers.find(".kore-action-sheet  .datePickerContainer").removeClass("hide"),_korePickers.find(".kore-action-sheet  .datePickerContainer .date-picker-wrapper").css({border:"0px","background-color":"white"}),_korePickers.find(".kore-action-sheet  .datePickerContainer .month-wrapper").css({border:"0px"}),_korePickers.find(".kore-action-sheet .datePickerContainer  .headerCalendar .choose").html(e[1].datepicker.title),_korePickers.find(".kore-action-sheet .datePickerContainer  .confirmBTN").css({display:"none"}),this.bottomSlider("show",_korePickers.find(".datePickerContainer")),s(".chat-container").animate({scrollTop:s(".chat-container").height()},10),setTimeout(function(){_korePickers.find(".kore-action-sheet .datePickerContainer  .confirmBTN").css({display:"block"})},300)},n.prototype.getDateIconTemplate=function(){return'<div class="sdkFooterIcon singleCalender">                     <button name="dates" class="sdkCalender calenderBtn" title="Calender">                         <i class="calender"></i>                     </button>                 </div>'},n.prototype.addDateIconTemplate=function(){return'<div id="calender">    </div>'},n.prototype.showDateIconToFooter=function(){(_korePickers=this._korePickers).find(".footerContainer").append(this.getDateIconTemplate)},n.prototype.addDateIconToFooter=function(){_korePickers.find(".kore-action-sheet  .datePickerContainer").append(this.addDateIconTemplate)},n.prototype.getdatePickerContainer=function(){return'<div class="datePickerContainer hide">                <div class="headerCalendar">                    <span class="choose"></span>                    <button class="close-button" title="Close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>                </div>                <div class="showDatevalues">                    <div class="showStartdate">                        <div class="showStartYear"></div>                        <div class="showStartMonth"></div>                    </div>                    <div class="showEnddate">                        <div class="showEndYear"></div>                        <div class="showEndMonth"></div>                   </div>                </div>               <div class="confirmBTN">Confirm</div>           </div>'},n.prototype.showClockPicker=function(e,t){(_korePickers=e&&e.length&&e[0]&&e[0].chatConfig&&e[0].chatConfig.chatContainer?e[0].chatConfig.chatContainer:_korePickers).find(".kore-action-sheet").length&&(_korePickers.find(".clockPickerContainer").remove(),_korePickers.find(".kore-action-sheet").remove()),_korePickers.find(".clockPickerContainer").length&&(_korePickers.find(".clockPickerContainer").remove(),_korePickers.find(".kore-action-sheet").remove()),this.addSlider(),_korePickers.find(".kore-action-sheet").append(this.getclockPickerContainer),this.addClockIconToFooter();var n=s("#clockPickerInput");(this.input=n).clockpicker({donetext:"Done",placement:"top",vibrate:!1,twelvehour:!0,parentEl:".clockPickerContainer",afterDone:function(e){var t=e.hours,n=e.minutes,t=t+":"+(n=n<10?"0"+n:n)+" "+e.amOrPm,n=(_korePickers.find(".footerContainer.pos-relative .chatInputBox").text(t),s.Event("keydown"));n.keyCode=13,_korePickers.find(".footerContainer.pos-relative .chatInputBox").trigger(n)}}),this.addClockListener(e)},n.prototype.addClickEventClock=function(e){e&&e.length&&e[0]&&e[0].chatConfig&&e[0].chatConfig.chatContainer&&(_korePickers=e[0].chatConfig.chatContainer);var t=this.input,n=_korePickers.find("#clockPickerInput").data("clockpicker");n.amOrPm="AM",n.options.default="12:00",_korePickers.find(".form-control").hide(),_korePickers.find(".kore-action-sheet  .datePickerContainer").addClass("hide"),_korePickers.find(".kore-action-sheet .dateRangePickerContainer").addClass("hide"),_korePickers.find(".radioOptionsPickerContainer").addClass("hide"),_korePickers.find(".TaskPickerContainer").addClass("hide"),_korePickers.find(".clockPickerContainer").removeClass("hide"),_korePickers.find(".listViewTmplContent").hide(),_korePickers.find(".list-template-sheet").hide(),_korePickers.find(".listTmplContent.advancedMultiSelect").hide(),t.clockpicker("show").clockpicker("toggleView","hours"),e[1].clockPicker.title?_korePickers.find(".kore-action-sheet .clockPickerContainer .headerClock .choose").html(e[1].clockPicker.title):_korePickers.find(".kore-action-sheet .clockPickerContainer .headerClock .choose").html("Please Choose"),_korePickers.find(".clockPickerContainer .confirmBTN").css({display:"none"}),setTimeout(function(){_korePickers.find(".kore-action-sheet").animate({height:"toggle"}),_korePickers.find(".kore-action-sheet").removeClass("hide"),setTimeout(function(){_korePickers.find(".clockPickerContainer .confirmBTN").css({display:"block"})},300)},100),_korePickers.find(".btn.btn-sm.btn-default.btn-block.clockpicker-button").hide(),setTimeout(function(){_korePickers.find(".kore-action-sheet .clockPickerContainer .clockpicker-popover").css({display:"block",top:"75px ",left:"80.5px"}),_korePickers.find(".kore-action-sheet .clockPickerContainer .clockpicker-popover .clockpicker-plate").css({"margin-left":"25px"}),_korePickers.find(".btn.btn-sm.btn-default.clockpicker-button.pm-button").css({opacity:"0.4"})},0)},n.prototype.addClockListener=function(e){e&&e.length&&e[0]&&e[0].chatConfig&&e[0].chatConfig.chatContainer&&(_korePickers=e[0].chatConfig.chatContainer),this.addClickEventClock(e),_korePickers.find(".btn.btn-sm.btn-default.clockpicker-button.am-button").click(function(){_korePickers.find(".btn.btn-sm.btn-default.clockpicker-button.pm-button").css({opacity:"0.4"}),_korePickers.find(".btn.btn-sm.btn-default.clockpicker-button.am-button").css({opacity:"1"})}),_korePickers.find(".btn.btn-sm.btn-default.clockpicker-button.pm-button").click(function(){_korePickers.find(".btn.btn-sm.btn-default.clockpicker-button.am-button").css({opacity:"0.4"}),_korePickers.find(".btn.btn-sm.btn-default.clockpicker-button.pm-button").css({opacity:"1"})}),_korePickers.find(".clockPickerContainer .confirmBTN").click(function(){_korePickers.find(".clockPickerContainer .confirmBTN").css({display:"block"}),_korePickers.find(".btn.btn-sm.btn-default.btn-block.clockpicker-button").trigger("click"),_korePickers.find(".kore-action-sheet").hide(),_korePickers.find(".kore-action-sheet").addClass("hide"),_korePickers.find(".kore-action-sheet").remove()}),_korePickers.find(".clockPickerContainer .closeButton").click(function(){_korePickers.find(".clockPickerContainer .confirmBTN").css({display:"none"}),setTimeout(function(){_korePickers.find(".kore-action-sheet").animate({height:"toggle"}),_korePickers.find(".kore-action-sheet").addClass("hide"),setTimeout(function(){_korePickers.find(".clockPickerContainer .confirmBTN").css({display:"block"})},100)},100),_korePickers.find(".kore-action-sheet").remove()})},n.prototype.getClockIconTemplate=function(){return'<div class="sdkFooterIcon clock">                    <button type="button"  class="sdkClock clockBtn" title="Clock">                         <i class="clock"></i>                    </button>                </div>'},n.prototype.addClockIconToFooter=function(){_korePickers.find(".clockPickerContainer").append(this.getClockIconTemplate)},n.prototype.showClockIconToFooter=function(){(_korePickers=this._korePickers).find(".footerContainer").append(this.getClockIconTemplate)},n.prototype.getclockPickerContainer=function(){return'<div class="clockPickerContainer hide">                <div class="headerClock">                    <span class="choose"></span>                    <button class="closeButton" title="Close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjMgKDY3Mjk3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jbG9zZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NC4wMDAwMDAsIC0yMjkuMDAwMDAwKSIgZmlsbD0iIzhBOTU5RiI+CiAgICAgICAgICAgIDxnIGlkPSJjbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ0LjAwMDAwMCwgMjI5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlIiBwb2ludHM9IjE0IDEuNCAxMi42IDAgNyA1LjYgMS40IDAgMCAxLjQgNS42IDcgMCAxMi42IDEuNCAxNCA3IDguNCAxMi42IDE0IDE0IDEyLjYgOC40IDciPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"></button>                </div>                <input class="form-control" id="clockPickerInput" value="">                <div class="confirmBTN">Confirm</div>            </div>'},window.KorePickers=n}($),function(e){var e=e||{},t={logLevel:"debug",koreAPIUrl:"https://citi-demo.kore.ai/api/",koreSpeechAPIUrl:"",recorderWorkerPath:"../libs/recorderWorker.js"},n=localStorage.getItem("full name"),i=localStorage.getItem("email");t.JWTUrl="https://mk2r2rmj21.execute-api.us-east-1.amazonaws.com/dev/users/sts",t.userIdentity=i||(new Date).getTime(),t.botInfo={name:"Citi Assist",_id:"st-0038a388-4c05-5d63-a3b7-262cb10054b5",customData:{fullName:n}},t.clientId="cs-c32e318b-d4e7-5dd8-a5dc-2b71bfb2ac10",t.clientSecret="ZQrhoEuztpTo6Krt0Se70ZCpMlvcB94PsreXaXx7Uj8=",t.accountId="626249d944f401c70f06c6f1",t.brandingAPIUrl=t.koreAPIUrl+"websdkthemes/"+t.botInfo._id+"/activetheme",e.chatConfig={botOptions:t,allowIframe:!1,isSendButton:!1,isTTSEnabled:!1,ttsInterface:"webapi",isSpeechEnabled:!0,allowGoogleSpeech:!0,allowLocation:!1,loadHistory:!0,messageHistoryLimit:10,autoEnableSpeechAndTTS:!1,graphLib:"d3",googleMapsAPIKey:"",minimizeMode:!1,supportDelayedMessages:!1,isFromFinastra:!1,pickersConfig:{showDatePickerIcon:!1,showDateRangePickerIcon:!1,showClockPickerIcon:!1,showTaskMenuPickerIcon:!1,showradioOptionMenuPickerIcon:!1}}}(window.KoreSDK),function(s){var e=location.href.split("#")[1]||"",a={};if(e)try{e=e.substr(0,e.length),a=atob(e),a=JSON.parse(a)}catch(e){alert("Something went wrong. Please try again.."+e)}s(document).ready(function(){function i(t){var e={userId:window.jwtDetails.userInfo.userId,uniqueUserId:t.uniqueUserId};s.ajax({url:"https://staging-bankassist.korebots.com/finastra-wrapper/uniqueUser",type:"post",data:e,dataType:"json",success:function(e){r&&r.initToken&&r.initToken(t)}})}localStorage.getItem("korecom");var o=KoreSDK.chatConfig,r=(localStorage.setItem("korecom",o.botOptions.userIdentity),o.botOptions.assertionFn=function(t,n){var e;a&&a.jwt?(t.assertion=a.jwt,t.handleError=r.showError,t.chatHistory=r.chatHistory,t.botDetails=r.botDetails,t.brandingAPIUrl=t.koreAPIUrl+"workbench/sdkData?objectId=hamburgermenu&objectId=brandingwidgetdesktop",n(null,t)):o.isFromFinastra?(e={tenantId:t.botInfo.customData.tenantId,uniqueUserId:t.botInfo.customData.uniqueUserId},s.ajax({url:t.JWTUrl,type:"post",data:e,dataType:"json",success:function(e){t.botInfo.chatBot=e.botInfo.name,o.botOptions.botInfo.name=e.botInfo.name,t.botInfo.taskBotId=e.botInfo._id,o.botOptions.botInfo._id=e.botInfo._id,t.koreAPIUrl=e.koreAPIUrl,t.brandingAPIUrl=e.koreAPIUrl+"workbench/sdkData?objectId=hamburgermenu&objectId=brandingwidgetdesktop",t.assertion=e.jwt,t.uniqueUserId=e.uniqueUserId,t.handleError=r.showError,t.chatHistory=r.chatHistory,n(null,t),setTimeout(function(){i(t)},2e3)},error:function(e){r.showError(e.responseText)}})):(e={clientId:t.clientId,clientSecret:t.clientSecret,identity:t.userIdentity,aud:"",isAnonymous:!1},s.ajax({url:t.JWTUrl,type:"post",data:e,dataType:"json",success:function(e){t.assertion=e.jwt,t.handleError=r.showError,t.chatHistory=r.chatHistory,n(null,t)},error:function(e){r.showError(e.responseText)}}))},o.botOptions.jwtgrantSuccessCB=function(t){t.botDetails=r.botDetails(t),s.ajax({url:this.brandingAPIUrl,headers:{tenantId:o.botOptions.accountId,Authorization:"bearer "+t.authorization.accessToken,"Accept-Language":"en_US","Accepts-version":"1",botId:o.botOptions.botInfo._id,state:"published"},type:"get",dataType:"json",success:function(e){t.botDetails=r.botDetails(e[1].brandingwidgetdesktop),o.botOptions.hamburgermenuData=e[0].hamburgermenu},error:function(e){console.log(e)}})},a&&a.botInfo&&(o.botOptions.botInfo=a.botInfo),a.koreAPIUrl&&(o.botOptions.koreAPIUrl=a.koreAPIUrl+"workbench/api/"),a.brand&&a.brand.headerTitle&&(o.chatTitleOverride=a.brand.headerTitle),koreBotChat());r.show(o),s(".openChatWindow").click(function(){r.show(o)})})}(jQuery||window.KoreSDK&&window.KoreSDK.dependencies&&window.KoreSDK.dependencies.jQuery),function(e){e.KoreSDK=e.KoreSDK||{},e.KoreSDK.dependencies=e.KoreSDK.dependencies||{},e.KoreSDK.dependencies.jQuery||(e.KoreSDK.dependencies.jQuery=jQuery.noConflict(!0)),e.define=e.__define,e.require=e.__require,e.__define=void 0,e.__require=void 0}(window);